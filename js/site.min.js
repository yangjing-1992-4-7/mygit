function _toConsumableArray2(e) {
    return _arrayWithoutHoles(e) || _iterableToArray(e) || _nonIterableSpread()
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance")
}
function _iterableToArray(e) {
    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
        return Array.from(e)
}
function _arrayWithoutHoles(e) {
    if (Array.isArray(e)) {
        for (var t = 0, i = new Array(e.length); t < e.length; t++)
            i[t] = e[t];
        return i
    }
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))
        throw new TypeError("Cannot call a class as a function")
}
function _defineProperties(e, t) {
    for (var i = 0; i < t.length; i++) {
        var a = t[i];
        a.enumerable = a.enumerable || !1,
        a.configurable = !0,
        "value"in a && (a.writable = !0),
        Object.defineProperty(e, a.key, a)
    }
}
function _createClass(e, t, i) {
    return t && _defineProperties(e.prototype, t),
    i && _defineProperties(e, i),
    e
}
function asyncGeneratorStep(e, t, i, a, o, n, r) {
    try {
        var s = e[n](r)
          , l = s.value
    } catch (d) {
        return void i(d)
    }
    s.done ? t(l) : Promise.resolve(l).then(a, o)
}
function _asyncToGenerator(s) {
    return function() {
        var e = this
          , r = arguments;
        return new Promise(function(t, i) {
            var a = s.apply(e, r);
            function o(e) {
                asyncGeneratorStep(a, t, i, o, n, "next", e)
            }
            function n(e) {
                asyncGeneratorStep(a, t, i, o, n, "throw", e)
            }
            o(undefined)
        }
        )
    }
}
function _typeof2(e) {
    return (_typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function t(e) {
        return typeof e
    }
    : function i(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
    )(e)
}
function _slicedToArray(e, t) {
    return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _nonIterableRest()
}
function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance")
}
function _iterableToArrayLimit(e, t) {
    var i = []
      , a = !0
      , o = !1
      , n = undefined;
    try {
        for (var r, s = e[Symbol.iterator](); !(a = (r = s.next()).done) && (i.push(r.value),
        !t || i.length !== t); a = !0)
            ;
    } catch (l) {
        o = !0,
        n = l
    } finally {
        try {
            a || null == s["return"] || s["return"]()
        } finally {
            if (o)
                throw n
        }
    }
    return i
}
function _arrayWithHoles(e) {
    if (Array.isArray(e))
        return e
}
function ownKeys(t, e) {
    var i = Object.keys(t);
    if (Object.getOwnPropertySymbols) {
        var a = Object.getOwnPropertySymbols(t);
        e && (a = a.filter(function(e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable
        })),
        i.push.apply(i, a)
    }
    return i
}
function _objectSpread(t) {
    for (var e = 1; e < arguments.length; e++) {
        var i = null != arguments[e] ? arguments[e] : {};
        e % 2 ? ownKeys(i, !0).forEach(function(e) {
            _defineProperty(t, e, i[e])
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : ownKeys(i).forEach(function(e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e))
        })
    }
    return t
}
function _defineProperty(e, t, i) {
    return t in e ? Object.defineProperty(e, t, {
        value: i,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = i,
    e
}
function sendLogDog(e, t) {
    $.ajax({
        type: "POST",
        url: "/ajax/log_h.jsp",
        data: "cmd=wafNotCk_dog&dogId=" + Fai.encodeUrl(e) + "&dogSrc=" + Fai.encodeUrl(t)
    })
}
function transformLogDogParams(e, t) {
    if ("number" == typeof e && "number" == typeof t)
        return [e, t];
    if ("number" == typeof e && "string" == typeof t)
        try {
            return t = JSON.parse(t),
            [e, Array.isArray(t) ? t : []]
        } catch (i) {
            return null
        }
    if ("string" == typeof e && void 0 === t)
        try {
            return [e = JSON.parse(e), void 0]
        } catch (i) {
            return null
        }
}
function assignNumberOrArrayInObject(e, t, i) {
    "undefined" == typeof e[t] ? e[t] = i : e[t] = Array.isArray(i) ? i.concat(e[t]) : [i].concat(e[t])
}
function loadWholeModuleDom(e, t) {
    var i = Fai.top.$("#module" + e);
    i.children().remove(),
    i.prepend(t),
    Site.checkSideModule(i),
    Site.resetXPackModuleAutoHeight(i)
}
!function(v) {
    var e, t, i, _ = v.$LAB, S = "UseLocalXHR", b = "AlwaysPreserveOrder", x = "AllowDuplicates", w = "CacheBust", $ = "Debug", y = "BasePath", a = /^[^?#]*\//.exec(location.href)[0], l = /^\w+\:\/\/\/?[^\/]+/.exec(a)[0], C = document.head || document.getElementsByTagName("head"), o = v.opera && "[object Opera]" == Object.prototype.toString.call(v.opera) || "MozAppearance"in document.documentElement.style, F = function F() {}, I = F, n = document.createElement("script"), d = "boolean" == typeof n.preload, P = d || n.readyState && "uninitialized" == n.readyState, c = !P && !0 === n.async, k = !P && !c && !o;
    function L(e) {
        return "[object Function]" == Object.prototype.toString.call(e)
    }
    function T(e) {
        return "[object Array]" == Object.prototype.toString.call(e)
    }
    function M(e, t) {
        var i = /^\w+\:\/\//;
        return /^\/\/\/?/.test(e) ? e = location.protocol + e : i.test(e) || "/" == e.charAt(0) || (e = (t || "") + e),
        i.test(e) ? e : ("/" == e.charAt(0) ? l : a) + e
    }
    function B(e, t) {
        for (var i in e)
            e.hasOwnProperty(i) && (t[i] = e[i]);
        return t
    }
    function A(e) {
        for (var t = !1, i = 0; i < e.scripts.length; i++)
            e.scripts[i].ready && e.scripts[i].exec_trigger && (t = !0,
            e.scripts[i].exec_trigger(),
            e.scripts[i].exec_trigger = null);
        return t
    }
    function N(e, t, i, a) {
        e.onload = e.onreadystatechange = function() {
            e.readyState && "complete" != e.readyState && "loaded" != e.readyState || t[i] || (e.onload = e.onreadystatechange = null,
            a())
        }
    }
    function D(e) {
        e.ready = e.finished = !0;
        for (var t = 0; t < e.finished_listeners.length; t++)
            e.finished_listeners[t]();
        e.ready_listeners = [],
        e.finished_listeners = []
    }
    function j(a, o, n, r, s) {
        setTimeout(function() {
            var e, t, i = o.real_src;
            if ("item"in C) {
                if (!C[0])
                    return void setTimeout(arguments.callee, 25);
                C = C[0]
            }
            e = document.createElement("script"),
            o.type && (e.type = o.type),
            o.charset && (e.charset = o.charset),
            s ? P ? (a[$] && F("start script preload: " + i),
            n.elem = e,
            d ? (e.preload = !0,
            e.onpreload = r) : e.onreadystatechange = function() {
                "loaded" == e.readyState && r()
            }
            ,
            e.src = i) : s && 0 == i.indexOf(l) && a[S] ? (t = new XMLHttpRequest,
            a[$] && F("start script preload (xhr): " + i),
            t.onreadystatechange = function() {
                4 == t.readyState && (t.onreadystatechange = function() {}
                ,
                n.text = t.responseText + "\n//@ sourceURL=" + i,
                r())
            }
            ,
            t.open("GET", i),
            t.send()) : (a[$] && F("start script preload (cache): " + i),
            e.type = "text/cache-script",
            N(e, n, "ready", function() {
                C.removeChild(e),
                r()
            }),
            e.src = i,
            C.insertBefore(e, C.firstChild)) : (c ? (a[$] && F("start script load (ordered async): " + i),
            e.async = !1) : a[$] && F("start script load: " + i),
            N(e, n, "finished", r),
            e.src = i,
            C.insertBefore(e, C.firstChild))
        }, 0)
    }
    function E() {
        var a, h = {}, f = P || k, o = [], l = {};
        function d(e, t, i) {
            var a;
            function o() {
                null != a && (a = null,
                D(i))
            }
            l[t.src].finished || (e[x] || (l[t.src].finished = !0),
            a = i.elem || document.createElement("script"),
            t.type && (a.type = t.type),
            t.charset && (a.charset = t.charset),
            N(a, i, "finished", o),
            i.elem ? i.elem = null : i.text ? (a.onload = a.onreadystatechange = null,
            a.text = i.text) : a.src = t.real_src,
            C.insertBefore(a, C.firstChild),
            i.text && o())
        }
        function g(e, t, i, a) {
            var o, n, r = function r() {
                t.ready_cb(t, function() {
                    d(e, t, o)
                })
            }, s = function s() {
                t.finished_cb(t, i)
            };
            t.src = M(t.src, e[y]),
            t.real_src = t.src + (e[w] ? (/\?.*$/.test(t.src) ? "&_" : "?_") + ~~(1e9 * Math.random()) + "=" : ""),
            l[t.src] || (l[t.src] = {
                items: [],
                finished: !1
            }),
            n = l[t.src].items,
            e[x] || 0 == n.length ? (o = n[n.length] = {
                ready: !1,
                finished: !1,
                ready_listeners: [r],
                finished_listeners: [s]
            },
            j(e, t, o, a ? function() {
                o.ready = !0;
                for (var e = 0; e < o.ready_listeners.length; e++)
                    o.ready_listeners[e]();
                o.ready_listeners = []
            }
            : function() {
                D(o)
            }
            , a)) : (o = n[0]).finished ? s() : o.finished_listeners.push(s)
        }
        function e() {
            var o, n, r = B(h, {}), t = [], i = 0, s = !1;
            function l(e, t) {
                r[$] && F("script preload finished: " + e.real_src),
                e.ready = !0,
                e.exec_trigger = t,
                a()
            }
            function d(e, t) {
                r[$] && F("script execution finished: " + e.real_src),
                e.ready = e.finished = !0,
                e.exec_trigger = null;
                for (var i = 0; i < t.scripts.length; i++)
                    if (!t.scripts[i].finished)
                        return;
                t.finished = !0,
                a()
            }
            function a() {
                for (; i < t.length; )
                    if (L(t[i])) {
                        r[$] && F("$LAB.wait() executing: " + t[i]);
                        try {
                            t[i++]()
                        } catch (e) {
                            r[$] && I("$LAB.wait() error caught: ", e)
                        }
                    } else {
                        if (!t[i].finished) {
                            if (A(t[i]))
                                continue;
                            break
                        }
                        i++
                    }
                i == t.length && (n = s = !1)
            }
            function c() {
                n && n.scripts || t.push(n = {
                    scripts: [],
                    finished: !0
                })
            }
            return {
                script: (o = {
                    script: function p() {
                        for (var e = 0; e < arguments.length; e++)
                            !function(e, t) {
                                var i;
                                T(e) || (t = [e]);
                                for (var a = 0; a < t.length; a++)
                                    c(),
                                    L(e = t[a]) && (e = e()),
                                    e && (T(e) ? ((i = [].slice.call(e)).unshift(a, 1),
                                    [].splice.apply(t, i),
                                    a--) : ("string" == typeof e && (e = {
                                        src: e
                                    }),
                                    e = B(e, {
                                        ready: !1,
                                        ready_cb: l,
                                        finished: !1,
                                        finished_cb: d
                                    }),
                                    n.finished = !1,
                                    n.scripts.push(e),
                                    g(r, e, n, f && s),
                                    s = !0,
                                    r[b] && o.wait()))
                            }(arguments[e], arguments[e]);
                        return o
                    },
                    wait: function u() {
                        if (0 < arguments.length) {
                            for (var e = 0; e < arguments.length; e++)
                                t.push(arguments[e]);
                            n = t[t.length - 1]
                        } else
                            n = !1;
                        return a(),
                        o
                    }
                }).script,
                wait: o.wait,
                setOptions: function m(e) {
                    return B(e, r),
                    o
                }
            }
        }
        return h[S] = !0,
        h[b] = !1,
        h[x] = !1,
        h[w] = !1,
        h[$] = !1,
        h[y] = "",
        a = {
            setGlobalDefaults: function t(e) {
                return B(e, h),
                a
            },
            setOptions: function i() {
                return e().setOptions.apply(null, arguments)
            },
            script: function n() {
                return e().script.apply(null, arguments)
            },
            wait: function r() {
                return e().wait.apply(null, arguments)
            },
            queueScript: function s() {
                return o[o.length] = {
                    type: "script",
                    args: [].slice.call(arguments)
                },
                a
            },
            queueWait: function c() {
                return o[o.length] = {
                    type: "wait",
                    args: [].slice.call(arguments)
                },
                a
            },
            runQueue: function p() {
                for (var e, t = a, i = o.length; 0 <= --i; )
                    t = t[(e = o.shift()).type].apply(null, e.args);
                return t
            },
            noConflict: function u() {
                return v.$LAB = _,
                a
            },
            sandbox: function m() {
                return E()
            }
        }
    }
    v.console && v.console.log && (v.console.error || (v.console.error = v.console.log),
    F = function F(e) {
        v.console.log(e)
    }
    ,
    I = function I(e, t) {
        v.console.error(e, t)
    }
    ),
    v.$LAB = E(),
    e = "addEventListener",
    t = "DOMContentLoaded",
    null == document.readyState && document[e] && (document.readyState = "loading",
    document[e](t, i = function r() {
        document.removeEventListener(t, i, !1),
        document.readyState = "complete"
    }
    , !1))
}(this),
"undefined" == typeof Site && (Site = {}),
Site.genAjaxUrl = function(e) {
    var t = 1 < arguments.length && arguments[1] !== undefined && arguments[1] ? "rajax/" : "ajax/";
    return (0 <= document.location.pathname.indexOf("/manage/") ? "../".concat(t) : 0 <= document.location.pathname.indexOf("/manage_v2/") ? "../".concat(t) : t) + e
}
,
Site.getCrossPath = function(e) {
    var t, i, a = Fai.top._aroundName, o = a.backEndName, n = a.frontEndName, r = Fai.top._manageMode ? "cn" : "cc";
    return t = document.location.pathname.includes("/manage/"),
    i = document.location.pathname.includes("/manage_v2/"),
    detailJsp = document.location.pathname.includes(".jsp"),
    0 == o.length || 0 == n.length ? t || i || detailJsp ? "//".concat(location.host, "/").concat(e) : "//".concat(location.host).concat(document.location.pathname, "/").concat(e) : location.host.includes("".concat(r, ".").concat(n)) ? t || i || detailJsp ? "//".concat(location.host.split(".")[0], ".aaa.cn.").concat(o, ".dev.cc/").concat(e) : "//".concat(location.host.split(".")[0], ".aaa.cn.").concat(o, ".dev.cc").concat(document.location.pathname, "/").concat(e) : t || i || detailJsp ? "//".concat(location.host, "/").concat(e) : "//".concat(location.host).concat(document.location.pathname, "/").concat(e)
}
,
Site.Monitor = Fai.top.Monitor || {},
Site.MonitorDef = Fai.top.MonitorDef || {
    MonitorId: {},
    AlarmMonitorId: {}
},
Function.prototype.bindMonitor || (Function.prototype.bindMonitor = function() {
    return this
}
),
Site.memoize = function memoize(i, a) {
    if ("function" != typeof i || null != a && "function" != typeof a)
        throw new TypeError("请传入函数类型的值");
    var o = {};
    return function n() {
        var e = arguments
          , t = a ? a.apply(this, e) : Array.from(e).join("-");
        return "string" == typeof t && o.hasOwnProperty(t) ? o[t] : o[t] = i.apply(this, e)
    }
}
,
Site.checkUserDomainAction = function() {
    if (!Fai.top._manageMode) {
        var e = window.location.host
          , t = !1;
        window.navigator && window.navigator.userAgent && (t = -1 < window.navigator.userAgent.indexOf("Edge")),
        (Fai.isIE() || t) && (e = Fai.top._siteDomain.replace("//", "")),
        $.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax/siteDomain_h.jsp?cmd=wafNotCk_checkFaiDomain",
                oldPath: Site.genAjaxUrl("siteDomain_h.jsp?cmd=wafNotCk_checkFaiDomain")
            }),
            type: "POST",
            data: {
                domain: e
            }
        }).done(function(e) {
            try {
                var t = $.parseJSON(e);
                if (t.success && t.isFaiDomain)
                    return;
                a()
            } catch (i) {
                a()
            }
        }).error(i).fail(i)
    }
    function i(e) {
        e.status;
        var t = e.responseText;
        e.statusText;
        500 == e.status && -1 != t.indexOf("empty response") && a()
    }
    function a() {
        $("html").html("")
    }
}
,
Site.showMenu = function(e) {
    var t = e.id;
    Fai.isNull(t) && (t = "");
    var i = e.host
      , a = 0;
    Fai.isNull(e.mode) || (a = e.mode),
    Fai.isNull(e.fixpos) && (e.fixpos = !0);
    var o = e.rulerObj
      , n = e.navSysClass;
    Fai.isNull(n) && (n = "");
    var r = 0;
    Fai.isNull(e.closeMode) || (r = e.closeMode);
    var s = 0
      , l = 0;
    l = 1 == a ? (s = i.offset().left + i.width(),
    i.offset().top) : (s = i.offset().left,
    i.offset().top + i.height());
    var d = $("#g_menu" + t);
    if (0 != d.length)
        return 0 == r ? (d.attr("_mouseIn", 1),
        d) : (d.attr("_mouseIn", 0),
        Site.hideMenu(),
        null);
    $(".g_menu").each(function() {
        $(this).remove()
    });
    var c = e.data;
    if (null == e.data || "" == e.data)
        return null;
    if (d = $("<div id='g_menu" + t + "' tabindex='0' hidefocus='true' class='g_menu " + e.cls + " " + (e.clsIndex ? e.cls + "Index" + e.clsIndex : "") + " " + n + "' style='display:block;outline:none;'></div>"),
    "string" == typeof e.container) {
        var p = $("#g_menu" + t + "Container");
        p.length < 1 && (p = $(e.container)).attr("id", "g_menu" + t + "Container"),
        p.appendTo($("body")),
        d.appendTo(p)
    } else
        d.appendTo($("body"));
    var u = $("<div class='content contentLayer1'></div>");
    u.appendTo(d),
    Site.addMenuItem(c, u, e),
    e.fixpos && l + d.height() + 20 > $(document).height() && (l = i.offset().top - d.height()),
    d.css({
        left: s - Fai.getCssInt(u, "border-left-width") + "px",
        top: l + "px"
    });
    var m = $(document).scrollTop();
    d.height() + d.offset().top - m > window.innerHeight && d.find(".center > .item_wrap_outMenu").css({
        "overflow-y": "auto",
        "-moz-padding-end": "17px",
        height: window.innerHeight - d.offset().top + m - 20
    }),
    0 == r ? (d.mouseleave(function() {
        d.attr("_mouseIn", 0),
        setTimeout(function() {
            Site.hideMenu()
        }, 100)
    }),
    d.mouseover(function() {
        d.attr("_mouseIn", 1)
    }),
    d.click(function() {
        d.attr("_mouseIn", 0),
        Site.hideMenu()
    }),
    i.mouseleave(function() {
        d.attr("_mouseIn", 0),
        setTimeout(function() {
            Site.hideMenu()
        }, 100)
    }),
    i.mouseover(function() {
        d.attr("_mouseIn", 1)
    })) : (i.mousedown(function() {
        d.attr("_mouseIn", 2)
    }),
    d.bind("blur", function() {
        2 != d.attr("_mouseIn") && (d.attr("_mouseIn", 0),
        setTimeout(function() {
            Site.hideMenu()
        }, 100))
    }),
    d.focus()),
    "undefined" == typeof Site.g_bindMenuMousewheel && (Site.g_bindMenuMousewheel = 1,
    $("body").bind("mousewheel", function() {
        $("#g_menu").remove()
    }),
    $(".navSubMenu").off("mousewheel.navSubMenu").on("mousewheel.navSubMenu", function(e) {
        e.preventDefault()
    })),
    d.attr("_mouseIn", 1),
    d.slideDown(200),
    Site.calcMenuSize(d, e);
    var h = $("#g_menu" + t + ">div.content>table>tbody>tr>td.center>table.item")
      , f = $("#g_menu" + t)
      , g = f.outerWidth() - f.width() + (f.find(".content").outerWidth() - f.find(".content").width()) + (f.find(".content .middle").outerWidth() - f.find(".content .middle").width()) + (f.find(".content .middle .left").outerWidth() - f.find(".content .middle .right").outerWidth()) + (f.find(".content .middle .center").outerWidth() - f.find(".content .middle .center").width())
      , v = h.first().css("clear")
      , _ = h.first().outerWidth()
      , S = h.length;
    if ("none" == v && 1 < S && 0 < _) {
        var b = _ * S
          , x = document.documentElement.clientWidth
          , w = f.offset().left
          , y = (f.offset().right,
        f.width())
          , C = i.offset().left
          , F = o.outerWidth()
          , I = o.offset().left
          , P = I + F;
        if (x / 2 < C) {
            if (b < x && x / 2 < b) {
                var k = P - b;
                f.offset({
                    left: k - g
                }),
                f.find(".content>.middle").width("100%")
            }
            if (b < x && b < x / 2 && P - w < b) {
                k = P - b;
                f.offset({
                    left: k - g
                }),
                f.find(".content>.middle").width("100%")
            }
            x < b && (x < y ? f.offset({
                left: 0
            }) : f.offset({
                left: I
            }),
            f.find(".content>.middle").width("100%"))
        } else {
            if (b < x && x - C < b) {
                k = x - b;
                f.offset({
                    left: k - g
                }),
                f.find(".content>.middle").width("100%")
            }
            if (b < x && P - w < b) {
                k = P - b;
                f.offset({
                    left: k - g
                }),
                f.find(".content>.middle").width("100%")
            }
            x < b && (x < y ? f.offset({
                left: 0
            }) : f.offset({
                left: I
            }),
            f.find(".content>.middle").width("100%"))
        }
    }
    return d
}
,
Site.printBaiduPushJs = function() {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/site_h.jsp",
        data: "cmd=wafNotCk_checkBaiduAutomaticPush",
        dataType: "json",
        success: function o(e) {
            if (e.printBaiduPushJs) {
                var t = document.createElement("script")
                  , i = window.location.protocol.split(":")[0];
                t.src = "https" === i ? "https://zz.bdstatic.com/linksubmit/push.js" : "http://push.zhanzhang.baidu.com/push.js";
                var a = document.getElementsByTagName("script")[0];
                a.parentNode.insertBefore(t, a)
            }
        }
    })
}
,
Site.addMenuItem = function(e, v, _, t) {
    if (!(e.length <= 0)) {
        t = t || "outMenu";
        var i = $(["<table class='top " + t + "Top' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table>", "<table class='middle " + t + "Middle' cellpadding='0' cellspacing='0'><tr><td class='left'></div></td><td class='center'><div class='" + t + "Triangle'></div><div class='item_wrap_" + t + "'></div></td><td class='right'></td></tr></table>", "<table class='bottom " + t + "Bottom' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table>"].join(""));
        i.appendTo(v),
        i = i.parent().find(".middle .center .item_wrap_" + t);
        for (var a = 0; a < e.length; ++a) {
            var o = function o() {
                $(".g_menu").attr("_mouseIn", 2)
            }
              , n = function n() {
                $(".g_menu").attr("_mouseIn", 0),
                setTimeout(function() {
                    Site.hideMenu()
                }, 100)
            }
              , r = function r() {
                var e = $(this)
                  , t = null;
                $(this).parent().find(" > .subMenu").each(function() {
                    $(this).attr("itemId") == e.attr("itemId") && (t = $(this))
                }),
                null != t && 1 == t.length ? (t.attr("_mouseIn", 0),
                setTimeout(function() {
                    Site.hideSubMenu()
                }, 1)) : (e.removeClass("itemHover"),
                e.removeClass("itemHoverIndex" + (e.index() + 1)),
                v.find(".thirdMenuTop, .thirdMenuBottom").removeClass("lineHover"),
                v.find(".outMenuTop, .outMenuBottom ").removeClass("lineHover"),
                v.find(".outMenuTriangle").removeClass("triangleHover"))
            }
              , S = function S() {
                var i = $(this)
                  , a = null;
                if ($(this).parent().find(" > .subMenu").each(function(e, t) {
                    $(this).attr("itemId") == i.attr("itemId") && (a = $(this))
                }),
                null != a && 1 == a.length) {
                    if ("none" == a.css("display")) {
                        if (1 != a.attr("_hadShow")) {
                            var e = i.position().left + i.outerWidth()
                              , t = i.position().top
                              , o = $(".item_wrap_outMenu").scrollTop();
                            if (_.fixpos) {
                                var n = i.offset().top + a.height() + 20 - $(document).height();
                                0 < n && (t -= n)
                            }
                            a.css("left", e + "px"),
                            a.css("top", t - o + "px"),
                            a.slideDown(200, function() {
                                var e = $(document).scrollTop();
                                $(".item_wrap_outMenu").scrollTop();
                                $(".item_wrap_outMenu .itemHover").length && a.css("top", $(".item_wrap_outMenu .itemHover").position().top + parseInt($(".item_wrap_outMenu .itemHover").css("margin-top") || 0) + "px"),
                                a.height() + a.offset().top - e > window.innerHeight ? a.css({
                                    "overflow-y": "auto",
                                    height: window.innerHeight - a.offset().top + e
                                }) : a.css({
                                    height: ""
                                })
                            }),
                            Site.calcMenuSize(a, _),
                            a.attr("_hadShow", 1)
                        } else
                            a.slideDown(200, function() {
                                var e = $(document).scrollTop();
                                $(".item_wrap_outMenu").scrollTop();
                                $(".item_wrap_outMenu .itemHover").length && a.css("top", $(".item_wrap_outMenu .itemHover").position().top + parseInt($(".item_wrap_outMenu .itemHover").css("margin-top") || 0) + "px"),
                                $(".item_wrap_thirdMenu").height() + a.offset().top - e > window.innerHeight ? a.css({
                                    height: window.innerHeight - a.offset().top + e - 20
                                }) : a.css({
                                    height: ""
                                })
                            });
                        Fai.isIE() && $(".navSubMenu .g_menu").css("border", "none")
                    }
                    if (a.attr("_mouseIn", 1),
                    1 == _.navBar && Fai.isIE()) {
                        var r = (g = $("#g_menu" + _.id)).find(".contentLayer1")
                          , s = a.find(".contentLayer2")
                          , l = r.outerHeight(!0)
                          , d = r.outerWidth(!0)
                          , c = r.children(".middle").first().outerWidth(!0)
                          , p = s.outerHeight(!0)
                          , u = s.outerWidth(!0)
                          , m = p + a.position().top - l
                          , h = 0 < m ? l + m : l
                          , f = d + u;
                        g.css({
                            width: f + "px",
                            height: h + "px"
                        }),
                        r.css({
                            width: c + "px"
                        })
                    }
                } else if ($(this).parents(".subMenu").length <= 0 && 1 == _.navBar && Fai.isIE()) {
                    var g;
                    c = (r = (g = $("#g_menu" + _.id)).find(".contentLayer1")).children(".middle").first().outerWidth(!0),
                    h = r.outerHeight(!0),
                    f = r.outerWidth(!0);
                    g.css({
                        width: f + "px",
                        height: h + "px"
                    }),
                    r.css({
                        width: c + "px"
                    })
                }
                i.addClass("itemHover"),
                i.addClass("itemHoverIndex" + (i.index() + 1)),
                i.hasClass("itemIndex1") && (v.find(".outMenuTriangle").addClass("triangleHover"),
                v.find(".outMenuTop").addClass("lineHover")),
                i.hasClass("itemIndex" + v.find(".item:not(.subMenu .item)").length) && v.find(".outMenuBottom").addClass("lineHover"),
                (null == a || a.length < 1) && (i.hasClass("itemIndex1") && v.find(".thirdMenuTop").addClass("lineHover"),
                i.hasClass("itemIndex" + v.find(".item").length) && v.find(".thirdMenuBottom").addClass("lineHover")),
                $(".g_menu").attr("_mouseIn", 1)
            }
              , s = e[a]
              , l = s.sub
              , d = s.href
              , c = s.onclick
              , p = s.target
              , u = s.disable;
            d || c ? (d = d ? u && void 0 !== l && "" != l ? "" : " href='" + d + '\' style="cursor:pointer;"' : " href='javascript:;'",
            c = c ? ' onclick="' + c + '"' : "",
            p = p || "") : c = d = "";
            var m = parseInt(1e5 * Math.random())
              , h = []
              , f = a + 1;
            h.push("<table class='item itemIndex" + f + "' itemId='"),
            h.push(m),
            h.push("' cellpadding='0' cellspacing='0'><tr><td class='itemLeft'></td><td class='itemCenter'><a hidefocus='true' "),
            h.push(d),
            h.push(c),
            h.push(p),
            s.title && h.push(" title='" + s.title + "'"),
            h.push(">" + s.html + "</a></td><td class='itemRight'></td></tr></table>");
            var g = $(h.join(""));
            if (l && g.addClass("itemPopup"),
            1 <= i.find(" > .subMenu").length ? g.insertBefore(i.find(" > .subMenu").first()) : g.appendTo(i),
            l) {
                l.length;
                var b = $("<div class='subMenu' itemId='" + m + "'><div class='content contentLayer2'></div></div>");
                b.appendTo(i);
                var x = b.find(" > .content");
                Site.addMenuItem(l, x, _, "thirdMenu"),
                b.mouseleave(function() {
                    if ($(this).attr("_mouseIn", 0),
                    setTimeout(function() {
                        Site.hideSubMenu()
                    }, 100),
                    1 == _.navBar && Fai.isIE()) {
                        var e = $("#g_menu" + _.id)
                          , t = e.find(".contentLayer1")
                          , i = t.outerHeight(!0)
                          , a = t.outerWidth(!0)
                          , o = t.children(".middle").first().outerWidth(!0);
                        e.css({
                            width: a + "px",
                            height: i + "px"
                        }),
                        t.css({
                            width: o + "px"
                        })
                    }
                }),
                b.mouseover(function() {
                    $(this).attr("_mouseIn", 1)
                }),
                b.click(function() {
                    $(this).attr("_mouseIn", 0),
                    Site.hideSubMenu()
                })
            }
            w(g, l),
            g.hover(S, r).click(n),
            1 == _.closeMode && g.mousedown(o)
        }
    }
    function w(t, e) {
        if (Fai.isAndroid() && !(t.length < 1)) {
            var i = !1;
            e && 0 < e.length && (i = !0),
            i && (t.off("touchstart.beforeHover").on("touchstart.beforeHover", function(e) {
                var t = $(this);
                return $itemListDom = Fai.top.$(".g_menu").find(".item").not(".subMenu .item"),
                !!t.hasClass("itemHover") || ($itemListDom.not(this).trigger("mouseleave"),
                t.trigger("mouseenter"),
                e.preventDefault(),
                !1)
            }),
            t.find("a").off("mousedown.beforeHover").on("mousedown.beforeHover", function(e) {
                if (!t.hasClass("itemHover"))
                    return e.preventDefault(),
                    !1
            }))
        }
    }
}
,
Site.calcMenuSize = function(e, a) {
    e.find(" > .content").each(function() {
        var o = 0
          , e = $(" > .middle", this);
        Fai.isNull(a.minWidth) || (o = a.minWidth - Fai.getCssInt(e.find(".left").first(), "width") - Fai.getCssInt(e.find(".right").first(), "width"));
        var t = o
          , i = e.find(" > tbody > tr > .center > .item_wrap_outMenu > .item,  > tbody > tr > .center > .item_wrap_thirdMenu > .item");
        i.each(function() {
            $(this).width() > o && (t = $(this).outerWidth(),
            o = $(this).width())
        }),
        i.width(t),
        i.find(" > tbody > tr > .itemCenter").each(function() {
            var e = $(this)
              , t = e.parent().find(" > .itemLeft")
              , i = e.parent().find(" > .itemRight");
            e.css("width", o - t.outerWidth() - i.outerWidth() - e.outerWidth() + e.width() + "px");
            var a = e.find("a");
            a.css("width", e.width() - a.outerWidth() + a.width() + "px")
        }),
        $(" > .top", this).width(e.width()),
        $(" > .bottom", this).width(e.width())
    });
    var t = Fai.top.$(".outMenuTriangle")
      , i = t.outerWidth() || 0
      , o = 0 < t.length
      , n = a.host.outerWidth()
      , r = Fai.top.$(".outMenuMiddle").width()
      , s = 0;
    s = (Math.min(n, r) - i) / 2,
    o && i && t.css("left", s)
}
,
Site.hideMenu = function() {
    Fai.top._uiMode || $(".g_menu").each(function() {
        var e = $(this);
        1 == e.length && 1 != e.attr("_mouseIn") && e.remove()
    })
}
,
Site.hideSubMenu = function() {
    if (!Fai.top._uiMode) {
        var i = !1
          , a = $(".g_menu");
        a.find(".subMenu").each(function() {
            var e = $(this)
              , t = e.parent().find(" > .item").length;
            1 == e.length && (1 != e.attr("_mouseIn") ? (e.css("display", "none"),
            e.parent().find(" > .item").each(function() {
                $(this).attr("itemId") == e.attr("itemId") && ($(this).removeClass("itemHover"),
                $(this).hasClass("itemIndex1") && (a.find(".outMenuTop").removeClass("lineHover"),
                a.find(".outMenuTriangle").removeClass("triangleHover")),
                $(this).hasClass("itemIndex" + t) && a.find(".outMenuBottom").removeClass("lineHover"))
            })) : i = !0)
        }),
        Fai.isIE() && !i && $(".navSubMenu .g_menu").css("border", "")
    }
}
,
Site.popupWindow = function(e) {
    var t = !0;
    if (Fai.isNull(e.saveBeforePopup) || (t = e.saveBeforePopup),
    Fai.top.Site && Fai.top.Site.hasPopupModuleOpen && Fai.top.Site.hasPopupModuleOpen() && (t = !1),
    !t || !Site.checkSaveBar(e))
        return $.isFunction(Site.removeAllEditLayer) && Site.removeAllEditLayer(),
        2 == e.version ? Fai.top.Fai.popupWindowVersionTwo.createPopupWindow(e) : Fai.top.Fai.popupWindow(e)
}
,
Site.total = function(e) {
    var t = {
        colId: -1,
        pdId: -1,
        ndId: -1
    }
      , i = $.extend({}, t, e);
    (null == i.colId || "" == i.colId || i.colId < 0) && (i.colId = -1),
    (null == i.pdId || "" == i.pdId || i.pdId < 0) && (i.pdId = -1),
    (null == i.ndId || "" == i.ndId || i.ndId < 0) && (i.ndId = -1);
    var a = "";
    a = navigator.userAgent.match(/AppleWebKit.*Mobile.*/) || Fai.isIpad() ? Fai.isIpad() ? "ipad" : Fai.isAndroid() ? "android" : Fai.isIphone() ? "iphone" : "other" : "pc";
    var o = Site.addRequestPrefix({
        newPath: "/ajax",
        oldPath: "ajax"
    }) + "/statistics_h.jsp?cmd=wafNotCk_visited"
      , n = [];
    n.push("&colId=" + i.colId),
    n.push("&pdId=" + i.pdId),
    n.push("&ndId=" + i.ndId),
    n.push("&browserType=" + Fai.getBrowserType()),
    n.push("&screenType=" + Fai.getScreenType(Fai.Screen().width, Fai.Screen().height)),
    n.push("&sc=" + i.sc),
    n.push("&rf=" + Fai.encodeUrl(i.rf)),
    n.push("&visitUrl=" + Fai.encodeUrl(document.location.href)),
    n.push("&visitEquipment=" + a),
    n.push("&statId=" + statId),
    $.ajax({
        url: o,
        type: "post",
        cache: !1,
        data: n.join(""),
        success: function r(e) {}
    })
}
,
Site.sendBrowerInfo = function(e) {
    var t = 0;
    t = e ? 200104 : 200105,
    Fai.isChrome() ? Site.logDog(t, 1) : Fai.isIE11() ? Site.logDog(t, 2) : Fai.isMozilla() ? Site.logDog(t, 3) : Fai.isSafari() ? Site.logDog(t, 4) : Fai.isIE9() ? Site.logDog(t, 5) : Fai.isIE10() ? Site.logDog(t, 6) : Fai.isOpera() ? Site.logDog(t, 7) : Fai.isIE7() ? Site.logDog(t, 8) : Fai.isIE8() ? Site.logDog(t, 9) : Fai.isAppleWebKit() ? Site.logDog(t, 10) : Fai.isIE6() ? Site.logDog(t, 12) : Site.logDog(t, 11)
}
,
Site.siteStatVisitTime = function(e) {
    var t = Site.addRequestPrefix({
        newPath: "/ajax",
        oldPath: "ajax"
    }) + "/statistics_h.jsp?cmd=wafNotCk_visitTime"
      , i = [];
    i.push("&statId=" + e),
    $.ajax({
        url: t,
        type: "post",
        cache: !1,
        data: i.join(""),
        success: function a(e) {}
    })
}
,
Site._fileUpload2Old = function(e, t, i) {
    var a = Site.fileUploadExtend(t, i);
    e ? $(e).unbind("click").bind("click", function() {
        Site.popupWindow(a, i)
    }) : Site.popupWindow(a, i)
}
,
Site._fileUpload2New = function(e, t, i) {
    function a(e, t) {
        try {
            o(e, t)
        } catch (i) {
            Fai.ing("系统出错，请联系管理员。"),
            console && console.error(i)
        }
    }
    function o(e, t) {
        if (!$.isEmptyObject(Fai.top.MaterialLibrary)) {
            var i, a;
            switch (e.formCase) {
            case "logo":
                i = 1;
                break;
            case "banner":
                i = 2;
                break;
            case "productDetail":
                i = 3;
                break;
            default:
                i = 0
            }
            switch (e.group) {
            case "none":
                a = -1;
                break;
            case "banner":
                a = 0;
                break;
            case "background":
                a = 1;
                break;
            case "image":
                a = 2;
                break;
            case "simple":
                a = 3;
                break;
            case "icon":
                a = 4;
                break;
            case "fodder":
                a = 5;
                break;
            case "mult":
                a = 6;
                break;
            case "video":
                a = 7;
                break;
            case "elevator":
                a = 8;
                break;
            default:
                a = 1
            }
            -1 < [2, 3, 4, 5].indexOf(a) && e.type && 0 < e.type.length && e.type.indexOf("png") < 0 && e.type.push("png"),
            -1 < [2, 3, 4, 5].indexOf(a) && e.type && 0 < e.type.length && e.type.indexOf("svg") < 0 && e.type.push("svg");
            var o = "undefined" != typeof e.tabIndex ? e.tabIndex : e.openIcon ? 1 : 0;
            2 != o || e.openIcon ? 0 != o && (o = 1) : o = 0,
            "none" == e.group && (o = 0);
            var n = e.guidance;
            void 0 === n && (n = !(!e || !e.type) && (-1 != e.type.indexOf("jpg") || -1 != e.type.indexOf("bmp") || -1 != e.type.indexOf("png") || -1 != e.type.indexOf("gif") || -1 != e.type.indexOf("svg") || -1 != e.type.indexOf("jpeg")));
            var r = {};
            if (Fai.top._isManageFrame && Fai.top._jzallsite2) {
                var s = "";
                if (Fai.top._jzallsite2)
                    s = "_FSESSIONID=" + Fai.top._FSESSIONID;
                r = {
                    materialLibraryUrl: Fai.top._siteDomain + "/ajax/materialLibrary_h.jsp",
                    siteImageUrl: Fai.top._siteDomain + "/ajax/siteImage_h.jsp",
                    siteImageGroupUrl: Fai.top._siteDomain + "/ajax/siteImageGroup_h.jsp",
                    advanceUploadUrl: Fai.top._siteDomain + "/ajax/advanceUpload.jsp?" + s,
                    siteSearchImageUrl: Fai.top._siteDomain + "/ajax/materialLibrary_h.jsp"
                }
            }
            Fai.top.MaterialLibrary.App.render({
                data: _objectSpread({
                    groupId: a,
                    formCase: i,
                    guidance: n,
                    title: e.title,
                    materialTypes: e.type,
                    fileUploadSizeLimit: 10 == Fai.top._siteVer || 11 == Fai.top._siteVer ? 1 : e.maxSize,
                    choosedMaterialIdsLimit: e.maxChoiceList || 1,
                    isUseWatermark: Site.getCookieFlag(28) || !1,
                    tabPaneIndex: o,
                    popUpWinZIndex: e.popUpWinZIndex,
                    customDescription: e.customDescription || "",
                    isShowUseOriginImg: e.isShowUseOriginImg || !1,
                    useOriginImg: e.useOriginImg || !1
                }, r),
                token: $("#_TOKEN").attr("value"),
                methods: {
                    onConfirm: function l(e) {
                        e.data && 0 < e.data.length && e.data.forEach(function(i) {
                            if ("undefined" != typeof i.filePath && i.filePath.endsWith("mp4") && $.ajax({
                                async: !1,
                                type: "post",
                                url: Site.addRequestPrefix({
                                    newPath: "/ajax",
                                    oldPath: "../ajax"
                                }) + "/site_h.jsp?cmd=addWafCk_addVideoFirstImg",
                                data: "url=" + i.filePath,
                                success: function a(e) {
                                    var t = jQuery.parseJSON(e);
                                    t.success && (i.videoFirstImg = t.videoImgUrl)
                                }
                            }),
                            "undefined" != typeof i.categoryId && Site.logDog(200748, i.categoryId + 1),
                            i.isFodder) {
                                var e = {};
                                e.firstSort = i.categoryId,
                                e.secondSort = i.topicIds[0],
                                e.fodderId = i.fodderId,
                                e.logType = 2,
                                Site.logBssFodder(e)
                            }
                        }),
                        t(JSON.stringify(e))
                    },
                    onClose: function d() {
                        e.closeCallBack && e.closeCallBack()
                    },
                    onCancel: function c() {
                        e.cancelCallBack && e.cancelCallBack()
                    },
                    onSettingWatermark: function p() {
                        Fai.top.Fai.popupWindowVersionTwo.createPopupWindow({
                            title: "设置水印效果",
                            frameSrcUrl: (top._siteDomain ? top._siteDomain : top._global ? top._global.siteDomain : "") + "/manage/watermarkEdit.jsp?status=1&ram=" + Math.random(),
                            width: 528,
                            height: 710,
                            version: 2
                        })
                    },
                    onSettingIsUseWatermark: function u(e) {
                        e.isUseWatermark ? Site.setCookieFlag(28, !0) : Site.setCookieFlag(28, !1)
                    },
                    onPictureMoving: function m() {
                        Fai.popupWindowVersionTwo.createPopupWindow({
                            title: "图片搬家",
                            frameSrcUrl: (top._siteDomain ? top._siteDomain : top._global ? top._global.siteDomain : "") + "/manage/imgSpiderEdit.jsp?ram=" + Math.random() + "&fileGroupId=0",
                            width: 680,
                            height: 620,
                            version: 2,
                            closeFunc: Fai.top.MaterialLibrary.App.updateFilesFirst,
                            popUpWinZIndex: 9998
                        })
                    },
                    onLogDog: function h(e) {
                        Site.logDog(e.id, e.src)
                    },
                    onLogBssFodder: function f(e) {
                        Site.logBssFodder(e)
                    },
                    message: function g(e) {
                        switch (e.status) {
                        case "success":
                            Site.Message.success(e.message);
                            break;
                        case "error":
                            Site.Message.error(e.message);
                            break;
                        case "warning":
                        default:
                            Site.Message.warning(e.message)
                        }
                    },
                    dispatchCategoryChange: function v(e) {
                        -1 < e.categoryId && Site.logDog(200748, e.categoryId + 8)
                    },
                    onFodderLoaded: function _() {
                        e.onFodderLoaded && e.onFodderLoaded()
                    }
                }
            })
        }
    }
    e ? $(e).unbind("click").bind("click", function() {
        t.checkSaveBar && Site.checkSaveBar({
            callback: function e() {
                a(t, i)
            }
        }) || a(t, i)
    }) : a(t, i)
}
,
Site.fileUpload2 = function(e, t, i) {
    Site.logDog(200187, 1),
    Fai.top.MaterialLibrary && !t.useOld ? Site._fileUpload2New(e, t, i) : Site._fileUpload2Old(e, t, i)
}
,
Site.fileUploadExtend = function(e, t) {
    var i = {
        title: "添加文件",
        showTitle: !0,
        checkSaveBar: !1,
        crossiframe: "",
        type: [],
        maxSize: 1,
        maxUploadList: 1,
        maxChoiceList: 1,
        imgMode: 2,
        imgMaxWidth: 4096,
        imgMaxHeight: 4096,
        netFileMode: !1,
        popUpWinZIndex: 0,
        useOldIcon: !1,
        oldIcon: {
            filePath: "",
            color: "",
            charContent: "",
            content: ""
        }
    };
    e && ($.extend(i, e),
    e.oldIcon && "function" == typeof e.oldIcon && (i.oldIcon = e.oldIcon() || i.oldIcon)),
    Fai.top._global && Fai.top._global.file_size_limit && (i.maxSize = Fai.top._global.file_size_limit),
    "添加图片" === i.title && 5 < i.maxSize && (i.maxSize = 5),
    "undefined" == Fai.top._siteVer || 10 != Fai.top._siteVer && 11 != Fai.top._siteVer || (i.maxSize = 1),
    "undefined" == Fai.top._ver || 10 != Fai.top._ver && 11 != Fai.top._ver || (i.maxSize = 1);
    var a = i.title;
    0 < i.type.length && i.showTitle ? "undefined" != Fai.top._siteVer && 10 == Fai.top._siteVer ? a += "<span style='font-size:12px; color:#666;'> (&nbsp;只能添加" + i.type.join(",") + ", 免费版大小不超过" + i.maxSize + "MB&nbsp;)</span>" : "undefined" != Fai.top._ver && 10 == Fai.top._ver ? a += "<span style='font-size:12px; color:#666;'> (&nbsp;只能添加" + i.type.join(",") + ", 免费版大小不超过" + i.maxSize + "MB&nbsp;)</span>" : a += "<span style='font-size:12px; color:#666;'> (&nbsp;只能添加" + i.type.join(",") + ", 大小不超过" + i.maxSize + "MB&nbsp;)</span>" : a += "<span style='font-size:12px; color:#666;'> (&nbsp;上传大小不超过" + i.maxSize + "MB&nbsp;)</span>";
    var o = {
        title: a,
        frameSrcUrl: (top._siteDomain ? top._siteDomain : "") + "/manage/fileUploadV2.jsp?settings=" + Fai.encodeUrl($.toJSON(i)) + "&ram=" + Math.random() + "&crossiframe=" + Fai.encodeUrl(i.crossiframe),
        width: 950,
        height: 690,
        saveBeforePopup: !1,
        callArgs: "add",
        closeFunc: t,
        version: 2,
        popUpWinClass: "fileUploadV2",
        popUpWinZIndex: i.popUpWinZIndex
    };
    return i.fromNewsGuide && (o.fromNewsGuide = i.fromNewsGuide,
    o.newsGuideCallBack = i.callback),
    e.saveBeforePopup !== undefined && (o.saveBeforePopup = e.saveBeforePopup),
    o
}
,
Site.initIframeLoading = function(t, i, a, o) {
    var n = t + i
      , r = Fai.top.$("#" + n).parent().width()
      , s = Fai.top.$("#" + n).parent().height()
      , l = 1;
    $("#" + n).attr("src", a).load(function() {
        $("#moduleLoading" + i).hide(),
        $("#refreshFrame" + i).hide(),
        Fai.top.$("#" + n).parent().show(),
        l = 2
    }),
    o ? ($("#moduleLoading" + i).show(),
    Fai.top.$("#" + n).parent().hide(),
    $("#refreshFrame" + i).hide()) : setTimeout(function() {
        if (1 == l) {
            var e = "<div id='moduleLoading" + i + "' class='ajaxLoading2' style='width:" + r + "px;height:" + s + "px'></div>";
            Fai.top.$("#" + n).parent().before(e),
            Fai.top.$("#" + n).parent().hide()
        }
    }, 3e3),
    setTimeout(function() {
        if (1 == l) {
            if ($("#moduleLoading" + i).hide(),
            o)
                $("#refreshFrame" + i).show();
            else {
                var e = "<div id='refreshFrame" + i + "' style='width:" + r + "px;height:" + s + "px;text-align:center;padding-top:5px;'><a href=\"javascript:Site.initModuleWeather('" + t + "'," + i + ", '" + a + "', true);\">" + LS.refresh + "</a></div>";
                Fai.top.$("#" + n).parent().before(e)
            }
            l = 3
        }
    }, 3e4)
}
,
Site.logMsg = function(e) {
    if (e) {
        var t = ""
          , i = e.indexOf("&");
        0 <= i && (t = e.slice(i, e.length - 1)),
        $.ajax({
            type: "GET",
            url: "/ajax/log_h.jsp?cmd=wafNotCk_log&msg=" + Fai.encodeUrl(e),
            data: t
        })
    }
}
,
Site.logErr = function(e) {
    e && $.ajax({
        type: "GET",
        url: "/ajax/log_h.jsp?cmd=wafNotCk_err&err=" + Fai.encodeUrl(e)
    })
}
,
Site.batchLogDog = function() {
    var o = 0 < arguments.length && arguments[0] !== undefined ? arguments[0] : 100
      , n = null
      , r = {}
      , s = [201288, 201287, 200104];
    return function(t, e) {
        if (-1 === s.indexOf(t))
            return sendLogDog(t, e);
        var i = transformLogDogParams(t, e);
        if (null !== i) {
            var a = _slicedToArray(i, 2);
            t = a[0],
            e = a[1],
            "object" === _typeof2(t) ? Object.keys(t).forEach(function(e) {
                assignNumberOrArrayInObject(r, e, t[e])
            }) : assignNumberOrArrayInObject(r, t, e),
            null === n && (n = setTimeout(function() {
                clearTimeout(n),
                n = null,
                sendLogDog($.toJSON(r)),
                r = {}
            }, o))
        }
    }
}
,
Site.logDog = Site.batchLogDog(1e3),
Site.logJZFdp = function(e, t) {
    $.ajax({
        type: "POST",
        url: "/ajax/log_h.jsp",
        data: "cmd=wafNotCk_logJZFdpTrack&event=" + e + "&properties=" + $.toJSON(t)
    })
}
,
Site.logMonitor = function(e, t) {
    $.ajax({
        type: "POST",
        url: "/ajax/log_h.jsp",
        data: "cmd=wafNotCk_monitor&id=" + Fai.encodeUrl(e) + (t ? "&isLog=" + t : "")
    })
}
,
Site.logMonitorDetail = function(e, t) {
    var i = {
        _colId: Fai.top._colId,
        _aid: Fai.top._aid,
        _siteId: Fai.top._siteId,
        msg: String(t)
    };
    $.ajax({
        type: "POST",
        url: "/ajax/log_h.jsp",
        data: "cmd=wafNotCk_monitorDetail&id=" + Fai.encodeUrl(e) + "&content=" + Fai.encodeUrl($.toJSON(i))
    })
}
,
Site.logBssFodder = function(e) {
    $.ajax({
        type: "POST",
        url: "/ajax/log_h.jsp",
        data: "cmd=wafNotCk_logBssFodder&logBssFodder=" + Fai.encodeUrl($.toJSON(e))
    })
}
,
Site.logCorpDog = function(e, t) {
    $.ajax({
        type: "GET",
        url: "/ajax/log_h.jsp?cmd=wafNotCk_logCorpDog&dogId=" + Fai.encodeUrl(e) + "&dogSrc=" + Fai.encodeUrl(t)
    })
}
,
Site.logStayDog = function(e, t, i) {
    if (!(i < 3e4)) {
        var a = $.cookie("stayDogIntervalId" + e + "-" + t);
        null != a && clearInterval(a),
        $.ajax({
            type: "GET",
            url: "/ajax/log_h.jsp?cmd=wafNotCk_stayDog&dogId=" + Fai.encodeUrl(e) + "&dogSrc=" + Fai.encodeUrl(t)
        });
        var o = setInterval(function() {
            $.ajax({
                type: "GET",
                url: "/ajax/log_h.jsp?cmd=wafNotCk_stayDog&dogId=" + Fai.encodeUrl(e) + "&dogSrc=" + Fai.encodeUrl(t)
            })
        }, i);
        $.cookie("stayDogIntervalId" + e + "-" + t, o)
    }
}
,
Site.popupBox = function(i) {
    var a = {
        boxId: 0,
        title: "",
        htmlContent: "",
        width: 500,
        height: "",
        boxName: "",
        opacity: "0.5",
        displayBg: !0,
        autoClose: 0,
        extClass: "",
        popupBoxZIndex: 0,
        needScollTop: !0,
        paddingBottom: 20
    };
    a = $.extend(a, i);
    var o = parseInt(a.boxId);
    0 != o && null != o || (o = parseInt(1e4 * Math.random()));
    var e = Fai.top.document.documentElement.clientHeight;
    a.displayBg && Fai.bg(o, a.opacity, a.popupBoxZIndex, a.extClass, a.needScroll);
    var t = "";
    "" != a.height && (t = " min-height:" + (a.height - 45) + "px;");
    var n = ["<div id='popupBoxContent", o, "' style='width:", a.width, "px;", t, " padding-bottom:", a.paddingBottom, "px;", "' class='popupCnBg'>", a.htmlContent, "</div>"]
      , r = Fai.top.$("html").scrollTop();
    r = 0 < r ? r : window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var s = ""
      , l = ""
      , d = "";
    "qqLogin" == a.boxName ? (s = "style='padding-top:20px;'",
    l = "style='margin-top:20px;'") : "addrInfo" == a.boxName ? s = "style='margin-top:21px;'" : "mallAmountZero" == a.boxName ? (s = "style='height:15px;'",
    l = "style='margin-top:10px;'") : "confirmReceipt" == a.boxName ? l = "style='margin-top:10px;'" : "mallBuy" == a.boxName ? l = "style='margin-top:10px'" : "memberFdPwd" == a.boxName ? (s = "style='margin-top:20px;'",
    l = "style='margin-top:13px'") : "bannerV2" == a.boxName && (l = "style='margin-top:18px;margin-right:18px;'"),
    a.popupBoxZIndex && (d = "z-index:" + a.popupBoxZIndex);
    var c = ["<div id='popupBox", o, "' class='formBox " + a.extClass + "' style='width:", a.width, "px;", t, "left:", (Fai.top.document.documentElement.clientWidth - a.width) / 2, "px;" + d + "'>", "<div class='formTLSite'><div ", s, "class='formTCSite ", "" == a.title ? "formMulLanSite" : "", "'>", a.title, "</div></div>", "<div class='formMSG' style='position:relative;'>", n.join(""), "</div>", "<a href='javascript:void(0);' class='formXSite popupBClose' hidefocus='true' onclick='return false;'", l, "></a>", "</div>"];
    c = c.join("");
    var p = Fai.top.$(c).appendTo("body")
      , u = (e - a.height) / 2;
    "" == a.height && (u = (e - $(".popupCnBg").height()) / 2),
    $(p).css("top", a.needScollTop ? u + r : u);
    var m = Fai.top.$("#popupBg" + o).outerHeight(!0)
      , h = Fai.top.$("#popupBoxContent" + o).outerHeight(!0) + 120;
    function f(e) {
        return "[object Function]" === Object.prototype.toString.call(e)
    }
    return m < h && p.css("top", r + "px"),
    p.hide(),
    p.fadeIn(),
    p.ready(function() {
        p.draggable({
            start: function e() {
                Fai.top.$("body").disableSelection()
            },
            handle: ".formTLSite",
            stop: function t() {
                Fai.top.$("body").enableSelection()
            }
        }),
        p.find(".popupBClose").bind("click", function() {
            f(a.closeFunc) && a.closeFunc(),
            Fai.top.$("#popupBg" + o).remove(),
            Fai.top.$("html").removeClass("popupStopScroll" + o),
            p.remove(),
            i.reload && location.reload(!0)
        })
    }),
    0 != a.autoClose && setTimeout(function() {
        p.find(".popupBClose").click()
    }, a.autoClose),
    p
}
,
Site.hasXScrollBar = function() {
    function e(e) {
        var t = 0;
        if (0 < e.length) {
            if (t = e.scrollLeft(),
            e.scrollLeft(0),
            e.scrollLeft(1),
            1 === e.scrollLeft())
                return e.scrollLeft(t),
                !0;
            e.scrollLeft(t)
        }
    }
    var t, i, a = $(window);
    return i = Fai.top._manageMode ? (t = $("#web"),
    $(window)) : (t = $("#web"),
    $("body")),
    0 < t.length && (t.width() > a.width() || e(i))
}
,
Site.hasYScrollBar = function() {
    var e = $("#web");
    if (Fai.top._manageMode) {
        if ("scroll" === $("body").css("overflow-y"))
            return !0
    } else if (0 < e.length && e.height() > $(window).height())
        return !0;
    return !1
}
,
Site.checkEnv = function(e) {
    function t() {
        var e, t = $("#nav"), i = 0;
        return !(t.length <= 0) && (0 === Fai.top._navStyleData.ncp.l && (e = Fai.top._manageMode ? $(window) : $("body"),
        t.offset().left + e.scrollLeft() === 0 && (-1 === Fai.top._navStyleData.ns.w && (Site.hasYScrollBar() && (i = Fai.getScrollWidth()),
        !(t.width() < $("#webContainer").width()) && !(t.width() + i < $(window).width())))))
    }
    function a(e, t) {
        var i = 0
          , a = 0
          , o = e / 2;
        if (!(e < 960))
            return 0 < t.length ? (a = (i = t.offset().left) + t.width(),
            o < l - i || o < a - l) : void 0
    }
    function i(e) {
        0 < e.attr("_intab") || 0 < e.attr("_inmulmcol") || 1 == e.attr("_side") || a(r, e) && d.push(e.prop("id"))
    }
    var o, n, r = $(window).width(), s = 0, l = 0, d = [], c = [], p = $("#logoImg:visible"), u = $("#corpTitle"), m = $("#nav");
    $.isFunction(e) || (e = function e() {}
    ),
    Site.hasYScrollBar() && (r -= Fai.getScrollWidth()),
    (n = {
        rightOverList: c,
        hasXScrollBar: Site.hasXScrollBar(),
        viewWidth: r
    }).hasXScrollBar ? (s = Fai.top._manageMode ? $("#web").width() : $(window).width(),
    l = s / 2,
    Fai.top.$(".absForms >.form").each(function(e, t) {
        i($(t))
    }),
    Fai.top.$(".floatForms >.form").each(function(e, t) {
        i($(t))
    }),
    0 < d.length && c.push("floatModule"),
    0 < u.length && a(r, u) && c.push("title"),
    0 < m.length && (t() ? (o = m.find(".navContent"),
    1 != Fai.top._navStyleData.cp.y && -1 === Fai.top._navStyleData.cs.w || 0 < o.length && a(r, o) && c.push("fullmeasureNav")) : a(r, m) ? c.push("nav1") : (m = $("#nav .navMainContent").first(),
    (a(r, m) || a(r, m.find(".navContent"))) && c.push("nav2"))),
    a(r, $("#webContainer")) && c.push("background"),
    Fai.top._useBannerVersionTwo ? 2 === Fai.top._bannerV2Data.blw.t && a(r, $("#bannerV2")) && c.push("bannerV2") : 1 === Site.getWebBackgroundData().wbws && a(r, $("#fk-webBannerZone")) && c.push("banner"),
    $("#fullmeasureTopForms").find(".fullmeasureContent").each(function(e, t) {
        var i = $(t);
        if (i.width() > $("#webContainer").width() && a(r, i))
            return c.push("fullmeasure"),
            !1
    }),
    0 < p.length && (p[0].complete ? a(r, p) && c.push("logo") : p.load(function() {
        a(r, p) && (n.resList = ["logo"],
        e(n))
    })),
    e(n),
    Fai.top._manageMode && $.each(d, function(e, t) {
        $("#" + t).css("border", "dashed black 5px")
    })) : e(n)
}
,
Site.checkManageEnv = function() {
    Fai.top._manageMode && Site.checkEnv(function(e) {
        var t, i = e.rightOverList, a = e.viewWidth, o = i.length, n = "", r = "", s = [];
        for (t = {
            floatModule: "--网站浮动模块位置；\n",
            logo: "--网站LOGO的宽度或位置；\n",
            title: "--网站标题宽度或位置；\n",
            fullmeasureNav: "--通栏式导航内容区位置设置项、宽度；\n",
            nav1: "--导航栏宽度或位置。；\n",
            nav2: "--导航应用了网站宽度并且存在水平偏移。请自定义导航内容区宽度；\n",
            banner: "--网站横幅宽度；\n",
            bannerV2: "--横幅2.0宽度；\n",
            background: "--网站背景宽度；\n",
            fullmeasure: "--通栏宽度；\n"
        }; 0 < o; )
            t[i[--o]] && s.push(t[i[o]]);
        0 < s.length ? s.unshift("窗口宽度：" + a + "；\n", "导致模块滚动条出现的原因：\n") : s.push("没有检测到横向超出的元素。"),
        n = '<a href="http://it.faisco.cn/page/forum/articleDetail.jsp?articleId=1447" style="position:absolute;right:20px;bottom:60px;font-size:14px;text-decoration:underline;" target="_blank">[了解更多]</a>',
        r = '<button style="position:absolute;right:20px;bottom:20px;padding:4px;width:64px;cursor:pointer;padding:0px;" onclick="Site.closeCheckEnvWindow()">确定</button>',
        s.push(n),
        s.push(r),
        s = '<div style="padding:10px;font-size:14px;cursor:point">' + $.trim(s.join("<br>")) + "</div>",
        Site.popupWindow({
            title: "横向滚动条检测结果",
            divContent: s,
            closeBtnClass: "J_checkEvnCloseBtn"
        })
    })
}
,
Site.checkVisitEnv = function() {
    var n;
    function l() {
        var e, t = $(window).width();
        return e = {
            1200: 1,
            960: 2,
            other: 3,
            normal: 4
        },
        {
            dogId: 200094,
            dogSrc: Site.hasXScrollBar() ? 1200 <= t ? e[1200] : 960 <= t && t < 1200 ? e[960] : e.other : e.normal
        }
    }
    function d(e) {
        var t, i, a, o, n = $(window).width(), r = e.length, s = [];
        for (a = {
            floatModule: 1,
            nav1: 2,
            nav2: 2,
            background: 3,
            banner: 4,
            logo: 6,
            title: 7,
            fullmeasure: 8,
            fullmeasureNav: 9,
            bannerV2: 10
        },
        o = {
            1200: 200079,
            960: 200080
        },
        1200 <= n ? t = o[1200] : 960 <= n && n < 1200 && (t = o[960]); 0 < r; )
            (i = a[e[--r]]) !== undefined && -1 === $.inArray(i, s) && s.push(i);
        return {
            dogId: t,
            dogSrc: s
        }
    }
    function c(e, t) {
        if (e !== undefined) {
            if ("object" === $.type(e))
                return e = $.toJSON(e),
                void Site.logDog(e, t);
            if ("array" === $.type(t)) {
                if (!t.length)
                    return;
                return t = $.toJSON(t),
                void Site.logDog(e, t)
            }
            t !== undefined && Site.logDog(e, t)
        }
    }
    function p(e) {
        var i = {
            index: e,
            get: function a() {
                var e = n.get(i.index);
                try {
                    e = $.parseJSON(e)
                } catch (t) {}
                return $.isArray(e) ? e : []
            },
            add: function o(e) {
                var t = i.get();
                -1 === $.inArray(e, t) && (t.push(e),
                n.set(i.index, $.toJSON(t)))
            },
            has: function t(e) {
                return -1 < $.inArray(e, i.get())
            }
        };
        return i
    }
    Fai.top._manageMode || Fai.top._oem || (n = {
        get: function i(e) {
            var t = window.sessionStorage;
            return t ? t.getItem(e) : $.cookie(e)
        },
        set: function a(e, t) {
            var i = window.sessionStorage;
            i ? i.setItem(e, t) : $.cookie(e, t)
        }
    },
    Site.checkEnv(function(e) {
        var t, i, a = p("fkScrollBarCheck"), o = p("fkScreenSize"), n = e.rightOverList, r = {}, s = location.href;
        !a.has(s) && 0 < n.length && (r[(i = d(n)).dogId] = i.dogSrc,
        a.add(s)),
        o.has(s) || (r[(t = l()).dogId] = t.dogSrc,
        o.add(s)),
        (t || i) && c(r)
    }))
}
,
Site.closeCheckEnvWindow = function() {
    var e = $(".J_checkEvnCloseBtn");
    0 < e.length && e.trigger("click")
}
,
Site.initPdNavfold = function(e) {
    var t = $("#module" + e);
    if (0 < t.parent("#leftForms").length) {
        var i = t.find(".g_foldContainerPanel");
        0 < i.find(".g_foldContainerValueRight.foldChange_J").length && i.find(".g_foldContainerValueCenter a").css("max-width", "140px")
    }
    if (0 < t.find(".g_vertFold").length) {
        var a = t.find(".pdLevel a");
        if (Fai.isIE6() || Fai.isIE7())
            return void $.each(a, function(e, t) {
                155 < $(t).width() && $(t).width(155)
            });
        var o = t.width();
        210 < o && a.css("max-width", o - 55 + "px")
    } else {
        for (var n = t.find(".g_foldContainerPanel"), r = n.length, s = 0, l = 0, d = [], c = [], p = 0; p < r; p++) {
            var u = $(n[p])
              , m = u.position().top;
            if (t.width() < 452) {
                n.removeClass("g_foldContainerPadding").removeAttr("style"),
                t.find(".g_horfoldSepLine").removeClass("g_horfoldSepLine").addClass("g_verfoldSepLine").removeAttr("style"),
                n.height();
                break
            }
            if (0 == p && (n.addClass("g_foldContainerPadding"),
            n = t.find(".g_foldContainerPanel"),
            m = (u = $(n[p])).position().top,
            t.find(".g_verfoldSepLine").addClass("g_horfoldSepLine").removeClass("g_verfoldSepLine")),
            p == r - 1 && l == m) {
                var h = u.height();
                s < h && (s = h),
                d.push(u.next()),
                c.push(u),
                $.each(d, function(e, t) {
                    $(t).css("height", s - 5 + "px")
                }),
                $.each(c, function(e, t) {
                    $(t).css("height", s + "px")
                });
                break
            }
            l != m && ($.each(d, function(e, t) {
                $(t).css("height", s - 5 + "px")
            }),
            $.each(c, function(e, t) {
                $(t).css("height", s + "px")
            }),
            d = [],
            c = [],
            s = 0,
            u.prev().hide(),
            n = t.find(".g_foldContainerPanel"),
            l = (u = $(n[p])).position().top);
            h = u.height();
            s < h && (s = h),
            d.push(u.next()),
            c.push(u)
        }
        d = [],
        c = [],
        t.find(".g_productNav").fadeTo(400, 1)
    }
}
,
Site.foldChange = function(a, e, r) {
    var s = $("#module" + a)
      , t = r.style
      , i = r.flag;
    if (s.find(".fold_h_J").mouseover(function() {
        $(this).addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_hover")
    }),
    s.find(".foldChange_J").click(function() {
        var e = $(this).parents(".fold_J")
          , t = e.attr("foldId")
          , i = $("#childrenDiv" + t + "M" + a);
        i.is(":visible") ? (i.slideUp(300),
        e.find(".fold_btn_J").removeClass("g_unfold").addClass("g_fold")) : (i.slideDown(300),
        e.find(".fold_btn_J").removeClass("g_fold").addClass("g_unfold"))
    }),
    Site.initContentSplitLine(a, e),
    Fai.isIE()) {
        var o = s.find(".formMiddleContent");
        ["margin-top", "margin-bottom"].forEach(function(e) {
            parseInt(o.css(e)) < 0 && o.css(e, 0)
        })
    }
    var n = JZ.getIsOpenRemoveUrlArg() ? JZ.getUrlHashInCookie() : Fai.top.location.hash;
    if (!(n.length < 2)) {
        if (Fai.getHashParam(n, "_np") && 24 == t)
            if (d = Site.decodeQsToUrl(Fai.getHashParam(n, "_np"), "_np", r)) {
                var l = Fai.getHashParam(d, "groupId");
                s.find(".g_foldContainerContent").find("[childGroupId=" + l + "]").addClass("g_selected"),
                s.find(".g_foldContainerContent").find("[groupId=" + l + "]").addClass("g_selected")
            }
        if (Fai.getHashParam(n, "_pp")) {
            var d = Site.decodeQsToUrl(Fai.getHashParam(n, "_pp"), "_pp", r)
              , c = [];
            if ($.each(Fai.getHashParam(n, "_pp").split("_"), function(e, t) {
                t && c.push(t)
            }),
            26 == t) {
                l = Fai.getHashParam(d, "groupId");
                d && !isNaN(l) && (s.find(".g_foldContainerContent").find("[groupId=" + l + "]").addClass("g_selected"),
                s.find(".g_foldContainerContent").find("[childGroupId=" + l + "]").addClass("g_selected"),
                s.find(".g_foldContainerContent").find("[grandGroupId=" + l + "]").addClass("g_selected"))
            } else if (21 == t) {
                var p = Fai.getHashParam(d, "_ci")
                  , u = Fai.getHashParam(n, "pid");
                d && (isNaN(u) ? isNaN(p) || s.find(".g_foldContainerContent").find("[groupId=" + p + "]").addClass("g_selected") : s.find(".g_foldContainerContent").find("[childGroupId=" + u + "]").addClass("g_selected"))
            } else if (38 == t) {
                if ((g = Site.getUrlParamObj("?" + d)) && 3 == c.length && $.each(g, function(e, t) {
                    if (-1 < e.indexOf("_li")) {
                        var i = e.split("=")[0].replace("_li", "");
                        isNaN(i) || s.find(".childrenDiv").find("[childGroupId=" + i + "]").addClass("g_selected")
                    }
                }),
                4 == c.length) {
                    var m = Fai.getHashParam(d, "_plc")
                      , h = Fai.getHashParam(d, "labelId");
                    -1 < m ? isNaN(h) || s.find(".childrenDiv").find("[foldId=" + h + "]").addClass("g_selected") : isNaN(h) || s.find(".g_foldContainerContent").find("[groupId=" + h + "]").addClass("g_selected")
                }
            } else if (9 == t && 3 == c.length) {
                var f = c[2].split("~");
                if (1 != f.length || isNaN(f[0])) {
                    var g;
                    if (!(g = Site.getUrlParamObj("?" + d)))
                        return;
                    Fai.checkBit(i, 4) ? $.each(g, function(e, t) {
                        if (-1 < e.indexOf("_fi")) {
                            for (var i = e.split("=")[0].replace("_fi", ""), a = r.blob0, o = 0, n = 0; n < i; n++)
                                o += a[n].l.length;
                            isNaN(t) || s.find(".g_foldContainerContent").find("[groupId=" + (o + parseInt(t)) + "]").addClass("g_selected")
                        }
                    }) : $.each(g, function(e, t) {
                        if (-1 < e.indexOf("_fi")) {
                            var i = e.split("=")[0].replace("_fi", "");
                            isNaN(i) || isNaN(t) || s.find("#childrenDiv" + i + "M" + a).find("[childGroupId=" + t + "]").addClass("g_selected")
                        }
                    })
                } else
                    s.find(".g_foldContainerContent").find("[groupId=" + f[0] + "]").addClass("g_selected")
            } else if (95 == t || 96 == t)
                if (0 == r.prop0) {
                    var v = Fai.getHashParam(d, "groupIdList");
                    if (!v)
                        return;
                    var _ = JSON.parse(v);
                    if (!_)
                        return;
                    for (var S = !1, b = !1, x = 0; x < _.length; x++)
                        1 == s.find(".g_foldContainerContent").find("[grandgroupId=" + _[x] + "]").length && (s.find(".g_foldContainerContent").find("[grandgroupId=" + _[x] + "]").addClass("g_selected"),
                        S = !0);
                    if (!S)
                        for (x = 0; x < _.length; x++)
                            1 == s.find(".g_foldContainerContent").find("[childgroupId=" + _[x] + "]").length && (s.find(".g_foldContainerContent").find("[childgroupId=" + _[x] + "]").addClass("g_selected"),
                            b = !0);
                    if (!S && !b)
                        for (x = 0; x < _.length; x++)
                            1 == s.find(".g_foldContainerContent").find("[groupId=" + _[x] + "]").length && s.find(".g_foldContainerContent").find("[groupId=" + _[x] + "]").addClass("g_selected")
                } else if (1 == r.prop0) {
                    var w = Fai.getHashParam(d, "_pni");
                    if (!w)
                        return;
                    var y = JSON.parse(w);
                    $.each(y, function(e, t) {
                        s.find(".g_foldContainerContent").find("[groupId=" + t + "]").addClass("g_selected")
                    })
                }
        }
    }
}
,
Site.decodeQsToUrl = function(e, t, i) {
    var a = ""
      , o = []
      , n = i.style;
    if ($.each(e.split("_"), function(e, t) {
        t && o.push(t)
    }),
    o < 2)
        return a;
    var r = o[0];
    0 < r && (a = "fromColId=" + r + "&");
    var s = o[1];
    if (s <= 0 || s != i.id)
        return a;
    if (a += "mid=" + s + "&",
    o.length <= 2)
        return a;
    if ("_np" == t && 3 <= o.length)
        return 4 <= o.length ? a += "groupId=" + o[2] + "&_ngc=" + o[3] : a += "groupId=" + o[2];
    if ("_php" == t && 3 <= o.length)
        return a += "groupId=" + o[2];
    if ("_pp" == t)
        switch (n) {
        case 26:
            if (4 <= o.length)
                return a += "groupId=" + o[2] + "&_pgc=" + o[3];
            break;
        case 21:
            if (3 <= o.length)
                return a += "_ci=" + o[2];
            break;
        case 38:
            if (3 == o.length) {
                var l = o[2].split("~");
                return $.each(l, function(e, t) {
                    -1 < t && (a += "_li" + e + "=" + t + "&")
                }),
                a
            }
            if (4 <= o.length)
                return o[3] < 0 ? a += "labelId=" + o[2] : a += "labelId=" + o[2] + "&_plc=" + o[3];
            break;
        case 9:
            if (3 != o.length)
                break;
            var d = o[2].split("~");
            if (d.length != i.blob0.length)
                return;
            return $.each(d, function(e, t) {
                -1 < t && (a += "_fi" + e + "=" + t + "&")
            }),
            a;
        case 95:
        case 96:
            if (3 == o.length) {
                var c = o[2].split("~");
                if (c.length < 1)
                    return a;
                if (0 == i.prop0)
                    return a += "groupIdList=" + JSON.stringify(c);
                if (1 == i.prop0)
                    return a += "_pni=" + JSON.stringify(c)
            }
            break;
        default:
            return a
        }
}
,
Site.floatTip = function(e) {
    var t = {
        moduleId: "",
        targetId: "",
        tipText: "",
        cusClass: "",
        direction: 3
    };
    if (0 != (t = $.extend(t, e)).moduleId.length && 0 != t.targetId.length && 0 != t.tipText.length) {
        $(Fai.top.document).find(".J_floatTip_" + t.moduleId).remove();
        var i = Fai.isIE6() || Fai.isIE7() || Fai.isIE8()
          , a = []
          , o = "floatTip_content"
          , n = "floatTip_right"
          , r = "floatTip_arrow"
          , s = "floatTip_left"
          , l = "floatTip_" + t.moduleId + "_" + t.targetId;
        i && (o += " floatTip_content_IE ",
        n += " floatTip_right_IE ",
        r += " floatTip_arrow_IE ",
        s += " floatTip_left_IE "),
        a.push("<div id='" + l + "' class='J_floatTip_" + t.moduleId + " floatTip'>\n"),
        a.push("<div class='" + r + "'></div>"),
        a.push("<div class='" + n + "'></div>"),
        a.push("<div class='" + s + "'></div>"),
        a.push("<div class='" + o + t.cusClass + "'>" + t.tipText + "</div>"),
        a.push("</div>\n"),
        $(Fai.top.document).find("body").append(a.join(""));
        var d = $("#" + t.moduleId)
          , c = $(d).find("#" + t.targetId);
        c.length || (c = $(d).find("." + t.targetId));
        var p = $("#" + l)
          , u = $(".floatLeftTop").offset().top
          , m = Fai.top._manageMode ? $(window).scrollTop() : $("body").scrollTop();
        Fai.isIE6() && (m = $(window).scrollTop()),
        0 == m && (m = $("html").scrollTop());
        var h = p.height()
          , f = .7 * p.width()
          , g = .8 * c.width()
          , v = c.height()
          , _ = c.offset().left + (g - f)
          , S = c.offset().top + m - u;
        $("#" + l).show().css({
            top: S + "px",
            left: _ + "px",
            "z-index": 9031
        }),
        setTimeout(function() {
            if (i) {
                var e = S - h - 10 + v / 3;
                $("#" + l).animate({
                    top: e + "px",
                    opacity: 1,
                    filter: "alpha(opacity=100)"
                }, 300)
            } else {
                e = S - h + v / 3;
                $("#" + l).css({
                    top: e + "px",
                    opacity: 1
                })
            }
        }, 50),
        $(c).unbind("click").bind("click", function() {
            $(this).hasClass("focusBg") && $(this).removeClass("focusBg"),
            $("#floatTip_" + t.moduleId + "_" + t.targetId).remove()
        })
    }
}
,
Site.floatTip_clear = function(e) {
    $(Fai.top.document).find(".J_floatTip_" + e).remove()
}
,
Site.moduleSubPanel = function(e) {
    var i = {
        that: null,
        moduleId: null,
        idStr: "",
        clsStr: "",
        contentStr: ""
    };
    if ($.extend(i, e),
    null != i.that) {
        var a, t = i.moduleId, o = $("#module" + t), n = u(o), r = m(o, t);
        r = (r = r + " modulePattern " + o.attr("class")).replace("formInZone", "");
        var s = ["<div id='", i.idStr, "' class='", i.clsStr, " g_m_s_J ", n, "' _mouseIn=1 style='display:none;'>", "<div class='", r, "' style='zoom:0;margin:0;overflow:visible;position:relative;'>", "<div class='formMiddle' style='zoom:0;width:auto;border:0;'>", "<div class='formMiddleCenter' style='zoom:0;width:auto;margin:0;'>", "<div class='formMiddleContent' style='", Fai.isIE6() ? "_display:inline;" : "", "width:auto;margin:0;overflow:visible;'>", i.contentStr, "</div>", "</div>", "</div>", "</div>", "</div>"];
        return 0 == $("#" + i.idStr + "style").length && $("head").append($('<style type="text/css" id="' + i.idStr + 'style"> .g_m_s_J .g_hover { background: ' + Fai.top._majorColorData + " } </style>")),
        (a = $(s.join(""))).appendTo("body"),
        o.hasClass("formStyle76") ? l() : d(),
        a
    }
    function l() {
        var e, t = o.find(".pd_mall_G_J");
        o.find(".p_m_cotainer_J");
        t.off("mouseleave.pr").on("mouseleave.pr", function() {
            e = setTimeout(function() {
                c(i.moduleId)
            }, 20)
        }),
        a.off("mouseleave.pr").on("mouseleave.pr", function() {
            if (c(i.moduleId),
            2 === parseInt(o.attr("_side")) && Site.startFlutterInterval(o),
            1 === parseInt(o.attr("_side"))) {
                var e = o.outerWidth();
                o.animate({
                    left: -e
                }, {
                    queue: !1,
                    duration: 500
                })
            }
        }),
        a.off("mouseenter.pr").on("mouseenter.pr", function() {
            e && (clearTimeout(e),
            2 === parseInt(o.attr("_side")) && Site.stopFlutterInterval(o),
            1 === parseInt(o.attr("_side")) && o.animate({
                left: 0
            }, {
                queue: !1,
                duration: 500
            }))
        })
    }
    function d() {
        a.mouseleave(function() {
            a.attr("_mouseIn", 0),
            setTimeout(p, 100)
        }),
        a.mouseover(function() {
            a.attr("_mouseIn", 1)
        }),
        i.that.mouseleave(function() {
            a.attr("_mouseIn", 0),
            setTimeout(p, 100)
        }),
        i.that.mouseover(function() {
            a.attr("_mouseIn", 1)
        }),
        2 === parseInt(o.attr("_side")) && (a.mouseleave(function() {
            Site.startFlutterInterval(o)
        }),
        a.mouseenter(function() {
            Site.stopFlutterInterval(o)
        }))
    }
    function c(e) {
        var t = $("#module" + e).find(".p_m_cotainer_J");
        $(".g_m_s_J").has(".form" + e).remove(),
        t.removeClass("bold p_m_hover g_border"),
        t.find(".p_m_value_J").removeClass("g_stress"),
        t.each(function() {
            var e = $(this);
            1 == e.attr("_chd") && e.find(".p_m_cotainerR_J").addClass("p_m_more")
        })
    }
    function p() {
        $(".g_m_s_J").each(function() {
            var e = $(this);
            1 == e.length && 1 != e.attr("_mouseIn") && e.remove()
        })
    }
    function u(e) {
        var t = e.attr("_intab") || 0
          , i = e.attr("_inpack") || 0
          , a = e.attr("_inmulmcol") || 0
          , o = e.attr("_infullmeasure") || 0
          , n = 0;
        return 0 == t && 0 == a && 0 == o && 0 == i ? e.parent().attr("class").replace("J_moduleZone", "").replace("fk-webBannerZone", "").replace("fk-moduleZone", "").replace("ui-sortable", "").replace("elemZone", "").replace("elemZoneModule", "") : (0 < t ? n = t : 0 < a ? n = a : 0 < o ? n = o : 0 < i && (n = i),
        u(Fai.top.$("#module" + n)))
    }
    function m(e, t) {
        var i = e.attr("_intab") || 0
          , a = e.attr("_inmulmcol") || 0
          , o = e.attr("_infullmeasure") || 0
          , n = e.hasClass("modulePattern") || !1
          , r = e.attr("class") || ""
          , s = /modulePattern\d+/
          , l = "";
        return n ? r.match(s) : 0 == i && 0 == a && 0 == o ? r.match(s) : (0 < i ? l = i : 0 < a ? l = a : 0 < o && (l = o),
        m(Fai.top.$("#module" + l), t))
    }
}
,
Site.mobiPlatform = function(e) {}
,
Site.mobiPlatform.getWindowSize = function() {
    var e = {
        w: 0,
        h: 0
    };
    return window.innerWidth && window.innerHeight ? (e.w = window.innerWidth,
    e.h = window.innerHeight) : document.documentElement ? (e.w = document.documentElement.clientWidth,
    e.h = document.documentElement.clientHeight) : document.body.clientWidth && document.body.clientHeight && (e.w = document.body.clientWidth,
    e.h = document.body.clientHeight),
    e
}
,
Site.Pagenation = function(r) {
    var s;
    function e(e, t, i) {
        var a = r("#pagenation" + e);
        s = t,
        a.css("text-align", "center"),
        l(t, a),
        o(e, a, i)
    }
    function l(e, t) {
        var i = Math.ceil(e.totalSize / e.pageSize)
          , a = e.pageNo || 1;
        if (0 != t.length) {
            var o = []
              , n = 0;
            if (o.push("<div class='pagePrev'>"),
            1 == a ? o.push("<span>" + LS.prevPager + "</span>") : o.push("<a hidefocus='true' class='g_border' href='javascript:;'><span>" + LS.prevPager + "</span></a>"),
            o.push("</div>"),
            1 == a ? o.push("<div class='pageNo'><span>1</span></div>") : o.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>1</span></a></div>"),
            2 < a - 2)
                for (o.push("<div class='pageEllipsis'><span>...</span></div>"),
                n = a - 2; n < a; n++)
                    o.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + n + "</span></a></div>");
            else
                for (n = 2; n < a; n++)
                    o.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + n + "</span></a></div>");
            if (1 != a && a != i && o.push("<div class='pageNo'><span>" + a + "</span></div>"),
            a + 2 < i - 1) {
                for (n = a + 1; n <= a + 2; n++)
                    o.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + n + "</span></a></div>");
                o.push("<div class='pageEllipsis'><span>...</span></div>")
            } else
                for (n = a + 1; n <= i - 1; n++)
                    o.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + n + "</span></a></div>");
            a == i ? o.push("<div class='pageNo'><span>" + i + "</span></div>") : o.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + i + "</span></a></div>"),
            o.push("<div class='pageNext'>"),
            a == i ? o.push("<span>" + LS.nextPager + "</span>") : o.push("<a hidefocus='true' class='g_border' href='javascript:;'><span>" + LS.nextPager + "</span></a>"),
            o.push("</div>"),
            t.html(o.join(""))
        }
    }
    function o(i, a, o) {
        r("body").off("click", "#pagenation" + i + " .g_border"),
        r("body").on({
            hover: function e() {
                r(this).addClass("g_hover")
            },
            mouseleave: function t() {
                r(this).removeClass("g_hover")
            },
            click: function n() {
                var e = a.find(".pageNo").not(":has('.g_border')").text()
                  , t = 1;
                t = r(this).parent().hasClass("pagePrev") ? Number(e) - 1 : r(this).parent().hasClass("pageNext") ? Number(e) + 1 : Number(r(this).text()),
                s.pageNo = t,
                o(i, t),
                l(s, a)
            }
        }, "#pagenation" + i + " .g_border")
    }
    return e
}(jQuery),
Site.loadCss = function(e, t, i) {
    var a = document.createElement("link");
    function o() {
        a.onload = a.onerror = a.onreadystatechange = null,
        a = null,
        t()
    }
    function r(e, t, i) {
        var a, o = e.sheet;
        if ((i += 1) > protectNum)
            return a = !0,
            e = null,
            void t();
        if (isOldWebKit)
            o && (a = !0);
        else if (o)
            try {
                o.cssRules && (a = !0)
            } catch (n) {
                "NS_ERROR_DOM_SECURITY_ERR" === n.name && (a = !0)
            }
        setTimeout(function() {
            a ? t() : r(e, t, i)
        }, 20)
    }
    supportOnload = "onload"in a,
    isOldWebKit = +navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/?(\d+).*/i, "$1") < 536,
    protectNum = 6e5,
    t = "function" == typeof t ? t : function() {}
    ,
    a.rel = "stylesheet",
    a.type = "text/css",
    a.href = e,
    void 0 !== i && (a.id = i),
    document.getElementsByTagName("head")[0].appendChild(a),
    !isOldWebKit && supportOnload ? supportOnload ? (a.onload = o,
    a.onerror = function() {
        o()
    }
    ) : a.onreadystatechange = function() {
        /loaded|complete/.test(a.readyState) && o()
    }
    : setTimeout(function() {
        r(a, t, 0)
    }, 1)
}
,
Site.checkScriptLoad = function(e) {
    if (!(void 0 === e || e.length < 1)) {
        var t, i = document.scripts, a = !1;
        for (t = i.length - 1; 0 <= t; t--)
            if ((i[t].getAttribute("src") || "") == e) {
                a = !0;
                break
            }
        return a
    }
}
,
Site.demandLoadJs = function(e, t) {
    void 0 === e || e.length < 1 || Site.checkScriptLoad(e) || ("function" == typeof t ? $LAB.script(e).wait(function() {
        t()
    }) : $LAB.script(e))
}
,
Site.checkCssLoad = function(e) {
    if (!(void 0 === e || e.length < 1)) {
        var t, i = document.styleSheets, a = i.length - 1, o = !1, n = new RegExp("^(http|https):");
        for (t = a; 0 <= t; t--)
            if ((i[t].href || "").replace(n, "") == e) {
                o = !0;
                break
            }
        return o
    }
}
,
Site.demandLoadCss = function(e, t) {
    void 0 === e || e.length < 1 || Site.checkCssLoad(e) || Site.loadCss(e, t)
}
,
Site.initContentSplitLine = function(e, t) {
    var i, a, o = $("#module" + e);
    if (o.hasClass("formStyle12") || o.hasClass("formStyle13")) {
        var n = o.hasClass("formStyle13")
          , r = n ? ".f-textListPropSep" : ".f-hotTextListPropSep";
        if (i = n ? o.find(".productTextListTable:first") : o.find(".productHotTextListTable:first"),
        a = n ? o.find(".productTextListProp") : o.find(".productHotTextListProp"),
        0 < i.length && $(function() {
            Fai.top.Fai.setCtrlStyleCssList("stylemodule", "module" + e, [{
                cls: ".g_separator",
                key: "margin-top",
                value: "-" + parseInt(i.css("margin-top").replace("px")) / 2 + "px"
            }, {
                cls: ".g_separator",
                key: "margin-bottom",
                value: "-" + parseInt(i.css("margin-bottom").replace("px")) / 2 + "px"
            }, {
                cls: ".f-proListSepLast",
                key: "margin-bottom",
                value: parseInt(i.css("margin-bottom").replace("px")) / 2 + "px"
            }])
        }),
        0 < a.length) {
            var s = a.css("background-color");
            "string" == typeof s && 0 < s.length && "rgba(0,0,0,0)" != (s = s.replace(/\s/g, "")) && "transparent" != s && $(function() {
                Fai.top.Fai.setCtrlStyleCssList("stylemodule", "module" + e, [{
                    cls: r,
                    key: "display",
                    value: "none"
                }])
            })
        }
    }
    if (!(o.length < 1 || void 0 === t || 2 != t.y)) {
        t.w && t.w,
        t.c && t.c;
        var l = Number(t.s)
          , d = o.find(".g_separator");
        if (!(isNaN(l) || l < 3 || 8 < l || d.length < 1))
            if (Fai.isIE6() || Fai.isIE7())
                d.css({
                    fontSize: 0,
                    height: 0,
                    lineHeight: 0,
                    borderColor: t.c,
                    borderWidth: t.w + "px",
                    borderStyle: "solid",
                    borderLeft: "none",
                    borderTop: "none",
                    borderRight: "none"
                });
            else {
                var c, p = "<span>", u = "";
                for (u = ["─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ", "-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·", "-··-··-··-··-··-··-··-··-··-··", "— - — - — - — - — - — - — - — - "][l - 3],
                c = 0; c < 3; c++)
                    u += u;
                p += u + "</span>",
                d.addClass("g_foldTextLine").html(p),
                Site.checkSplitLineEnough(e)
            }
    }
}
,
Site.checkSplitLineEnough = function(e) {
    var t = $("#module" + e)
      , i = t.find(".g_separator");
    if (!(t.length < 1 || i.length < 1)) {
        var a = i.find("span")
          , o = i.width()
          , n = a.width()
          , r = a[0].innerHTML;
        doubleText = r + r,
        0 == n || 0 == o ? a.html(doubleText + r) : n < o && (a.html(doubleText),
        Site.checkSplitLineEnough(e)),
        t.hasClass("formStyle11") && i.css("width", t.find(".formMiddleContent").width() + "px")
    }
}
,
Site.chageTheWebVersion = function(e) {
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp?cmd=setWafCk_changeWebVersion",
        data: "verNum=" + e,
        error: function t() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function i(e) {
            var t = jQuery.parseJSON(e);
            t.success ? window.location.reload() : alert(t.msg)
        }
    })
}
,
Site.getCloneAid = function() {
    $.ajax({
        type: "post",
        url: "/ajax/webTools_h.jsp",
        data: "cmd=addWafCk_getCloneAid",
        beforeSend: function e() {
            Fai.ing("正在克隆处理......")
        },
        error: function t() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function i(e) {
            var t = jQuery.parseJSON(e);
            t.success ? Fai.ing("克隆成功, 账号：" + t.account + ", aid：" + t.aid + ", url：" + t.siteUrl) : Fai.ing(t.msg)
        }
    })
}
,
Site.cloneWebVersion = function() {
    function i(e, n) {
        if (null != e)
            if ("" == e.trim())
                alert("输入用户名不能为空！");
            else {
                var t = prompt("请输入客户类型：\n\n直销账号为0；  分销账号为1");
                if (0 != t && 1 != t)
                    return void alert("输入客户类型错误, 只能输出0 或者 1！");
                var i = prompt("克隆到的网站ID, 默认是 0");
                if (isNaN(i) || i < 0 || 19 < i)
                    return void alert("输入网站ID错误, 只能输出0 到 19的数字！");
                $.ajax({
                    type: "POST",
                    url: "/ajax/webTools_h.jsp",
                    data: "cmd=getWafNotCk_getAcctInfo&inputAcctName=" + e + "&inputAtype=" + t + "&inputSiteId=" + i,
                    error: function a() {
                        Fai.ing("系统异常，请稍后重试", !0)
                    },
                    success: function r(e) {
                        var t = jQuery.parseJSON(e);
                        if (t.success)
                            if (t.aid == n.aid && t.siteId == n.siteId)
                                alert("相同网站不能克隆！");
                            else {
                                if (!t.isFaier)
                                    return void alert("你所输入网站账号不是内部账号，不能克隆！");
                                var i = ["把企业aid：" + n.aid + "，网站ID：" + n.siteId + "，" + n.atypeName + "，" + n.aacct + n.siteVerName + "(原网站)", "\n\n克隆\n\n", "到企业aid：" + t.aid + "，网站ID：" + t.siteId + "，" + t.atypeName + "，" + t.aacct + t.siteVerName + "(目标网站)"];
                                if (window.confirm(i.join("")))
                                    var a = window.confirm("确定克隆到id：" + t.aid + "；网站ID：" + t.siteId + "；" + t.atypeName + "账号：" + t.aacct + "？必须检查清楚！！");
                                a && $.ajax({
                                    type: "POST",
                                    url: "/ajax/webTools_h.jsp",
                                    data: "cmd=addWafCk_cloneWebSite&fromAid=" + n.aid + "&fromSiteId=" + n.siteId + "&toAid=" + t.aid + "&toSiteId=" + t.siteId,
                                    error: function o() {
                                        Fai.ing("系统异常，请稍后重试", !0)
                                    },
                                    success: function up(e) {
                                        var t = jQuery.parseJSON(e);
                                        t.success ? (alert("克隆成功!"),
                                        window.location.reload()) : null != t.msg ? alert(t.msg) : alert("系统错误，克隆失败！")
                                    }
                                })
                            }
                        else
                            null == t.msg ? alert("系统出错，克隆失败！") : alert(t.msg)
                    }
                })
            }
    }
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp",
        data: "cmd=getWafNotCk_getAcctInfo",
        error: function e() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function a(e) {
            var t = jQuery.parseJSON(e);
            t.success && i(prompt("将当前网站克隆到下面输入的网站(ps:输入的账号必须为内部账号)\n\n请输入账号名："), t)
        }
    })
}
,
Site.updateVersionTwoStyle = function() {
    var e;
    if (0 == (e = prompt("请输入更新2.0样式版本号的方式：\n\n指定样式id请输入0；  更新全部样式请输入1"))) {
        if (i = prompt("请输入需要更新的2.0样式的id！！！"),
        !Fai.isNumber(i))
            return void alert("输入有误！")
    } else if (1 == e) {
        var t = "请输入需要更新2.0的样式的类型：\n\n更新全部类型的2.0样式请输入0\n\n更新所有主题样式请输入1\n\n更新所有模块样式请输入2\n\n更新所有导航样式请输入3"
          , i = prompt(t += "\n\n更新所有模块组样式（横向）样式请输入4\n\n更新所有模块组样式（竖向）样式请输入5\n\n更新所有模块列样式请输入6\n\n更新所有自由容器样式请输入7\n\n更新所有导航2.0样式请输入8");
        if (!Fai.isNumber(i))
            return void alert("输入有误！")
    } else {
        if (null == e)
            return;
        if (0 != e && 1 != e)
            return void alert("输入有误！")
    }
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp",
        data: "cmd=setWafCk_updateStyleVersion&updateType=" + e + "&updateId=" + i,
        error: function a() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function o(e) {
            var t = jQuery.parseJSON(e);
            alert(t.msg)
        }
    })
}
,
Site.updateMobiThemeV3Style = function() {
    var e;
    if (0 == (e = prompt("请输入更新3.0皮肤版本号的方式：\n\n指定皮肤id请输入0；  更新全部皮肤请输入1"))) {
        if (t = prompt("请输入需要更新的3.0皮肤的id！！！"),
        !Fai.isNumber(t))
            return void alert("输入有误！")
    } else if (1 == e) {
        var t = prompt("请输入需要更新3.0的皮肤的类型：\n\n更新全部类型的3.0皮肤请输入0\n\n更新所有模块皮肤请输入1\n\n更新所有主导航皮肤请输入3\n\n更新所有底部导航皮肤请输入4");
        if (!Fai.isNumber(t))
            return void alert("输入有误！")
    } else {
        if (null == e)
            return;
        if (0 != e && 1 != e)
            return void alert("输入有误！")
    }
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp",
        data: "cmd=setWafCk_updateMobiThemeV3&updateType=" + e + "&updateId=" + t,
        error: function i() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function a(e) {
            var t = jQuery.parseJSON(e);
            alert(t.msg)
        }
    })
}
,
Site.setMallTrialTime = function(e) {
    var t, i = new Date, a = i.getFullYear(), o = i.getMonth() + 1, n = i.getDate();
    if (0 == e)
        t = a + "-" + o + "-" + n + " 00:00:00";
    else if (1 == e)
        t = a + "-" + o + "-" + (n + 1) + " 00:00:00";
    else {
        var r = /^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-)) (20|21|22|23|[0-1]?\d):[0-5]?\d:[0-5]?\d$/;
        if (!(t = prompt("修改商城试用到期时间。格式：2016-06-24 09:00:00", "")).match(r))
            return void alert("格式错误！请重新输入正确的商城试用到期时间。")
    }
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp",
        data: "cmd=setWafCk_setMallTrialTimeEnd&trialTime=" + t,
        error: function s() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function l(e) {
            var t = jQuery.parseJSON(e);
            t.success ? (alert(t.msg),
            window.location.reload()) : t.msg ? alert(t.msg) : alert("系统错误，修改商城试用结束时间失败！")
        }
    })
}
,
Site.getModuleStatus = function(e) {
    var t = 1
      , i = Fai.top.$("#module" + e)
      , a = i.attr("_side")
      , o = i.parent()
      , n = o.attr("id") || "";
    return 2 == a ? t = 4 : 1 == a ? t = 5 : "floatLeftTopForms" == n || "floatRightTopForms" == n || "floatLeftBottomForms" == n || "floatRightBottomForms" == n ? t = 3 : o.hasClass("absForms") && "absolute" == i.css("position") && (t = 2),
    t
}
,
Site.jumpToModulePosition = function(e, t, i) {
    var a = $(".forms #module" + e)
      , o = window.event || ""
      , n = 0;
    if (a.length < 1) {
        if (i) {
            if (i == "/col.jsp?id=" + Fai.top._colId || i == "/h-col-" + Fai.top._colId + ".html")
                return void (Fai.top._manageMode && Fai.ing("跳转链接失效，请重新设置", !0));
            var r = Fai.getLanCode();
            r = "" == r ? "" : "/" + r;
            var s = "#fai_" + e + "_" + t;
            return void (JZ.getIsOpenRemoveUrlArg() ? ($.cookie("jumpModuleArg", s, {
                path: "/"
            }),
            document.location.href = r + i) : document.location.href = r + i + s)
        }
        Fai.top._manageMode && Fai.ing("跳转链接失效，请重新设置", !0)
    } else {
        "bottom" == t && (n = a.height());
        var l = 0;
        $elem = $("#module" + e);
        for (var d = e, c = !1; !c; ) {
            var p = Site.checkNestModule($elem).parentId;
            0 < p ? (d = p,
            $elem = $("#module" + d)) : c = !0
        }
        d != e || 80 != $("#module" + e).attr("_modulestyle") && 109 != $("#module" + e).attr("_modulestyle") ? l += $("#module" + e).offset().top - $("#fk-toolTopBar").height() - $("#memberBarArea").height() : l = document.getElementById("module" + e).offsetTop + n,
        l = u(l, t),
        $("html, body, #g_main, #web").animate({
            scrollTop: l
        }, {
            duration: 500,
            easing: "swing"
        }),
        i ? ($("#navCenter").find(".itemHover").removeClass("itemHover"),
        setTimeout(function() {
            m()
        }, 600)) : setTimeout(function() {
            Fai.top.$("#navCenter").find("a[_module=" + e + "]").eq(0).parents(".item").addClass("itemSelected"),
            Fai.top.$("#navCenter").find("a[_module=" + e + "]").eq(0).parents(".item").siblings().removeClass("itemSelected")
        }, 300)
    }
    function u(e, t) {
        var i = Fai.top._useNavVersionTwo ? Fai.top.$("#navV2") : Fai.top.$("#nav")
          , a = 0;
        Fai.top._navPositionFixTop && 0 < i.length && (a = i.outerHeight(!0),
        /fixed|absolute/.test(i.css("position")) || (a *= 2));
        var o = 0
          , n = $("#webHeaderContent");
        if (Fai.top._headerTopStyle.hf && (o = n.outerHeight(!0)),
        "top" == t)
            if (Fai.top._navPositionFixTop && Fai.top._headerTopStyle.hf) {
                var r = n[0].getBoundingClientRect()
                  , s = i[0].getBoundingClientRect();
                if (r.bottom > s.top && r.bottom >= s.bottom)
                    e -= o;
                else if (r.bottom > s.top && r.bottom < s.bottom) {
                    var l = o + a;
                    e -= l -= r.bottom - s.top
                } else
                    e -= 0 < a - o ? a : o
            } else
                Fai.top._navPositionFixTop ? e -= a : Fai.top._headerTopStyle.hf && (e -= o);
        else
            Fai.top._headerTopStyle.hf && (e -= o);
        return e
    }
    function m() {
        o ? $(o.target).parents(".item").addClass("itemSelected").siblings().removeClass("itemSelected") : (Fai.top.$("#navCenter").find("a[_module=" + e + "]").eq(0).parents(".item").addClass("itemSelected"),
        Fai.top.$("#navCenter").find("a[_module=" + e + "]").eq(0).parents(".item").siblings().removeClass("itemSelected"))
    }
}
,
Site.getTopWindow = function() {
    return "undefined" != typeof Fai && Fai.top || window
}
,
Site.changeABVersion = function() {
    Fai.top._isBUser ? $.cookie("isBUser", "false", {
        expires: 1
    }) : $.cookie("isBUser", "true", {
        expires: 1
    }),
    window.location.reload()
}
,
Site.delAuthorizer = function() {
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp",
        data: "cmd=delWafCk_delAuthorizer",
        error: function e() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function i(e) {
            var t = jQuery.parseJSON(e);
            Fai.ing(t.msg, !0)
        }
    })
}
,
function(r, s) {
    s.runSiteInit = function() {
        var e, t, i, a, o = [81, 97], n = o.length;
        for (i = 0; i < n; i++)
            for (t = (e = r(".formStyle" + o[i])).length,
            a = 0; a < t; a++)
                s.run(e.eq(a).attr("id"))
    }
    ;
    var l = {};
    s.init = function(e, t) {
        var i = "number" == typeof t ? t : t.moduleId;
        if (i) {
            var a = "module" + i;
            l[a] = l[a] || [];
            for (var o = 0; o < l[a].length; o++)
                if (e == l[a][o].runFun)
                    return void (l[a][o] = {
                        runFun: e,
                        args: t
                    });
            l[a].push({
                runFun: e,
                args: t
            })
        }
    }
    ,
    s.run = function(e, t) {
        var i, a, o, n;
        if (l && l[e] && 0 < l[e].length) {
            for (o = l[e],
            i = l[e].length,
            a = 0; a < i; a++)
                (n = o[a]).runFun.indexOf("ImageEffect") < 0 ? jzUtils.run({
                    name: n.runFun
                }, n.args) : jzUtils.run({
                    name: n.runFun,
                    callMethod: !0
                }, n.args);
            return !!t || delete l[e]
        }
        return !1
    }
}(jQuery, Site.cacheModuleFunc || (Site.cacheModuleFunc = {})),
Site.onLogout = function() {
    $("#topBarMsg").show(),
    $("#topBarMsg").html(LS.js_topBarLogouting),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/login_h.jsp?cmd=wafNotCk_logoutMember",
        error: function e() {
            alert(LS.js_topBarLogoutError),
            $("#topBarMsg").hide()
        },
        success: function t(e) {
            (e = jQuery.parseJSON(e)).success ? top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "index.jsp" : $("#topBarMsg").html(LS.js_topBarLogoutError)
        }
    })
}
,
Site.ajaxLoadModuleDom = function(e, t, i) {
    if (i) {
        var a = i._ajaxLoadModuleList = i._ajaxLoadModuleList || []
          , o = i._partDomInfoList = i._partDomInfoList || [];
        if (a.length || o.length || 2 !== Object.keys(i).length) {
            var n = JZ.getIsOpenRemoveUrlArg() ? JZ.getUrlHashInCookie() : Fai.top.location.hash;
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/ajaxLoadModuleDom_h.jsp",
                data: "cmd=getWafNotCk_loadModuleDom&_colId=" + e + "&_extId=" + t + "&ajaxOptionInfo=" + Fai.encodeUrl($.toJSON(i)) + "&anchor=" + Fai.encodeUrl(n),
                error: function r() {
                    Fai.ing("系统异常，请稍后重试", !0)
                },
                success: function b(e) {
                    if ((e = jQuery.parseJSON(e)).success) {
                        var t = jQuery.parseJSON(e.rtInfo);
                        jQuery.parseJSON(e.memberInfo);
                        if (t.topBar) {
                            Fai.top.$("#memberBarArea");
                            if (_memberTopBar_versionTwo) {
                                var a = Fai.top.$("#memberBarArea .memberBarLogin");
                                $(t.topBar).each(function(e, t) {
                                    $(t).hasClass("memberBarV2") && a.html($(t).find(".memberBarLogin").html());
                                    var i = $(t).attr("type");
                                    "string" == typeof i && i.includes("text/javascript") && setTimeout(function() {
                                        $("body").append($(t)[0])
                                    })
                                })
                            } else {
                                a = Fai.top.$("#memberBarArea .right");
                                $(t.topBar).each(function(e, t) {
                                    $(t).hasClass("memberBar") && a.html($(t).find(".right").html());
                                    var i = $(t).attr("type");
                                    "string" == typeof i && i.includes("text/javascript") && setTimeout(function() {
                                        $("body").append($(t)[0])
                                    })
                                })
                            }
                            Site.memberTopBarReady()
                        }
                        if (t.visitorCounter) {
                            var i = Fai.top.$(".visitorCounterWrap");
                            i.children().remove(),
                            i.append(t.visitorCounter)
                        }
                        var o = t.webRightBar;
                        if (o && $.getScript(o.resPath, function() {
                            new Site.webRightBar.init(o.Logined,o.mallMember,o.choiceCurrencyVal,jQuery.parseJSON(o.memberInfo_out))
                        }),
                        t.moduleDomList) {
                            for (var n = 0; n < t.moduleDomList.length; n++) {
                                var r = t.moduleDomList[n];
                                loadWholeModuleDom(r.moduleId, r.dom)
                            }
                            jzUtils.run({
                                name: "moduleAnimation.publish",
                                base: Site
                            })
                        }
                        var s = t.newsDetail;
                        if (s) {
                            var l = Fai.top.$("#module" + s.moduleId);
                            if (46 == s.style) {
                                var d = l.find("#newsCommentDiv");
                                0 < d.length && (d.children().remove(),
                                d.prepend(s.newsCommentHtml)),
                                l.find("#commentTotalSize").text(s.commentSize),
                                0 < (h = l.find("#prevAndNextDiv")).length && (s.newsNextPreHtml ? (h.children().remove(),
                                h.prepend(s.newsNextPreHtml)) : h.remove()),
                                l.prepend(s.newsDetailScripts)
                            } else if (103 == s.style) {
                                var c = l.find("#prevAndNextDivV2");
                                0 < c.length && (s.newsNextPreHtml ? (c.children().remove(),
                                c.prepend(s.newsNextPreHtml)) : c.remove())
                            }
                            var p = l.find(".newsViewCount");
                            0 < p.length && p.text(s.newsView)
                        }
                        var u = t.productDetail;
                        if (u) {
                            var m = (l = Fai.top.$("#module" + u.moduleId)).find("#accumulativeComment");
                            u.productCommentHtml && 0 < m.length && (m.children().remove(),
                            m.prepend(u.productCommentHtml)),
                            l.find("#commentTotalSize").text(u.commentSize);
                            var h = l.find("#prevAndNextDiv");
                            u.productNextPreHtml != undefined && 0 < h.length && (h.children().remove(),
                            h.prepend(u.productNextPreHtml)),
                            l.prepend(u.productDetailScripts),
                            l.find("#mallAmount").text(u.mallAmount),
                            l.find("#saleRecordSize").text(u.saleRecordSize),
                            l.find("#sysSales").text(u.sales),
                            (Site.productDetailInfo = u).mallShoppingOptions || u.isJZShoppingOptionOpen ? (Site.initProductOptions(),
                            Site.initProductRestrict(),
                            Site.initOptionsStr(),
                            u.openPriceCalendar && Site.initPriceCalendar(u.productStyleType)) : Site.initProductRestrict()
                        }
                        var f = t.photoDetail;
                        if (f) {
                            var g = (l = Fai.top.$("#module" + f.moduleId)).find("#singlePhotopagenation" + f.moduleId);
                            0 < g.length && (f.photoNextPreHtml ? (g.children().remove(),
                            g.prepend(f.photoNextPreHtml)) : g.remove())
                        }
                        var v = t.oemFooterSupport;
                        v && $(".J_supportLink").text(v);
                        var _ = t.oemSupportUrl;
                        _ && $(".J_supportLink").attr("href", _);
                        var S = t.oemAdmLoginUrl;
                        S && $("#footerLogin a[name=popupLogin]").attr("href", S),
                        t.moduleDomList && 0 < t.moduleDomList.length && Site.fixSiteWidth(Fai.top._manageMode),
                        Site.fixWebFooterHeight()
                    }
                }
            })
        }
    }
}
,
Site.getUrlParamObj = function(e) {
    var t = {};
    if (-1 != e.indexOf("?")) {
        var i = e.substr(1);
        strs = i.split("&");
        for (var a = 0; a < strs.length; a++) {
            var o = decodeURIComponent(strs[a].split("=")[0])
              , n = strs[a].split("=")[1];
            t[o] = n ? decodeURIComponent(n) : ""
        }
    }
    return t
}
,
Site.checkDomainAuth = function() {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/site_h.jsp?cmd=wafNotCk_checkDomainAuth",
        error: function e() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function i(e) {
            if ((e = jQuery.parseJSON(e)).success) {
                var t = [];
                t.push("<div id='domainAuthTips' style='z-index:9032; position:fixed; top:0px; left:0px; width:100%; height:50px; background: yellow; line-height:50px; text-align:center; font-weight:bold; font-size:14px;' >"),
                t.push("目前你已有.com/.net/域名由于未实名认证，<span style='color:red;'>已被域名管理局停止访问</span>，现在进行实名认证，可恢复访问&nbsp;&nbsp;&nbsp;&nbsp;<a href='" + Site.getPortalDnspodTransferUrl() + "' style='color:red;' target='_blank'>前往实名认证</a>"),
                t.push("</div>"),
                $.cookie("hasShowDomainAuthTips", !0, {
                    expires: 90
                }),
                Site.logDog(4000048, 0),
                $("body").before(t.join(""))
            }
        }
    })
}
,
Site.accumulateWidth = function(e) {
    var t = $("#fk-rbar-myItem-ImgShow-" + e)
      , i = parseInt(t.find(".fk-rbar-myItem-Img").attr("width"))
      , a = parseInt(t.find(".fk-rbar-myItem-Img").attr("height"))
      , o = i + 20
      , n = a + 50
      , r = a + 8
      , s = a + 20;
    t.css({
        width: o + "px",
        height: n + "px",
        top: "-" + r + "px"
    }),
    t.find(" .fk-rbar-myItem-Img").css({
        width: i + "px",
        height: a + "px"
    }),
    t.find(" .fk-rbar-myItem-TextView").css({
        left: "10px",
        width: i + "px",
        top: s + "px"
    })
}
,
Site.forPayPopup = function(e, d, t, i, c, p, u) {
    if ("商城基础版" != d && "商城进阶版" != d || "在线购买" == t || "小程序" == t) {
        var a = arguments.callee.caller.arguments[0] || window.event
          , o = $(a.target)
          , n = a.clientX
          , r = a.clientY;
        if (Site.forPayPopup.timer = Site.forPayPopup.timer || null,
        0 != i)
            return clearTimeout(Site.forPayPopup.timer),
            void (Site.forPayPopup.timer = setTimeout(function() {
                $(".features_container").remove()
            }, 300));
        clearTimeout(Site.forPayPopup.timer);
        var s = {
            title: {
                text: t,
                cla: "bgm_color"
            },
            std_lists: ["无广告", "百度关键词设置", "7x24小时安全监控"],
            pro_lists: [Fai.top._oem ? "百度不收录，全额退款" : "设置TDK后30天不收录，</br>全额退款", "支持QQ、微信登录", "文章评论、提升品牌口碑"],
            bus_lists: ["商城网站+小程序", "微信支付、积分系统"]
        };
        Fai.top._usePrem || s.bus_lists.push("打折、满减等促销");
        n = o.offset().left - 20,
        r = o.offset().top + 30;
        var l = $("body").height() - o.offset().top - 20
          , m = 272 - l;
        if (l < 302 && o.offset().top > m) {
            n = o.offset().left;
            r = (r = o.offset().top) - m + 20,
            n += 18
        }
        1500 < n && (n -= 150,
        l < 302 && (r += 68)),
        o.attr("title", ""),
        e < 30 && "网站标准版" == d ? (h($("body"), s),
        $(".titleFontColor").css("color", "#faae54"),
        $(".features_title .bgm_color").css("color", "#faae54")) : e < 40 && "网站推广版" == d ? (h($("body"), s),
        $(".titleFontColor").css("color", "#f55c7d"),
        $(".features_title .bgm_color").css("color", "#f55c7d")) : e < 50 && "商城基础版" == d && (h($("body"), s),
        $(".titleFontColor").css("color", "#557ce1"),
        $(".features_title .bgm_color").css("color", "#557ce1")),
        f(),
        $(".features_container").mouseenter(function() {
            clearTimeout(Site.forPayPopup.timer),
            $(".features_container").show(),
            activeFlag = !0
        }).mouseleave(function() {
            clearTimeout(Site.forPayPopup.timer),
            $(".features_container").hide(),
            Site.forPayPopup.timer = setTimeout(function() {
                $(".features_container").remove()
            }, 300)
        }),
        $(".features_container").css({
            position: "absolute",
            left: n + "px",
            top: r + "px",
            overflow: "hidden"
        })
    }
    function h(e, t) {
        Site.logDog(200170, 5);
        var i = ""
          , a = ""
          , o = " J_jumpWebSitePanel ";
        "网站标准版" == d ? a = t.std_lists : "网站推广版" == d ? a = t.pro_lists : "商城基础版" == d && (a = t.bus_lists);
        var n = '<div class="features_container' + o + '" style="z-index:9033;" ><div class="popupTitle">建议升级<span class="titleFontColor">' + d + "</span></div>"
          , r = '<div class="features_title">特色功能：<div class="' + t.title.cla + ' features_name"> <span></span>' + t.title.text + "</div></div>";
        "" == t.title.text && (r = '<div class="features_title">特色功能：<div class="' + t.title.cla + ' features_name"> </div></div>');
        for (var s = '<div class="features_list"><ul>', l = 0; l < a.length; l++)
            s += "<li><span></span>" + a[l] + "</li>";
        i = n + r + (s += void 0 !== p ? "</ul></div><a href='".concat(c, "' onclick='Site.logDog(200170, 4);Site.logDog(").concat(p, ", ").concat(u, ");return false;' target='_blank' class='upBtn J_jumpUpdateUrlView'>立即升级</a></div>") : "</ul></div><a href='".concat(c, "' onclick='Site.logDog(200170, 4);return false;' target='_blank' class='upBtn J_jumpUpdateUrlView'>立即升级</a></div>")),
        e.append(i)
    }
    function f() {
        var e = $(".J_jumpWebSitePanel");
        e.length && (e.css("cursor", "pointer"),
        e.on("click", function(e) {
            window.open(c),
            Site.logDog(200170, 4),
            void 0 !== p && Site.logDog(p, u)
        }))
    }
}
,
Site.showBookingPanel = function(e, t, i) {
    jzUtils.run({
        name: "bookingSubmitPanel.init",
        prompt: "true"
    }, '{"pid":' + e + ',"panelHeight":' + t + ',"panelWidth":' + i + "}")
}
,
Site.initProductAdvisory = function(data) {
    $(function() {
        $(".advisory-btn").off("click").on("click", function() {
            Site.logDog(201121, 4),
            Site.handleProductAdvisoryClick(data)
        }),
        114 == data.computerAdvisoryJumpInfo.t && data.computerAdvisoryJumpInfo.u.includes("_script:") && $(".advisory-btn").off("hover").on("hover", function() {
            eval(data.computerAdvisoryJumpInfo.u.replace("_script:", ""))
        })
    })
}
,
Site.handleProductAdvisoryClick = function(e) {
    if (e) {
        var t = e.advisoryWay
          , i = e.advisoryPhone
          , a = e.computerAdvisoryIde
          , o = e.computerAdvisoryJumpInfo
          , n = e.wechatImgPath;
        if (0 == t)
            location.href = "tel:".concat(i);
        else if (1 == t) {
            var r = '\n\t\t\t<style>\n\t\t\t\t.product-advisory .popupBClose { top: 25px; right: 32px; }\n\t\t\t</style>\n\t\t\t<div style="padding-top: 45px;">\n\t\t\t\t<img style="display: block; margin: 0 auto; width: 265px; height: 265px;" src="'.concat(n, '" />\n\t\t\t\t<p style="text-align: center; margin-top: 30px; font-size: 18px; color: #333;">').concat(LS.scanWeChatCodeTip, "</p>\n\t\t\t</div>\n\t\t");
            $("html").css("overflow", "hidden"),
            Site.popupBox({
                htmlContent: r,
                width: 440,
                height: 450,
                extClass: "product-advisory",
                popupBoxZIndex: 9999,
                closeFunc: function p() {
                    $("html").css("overflow", "")
                }
            })
        } else if (2 == t)
            Fai.top._popupZone.openZone(a);
        else if (3 == t) {
            var s = o.ot
              , l = o.u
              , d = o.t
              , c = (o.i,
            o.onclick);
            if (114 == d && l.includes("_script:"))
                return;
            $('<a style="display: none;" id="advisoryTempHref" href=\''.concat(l, "' target=\"").concat(s, '" ').concat(c || "", "></a>")).appendTo($("body")),
            $("#advisoryTempHref")[0].click(),
            $("#advisoryTempHref").remove()
        }
    }
}
,
Site.bookingSubmitFullTips = function() {
    var e = new Array;
    e.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 20px auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>"),
    e.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),
    e.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>"),
    e.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>"),
    e.push("</div>"),
    e.push("</div>"),
    e.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>" + LS.bookingSubmitFullTips + "</div>"),
    e.push("<div style='text-align: center; margin-bottom: 30px; margin-top: 66px;'> "),
    e.push("<input id='confirm' class='popupBClose' style='width: 100px; height: 35px; font-size: 12px; margin: 0 20px; border: 1px solid #557ce1; background: #557ce1; border-radius: 2px; font-family: 微软雅黑; color: #fff; cursor: pointer;' type='button' value='" + LS.confirm + "'/>"),
    e.push("</div>");
    var t = {
        htmlContent: e.join(""),
        width: 550,
        height: 350,
        extClass: "fk-fileUpload-del",
        popupBoxZIndex: 9999
    };
    Site.popupBox(t)
}
,
function() {
    var n = {};
    function r() {
        return parseInt(1e3 * Math.random())
    }
    Site.buildTips = function(e, t, i, a) {
        a = a || Fai.top;
        var o = r();
        return n["T" + o] = setTimeout(function() {
            a.Fai.ing(e, t, i)
        }, 1e3),
        o
    }
    ,
    Site.destroyTips = function(e, t) {
        (t = t || Fai.top).clearTimeout(n["T" + e])
    }
}(),
Site.textSearch = function(e, s, t) {
    var l, i = {
        divFlag: !0,
        divStr: " ",
        markClass: "",
        markColor: "red",
        nullReport: !0,
        callback: function a() {
            return !1
        }
    }, d = $.extend({}, i, t || {});
    l = d.markClass ? "class='" + d.markClass + "'" : "style='color:" + d.markColor + ";'",
    $("span[rel='mark']").removeAttr("class").removeAttr("style").removeAttr("rel"),
    $.regTrim = function(e) {
        var t = /[\^\.\\\|\(\)\*\+\-\$\[\]\?]/g
          , i = {
            "^": "\\^",
            ".": "\\.",
            "\\": "\\\\",
            "|": "\\|",
            "(": "\\(",
            ")": "\\)",
            "*": "\\*",
            "+": "\\+",
            "-": "\\-",
            $: "$",
            "[": "\\[",
            "]": "\\]",
            "?": "\\?"
        };
        return e = e.replace(t, function(e) {
            return i[e]
        })
    }
    ,
    $(e).each(function() {
        var e = $(this);
        if ("" === (s = $.trim(s)))
            return alert("关键字为空"),
            !1;
        var t = [];
        d.divFlag ? t = s.split(d.divStr) : t.push(s);
        var i = e.html()
          , a = /[^<>]+|<(\/?)([A-Za-z]+)([^<>]*)>/g
          , o = (i = i.replace(/<!--(?:.*)\-->/g, "")).match(a)
          , n = 0;
        $.each(o, function(e, a) {
            /<(?:.|\s)*?>/.test(a) || ($.each(t, function(e, t) {
                if ("" !== t) {
                    var i = new RegExp($.regTrim(t),"g");
                    i.test(a) && (a = a.replace(i, "♂" + t + "♀"),
                    n = 1)
                }
            }),
            a = a.replace(/♂/g, "<span " + l + ">").replace(/♀/g, "</span>"),
            o[e] = a)
        });
        var r = o.join("");
        if ($(this).html(r),
        0 === n && d.nullReport)
            return alert("没有搜索结果"),
            !1;
        d.callback()
    })
}
,
Site.chageResponsive = function(e) {
    $.ajax({
        type: "POST",
        url: "/ajax/webTools_h.jsp?cmd=setWafCk_chageResponsive",
        data: "setResponsive=" + e,
        error: function t() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function i(e) {
            var t = jQuery.parseJSON(e);
            t.success ? (alert(t.msg),
            window.location.reload()) : alert(t.msg)
        }
    })
}
,
Site.getcanvasTool = function(e) {
    if (e) {
        var a, S = n(e), p = {};
        return p.ctx = S,
        p.getFactor = t,
        p.getImgUrl = i,
        p.loadImg = o,
        p.initCanvas = n,
        p.drawText = u,
        p.Rect = h,
        p.Point = d,
        p.drawRoundedRect = f,
        p.Round = v,
        p.drawRound = r,
        p.drawRoundedRoundNeedClipEnd = _,
        p.drawRoundedRectNeedClipEnd = g,
        p.PdCanvas = {},
        p.doCanvas = s,
        p.PdCanvas.drawMarketing = function(e, t, i, a) {
            var o = a || "";
            if (i && !a)
                switch (i.marketingStyle) {
                case "sale":
                    o = i.marketingName || "促销";
                    break;
                case "secKill":
                    o = "秒杀价";
                    break;
                case "cutPrice":
                    o = i.cutTimes + "人帮砍";
                    break;
                case "groupPrice":
                    o = i.groupNum + "人团";
                    break;
                case "integralMall":
                    o = i.integralName + "好礼"
                }
            if ("" != o) {
                S.font = e.font;
                var n = t.rectX
                  , r = t.rectY
                  , s = t.marginWidth + S.measureText(o).width
                  , l = t.height;
                f(h(n, r, s, l), t.r, t.bgStyle, !0),
                S.save(),
                S.font = e.font,
                S.fillStyle = e.style,
                S.textAlign = e.align,
                S.textBaseline = e.baseLine,
                S.fillText(o, n + s / 2, r + l / 2 + 2),
                g(),
                S.restore()
            }
        }
        ,
        p.PdCanvas.drawPrice = function(e, t, i, a) {
            var o = e.choiceCurrencyVal
              , n = e.finallyShowPrices
              , r = i.choiceCurrencyX
              , s = r
              , l = i.maxWidth
              , d = 0
              , c = .2
              , p = 1
              , u = ".00";
            a && (c = a.interval || .2,
            p = a.type || 1),
            S.save(),
            S.font = t.choiceCurrencyValFont,
            S.fillStyle = t.style,
            S.textAlign = t.align,
            S.textBaseline = t.baseLine;
            var m = S.measureText(o).width;
            s = r + c + m,
            S.fillText(o, r, i.choiceCurrencyY),
            S.font = t.priceFont;
            var h = n.firstPrice
              , f = n.secondPrice
              , g = h;
            if (f && (g = h + "~" + f),
            2 == p && (g = Math.floor(h) + "",
            u = "." + h.toFixed(2).split(".")[1],
            S.save(),
            S.font = a.decimalPlaceInfo.font,
            l -= S.measureText(".00").width,
            S.restore()),
            m + S.measureText(g).width > l) {
                d = m;
                for (var v = 0; v < g.length; v++)
                    if (l < (d += S.measureText(g[v]).width) && "." != g[v - 1]) {
                        g = g.substring(0, v) + "···";
                        break
                    }
            }
            if (S.fillText(g, s, i.choiceCurrencyY),
            2 == p && -1 == (g + "").indexOf("···")) {
                var _ = s + S.measureText(g + "").width;
                S.font = a.decimalPlaceInfo.font,
                S.fillText(u, _ + (a.decimalPlaceInfo.interval || 0), i.choiceCurrencyY)
            }
            S.restore()
        }
        ,
        p.PdCanvas.drawTechnicalSupport = function(e, t, i, a) {
            if (!e || !e.oem && e.showFaiscoSupport) {
                S.save(),
                S.font = t.font,
                S.fillStyle = t.style,
                S.textAlign = t.align,
                S.textBaseline = t.baseLine;
                var o = "— 由凡科商城提供技术支持 —";
                a && (o = a),
                S.fillText(o, i.textX, i.textY),
                S.restore()
            }
        }
        ,
        p
    }
    function t(e, t, i) {
        return a * (i / e * t)
    }
    function i(e) {
        var t = $("#_TOKEN").attr("value");
        return document.location.protocol + "//" + document.location.host + "/ajax/siteImgTransfer_h.jsp?_TOKEN=" + t + "&imgUrl=" + Fai.encodeUrl(e)
    }
    function o(e, t) {
        e.onload = function() {
            t()
        }
    }
    function n(e) {
        if (null != e) {
            var t = e.getContext("2d")
              , i = (window.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1);
            return e.width = e.width * i,
            e.height = e.height * i,
            t.baseFontSize = 1,
            a = 1,
            t
        }
    }
    function u(e, t, i, a, o, n) {
        if (e) {
            S.save(),
            S.font = t.font,
            S.fillStyle = t.style,
            S.textAlign = t.align,
            S.textBaseline = t.baseLine;
            var r = i.maxWidth;
            textX = i.textX,
            textY = i.textY,
            texYOffset = i.offset;
            var s = 0
              , l = 0
              , d = 1;
            o = o || 2;
            for (var c = 0; c < e.length; c++) {
                if (l += S.measureText(e[c]).width,
                o <= d) {
                    if (l + S.measureText(a).width > r) {
                        S.fillText(e.substring(s, c - 1) + a, textX, textY),
                        p(S.measureText(e.substring(s, c - 1) + a).width);
                        break
                    }
                    if (c != e.length - 1)
                        continue;
                    S.fillText(e.substring(s, c + 1), textX, textY),
                    p(S.measureText(e.substring(s, c + 1)).width);
                    break
                }
                r < l && (S.fillText(e.substring(s, c - 1), textX, textY),
                p(S.measureText(e.substring(s, c - 1)).width),
                d++,
                textY += texYOffset,
                l = S.measureText(e[c]).width,
                s = c - 1,
                c--),
                c == e.length - 1 && (S.fillText(e.substring(s, c + 1), textX, textY),
                p(S.measureText(e.substring(s, c + 1)).width))
            }
            S.restore()
        }
        function p(e) {
            n && m(textX, textY + n.uderLineAddY, e, n.fontSize, n.color, n.uderLineWidth)
        }
    }
    function m(e, t, i, a, o, n) {
        e -= i / 2,
        t += a + n,
        S.save(),
        S.beginPath(),
        S.strokeStyle = o,
        S.lineWidth = n,
        S.moveTo(e, t),
        S.lineTo(e + i, t),
        S.stroke(),
        S.restore()
    }
    function h(e, t, i, a) {
        return {
            x: e,
            y: t,
            width: i,
            height: a
        }
    }
    function d(e, t) {
        return {
            x: e,
            y: t
        }
    }
    function f(e, t, i, a) {
        if (!i.strokeStyle) {
            i = {
                fillStyle: i,
                strokeStyle: i
            }
        }
        var o = d(e.x + t, e.y)
          , n = d(e.x + e.width, e.y)
          , r = d(e.x + e.width, e.y + e.height)
          , s = d(e.x, e.y + e.height)
          , l = d(e.x, e.y);
        S.save(),
        S.beginPath(),
        S.fillStyle = i.fillStyle,
        i.lineWidth && (S.lineWidth = i.lineWidth),
        S.strokeStyle = i.strokeStyle,
        S.moveTo(o.x, o.y),
        S.arcTo(n.x, n.y, r.x, r.y, t),
        S.arcTo(r.x, r.y, s.x, s.y, t),
        S.arcTo(s.x, s.y, l.x, l.y, t),
        S.arcTo(l.x, l.y, o.x, o.y, t),
        S.stroke(),
        S.fill(),
        a ? S.clip() : (S.closePath(),
        S.restore())
    }
    function g() {
        S.closePath(),
        S.restore()
    }
    function v(e, t, i) {
        return {
            x: e,
            y: t,
            radius: i
        }
    }
    function r(e, t, i, a) {
        var o = e.x
          , n = e.y
          , r = e.radius;
        S.save(),
        S.beginPath(),
        S.moveTo(o, n),
        S.fillStyle = t,
        S.globalAlpha = i,
        S.arc(o, n, r, 0, 2 * Math.PI, !0),
        S.fill(),
        a ? S.clip() : (S.closePath(),
        S.restore())
    }
    function _() {
        S.closePath(),
        S.restore()
    }
    function s(e, t) {
        var i = -1;
        if (e.length && !(e.length <= 0))
            for (var a = 0; a < e.length; a++) {
                if (t && 0 < t.length)
                    for (var o = 0; o < t.length; o++) {
                        var n = t[o];
                        n.index == a && n.callback()
                    }
                a == i && (g(),
                _());
                var r = e[a];
                if (r && r.type && r.data) {
                    var s = r.type || ""
                      , l = r.data || {};
                    switch (s) {
                    case "image":
                        if (!l.obj)
                            continue;
                        S.drawImage(l.obj, l.x, l.y, l.w, l.h);
                        break;
                    case "text":
                        u(l.text, l.fontInfo, l.placeInfo, l.overHold, l.maxDrawCount, l.underlineInfo);
                        break;
                    case "roundedRect":
                        var d = !1;
                        l.clipInfo && l.clipInfo.bengin && (d = !0,
                        i = l.clipInfo.endArrayIndex || -1),
                        f(h(l.areaInfo.x, l.areaInfo.y, l.areaInfo.w, l.areaInfo.h), l.r, l.areaStyleInfo, d);
                        break;
                    case "round":
                        d = !1;
                        l.clipInfo && l.clipInfo.bengin && (d = !0,
                        i = l.clipInfo.endArrayIndex || -1);
                        var c = v(l.roundInfo.x, l.roundInfo.y, l.roundInfo.r);
                        p.drawRound(c, l.style, l.globalAlpha, d);
                        break;
                    case "productMarketing":
                        p.PdCanvas.drawMarketing(l.fontInfo, l.marketingRectInfo, l.marketingData, l.outText);
                        break;
                    case "productPrice":
                        p.PdCanvas.drawPrice(l.showInfo, l.fontInfo, l.placeInfo, l.enhanceInfo);
                        break;
                    case "productTechnicalSupport":
                        p.PdCanvas.drawTechnicalSupport(l.showInfo, l.fontInfo, l.placeInfo)
                    }
                }
            }
    }
}
,
Site.deepCopy = function(e) {
    var t, i = {
        "[object Boolean]": "boolean",
        "[object Number]": "number",
        "[object String]": "string",
        "[object Function]": "function",
        "[object Array]": "array",
        "[object Date]": "date",
        "[object RegExp]": "regExp",
        "[object Undefined]": "undefined",
        "[object Null]": "null",
        "[object Object]": "object"
    }[Object.prototype.toString.call(e)];
    if ("array" === i)
        t = [];
    else {
        if ("object" !== i)
            return e;
        t = {}
    }
    if ("array" === i)
        for (var a = 0; a < e.length; a++)
            t.push(arguments.callee(e[a]));
    else if ("object" === i)
        for (var a in e)
            t[a] = arguments.callee(e[a]);
    return t
}
,
Site.ajaxLogDog = function() {
    $.ajax({
        type: "POST",
        url: "/ajax/log_h.jsp?cmd=wafNotCk_siteLogDog",
        error: function e() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function t(e) {}
    })
}
,
function() {
    "use strict";
    var u = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function(e) {
        return _typeof2(e)
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof2(e)
    }
    ;
    function t(e) {
        if (Array.isArray(e)) {
            for (var t = 0, i = Array(e.length); t < e.length; t++)
                i[t] = e[t];
            return i
        }
        return Array.from(e)
    }
    function m(e) {
        return null === e || e === undefined || "" === e
    }
    function o(e, t, i, a) {
        if (m(e))
            return null;
        function o(e) {
            var t = e.toString(16);
            return 1 === t.length ? "0" + t : t
        }
        return "object" === (void 0 === e ? "undefined" : u(e)) && (t = e.g,
        i = e.b,
        e = e.r),
        "#" + o(e) + o(t) + o(i)
    }
    function r(e, t, i, a) {
        if (m(e))
            return null;
        "object" === (void 0 === e ? "undefined" : u(e)) && (t = e.g,
        i = e.b,
        a = e.a,
        e = e.r),
        e /= 255,
        t /= 255,
        i /= 255;
        var o = Math.max(e, t, i)
          , n = Math.min(e, t, i)
          , r = void 0
          , s = void 0
          , l = (o + n) / 2;
        if (o === n)
            r = s = 0;
        else {
            var d = o - n;
            switch (s = .5 < l ? d / (2 - o - n) : d / (o + n),
            o) {
            case e:
                r = (t - i) / d + (t < i ? 6 : 0);
                break;
            case t:
                r = (i - e) / d + 2;
                break;
            case i:
                r = (e - t) / d + 4
            }
            r /= 6
        }
        return {
            h: 360 * r,
            s: 100 * s,
            l: 100 * l,
            a: m(a) ? 1 : a
        }
    }
    function n(e, t, i, a) {
        if (m(e))
            return null;
        "object" === (void 0 === e ? "undefined" : u(e)) && (t = e.g,
        i = e.b,
        a = e.a,
        e = e.r),
        e /= 255,
        t /= 255,
        i /= 255;
        var o = Math.max(e, t, i)
          , n = Math.min(e, t, i)
          , r = void 0
          , s = void 0
          , l = o
          , d = o - n;
        if (s = 0 === o ? 0 : d / o,
        o === n)
            r = 0;
        else {
            switch (o) {
            case e:
                r = (t - i) / d + (t < i ? 6 : 0);
                break;
            case t:
                r = (i - e) / d + 2;
                break;
            case i:
                r = (e - t) / d + 4
            }
            r /= 6
        }
        return {
            h: 360 * r,
            s: 100 * s,
            v: 100 * l,
            a: m(a) ? 1 : a
        }
    }
    function i(e) {
        if (m(e))
            return null;
        if ("#" === e[0])
            for (e = e.slice(1); e.length < 6; )
                e += e;
        var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e);
        return t ? {
            r: parseInt(t[1], 16),
            g: parseInt(t[2], 16),
            b: parseInt(t[3], 16),
            a: 1
        } : null
    }
    function s(e, t, i, a) {
        if (m(e))
            return null;
        "object" === (void 0 === e ? "undefined" : u(e)) && (t = e.s,
        i = e.l,
        a = e.a,
        e = e.h);
        var o = void 0
          , n = void 0
          , r = void 0
          , s = void 0
          , l = void 0
          , d = void 0;
        return isFinite(e) || (e = 0),
        isFinite(t) || (t = 0),
        isFinite(i) || (i = 0),
        (e /= 60) < 0 && (e = 6 - -e % 6),
        e %= 6,
        t = Math.max(0, Math.min(1, t / 100)),
        i = Math.max(0, Math.min(1, i / 100)),
        d = (l = (1 - Math.abs(2 * i - 1)) * t) * (1 - Math.abs(e % 2 - 1)),
        r = e < 1 ? (o = l,
        n = d,
        0) : e < 2 ? (o = d,
        n = l,
        0) : e < 3 ? (o = 0,
        n = l,
        d) : e < 4 ? (o = 0,
        n = d,
        l) : e < 5 ? (o = d,
        n = 0,
        l) : (o = l,
        n = 0,
        d),
        s = i - l / 2,
        {
            r: o = Math.round(255 * (o + s)),
            g: n = Math.round(255 * (n + s)),
            b: r = Math.round(255 * (r + s)),
            a: m(a) ? 1 : a
        }
    }
    function l(e, t, i, a) {
        if (m(e))
            return null;
        "object" === (void 0 === e ? "undefined" : u(e)) && (t = e.s,
        i = e.v,
        a = e.a,
        e = e.h),
        e /= 360,
        t /= 100,
        i /= 100;
        var o = void 0
          , n = void 0
          , r = void 0
          , s = Math.floor(6 * e)
          , l = 6 * e - s
          , d = i * (1 - t)
          , c = i * (1 - l * t)
          , p = i * (1 - (1 - l) * t);
        switch (s % 6) {
        case 0:
            o = i,
            n = p,
            r = d;
            break;
        case 1:
            o = c,
            n = i,
            r = d;
            break;
        case 2:
            o = d,
            n = i,
            r = p;
            break;
        case 3:
            o = d,
            n = c,
            r = i;
            break;
        case 4:
            o = p,
            n = d,
            r = i;
            break;
        case 5:
            o = i,
            n = d,
            r = c
        }
        return {
            r: 255 * o,
            g: 255 * n,
            b: 255 * r,
            a: m(a) ? 1 : a
        }
    }
    function a(e) {
        return r(i(e))
    }
    function e(e, t, i, a) {
        return o(s(e, t, i, a))
    }
    function d(e, t, i, a) {
        return n(s(e, t, i, a))
    }
    function c(e, t, i, a) {
        return r(l(e, t, i, a))
    }
    function p(e) {
        return Number.isNaN ? Number.isNaN(e) : "number" == typeof e && p(e)
    }
    function h(e) {
        var t = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : "rgba";
        if ("string" == typeof e)
            return e;
        if ("[object Object]" !== Object.prototype.toString.call(e))
            return "";
        if (e.colors) {
            var i = e;
            return "linear-gradient(" + i.angle + "deg, " + i.colors.map(function(e) {
                return h(e, t) + " " + e.end + "%"
            }).join(",") + ")"
        }
        return "number" == typeof e.l ? e = s(e) : "number" == typeof e.v && (e = l(e)),
        "hex" === t ? o(e) : "rgb" === t ? "rgb(" + e.r + ", " + e.g + ", " + e.b + ")" : "rgba" === t ? "rgba(" + e.r + ", " + e.g + ", " + e.b + ", " + e.a + ")" : "hsl" === t ? "hsl(" + (e = r(e)).h + ", " + e.s + "%, " + e.l + "%)" : "hsla(" + (e = r(e)).h + ", " + e.s + "%, " + e.l + "%, " + e.a + ")"
    }
    function f(o) {
        var e = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : "rgba";
        if ("string" == typeof o) {
            if ("transparent" === (o = o.trim()) && (o = "rgba(255, 255, 255, 0)"),
            ~o.indexOf("linear-gradient")) {
                var n = 0;
                return {
                    colors: (o = o.slice(o.indexOf("linear-gradient"), o.lastIndexOf(")"))).match(/(#[0-9a-fA-F]{1,6})|(hsl|rgb)a?\(.*?\)/g).map(function(e) {
                        n = o.indexOf(e, n) + e.length;
                        var t = f(e)
                          , i = o.indexOf(",", n);
                        -1 === i && (i = o.length);
                        var a = parseFloat(o.substring(n, i));
                        return p(a) || (t.end = a),
                        t
                    }),
                    angle: parseFloat(o.match(/\d*deg/) ? o.match(/\d*deg/)[0] : 0)
                }
            }
            if (~o.indexOf("#"))
                return "rgba" === e ? i(o) : a(o);
            if (~o.indexOf("hsl"))
                return o = (o = o.slice(o.indexOf("hsl"), o.lastIndexOf(")"))).split(/[()]/)[1].split(",").map(function(e) {
                    return parseFloat(e)
                }),
                "rgba" === e ? s.apply(undefined, t(o)) : {
                    h: o[0],
                    s: o[1],
                    l: o[2],
                    a: o[3] === undefined ? 1 : o[3]
                };
            if (~o.indexOf("rgb"))
                return o = (o = o.slice(o.indexOf("rgb"), o.lastIndexOf(")"))).split(/[()]/)[1].split(",").map(function(e) {
                    return parseFloat(e)
                }),
                "rgba" === e ? {
                    r: o[0],
                    g: o[1],
                    b: o[2],
                    a: o[3] === undefined ? 1 : o[3]
                } : r.apply(undefined, t(o))
        }
        return o
    }
    function g(e) {
        if (-1 === e.indexOf("url"))
            return "";
        var t = e.indexOf("linear-gradient");
        return -1 === t && (t = e.indexOf("rgba")),
        -1 === t && (t = e.indexOf("#")),
        -1 === t ? "" : e.slice(e.indexOf("url"), t)
    }
    function v(e, t) {
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8() || Fai.isIE9()) {
            var i = g(t);
            t = t.replace(i, ""),
            i ? e.style.cssText += "background: " + i : -1 !== t.indexOf("linear-gradient") ? e.style.cssText += "background: " + h(f(t.match(/(#[0-9a-fA-F]{1,6})|(hsl|rgb)a?\(.*?\)/g)[0]), "hex") : e.style.cssText += "background: " + o(h(f(t), "hex"))
        } else
            e.style.cssText += NaN + t + ";background: -moz-" + t + ";background: -ms-" + t + ";background: -o-" + t + ";background:" + t + ";";
        return e
    }
    function _(e) {
        var t = e.indexOf("url")
          , i = e.indexOf("linear-gradient");
        return -1 === t || -1 === i ? e : i < t ? e.slice(t) + "," + e.slice(0, t) : e
    }
    Site.colorUtils = {
        rgba2hex: o,
        rgba2hsla: r,
        rgba2hsva: n,
        hex2rgba: i,
        hsla2rgba: s,
        hsva2rgba: l,
        hex2hsla: a,
        hsla2hex: e,
        hsla2hsva: d,
        hsva2hsla: c,
        colorStr2Obj: f,
        colorObj2Str: h,
        attachCompatibleStyleToDom: v,
        adjustStyleOrder: _
    }
}(),
function(e, t) {
    t.borderStyle = function(e) {
        var t = {};
        return Site.CompatibleColor.isGradient(e) ? t["border-image-source"] = e : t["border-color"] = e,
        t
    }
    ,
    t.borderStyleEmpty = function() {
        return {
            "border-image-source": ""
        }
    }
}(jQuery, Site.CompatibleColor || (Site.CompatibleColor = {})),
function(e, t) {
    t.textStyle = function(e) {
        var t = {};
        return Site.CompatibleColor.isGradient(e) ? (t["background-image"] = e,
        t["-webkit-text-fill-color"] = "transparent") : t.color = e,
        t
    }
    ,
    t.textStyleEmpty = function() {
        return {
            "background-image": "",
            "-webkit-text-fill-color": ""
        }
    }
}(jQuery, Site.CompatibleColor || (Site.CompatibleColor = {})),
jQuery,
(Site.CompatibleColor || (Site.CompatibleColor = {})).isGradient = function(e) {
    return -1 < e.indexOf("linear-gradient")
}
,
Site.isSystemModule = function(e) {
    var t = [4, 33, 34, 36, 37, 38, 43, 44, 45, 46, 47]
      , i = parseInt(e.attr("_moduletype"));
    return 2 != Fai.top._colId && (1 < i && t.indexOf(i) < 0)
}
,
Site.isModuleHide = function(e) {
    return jzSite.hiddenModules.initHiddenModuleList().isHiddenModule(e)
}
,
function(o) {
    function n(e) {
        var t = e.find(".newsDetail")
          , i = t.hasClass("newsDetailV2")
          , a = ""
          , o = 0;
        t.length <= 0 || (o = t.width(),
        (a = i ? t.find("#J_newsDetailImgWrap img") : t.find(".newsDetailImg")).width() > o && a.addClass("f_fix_detail_big_img"))
    }
    Site.actionForUECallback = function(e) {
        var t = e.id;
        Site.fixImgInUE(t),
        Fai.top.JZ.setHrefEventHasReqArgs(o("#module".concat(t)))
    }
    ,
    Site.fixImgInUE = function(i) {
        setTimeout(function() {
            var e, a, t = o("#module".concat(i));
            t.length && t.find(".jz_fix_ue_img").length && (e = t.find(".jz_fix_ue_img"),
            a = t.find(".formMiddleContent").width(),
            32 == i && t.find(".J_detail_content_right").length ? a = t.find(".J_detail_content_right").width() : 12 == i && e.length && n(t),
            e.length && o.each(e.find("img"), function(e, t) {
                var i = o(t);
                i.css("max-width", "none"),
                i.width() > a && i.addClass("need_fix"),
                i.css("max-width", "")
            }))
        }, 0)
    }
}(jQuery),
Site.getHtmlUrl = function(e) {
    return Fai.top._allowedHtmlUrl && Fai.top._openHtmlUrl ? Fai.top._openStaticUrl ? Site.preprocessUrl({
        path: "sys-" + e + "/",
        oldPath: "sys-" + e + "/"
    }) : Site.preprocessUrl({
        path: "h-" + e + ".html",
        oldPath: "h-" + e + ".html"
    }) : Site.preprocessUrl({
        path: e + ".jsp",
        oldPath: e + ".jsp"
    })
}
,
Site.getStaticUrl = function(e) {
    e.url
}
,
Site.dateFormat = function(e) {
    var t, i = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : new Date, a = {
        "Y+": i.getFullYear().toString(),
        "m+": (i.getMonth() + 1).toString(),
        "d+": i.getDate().toString(),
        "H+": i.getHours().toString(),
        "M+": i.getMinutes().toString(),
        "S+": i.getSeconds().toString()
    };
    for (var o in a)
        (t = new RegExp("(" + o + ")").exec(e)) && (e = e.replace(t[1], 1 == t[1].length ? a[o] : a[o].padStart(t[1].length, "0")));
    return e
}
,
function(p) {
    (window.Site || (window.Site = {})).createCaptchaPopup = function(c) {
        return new Promise(function(o) {
            var n = p('\n\t\t\t<div class="c_captcha_popup" style="visibility:hidden;">\n\t\t\t\t<div class="c_captcha_popup--mask"></div>\n\t\t\t\t<div class="c_captcha_popup--content J_captchaPopupContent">\n\t\t\t\t\t<div class="c_captcha_popup--title">请填写图片验证码</div>\n\t\t\t\t\t<div class="c_captcha_popup--input_wrap">\n\t\t\t\t\t\t<input class="c_captcha_popup--input J_captchaPopupInput" maxlength="4">\n\t\t\t\t\t\t<img class="c_captcha_popup--validate_code J_captchaPopupValidateCode">\n                        <div class="c_captcha_popup--msg J_captchaPopupMsg"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="c_captcha_popup--btns">\n\t\t\t\t\t\t<button class="c_captcha_popup--btn_confirm J_captchaPopupBtnConfirm">确 定</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<i class="c_captcha_popup--close J_captchaPopupClose"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t')
              , r = function r() {
                n.fadeOut(function() {
                    return n.remove()
                })
            }
              , e = function e() {
                n.css("visibility", "")
            }
              , s = function s(e) {
                n.find(".J_captchaPopupMsg").html(e)
            }
              , l = function l() {
                var e = n.find(".J_captchaPopupContent").outerWidth()
                  , t = n.find(".J_captchaPopupContent").outerHeight()
                  , i = (n.width() - e) / 2 + "px"
                  , a = (n.height() - t) / 2 + "px";
                n.find(".J_captchaPopupContent").css({
                    left: i,
                    top: a
                })
            }
              , d = function d() {
                !(0 < arguments.length && arguments[0] !== undefined) || arguments[0] ? n.find(".J_captchaPopupInput").addClass("c_captcha_popup--input__error") : n.find(".J_captchaPopupInput").removeClass("c_captcha_popup--input__error")
            }
              , t = function() {
                var t = _asyncToGenerator(regeneratorRuntime.mark(function e(t) {
                    var i;
                    return regeneratorRuntime.wrap(function a(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                c(t);
                            case 2:
                                (i = e.sent) && i.success ? (r(),
                                o(i),
                                p("html").css({
                                    overflow: ""
                                })) : (s(i && i.msg ? i.msg : LS.argsError),
                                d(!0),
                                l());
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }, e)
                }));
                return function i(e) {
                    return t.apply(this, arguments)
                }
            }()
              , i = function i() {
                n.find(".J_captchaPopupValidateCode").attr("src", "/validateCode.jsp?validateCodeRegType=3&random=" + Math.round(1e3 * Math.random()))
            };
            n.find(".J_captchaPopupBtnConfirm").off("click").on("click", function() {
                var e = n.find(".J_captchaPopupInput").val();
                "" !== e ? t(e) : s(LS.memberDialogEnterCode)
            }),
            n.find(".J_captchaPopupClose").off("click").on("click", function() {
                r(),
                p("html").css({
                    overflow: ""
                }),
                o()
            }),
            n.find(".J_captchaPopupValidateCode").off("load").on("load", function() {
                l()
            }),
            n.find(".J_captchaPopupValidateCode").off("click").on("click", function() {
                i()
            }),
            n.find(".J_captchaPopupInput").off("input").on("input", function() {
                var e = n.find(".J_captchaPopupInput").val();
                d(!e || 4 != e.length)
            }),
            p("html").css({
                overflow: "hidden"
            }),
            n.appendTo(document.body),
            i(),
            l(),
            e()
        }
        )
    }
}(jQuery),
Site.callMusicUnload = function(e, t) {
    var i = Site.callMusicPosition(e);
    $.cookie(t, i)
}
,
Site.callMusicPlayButton = function(o, n, r, s) {
    $("#" + o).bind("click", function() {
        var e = $.cookie(s)
          , t = $(this)
          , i = $("#" + o).attr("bgMusicStatus");
        if (i != e && $.cookie(s, i),
        "true" == (e = $.cookie(s)))
            $("#" + o).attr("bgMusicStatus", "false"),
            $.cookie(s, !1),
            Site.reStartMusic(n),
            t.attr("title", LS.pauseMusic),
            t.removeClass("bgplayerButtonP");
        else if (t.hasClass("bgplayerButtonP"))
            $("#" + o).attr("bgMusicStatus", "false"),
            Site.reStartMusic(n),
            t.attr("title", LS.pauseMusic),
            t.removeClass("bgplayerButtonP");
        else {
            var a = Site.callMusicPosition(n);
            $.cookie(r, a),
            $("#" + o).attr("bgMusicStatus", "true"),
            $.cookie(s, !0),
            Site.stopMusic(n),
            t.attr("title", LS.playMusic),
            t.addClass("bgplayerButtonP")
        }
    });
    var e = $.cookie(s)
      , t = Fai.top.$("#" + o);
    "true" == e ? (t.attr("title", LS.playMusic),
    t.addClass("bgplayerButtonP"),
    t.show()) : (t.show(),
    t.attr("title", LS.pauseMusic),
    t.removeClass("bgplayerButtonP"))
}
,
Site.SetPositionZero = function() {
    $.cookie("bgplayerTime", "0");
    var e = $("#bgplayerButton");
    e.attr("title", LS.playMusic),
    e.addClass("bgplayerButtonP")
}
,
Site.callMusicPosition = function(e) {
    var t;
    try {
        t = Site.callMusic(e).getMusicPosition()
    } catch (i) {}
    return t
}
,
Site.stopMusic = function(e) {
    var t;
    try {
        t = Site.callMusic(e).stopMusic()
    } catch (i) {}
    return t
}
,
Site.reStartMusic = function(e) {
    var t;
    try {
        t = Site.callMusic(e).reStartMusic()
    } catch (i) {}
    return t
}
,
Site.getMusicLength = function(e) {
    var t = -1;
    try {
        for (; t < 0; )
            t = Site.callMusic(e).getSoundLength()
    } catch (i) {}
    return t
}
,
Site.changeVol = function(e, t) {
    try {
        var i = Site.callMusic(e);
        i && i.changeVolume && i.changeVolume(t)
    } catch (a) {
        console.log(a.stack)
    }
}
,
Site.callMusic = function(e) {
    return document[e] || window[e] || Site.getTopWindow().document[e]
}
,
Site.bgmFlushContinue = function() {
    var e = $("#bgplayerButton").attr("bgmusicstatus");
    "false" == e && ($.cookie("bgplayerPause", "false"),
    $.cookie("hasMusicPlaying", "false")),
    "false" == e && Site.callMusicUnload("faiBgMusicPlayer", "bgplayerTime")
}
,
Site.appendQuickTime = function(e) {
    var t = new Array
      , i = e.width
      , a = e.height
      , o = e.path;
    t.push("<object width='" + i + "' height='" + a + "' classid='clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B' codebase='http://www.apple.com/qtactivex/qtplugin.cab'>"),
    t.push("<param name='src' value='" + o + "'>"),
    t.push("<param name='controller' value='true'>"),
    t.push("<param name='type' value='video/quicktime'>"),
    t.push("<param name='autoplay' value='false'>"),
    t.push("<param name='target' value='myself'>"),
    t.push("<param name='pluginspage' value='http://www.apple.com/quicktime/download/index.html'>"),
    t.push("<embed src='" + o + "' width='" + i + "' height='" + a + "' "),
    t.push("controller='true' align='middle' target='myself' type='video/quicktime' autoplay='false' "),
    t.push("pluginspage='http://www.apple.com/quicktime/download/index.html'>"),
    t.push("</embed>"),
    t.push("</object>"),
    $("#" + e.parentId).append(t.join(""))
}
,
Site.appendWMP = function(e) {
    var t = new Array
      , i = e.width
      , a = e.height
      , o = e.path;
    t.push("<embed type='application/x-mplayer2' classid='clsid:6bf52a52-394a-11d3-b153-00c04f79faa6' "),
    t.push("src='" + o + "' wmode='opaque' quality='high' "),
    t.push("enablecontextmenu='false' autostart='false' windowlessVideo='true' "),
    t.push("width='" + i + "' height='" + a + "'>"),
    t.push("</embed>"),
    $("#" + e.parentId).append(t.join(""))
}
,
Site.vote = function(o, n, r, e, t) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行投票。");
    else if (Fai.top.isJuly3FreeUser)
        Site.logDog(200964, 6);
    else {
        var s = $("#voteMsg" + o + n)
          , i = (parseInt($.cookie("vote" + o)),
        !0)
          , a = new Array;
        if (s.hide(),
        $(".voteItems" + o + n).each(function() {
            var e = {}
              , t = new Array;
            if ($(this).find(".voteItemCheck").find("input:checked").each(function() {
                var e = $(this).val();
                isNaN(e) || t.push(parseInt(e))
            }),
            0 == t.length)
                return s.show(),
                s.text(LS.voteNotSelect),
                void (i = !1);
            e.itemList = t,
            a.push(e)
        }),
        i) {
            var l = $("#M" + n + "V" + o + "voteValidateCode").val();
            if (t && "" == l)
                return s.show(),
                s.text(LS.voteNotSelect),
                void (i = !1);
            $("#vote" + o + n).attr("disabled", !0),
            $("#vote" + o + n).faiButton("disable"),
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/vote_h.jsp?cmd=addWafCk_voteItem",
                async: !1,
                data: "vid=" + o + "&itemlist=" + Fai.encodeUrl($.toJSON(a)) + "&openValidate=" + t + "&vCodeId=" + n + o + "&validateCode=" + l,
                error: function p() {
                    var e = {
                        htmlContent: Site.getDialogContent(!1, Fai.format(LS.voteError)),
                        width: 205,
                        height: 78
                    };
                    Site.popupBox(e),
                    setTimeout(function() {
                        document.location.reload()
                    }, 3e3)
                },
                success: function u(e) {
                    var t = jQuery.parseJSON(e);
                    if (t.success) {
                        s.hide();
                        var i = {
                            htmlContent: Site.getDialogContent(!0, Fai.format(LS.voteSuccess)),
                            width: 205,
                            height: 78
                        };
                        if (Site.popupBox(i),
                        setTimeout(function() {
                            document.location.reload()
                        }, 1e3),
                        $(".voteItems" + o + n).find("input:checked").each(function() {
                            $(this).attr("checked", !1)
                        }),
                        0 < r) {
                            if (!$.cookie("vote" + o)) {
                                var a = new Date;
                                a.setHours(a.getHours() + r),
                                $.cookie("vote" + o, r, {
                                    expires: a
                                })
                            }
                        } else
                            0 == r ? $.cookie("vote" + o, null) : $.cookie("vote" + o, -1, {
                                expires: 30
                            })
                    } else if (t.login)
                        s.show(),
                        s.text(LS.voteErrorByNotLogin);
                    else if (t.validateCodeErr)
                        s.show(),
                        s.text(t.msg),
                        Site.voteValidation(o, n);
                    else {
                        if (s.hide(),
                        t.needCode)
                            return void d();
                        i = {
                            htmlContent: Site.getDialogContent(!1, t.msg),
                            width: 205,
                            height: 78
                        };
                        Site.popupBox(i),
                        setTimeout(function() {
                            document.location.reload()
                        }, 1e3)
                    }
                    setTimeout(function() {
                        $("#vote" + o + n).removeAttr("disabled"),
                        $("#vote" + o + n).faiButton("enable")
                    }, 3e3)
                }
            })
        }
    }
    function d() {
        var e = [];
        e.push("<div class='voteCodePanelBg'></div>"),
        e.push("<div class='voteCodePanel'><div class='voteCodePanelClose'></div>"),
        e.push("<div class='voteCodePanelTitle'><div class='voteCodePanelTitleFont'>输入验证码</div></div>"),
        e.push("<div class='voteCodePanelContent'>"),
        e.push("<div class='voteCodeLine'>"),
        e.push("<div class='voteCodeTitle'>验证码：</div>"),
        e.push("<div id='voteCodeInput' class='voteCodeInput'><input id='needVoteCode' class='voteCodeInputText myTradeInputPlaceholder' type='text' onfocus='$(\"#needVoteCode\").css(\"border-color\", \"#E3E2E8\");' placeholder='请输入图片验证码，防止刷票'/></div>"),
        e.push("<div class='voteCodePicPanel'><img alt='' class='voteCodePic' onclick='Site.changeCaptchaImg(this, 3)' title='看不清，换一张' id='memberCaptchaImg' src='/validateCode.jsp?Math.random()*1000'></div>"),
        e.push("</div>"),
        e.push("<div class='voteCodePanelSubmit'>确定</div><div class='voteCodePanelCannel 'voteCodePanelClose'>取消</div>"),
        e.push("</div>"),
        e.push("</div>"),
        __noGmian ? $("body").append(e.join("")) : $("#g_main").after(e.join(""));
        var t = (Fai.top.document.documentElement.clientWidth - $(".voteCodePanel").width()) / 2
          , i = (Fai.top.document.documentElement.clientHeight - $(".voteCodePanel").height()) / 2 + $(window).scrollTop();
        $(".voteCodePanel").css({
            left: t,
            top: i
        }),
        $(".voteCodePicPanel>.voteCodePic").attr("src", "/validateCode.jsp?" + 1e3 * Math.random() + "&validateCodeRegType=3"),
        $(".voteCodePanelClose, .voteCodePanelClose").unbind("click").bind("click", function() {
            $(".voteCodePanelBg").remove(),
            $(".voteCodePanel").remove()
        }),
        $("#needVoteCode").unbind("keyup").bind("keyup", function() {
            $(".voteCodePanelSubmit").css({
                border: "1px solid #557ce1",
                "background-color": "#557ce1",
                color: "white"
            }),
            "" == $("#needVoteCode").val() && $(".voteCodePanelSubmit").css({
                border: "1px solid #e7e7eb",
                "background-color": "#f2f2f5",
                color: "#d2d2d2"
            })
        }),
        $(".voteCodePanelSubmit").unbind("click").bind("click", function() {
            var e = $("#needVoteCode").val();
            $.ajax({
                type: "post",
                url: "/ajax/vote_h.jsp?cmd=addWafCk_voteItem",
                data: "vid=" + o + "&itemlist=" + Fai.encodeUrl($.toJSON(a)) + "&verificationCode=" + Fai.encodeUrl(e),
                error: function t() {
                    alert("服务繁忙，请稍后再试。")
                },
                success: function i(e) {
                    (e = $.parseJSON(e)).success ? ($(".voteCodePanel").remove(),
                    $(".voteItems" + o + n).find("input:checked").each(function() {
                        $(this).attr("checked", !1)
                    }),
                    c()) : ($("#needVoteCode").css("border-color", "red"),
                    $(".voteCodePanel").find(".voteCodePic").attr("src", "/validateCode.jsp?" + 1e3 * Math.random() + "&validateCodeRegType=3"))
                }
            })
        })
    }
    function c() {
        var e = [];
        e.push("<div class='voteSuccessPanel sweet-alert'><div class='voteSuccessPanelClose'></div>"),
        e.push("\t\t<div class='sa-icon sa-success animate'>"),
        e.push("\t\t\t<span class='sa-line sa-tip animateSuccessTip'></span>"),
        e.push("\t\t\t<span class='sa-line sa-long animateSuccessLong'></span>"),
        e.push("\t\t\t<div class='sa-placeholder'></div>"),
        e.push("\t\t\t<div class='sa-fix'></div>"),
        e.push("\t\t</div>"),
        e.push("\t\t<div class='voteSuccessTitle'>感谢您的投票</div>"),
        e.push("</div>"),
        __noGmian ? $("body").append(html1.join("")) : $("#g_main ").after(e.join(""));
        var t = (Fai.top.document.documentElement.clientWidth - $(".voteSuccessPanel").width()) / 2
          , i = (Fai.top.document.documentElement.clientHeight - $(".voteSuccessPanel").height()) / 2 + $(window).scrollTop();
        $(".voteSuccessPanel").css({
            left: t,
            top: i
        }),
        $(".voteSuccessPanelClose").unbind("click").bind("click", function() {
            $(".voteCodePanelBg").remove(),
            $(".voteSuccessPanel").remove()
        }),
        setTimeout(function() {
            $(".voteCodePanelBg").remove(),
            $(".voteSuccessPanel").remove()
        }, 2e3)
    }
}
,
Site.voteValidation = function(e, t) {
    $("#M" + t + "V" + e + "validateCodeImg").attr("src", "/validateCode.jsp?" + parseInt(1e3 * Math.random()) + "&vCodeId=" + t + e)
}
,
Site.initModuleVote = function(e) {
    var t = e.id
      , i = e.delay
      , a = e.mid
      , o = e.isVoted
      , n = e.openValidate;
    0 == i ? $.cookie("vote" + t, null) : -1 == i ? $.cookie("vote" + t) && $.cookie("vote" + t, -1, {
        expires: 30
    }) : "-1" == $.cookie("vote" + t) && $.cookie("vote" + t, null),
    $("#vote" + t + a).click(function() {
        Site.vote(t, a, i, o, n)
    })
}
,
Site.fixModuleVoteStyle = function(e, t) {
    $("#module" + t).width() <= 400 && ($("#module" + t).find(".voteItems" + e + t).find(".voteItemPanel").css({
        width: "100%",
        "padding-bottom": "10px"
    }),
    $("#module" + t).find(".voteItems" + e + t).find(".voteItemCheck").css({
        padding: "10px 0 0px 5px"
    }))
}
,
Site.fixVoteResultImgStyle = function(e, t, i, a) {
    400 < $("#module" + t).width() && -1 != i && "img" == a && $("#module" + t).find(".voteResult").find(".vi-percent").find(".voteVfmImg").each(function() {
        $(this).css("width", $("#module" + t).find(".voteResult").find(".vi-percent").width() - 48)
    }),
    $("#module" + t).width() <= 400 && ($("#module" + t).find(".voteResult").find(".vi-percent").find(".voteItemImg").find("img").css({
        width: "30px",
        height: "30px"
    }),
    -1 != i && "img" == a && ($("#module" + t).find(".voteResult").find(".vi-name").css({
        "text-align": "center"
    }),
    $("#module" + t).find(".voteResult").find(".vi-percent").find(".voteItemImg").css({
        "margin-right": "2px"
    }),
    $("#module" + t).find(".voteResult").find(".vi-percent").find(".voteVfmImg").each(function() {
        $(this).css("width", $("#module" + t).find(".voteResult").find(".vi-percent").width() - 30),
        $(this).css("margin-top", "4px")
    })))
}
,
Site.fixModuleVoteResultStyle = function(e, t, i) {
    $("#module" + t).width() <= 400 && ($("#module" + t).find(".voteResult").find(".vi-name").css({
        width: "30%"
    }),
    $("#module" + t).find(".voteResult").find(".vi-percent").css({
        width: "50%"
    }),
    $("#module" + t).find(".voteResult").find(".vi-percent").find(".voteVfm").css({
        height: "22px"
    }),
    $("#module" + t).find(".voteResult").find(".vi-count").css({
        width: "20%"
    }),
    $("#module" + t).find(".voteResult").find(".vi-count").find(".voteItemCount").css({
        "padding-left": "0"
    }));
    var a = -1 !== i ? "g_block" + i : "g_block_default";
    $("#module" + t).find(".voteResult").find(".vi-percent").find(".voteVfm").find(".g_block").each(function() {
        $(this).addClass(a)
    })
}
,
Site.showNavSubMenu = function(y) {
    if (!Fai.top._useNavVersionTwo || 0 == Fai.top._navStyleV2Data.snt) {
        var C = 0;
        1 == y && (C = 1);
        var F = Fai.top.$("#nav");
        Fai.top._useNavVersionTwo && (F = Fai.top.$("#navV2"));
        var I = Site.isCusLinkCol()
          , e = F.find(".navCenter .item");
        e.removeClass("itemSelected itemHover"),
        $.each(e, function(e, t) {
            if ($(this).unbind(),
            100 == y) {
                var i = $(this)
                  , a = Fai.top._colId
                  , o = Fai.top._fromColId;
                if ((v = i.attr("colId")) != a && v != o || i.addClass("itemSelected"),
                i.hover(function() {
                    $(this).addClass("itemHover")
                }, function() {
                    $(this).removeClass("itemHover")
                }),
                1 <= i.find(".navSubMenu").length)
                    return;
                var n = i.attr("id")
                  , r = [];
                try {
                    r = Fai.fkEval(n + "SubMenu")
                } catch (w) {
                    return !1
                }
                if (!r || r.length < 1)
                    return;
                var s = 0;
                if (v == a || v == o)
                    s = 1;
                else
                    for (e = 0; e < r.length; ++e) {
                        if ((b = r[e].colId) == a || b == o) {
                            s = 2;
                            break
                        }
                        if (!Fai.isNull(r[e].sub)) {
                            var l = r[e].sub;
                            for (t = 0; t < l.length; ++t) {
                                if ((x = l[t].colId) == a || x == o) {
                                    s = 3;
                                    break
                                }
                            }
                        }
                        if (0 != s)
                            break
                    }
                if (r && Site.removeNavHiddenMenu(r),
                v != a && v != o || r && 1 <= r.length && i.addClass("itemPopupSelected"),
                0 == s)
                    return;
                if (!r || r.length < 1)
                    return;
                var d = $("<div class='navSubMenu'></div>")
                  , c = $("<div class='content2'><table class='top' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='middle' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='bottom' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table></div>");
                c.appendTo(d),
                c = c.find(".middle .center");
                for (e = 0; e < r.length; ++e) {
                    var p = "";
                    r[e].colId != a && r[e].colId != o || (p = " itemSelected");
                    var u = "<table class='item" + p + "' cellpadding='0' cellspacing='0'><tr><td class='itemLeft'></td><td class='itemCenter'><a href='" + r[e].href + "'>" + r[e].html + "</a></td><td class='itemRight'></td></tr></table>";
                    if ($(u).appendTo(c),
                    1 != s && (2 != s || a == r[e].colId || o == r[e].colId) && !(Fai.isNull(r[e].sub) || r[e].sub.length < 1)) {
                        l = r[e].sub;
                        if (3 == s) {
                            var m = !1;
                            for (t = 0; t < l.length; ++t)
                                if (l[t].colId == a || l[t].colId == o) {
                                    m = !0;
                                    break
                                }
                            if (!m)
                                continue
                        }
                        var h = $("<div class='content3'><table class='top' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='middle' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='bottom' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table></div>");
                        h.appendTo(c),
                        h = h.find(".middle .center");
                        for (t = 0; t < l.length; ++t) {
                            var f = "";
                            l[t].colId != a && l[t].colId != o || (f = " itemSelected");
                            var g = "<table class='item" + f + "' cellpadding='0' cellspacing='0'><tr><td class='itemLeft'></td><td class='itemCenter'><a href='" + l[t].href + "'>" + l[t].html + "</a></td><td class='itemRight'></td></tr></table>";
                            $(g).appendTo(h)
                        }
                    }
                }
                d.insertAfter($(this)),
                d.find(".item").hover(function() {
                    $(this).addClass("itemHover"),
                    $(this).siblings(".outMenuTriangle").addClass("triangleHover")
                }, function() {
                    $(this).removeClass("itemHover"),
                    $(this).siblings(".outMenuTriangle").removeClass("triangleHover")
                })
            } else {
                i = $(this),
                a = Fai.top._colId,
                o = Fai.top._fromColId;
                var v = i.attr("colId")
                  , _ = (n = i.attr("id"),
                r = [],
                Site.verifyCusLinkType(v));
                try {
                    r = Fai.fkEval(n + "SubMenu")
                } catch (w) {
                    return !1
                }
                var S = e + 1;
                m = !1;
                if (_ || !I && (a == v || o == v))
                    m = !0;
                else if (r && 1 <= r.length)
                    for (e = 0; e < r.length; ++e) {
                        var b = r[e].colId;
                        if (Site.verifyCusLinkType(b) || b == a || b == o) {
                            m = !0;
                            break
                        }
                        if (!Fai.isNull(r[e].sub))
                            for (l = r[e].sub,
                            t = 0; t < l.length; ++t) {
                                var x;
                                if ((x = l[t].colId) == a || x == o) {
                                    m = !0;
                                    break
                                }
                            }
                        if (m)
                            break
                    }
                r && Site.removeNavHiddenMenu(r),
                m && (i.addClass("itemSelected"),
                i.addClass("itemSelectedIndex" + S),
                r && 1 <= r.length && i.addClass("itemPopupSelected")),
                $(this).hover(function() {
                    var t = $(this)
                      , i = t.attr("id")
                      , a = [];
                    try {
                        a = Fai.fkEval(i + "SubMenu")
                    } catch (w) {
                        return !1
                    }
                    t.addClass("itemHover"),
                    t.addClass("itemHoverIndex" + S),
                    a && 1 <= a.length && t.addClass("itemPopupHover");
                    var o = "";
                    if (F.hasClass("navStyle")) {
                        var e = F.attr("class").split(" ");
                        $.each(e, function(e, t) {
                            -1 != t.search(/navStyle/) && (o += t + " ")
                        })
                    } else
                        (Fai.top._isTemplateVersion2 || Fai.top._uiMode) && (o = "navStyle ");
                    var n = "<div class='navSubMenu'></div>"
                      , r = setTimeout(function() {
                        var e = Site.showMenu({
                            container: n,
                            mode: C,
                            id: i + "SubMenu",
                            minWidth: t.width(),
                            host: t,
                            clsIndex: S,
                            data: a,
                            fixpos: !1,
                            rulerObj: F,
                            navSysClass: o,
                            navBar: !0
                        });
                        null != e && e.hover(function() {
                            t.addClass("itemHover"),
                            Fai.top._useNavVersionTwo || e.find(".outMenuTriangle").addClass("triangleHover"),
                            0 < a.length && t.addClass("itemPopupHover")
                        }, function() {
                            t.removeClass("itemHover"),
                            t.removeClass("itemPopupHover"),
                            e.find(".outMenuTriangle").removeClass("triangleHover")
                        }),
                        clearTimeout(r)
                    }, 0)
                }, function() {
                    $(this).removeClass("itemHover"),
                    $(this).removeClass("itemHoverIndex" + S),
                    $(this).removeClass("itemPopupHover"),
                    0 == $(".navSubMenu").length && $(this).removeClass("itemHover")
                })
            }
        })
    }
}
,
Site.verifyCusLinkType = function(t) {
    var i = JZ.getIsOpenRemoveUrlArg() ? JZ.getUrlHashInCookie() : Fai.top.location.hash
      , a = ""
      , o = !1;
    return i && ["_pp", "_np", "_php"].forEach(function(e) {
        1 < i.match(/#/g).length && (i = i.replace(/#/g, "&").replace(/&/, "#")),
        (a = Fai.getHashParam(i, e)) && a.split("_")[0] == t && (o = !0)
    }),
    o
}
,
Site.isCusLinkCol = function() {
    var t = JZ.getIsOpenRemoveUrlArg() ? JZ.getUrlHashInCookie() : Fai.top.location.hash
      , i = ""
      , a = !1;
    return t && ["_pp", "_np", "_php"].forEach(function(e) {
        (i = Fai.getHashParam(t, e)) && i.split("_")[0] && (a = !0)
    }),
    a
}
,
Site.removeNavHiddenMenu = function(e) {
    for (var t = e.length - 1; 0 <= t; --t)
        if (e[t].hidden)
            e.splice(t, 1);
        else if (e[t].sub)
            for (var i = e[t].sub, a = i.length - 1; 0 <= a; --a)
                i[a].hidden && i.splice(a, 1)
}
,
Site.imitateHoverEventForAndroid = function() {
    var e = Fai.top._useNavVersionTwo ? Fai.top.$("#navV2") : Fai.top.$("#nav")
      , n = e.find(".navCenter .item");
    e.length < 1 || n.each(function() {
        var e, t, i, a = !1, o = $(this);
        Fai.top._useNavVersionTwo && 2 == Fai.top._navStyleV2Data.snt ? (e = o.attr("colid"),
        0 < Fai.top.$("#fk-subNavPack" + e).length && (a = !0)) : (t = o.attr("id"),
        (i = Fai.top[t + "SubMenu"]) && 0 < i.length && (a = !0)),
        a && (o.off("touchstart.beforeHover").on("touchstart.beforeHover", function(e) {
            var t = $(this);
            return !!t.hasClass("itemHover") || (t.trigger("mouseenter"),
            t.trigger("mouseover"),
            n.not(this).trigger("mouseleave").trigger("mouseout"),
            e.preventDefault(),
            !1)
        }),
        o.find("a").off("mousedown.beforeHover").on("mousedown.beforeHover", function(e) {
            if (!o.hasClass("itemHover"))
                return e.preventDefault(),
                !1
        }))
    })
}
,
Site.showNavItemContainer = function() {
    var l = Fai.top.$("#nav");
    Fai.top._useNavVersionTwo && (l = Fai.top.$("#navV2"));
    var d = l.find(".navCenter")
      , e = l.width();
    0 < d.length && d.removeAttr("style"),
    Site.hideNavItemContainer();
    var c = l.find(".itemContainer")
      , t = d.outerWidth(!0)
      , p = 0
      , u = l.find(".item")
      , m = l.find(".itemSep");
    Fai.top._useNavVersionTwo ? (t = void 0 === (t = l.find(".navContent")[0].getBoundingClientRect().width) ? l.find(".navContent").outerWidth(!0) : Math.ceil(t),
    Fai.top.$.each(u, function() {
        var e = this.getBoundingClientRect().width;
        void 0 === e ? e = $(this).outerWidth(!0) : e += $(this).outerWidth(!0) - $(this).outerWidth(),
        p += e
    }),
    p = Math.ceil(p)) : Fai.top.$.each(u, function() {
        p += $(this).outerWidth(!0)
    }),
    Fai.top.$.each(m, function() {
        p += $(this).outerWidth(!0)
    }),
    _(),
    c.off("mouseover.navigator").on("mouseover.navigator", ".item", function() {
        _()
    }),
    Fai.top._useNavVersionTwo || (Fai.isIE() || Fai.isMozilla()) && (p += 4);
    var h = l.find(".itemPrev")
      , f = l.find(".itemNext");
    Fai.top._isTemplateVersion2 && (h.css("display", "none"),
    f.css("display", "none")),
    (Fai.isIE6() || Fai.isIE7()) && (e = Fai.top._navStyleData.ns.w);
    var i = !1;
    if (Fai.top._useNavVersionTwo) {
        var a = l.find(".navContent").width()
          , o = d.outerWidth(!0);
        o < p && o < a && p <= t && (i = !0)
    }
    if (t < p && !i)
        v(t);
    else if (l[0].className && -1 < l[0].className.indexOf("nav2") || Fai.top._useNavVersionTwo) {
        var n = c.css("margin-left") ? c.css("margin-left").replace("px", "") : 0
          , r = p + parseInt(n)
          , s = parseInt(r);
        if (Fai.top._useNavVersionTwo || (s += 10),
        Fai.top._useNavVersionTwo)
            d.width(r);
        else {
            var g = Math.min(e, s);
            Fai.isIE7() && g < 1 && (g = c.width() + 1),
            d.css("width", g),
            e === g && e < p && v(e)
        }
        Fai.isIE11() && d.css("height", c.outerHeight(!0) + "px"),
        Fai.top._manageMode && jzUtils.run({
            name: "reSaveNavCenterWidth"
        }, r)
    }
    function v(e) {
        function t() {
            var a = Math.abs(parseFloat(c.css("left")))
              , o = 0
              , n = 0;
            return c.children().each(function(e, t) {
                var i = $(t);
                if (!(n + i.width() <= a))
                    return !1;
                n += i.width(),
                i.attr("_jump") && o++
            }),
            o
        }
        Fai.top._useNavVersionTwo && d.css("width", "inherit"),
        Fai.top._cusResponsive || c.css("width", p + "px"),
        (Fai.isIE() || Fai.isMozilla()) && p == e + 4 && !Fai.top._useNavVersionTwo || f.css("display", "block"),
        0 !== parseFloat(c.css("left")) && h.css("display", "block"),
        Fai.top._templateOtherStyleData.h = 0;
        var i, a = t(), o = 0, n = 0;
        i = m.is(":hidden") ? 0 : m.width() / 2;
        var r = d.offset().left
          , s = [];
        u.each(function(e) {
            s[e] = $(this).offset().left - r,
            o++
        }),
        f.unbind("mousedown").unbind("mouseleave"),
        h.unbind("mousedown").unbind("mouseleave"),
        f.width(f.data("width")),
        f.mousedown(function() {
            n = s[a + 1] - s[a],
            0 == a && (n -= i),
            ++a == o && (a = o - 1),
            $(this).addClass("itemNextHover"),
            c.css("left", c.position().left - n + "px"),
            c.position().left < 0 && h.css("display", "block"),
            Math.abs(c.position().left) + e >= p && (f.data("width", f.width()),
            f.width(0))
        }).mouseleave(function() {
            $(this).removeClass("itemNextHover")
        }),
        h.mousedown(function() {
            n = s[a] - s[a - 1],
            1 == a && (n -= i),
            --a < 0 && (a = 0),
            $(this).addClass("itemPrevHover"),
            c.css("left", c.position().left + n + "px"),
            Math.abs(l.find(".itemContainer").position().left) + e < p && f.width(f.data("width")),
            0 <= c.position().left && h.css("display", "none")
        }).mouseleave(function() {
            $(this).removeClass("itemPrevHover")
        }),
        f.off("mouseover.nav").on("mouseover.nav", function() {
            $(this).addClass("itemNextHover")
        }),
        h.off("mouseover.nav").on("mouseover.nav", function() {
            $(this).addClass("itemPrevHover")
        })
    }
    function _() {
        var i = 0;
        c.children().each(function(e, t) {
            i += $(t)[0].getBoundingClientRect().width
        }),
        i = Math.ceil(i),
        Fai.isIE9() && i++,
        i > c.width() && c.css("width", i),
        $("#navCenterContent").width() > $("#navCenter").width() && $("#navCenter").width() < i && $("#navCenter").css("width", i)
    }
    Fai.top._useNavVersionTwo && (Fai.top._navStyleV2Data.nct.cw != d.width() && setTimeout(function() {
        Fai.top._navStyleV2Data.nct.cw = parseInt(d.width()),
        Fai.top._navStyleV2Changed++
    }, 0),
    Fai.top._manageMode && Site.autoNavCenterWidth(),
    Fai.top._navStyleV2Data && 1 == Fai.top._navStyleV2Data.nib.y && c.css("width", c.width() + 2 * Fai.top._navStyleV2Data.nib.s))
}
,
Site.hideNavItemContainer = function() {
    $("#nav .itemContainer").removeAttr("style"),
    $("#nav").find(".itemPrev").hide(),
    $("#nav").find(".itemNext").hide()
}
,
Site.hideNavSubMenu = function() {
    Fai.top.$.each(Fai.top.$("#nav .navCenter .item"), function(e, t) {
        $(this).unbind()
    })
}
,
Site.initModuleNavListGroup = function(e, t) {
    if ($("#module" + e + " .g_foldValueCenter").mouseover(function() {
        $(this).addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_hover")
    }),
    t) {
        var i = $("#module" + e).find(".formMiddle" + e).find("table.g_foldContainerContent").find(".g_foldContainerContentCenter").find(".g_foldContainerName");
        $.each(i, function(e, t) {
            var i = $(t);
            i.css("cursor", "pointer"),
            i.click(function() {
                var e = $(this).next();
                e.is(":visible") ? ($(i.find(".g_unfold")[0]).removeClass("g_unfold").addClass("g_fold"),
                e.hide()) : ($(i.find(".g_fold")[0]).removeClass("g_fold").addClass("g_unfold"),
                e.show())
            })
        })
    }
}
,
Site.initModuleNavListAcrossDisplay = function(p, u, m, e) {
    var h = $("#module" + p);
    m_formMiddleWidth = h.find(".formMiddle").width(),
    mSOptions = {
        moduleId: p,
        clsStr: "navAcrossContainer navAPanel"
    },
    h.find(".navA_C_J .navA_J").hover(function() {
        var l = $(this)
          , e = l.attr("_colId")
          , t = u[e]
          , i = h.attr("_side")
          , a = h.parent()
          , o = h.parent().attr("id")
          , d = !0;
        if (mSOptions.that = l,
        Fai.isIE6() || Fai.isIE7() ? d = !1 : 2 == i ? d = !1 : 1 == i ? d = !1 : "floatLeftTopForms" == o || "floatRightTopForms" == o || "floatLeftBottomForms" == o || "floatRightBottomForms" == o ? d = !1 : "absolute" == h.css("position") && a.hasClass("absForms") && (d = !1),
        null != t && 0 < t.length) {
            var r = []
              , c = $("#navAcM" + p + "C" + e + "Panel");
            if (0 == c.length) {
                r.push("<div class='s_navList'>"),
                $.each(t, function(e, t) {
                    var i = t.allowed
                      , a = "onclick = 'Fai.ing(LS.memberLoginNoPermission, false);'";
                    _isMemberLogin || (i = !0),
                    i && (a = " onclick = 'return true;' ");
                    var o = "";
                    u[t.id] && (o = " navA_more");
                    var n = "";
                    t.openType && (n = "target='_blank';"),
                    r.push("<table class='navAcrossCotent childNavA_J g_item' cellpadding='0' cellspacing='0' _colId=" + t.id + " style='*width:auto;'><tr>"),
                    r.push("<td class='navAcrossCotentLeft'></td>"),
                    r.push("<td class='navAcrossCotentCenter'>"),
                    m && u[t.id] ? r.push("<a href='javascript:void(0);' style='cursor:default;'>" + t.name + "</a></td>") : r.push("<a href='" + (i ? t.url : "javascript:void(0);") + "' " + n + a + ">" + t.name + "</a></td>"),
                    r.push("<td class='navAcrossCotentRight" + o + "'></td>"),
                    r.push("</tr></table>")
                }),
                r.push("</div>"),
                mSOptions.idStr = "navAcM" + p + "C" + e + "Panel",
                mSOptions.contentStr = r.join(""),
                c = Site.moduleSubPanel(mSOptions);
                var n = l.offset().left
                  , s = l.offset().top;
                d || (n += l.outerWidth()),
                c.css({
                    top: s,
                    left: n
                }).show()
            }
            if (d) {
                n = h.offset().left + h.outerWidth();
                h.css("z-index", 9030),
                c.stop(!0, !1).animate({
                    left: n
                }, 500)
            }
            c.mouseleave(function() {
                l.removeClass("g_hover")
            }),
            c.mouseover(function() {
                l.addClass("g_hover")
            }),
            c.find(".childNavA_J").hover(function() {
                var e = $(this)
                  , t = e.attr("_colId")
                  , i = u[t];
                if (mSOptions.that = e,
                null != i && 0 < i.length) {
                    var n = []
                      , a = $("#navAcM" + p + "C" + t + "Panel");
                    if (0 == a.length) {
                        n.push("<div class='s_navList'>"),
                        $.each(i, function(e, t) {
                            var i = t.allowed
                              , a = "onclick = 'Fai.ing(LS.memberLoginNoPermission, false);'";
                            _isMemberLogin || (i = !0),
                            i && (a = "onclick = 'return true;'");
                            var o = "";
                            t.openType && (o = "target='_blank';"),
                            n.push("<table class='navAcrossCotent grandNavA_J g_item' cellpadding='0' cellspacing='0' style='*width:auto;'><tr>"),
                            n.push("<td class='navAcrossCotentLeft'></td>"),
                            n.push("<td class='navAcrossCotentCenter'>"),
                            n.push("<a href='" + (i ? t.url : "javascript:void(0);") + "' " + o + a + ">" + t.name + "</a>"),
                            n.push("<td class='navAcrossCotentRight'></td>"),
                            n.push("</tr></table>")
                        }),
                        n.push("</div>"),
                        mSOptions.idStr = "navAcM" + p + "C" + t + "Panel",
                        mSOptions.contentStr = n.join(""),
                        a = Site.moduleSubPanel(mSOptions);
                        var o = e.offset().left
                          , r = e.offset().top;
                        if (d || (o += e.outerWidth()),
                        a.css({
                            top: r,
                            left: o
                        }).show(),
                        d) {
                            var s = e.offset().left + e.outerWidth();
                            a.css("z-index", 1),
                            a.stop(!0, !1).animate({
                                left: s
                            }, 500)
                        }
                    }
                    a.find(".grandNavA_J").hover(function() {
                        $(this).addClass("g_hover")
                    }, function() {
                        $(this).removeClass("g_hover")
                    }),
                    a.mouseleave(function() {
                        c.attr("_mouseIn", 0),
                        l.removeClass("g_hover"),
                        e.removeClass("g_hover")
                    }),
                    a.mouseover(function() {
                        c.attr("_mouseIn", 1),
                        l.addClass("g_hover"),
                        e.addClass("g_hover")
                    }),
                    e.mouseleave(function() {
                        c.attr("_mouseIn", 0)
                    })
                }
                e.addClass("g_hover")
            }, function(e) {
                $(this).removeClass("g_hover")
            })
        }
        l.addClass("g_hover")
    }, function(e) {
        $(this).removeClass("g_hover")
    }).mouseleave(function() {
        h.css("z-index", "")
    }),
    Site.initContentSplitLine(p, e)
}
,
Site.onSiteFixTop = function() {
    if (!Fai.top._Global._navHidden) {
        var i = "#nav";
        Fai.top._useNavVersionTwo && (i = "#navV2");
        var a, o, n, r = !1, s = !1, l = Fai.isIE6(), e = Fai.isIE7(), d = Fai.top.$(i), c = Fai.top.$(window), t = Fai.top.$(window), p = Fai.top.$("#web"), u = Fai.top.$("body"), m = Fai.top.$(".webNavTable"), h = Fai.top.$(".webHeaderTable"), f = Fai.top.$(".webBannerTable"), g = Fai.top.$(".floatLeftTop"), v = d.parent(), _ = Fai.top.$("#sitetips"), S = Fai.top.$("#webBanner"), b = Fai.top.$("#webHeader"), x = Fai.top.$("#webNav"), w = parseInt(d.css("top").replace("px", "")), y = d.offset().top - (_.height() || 0), C = g.css("top").replace("px", "") || 0, F = Fai.top.$(window);
        (l || e) && (!0,
        F = t),
        isNaN(w) ? w = "auto" : w += "px",
        n = d.width() == p.width() ? (s = !0,
        "100%") : d.width() + "px";
        var I, P, k = d.offset().left - v.offset().left;
        F.on("scroll.nav", function() {
            if (!d.hasClass("fixed_project")) {
                var e = F.scrollTop()
                  , t = parseInt(g.css("top").replace("px", ""));
                C = t || 0,
                a = Site.getNavInClientPosition(d).left,
                !r && y < e && (l ? (I = d.parent(),
                P = d.offset().left - I.offset().left,
                u.prepend(d),
                d.css({
                    position: "absolute",
                    left: a + "px",
                    top: C + "px",
                    width: n
                }),
                d.css("width", n)) : (d.addClass("navfixtop"),
                d.css({
                    width: n,
                    left: a + "px",
                    top: C + "px"
                }),
                s && p.width() > c.width() && d.css("width", p.width() + "px"),
                0 < m.find(i).length ? (o = m).addClass("nav_fixed_wrap") : 0 < h.find(i).length ? (o = h).addClass("nav_fixed_wrap") : 0 < f.find(i).length && (o = f).addClass("nav_fixed_wrap"),
                o.css({
                    zIndex: "30",
                    position: "relative"
                }),
                S.addClass("fix-zIndex"),
                b.addClass("fix-zIndex"),
                x.addClass("fix-zIndex")),
                r = !0),
                r && e <= y && (l ? (v.append(d),
                d.css({
                    position: "",
                    width: "",
                    left: "",
                    top: "",
                    zIndex: ""
                })) : (d.removeClass("navfixtop"),
                d.css({
                    position: "",
                    width: "",
                    left: "",
                    top: ""
                }),
                o && o.css("zIndex", ""),
                S.removeClass("fix-zIndex"),
                b.removeClass("fix-zIndex"),
                x.removeClass("fix-zIndex"),
                h.removeClass("nav_fixed_wrap"),
                m.removeClass("nav_fixed_wrap"),
                f.removeClass("nav_fixed_wrap")),
                r = !1),
                0 < e && $(".webHeaderFixed").length ? x.addClass("fix-zIndex") : r || x.removeClass("fix-zIndex")
            }
        }),
        Fai.top.$(window).on("resize.nav", function() {
            d.hasClass("fixed_project") || (l && !s && 0 == d.offset().top ? d.css("left", I.offset().left + P) : (d.hasClass("navfixtop") && s && (p.width() < c.width() ? d.css("width", "") : p.width() > c.width() && setTimeout(function() {
                d.css("width", p.width() + "px")
            }, 0)),
            d.hasClass("navfixtop") && !s && setTimeout(function() {
                d.css("left", v.offset().left + k)
            }, 0)))
        })
    }
}
,
Site.getNavInClientPosition = function(e) {
    var t = e[0];
    if ("undefined" != typeof t.getBoundingClientRect)
        return t.getBoundingClientRect();
    var i = (Fai.top._manageMode,
    Fai.top.$(window))
      , a = {
        left: 0,
        right: 0
    }
      , o = t.offsetParent;
    for (a.left = t.offsetLeft,
    a.top = t.offsetTop; null !== o; )
        a.left += o.offsetLeft,
        a.top += o.offsetTop,
        o = o.offsetParent;
    return "fixed" == e.css("position") && (a.top = e.css("top")),
    {
        left: a.left - i.scrollLeft(),
        top: a.top - i.scrollTop()
    }
}
,
Site.onNavCntPositionFixTop = function() {
    var e = Fai.top._useNavVersionTwo ? Fai.top._navStyleV2Data.no : Fai.top._navStyleData.no;
    !Fai.top._Global._navHidden && e && (Fai.top._manageMode ? Site.onManageFixTop() : Site.onSiteFixTop())
}
;
var HOVER_POSITION_TOP = 0
  , HOVER_DISPLAY = 1
  , HOVER_POSITION_BOTTOM = 2
  , DoubleLangNav = function() {
    function l() {
        _classCallCheck(this, l),
        this.strategies = [],
        this.$nav = Fai.top.$("#navV2"),
        this.cfg = {
            ANIMATE_TIME: 200,
            MARGIN: 4,
            NAME_CLASS: ".J_nav_item_name",
            SUBNAME_CLASS: ".J_nav_item_subname"
        }
    }
    return _createClass(l, [{
        key: "animate",
        value: function a(e, t, i) {
            e.animate(t, this.cfg.ANIMATE_TIME, i)
        }
    }, {
        key: "init",
        value: function e() {
            0 !== Fai.top.$("#navV2").length && this.bindEvents()
        }
    }, {
        key: "bindEvents",
        value: function o() {
            try {
                var e = Fai.top._navStyleV2Data.ndl
                  , t = Fai.top._navStyleV2Data.ndls;
                if (!e)
                    return;
                this.hoverNavItemAction(t)
            } catch (i) {
                return void console.error(i)
            }
        }
    }, {
        key: "registerAnimation",
        value: function i(e) {
            var t = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : {};
            this.strategies[e] = t
        }
    }, {
        key: "getNavItemTuple",
        value: function t(e) {
            return [e.find(this.cfg.NAME_CLASS) || {}, e.find(this.cfg.SUBNAME_CLASS) || {}]
        }
    }, {
        key: "hoverNavItemAction",
        value: function n(e) {
            var t = this.strategies[e];
            if (t) {
                var i = Fai.top.$("#navV2")
                  , a = i.find(".navItem")
                  , o = this;
                this.$nav = i,
                this.resetNavStyle(),
                a.off(".doubleTitle").on("mouseenter.doubleTitle", function() {
                    t["in"].apply(t, [o].concat(_toConsumableArray2(o.getNavItemTuple($(this)))))
                }).on("mouseleave.doubleTitle", function() {
                    t.out.apply(t, [o].concat(_toConsumableArray2(o.getNavItemTuple($(this)))))
                })
            }
        }
    }, {
        key: "resetNavStyle",
        value: function d() {
            var e = Fai.top.$("#navV2")
              , t = Fai.top._navStyleV2Data.ndls
              , i = e.find(".J_nav_item_subname")
              , a = e.find(".J_nav_item_name");
            switch (t) {
            case 0:
                i.css({
                    "margin-top": this.cfg.MARGIN,
                    top: "-50%",
                    display: "block",
                    "line-height": "1"
                }).show();
                var o = l.getFontSizeNum(a) / 2;
                a.css({
                    position: "relative",
                    top: "-".concat(o, "px")
                });
                break;
            case 1:
                a.css({
                    "margin-top": "0px",
                    top: "0px",
                    "line-height": "inherit"
                }),
                i.hide().css({
                    "line-height": "inherit",
                    "margin-top": "0px",
                    top: "0px"
                });
                break;
            case 2:
                var n = l.getFontSizeNum(a) / 2 + this.cfg.MARGIN
                  , r = l.getFontSizeNum(i) / 2 + l.getFontSizeNum(a) / 2
                  , s = isNaN(r) ? 8 : r + this.cfg.MARGIN;
                i.css({
                    "margin-top": "-".concat(s, "px"),
                    top: "-50%",
                    display: "block",
                    "line-height": "1"
                }).show(),
                a.css({
                    position: "relative",
                    "line-height": "1",
                    top: "".concat(n, "px")
                })
            }
        }
    }, {
        key: "change",
        value: function r() {
            try {
                if (!Fai.top._navStyleV2Data.ndl)
                    return void this.close();
                this.resetNavStyle(),
                this.bindEvents()
            } catch (e) {
                return void console.error(e)
            }
        }
    }, {
        key: "close",
        value: function s() {
            var e = this.$nav.find(this.cfg.NAME_CLASS)
              , t = this.$nav.find(this.cfg.SUBNAME_CLASS);
            e.css({
                "margin-top": "0px",
                top: "0px"
            }),
            t.hide(),
            this.$nav.find(".navItem").off("hover")
        }
    }, {
        key: "config",
        get: function c() {
            return this.cfg
        },
        set: function p() {
            var e = 0 < arguments.length && arguments[0] !== undefined ? arguments[0] : {};
            this.cfg = Object.assign({}, this.cfg, e)
        }
    }], [{
        key: "getFontSizeNum",
        value: function u() {
            var e = (0 < arguments.length && arguments[0] !== undefined ? arguments[0] : {}).css("font-size");
            if ("string" == typeof e) {
                if ("px" !== e.substring(e.length - 2))
                    return -1;
                var t = e.match(/\d+/)
                  , i = t && t[0];
                return isNaN(Number(i)) ? 0 : Number(i)
            }
        }
    }]),
    l
}()
  , _doubleLangNav = new DoubleLangNav;
function _main() {
    if ($(function() {
        _doubleLangNav.init()
    }),
    Fai.top == window) {
        var e, a, o = $("#module" + a), t = Fai.top.$("#navV2").length ? $("#navV2 a") : $("#nav a");
        Fai.top._manageMode,
        e = Fai.top.window,
        $(e).bind("scroll", function() {
            t.each(function() {
                if (null != (a = $(this).attr("_module")) && a != undefined && 0 < (o = $("#module" + a)).length) {
                    var e = o[0].getBoundingClientRect().top
                      , t = $(window).height()
                      , i = o.height();
                    0 <= e ? e < t && .6 * i <= t - e && ($(this).parents(".item").addClass("itemSelected"),
                    $(this).parents(".item").siblings().removeClass("itemSelected")) : (e = Math.abs(e)) < i && .6 * i <= i - e && ($(this).parents(".item").addClass("itemSelected"),
                    $(this).parents(".item").siblings().removeClass("itemSelected"))
                }
            })
        }),
        $(window).bind("scroll", function() {
            t.each(function() {
                if (null != (a = $(this).attr("_module")) && a != undefined && 0 < (o = $("#module" + a)).length) {
                    var e = o[0].getBoundingClientRect().top
                      , t = $(window).height()
                      , i = o.height();
                    0 <= e ? e < t && .6 * i <= t - e && ($(this).parents(".item").addClass("itemSelected"),
                    $(this).parents(".item").siblings().removeClass("itemSelected")) : (e = Math.abs(e)) < i && .6 * i <= i - e && ($(this).parents(".item").addClass("itemSelected"),
                    $(this).parents(".item").siblings().removeClass("itemSelected"))
                }
            })
        })
    }
}
function buildBgRepeat(e) {
    var t = "";
    if (-1 == e)
        return t;
    switch (e) {
    case 11:
        t += " repeat-x top ";
        break;
    case 1:
        t += " repeat-x center ";
        break;
    case 12:
        t += " repeat-x bottom ";
        break;
    case 21:
        t += " repeat-y left ";
        break;
    case 2:
        t += " repeat-y center ";
        break;
    case 22:
        t += " repeat-y right ";
        break;
    case 3:
        t += " repeat center ";
        break;
    case 5:
        t += " repeat top / 100% ";
        break;
    case 0:
        t += " no-repeat center ";
        break;
    case 6:
        t += " no-repeat left ";
        break;
    case 7:
        t += " no-repeat right ";
        break;
    case 8:
        t += " no-repeat top ";
        break;
    case 9:
        t += " no-repeat bottom ";
        break;
    case 13:
        t += " no-repeat left top ";
        break;
    case 14:
        t += " no-repeat right top ";
        break;
    case 15:
        t += " no-repeat left bottom ";
        break;
    case 16:
        t += " no-repeat right bottom "
    }
    return t
}
_doubleLangNav.registerAnimation(HOVER_DISPLAY, {
    "in": function _in(e, t, i) {
        var a = Math.max(t.width(), i.width());
        i.css({
            width: a,
            display: "block",
            margin: "0 auto"
        }).show(),
        t.css("width", a).hide()
    },
    out: function out(e, t, i) {
        i.css("width", "auto").hide(),
        t.css("width", "auto").show()
    }
}),
_doubleLangNav.registerAnimation(HOVER_POSITION_TOP, {
    "in": function _in(e, t, i) {
        var a = DoubleLangNav.getFontSizeNum(i) / 2 + DoubleLangNav.getFontSizeNum(t) / 2
          , o = isNaN(a) ? 8 : a + e.config.MARGIN
          , n = DoubleLangNav.getFontSizeNum(i) / 2 + e.config.MARGIN;
        e.animate(t, {
            top: "".concat(n, "px")
        }),
        e.animate(i, {
            top: "-50%",
            "margin-top": "-".concat(o)
        })
    },
    out: function out(e, t, i) {
        var a = DoubleLangNav.getFontSizeNum(t) / 2;
        e.animate(t, {
            top: "-".concat(a, "px")
        }),
        e.animate(i, {
            top: "-50%",
            "margin-top": e.config.MARGIN
        })
    }
}),
_doubleLangNav.registerAnimation(HOVER_POSITION_BOTTOM, {
    "in": function _in(e, t, i) {
        var a = DoubleLangNav.getFontSizeNum(t) / 2;
        e.animate(t, {
            top: "-".concat(a, "px")
        }),
        e.animate(i, {
            top: "-50%",
            "margin-top": "".concat(e.config.MARGIN, "px")
        })
    },
    out: function out(e, t, i) {
        var a = DoubleLangNav.getFontSizeNum(t) / 2 + e.config.MARGIN
          , o = DoubleLangNav.getFontSizeNum(i) / 2 + DoubleLangNav.getFontSizeNum(t) / 2
          , n = isNaN(o) ? 8 : o + e.config.MARGIN;
        e.animate(t, {
            top: "".concat(a, "px")
        }),
        e.animate(i, {
            top: "-50%",
            "margin-top": "-".concat(n, "px")
        })
    }
}),
Site.doubleLangNav = _doubleLangNav,
_main(),
Site.initSubNavPack = function(t, e, i, a, o, n, r) {
    var s = $("#fk-subNavPack" + t);
    if (0 == s.length) {
        var l = $("#navV2").offset().top
          , d = $("#navV2").height()
          , c = "300px"
          , p = "100%"
          , u = "0px"
          , m = $("#web").width()
          , h = $("#webContainer").width()
          , f = (m - h) / 2
          , g = h
          , v = ""
          , _ = "";
        document.documentElement.scrollHeight > document.documentElement.clientHeight && (p = $("#web").width() + "px"),
        n.h && (c = n.h + "px"),
        n.w && n.w < 112 && (n.w = 112),
        !a && n.w && "undefined" == typeof n.lt ? (p = n.w + "px",
        n.l && (u = n.l + "px",
        n.l > f ? f = 0 : f -= n.l),
        n.w < g && (g = n.w,
        n.w = g)) : a || (p = "",
        u = f + "px",
        f = 0),
        _ = "undefined" == typeof r.t ? ("" == (v += o) && (v += "#fff"),
        "transparent" == o || /rgba\((\d{1,3},\s*){1,3}0\)/.test(o) ? "fk-subNavPack-no-shadow" : "") : (v += Site.buildNavV2BgStyle(r),
        "transparent" == r.c || /rgba\((\d{1,3},\s*){1,3}0\)/.test(r.c) ? "fk-subNavPack-no-shadow" : "");
        var S = "width:" + p + "; height:" + c + "; top:" + (l + d) + "px; left:" + u + "; background:" + v + ";"
          , b = "width:" + g + "px; height:" + c + "; margin-left:" + f + "px;"
          , x = "";
        if (!e || 0 != e.length && 0 != i.length)
            $("<div id='fk-subNavPack" + t + "' class='fk-subNavPack " + _ + " ' style='" + S + "'><div class='container forms J_subNavPack' id='fk-subNavPackContainer" + t + "' style='" + b + "'><div class='fk-elemZoneBg J_zoneContentBg elemZoneBg'></div></div></div>").appendTo("body");
        else {
            if (!Fai.top._manageMode)
                return;
            $("<div id='fk-subNavPack" + t + "' class='fk-subNavPack " + _ + " ' style='" + S + "'><div class='container forms J_subNavPack' id='fk-subNavPackContainer" + t + "' style='" + b + "'><div class='fk-elemZoneBg J_zoneContentBg elemZoneBg'></div></div></div>").appendTo("body"),
            Fai.top._designAuth && M()
        }
        s = $("#fk-subNavPack" + t);
        for (var w = 0; w < i.length; w++)
            s.find(".container").append(i[w]);
        var y = !1;
        for (w = 0; w < e.length; w++) {
            var C = e[w]
              , F = C.id
              , I = C.l
              , P = C.t
              , k = C.s;
            if (F) {
                Fai.top._manageMode && jzModule.manage.initModuleVue(F);
                var L = Fai.top.$("#module" + F);
                0 != L.length && (L.css({
                    position: "absolute",
                    left: I + "px",
                    top: P + "px"
                }),
                L.attr("_inSubNavPack", 1),
                0 == k ? L.css("display", "none") : y = !0)
            }
        }
        if (Fai.top._manageMode && !y && Fai.top._designAuth && M(),
        Fai.top._manageMode && Fai.top._designAuth) {
            var T = function T() {
                1 != Fai.top._subNavPackEdit && (Site.logDog(200256, 2),
                s.find(".editSubNavPack").hide(),
                Site.inSubNavPackEdit.subNavFreePackEdit(t))
            };
            a && (x = "left:" + (f + 10) + "px"),
            s.append("<div class='editSubNavPack' style=' " + x + " '><div class='icon'></div><div class='tit'>编辑模块</div></div>"),
            s.find(".editSubNavPack").click(T),
            s.off("dblclick.edit").on("dblclick.edit", T),
            s.off("contextmenu.stopPro").on("contextmenu.stopPro", function(e) {
                Fai.top._subNavPackEdit || (e.stopPropagation(),
                e.preventDefault())
            })
        }
        s.data("packSizeData", n),
        s.data("isFullMeasure", a),
        s.find(".formStyle86, .editTip").css("cursor", "default")
    }
    function M() {
        var e = ($("#fk-subNavPack" + t).height() - 16) / 2;
        $("#fk-subNavPack" + t).append("<div class='subNavNoModule' style='top:" + e + "px'>当前模块无内容访客态将不显示，选择<div class='toChooseTemplate'>素材模块</div>开始编辑</div>"),
        $("#fk-subNavPack" + t).find(".toChooseTemplate").click(function() {
            Site.popupWindow({
                title: "请选择素材模块进入带图样式的编辑",
                frameSrcUrl: "manage_v2/subNavPackTpl.jsp?subNavColId=" + t,
                popUpWinClass: "subNavPackTpl",
                width: 620,
                height: 880,
                version: 2,
                saveBeforePopup: !1
            })
        })
    }
}
,
Site.buildNavV2BgStyle = function(e) {
    var t = "";
    return 2 == e.t ? (e.c && (t += e.c),
    e.ph && (t += " url(" + e.ph + ") ",
    2 != e.ps ? t += buildBgRepeat(e.pp) : t += " repeat top / 100% 100% ")) : t = "#ffffff",
    t
}
,
Site.showSubNavPack = function() {
    if (!Fai.top._useNavVersionTwo || 2 == Fai.top._navStyleV2Data.snt) {
        var p = Fai.top.$("#navV2");
        $.each(Fai.top.$("#navV2 .navCenter .item"), function(e, t) {
            var i = $(this)
              , a = Fai.top._colId
              , o = Fai.top._fromColId
              , n = i.attr("colId");
            $(this).unbind(),
            n != a && n != o || i.addClass("itemSelected");
            var r, s = parseInt($(this).attr("id").replace("nav", "")), l = !1, d = !1, c = !1;
            i.hover(function() {
                p.hasClass("ui-resizable-resizing") || (r && clearTimeout(r),
                l = !0,
                $(this).addClass("itemHover"),
                u(s),
                2 == Fai.top._navStyleV2Data.snt && ($(".fk-subNavPack").each(function(e, t) {
                    "block" == $(t).css("display") && (c = !0)
                }),
                m(s),
                c ? ($(".fk-subNavPack").hide(),
                Fai.top.$("#fk-subNavPack" + s).show()) : Fai.top.$("#fk-subNavPack" + s).slideDown(200)),
                Fai.top.$("#fk-subNavPack" + s + " .formStyle1:not(.subNavFix)").addClass("subNavFix").trigger("Fai_onModuleSizeChange"))
            }, function() {
                p.hasClass("ui-resizable-resizing") || (l = !1,
                $(this).removeClass("itemHover"),
                r = setTimeout(function() {
                    d || Fai.top._subNavPackEdit || Fai.top.$("#fk-subNavPack" + s).slideUp(100)
                }, 200),
                c = !1)
            }),
            Fai.top.$("#fk-subNavPack" + s).hover(function() {
                r && clearTimeout(r),
                d = !0,
                u(s),
                2 == Fai.top._navStyleV2Data.snt && (Fai.top._subNavPackEdit || Fai.top.$("#nav" + s).addClass("itemHover"),
                $(".fk-subNavPack").each(function(e, t) {
                    "block" == $(t).css("display") && (c = !0)
                }),
                c ? ($(".fk-subNavPack").hide(),
                Fai.top.$("#fk-subNavPack" + s).show()) : Fai.top.$("#fk-subNavPack" + s).slideDown(200)),
                Fai.top.$("#fk-subNavPack" + s + " .formStyle1:not(.subNavFix)").addClass("subNavFix").trigger("Fai_onModuleSizeChange")
            }, function() {
                d = !1,
                r = setTimeout(function() {
                    l || Fai.top._subNavPackEdit || (Fai.top.$("#nav" + s).removeClass("itemHover"),
                    Fai.top.$("#fk-subNavPack" + s).slideUp(100))
                }, 200),
                c = !1
            })
        }),
        $(document).off("mousewheel.navSubPack").on("mousewheel.navSubPack", ".J_subNavPack, .navV2", function(e) {
            e.preventDefault(),
            e.stopPropagation()
        }),
        Fai.isPC() || $(document).off("scroll.nsp").on("scroll.nsp", function() {
            $(".navV2 .itemHover").trigger("mouseleave")
        }),
        $(".J_subNavPack").scrollTop(0)
    }
    function u(e) {
        var t = Fai.top.$("#navV2").offset().top - $(window).scrollTop()
          , i = Fai.top.$("#navV2").height();
        $("#fk-subNavPack" + e).css("top", t + i + "px")
    }
    function m(e) {
        var t, i, a, o, n, r, s, l, d, c, p, u = Fai.top.$("#fk-subNavPack" + e), m = Fai.top.$("#webContainerTable");
        if (!(u.length < 1 || m.length < 1)) {
            t = u.data("packSizeData"),
            i = u.data("isFullMeasure"),
            c = u.find("#fk-subNavPackContainer" + e),
            p = Fai.top.$("#nav" + e);
            var h = $(document).scrollLeft();
            if (1 == t.lt)
                r = m.width() + (n = m.offset().left),
                s = Fai.top.$("#web").width(),
                !i && 0 < p.length && (a = (a = t.nl + p.offset().left - h) < 0 ? 0 : a,
                u.css("left", Math.floor(a) + "px"),
                u.width(t.w),
                a + t.w > s && u.width(s - a),
                o = u.width() + a,
                l = Math.min(o, r),
                d = Math.max(n, a),
                c.width(l - d),
                a < n ? c.css("margin-left", n - a + "px") : c.css("margin-left", 0));
            else
                i || (a = (a = ($("#web").width() - $("#webContainer").width()) / 2 - h) < 0 ? 0 : a,
                u.css("left", Math.floor(a) + "px"))
        }
    }
}
,
Site.setNavV2Wrap = function() {
    var e = $("#webContainer").width()
      , t = document.documentElement.scrollHeight;
    $("#navV2Wrap").css({
        width: e + "px",
        height: t + "px"
    })
}
,
Site.clearNavV2Wrap = function() {
    $("#navV2Wrap").css({
        width: "",
        height: ""
    })
}
,
Site.refreshSubNavPack = function() {
    var e = $("#navV2");
    e.length && e.one("mouseenter.resubpack", function() {
        var r, e = Fai.top.$("#webContainer");
        e.length < 1 || (r = e.offset().left,
        $(".fk-subNavPack").each(function() {
            var e, t, i, a, o, n = $(this);
            o = n.find(".container"),
            e = n.data("packSizeData"),
            t = n.data("isFullMeasure"),
            i = n.width(),
            a = o.width(),
            t && o.css("margin-left", r + "px"),
            t || ("undefined" == typeof e.lt && "undefined" == typeof e.w || 0 == e.lt) && n.css("left", r + "px"),
            t && i < a && n.width(a)
        }))
    })
}
,
Site.initModulePhotoSwitch = function(e, t, i, a) {
    var o = Fai.top.$("#module" + e)
      , n = o.find(".formMiddleContent");
    t.picScale,
    n.width(),
    n.height(),
    t.data;
    if (o.data("photoSwitchData", t),
    o.data("photoSwitchType", i),
    1 == i) {
        var r = $("#photoSwitch" + e);
        r.css("margin", "0 auto"),
        r.imageSwitch(t),
        n.width() < r.width() && r.css("width", n.width());
        var s = r.find(".imageSwitchShowName").eq(0)
          , l = r.find(".imageSwitchBtnArea").eq(0);
        .4 <= l.width() / r.width() && r.find(".spanHiddenName").each(function() {
            $(this).css("width", 100 * (1 - (l.width() + 20) / r.width()) + "%")
        }),
        l.css("bottom", "5px");
        var d = l[0].getBoundingClientRect().left
          , c = r[0].getBoundingClientRect().left;
        l.width(l.width() + 5 + "px"),
        l.css("top", "auto"),
        s.find(".spanHiddenName") && "block" == s.css("display") && (s.css("height", "auto"),
        "carouselPhotos" == a ? (s.find(".spanHiddenName").each(function() {
            "" == $(this).text() && $(this).css("height", "30px")
        }),
        s.css({
            top: "auto",
            bottom: "0",
            width: r.width() + "px",
            "margin-left": "2px",
            "margin-bottom": "2px"
        }),
        l.css("bottom", "8px")) : s.css({
            top: "auto",
            bottom: "0",
            "padding-bottom": "15px",
            width: "100%"
        })),
        1 == s.find(".spanHiddenName").length && s.css({
            "padding-bottom": "0",
            "margin-left": ""
        });
        for (var p = r.find(".spanHiddenName").length, u = 0; u < p; u++) {
            if ((w = r.find(".spanHiddenName").eq(u)).css("max-width", "98%"),
            1 == t.switchWrapName)
                if (s.css("padding-bottom", "0px"),
                w.css({
                    "word-wrap": "break-word",
                    width: "auto"
                }),
                Fai.isIE6() || Fai.isIE7())
                    1 < p && w.css("padding-bottom", "15px");
                else {
                    var m = !1;
                    "none" == w.css("display") && (w.addClass("spanShowName"),
                    m = !0);
                    var h = c + w[0].clientWidth + 10;
                    m && w.removeClass("spanShowName"),
                    5 <= d - h ? (w.css({
                        "padding-top": "2px",
                        "padding-bottom": "0px",
                        bottom: "0px"
                    }),
                    "carouselPhotos" == a && "" == w.text() && w.css("height", "30px")) : 1 < p && w.css("padding-bottom", "15px")
                }
            else
                1 == p ? w.css({
                    "white-space": "nowrap",
                    width: "99%"
                }) : (l.width() + 20) / r.width() < .4 ? w.css({
                    "white-space": "nowrap",
                    width: "60%",
                    "padding-top": "2px"
                }) : w.css({
                    "white-space": "nowrap",
                    "padding-top": "2px"
                })
        }
        if (2 == t.picScale) {
            var f = (y = o.find(".switchGroup")).find("a").width()
              , g = y.find("a").height()
              , v = (y.find("a"),
            y.find("img"));
            for (u = 0; u < v.length; u++) {
                f / g <= (F = (C = t.data[u]).widthOr / C.heightOr) ? (v.eq(u).css("width", F * g + "px"),
                v.eq(u).css("height", g + "px"),
                v.eq(u).css("marginLeft", (f - F * g) / 2 + "px")) : (v.eq(u).css("height", f / F + "px"),
                v.eq(u).css("width", f + "px"),
                v.eq(u).css("marginTop", (g - f / F) / 2 + "px"))
            }
        }
    } else if (2 == i) {
        var _ = $("#photoDotSwitch" + e);
        _.imageSwitch(t);
        s = _.find(".imageSwitchShowName").eq(0);
        var S = _.find(".imageSwitchBtnArea").eq(0)
          , b = 0;
        if (S.css("left", ""),
        S.width() > _.width() && (S.find(".imageSwitchBtn_dot").each(function() {
            $(this).css("marginRight", "2px")
        }),
        S.width() > _.width() && (b = 1,
        S.css("marginLeft", "-" + S.width() / 2 + "px"))),
        0 == b && (S.css("marginLeft", "-" + S.width() / 2 + "px"),
        S.css("left", "50%")),
        n.width() < _.width() && _.css("width", n.width()),
        "block" == s.css("display") && s.find(".spanHiddenName"))
            if ("carouselPhotos" == a) {
                s.css({
                    height: "auto",
                    top: "auto",
                    bottom: "0",
                    "padding-bottom": "27px"
                });
                var x = _.width() - 44;
                s.css({
                    "margin-left": "2px",
                    "margin-bottom": "2px",
                    width: "auto"
                }),
                s.find(".spanHiddenName").each(function() {
                    $(this).css({
                        margin: "0px 22px",
                        width: x
                    })
                }),
                S.css({
                    "text-align": "center",
                    left: "0",
                    right: "0",
                    "margin-left": "10px"
                }),
                S.find(".imageSwitchBtn_dot").css("float", "none"),
                S.css("padding-bottom", "2px")
            } else
                s.css({
                    height: "auto",
                    top: "auto",
                    bottom: "0",
                    "padding-bottom": "15px"
                }),
                s.find(".spanHiddenName").each(function() {
                    $(this).css("marginLeft", "0px")
                }),
                s.width("100%");
        1 == s.find(".spanHiddenName").length && s.css({
            "padding-bottom": "0",
            "margin-left": ""
        });
        for (p = _.find(".spanHiddenName").length,
        u = 0; u < p; u++) {
            var w = _.find(".spanHiddenName").eq(u);
            1 == t.switchWrapName ? w.css("word-wrap", "break-word") : w.css("white-space", "nowrap")
        }
        if (2 == t.picScale)
            for (f = (y = o.find(".switchGroup")).find("a").width(),
            g = y.find("a").height(),
            y.find("a"),
            v = y.find("img"),
            u = 0; u < v.length; u++) {
                f / g <= (F = (C = t.data[u]).widthOr / C.heightOr) ? (v.eq(u).css("width", F * g + "px"),
                v.eq(u).css("height", g + "px"),
                v.eq(u).css("marginLeft", (f - F * g) / 2 + "px")) : (v.eq(u).css("height", f / F + "px"),
                v.eq(u).css("width", f + "px"),
                v.eq(u).css("marginTop", (g - f / F) / 2 + "px"))
            }
    }
    if (1 != i && "carouselPhotos" == a && 2 == t.picScale) {
        var y;
        for (f = (y = o.find(".switchGroup")).find("a").width(),
        g = y.find("a").height(),
        y.find("a"),
        v = y.find("img"),
        u = 0; u < v.length; u++) {
            var C, F;
            f / g <= (F = (C = t.data[u]).width / C.height) ? (v.eq(u).css("width", F * g + "px"),
            v.eq(u).css("height", g + "px"),
            v.eq(u).css("left", (f - F * g) / 2 + "px")) : (v.eq(u).css("height", f / F + "px"),
            v.eq(u).css("width", f + "px"),
            $(this).css("top", (g - f / F) / 2 + "px"))
        }
    }
}
,
Site.refreshModulePhotoSwitch = function(e) {
    var t = Fai.top.$("#module" + e);
    if (0 < t.length) {
        var i = t.data("photoSwitchData")
          , a = t.data("photoSwitchType");
        1 == a ? t.find("#photoSwitch" + e).empty() : 2 == a && t.find("#photoDotSwitch" + e).empty(),
        void 0 !== i && Site.initModulePhotoSwitch(e, i, a)
    }
}
,
Site.loadPhotoMarquee = function(e, u, m, h, f, t) {
    var i = Fai.top["Photo" + e].ieOpt
      , a = Fai.top["Photo" + e].tgOpt
      , o = Fai.top["Photo" + e].callbackArgs
      , n = $("#module" + e);
    if (!Fai.isNull(n)) {
        "listPhotos" != f && "carouselPhotos" != f && "photoList" != f || (m = 1),
        n.find(".demo0>div").each(function() {
            $(this).attr("cloneDiv") && $(this).remove()
        });
        var g = 0
          , r = n.find(".photoMarqueeForm");
        m || r.each(function() {
            var e = $(this).attr("faiWidth")
              , t = $(this).attr("faiHeight");
            if (!Fai.isNull(t)) {
                var i = $(this).find(".imgDiv")
                  , a = i.width()
                  , o = i.height()
                  , n = Fai.Img.calcSize(e, t, a, o, Fai.Img.MODE_SCALE_FILL);
                n.height > g && (g = n.height)
            }
        }),
        4 <= i.effType && i.effType < 6 && Site.clearImageEffectContent_photo("module" + e, "propDiv");
        var v = 0
          , s = 0
          , l = 0
          , _ = 0
          , S = 0
          , b = Site.getFormMiddleContentHeight(n, e);
        r.each(function() {
            var e = $(this)
              , t = e.attr("faiHeight");
            if (!Fai.isNull(t)) {
                var i = e.attr("faiWidth")
                  , a = e.find(".imgDiv")
                  , o = a.width();
                m && (g = a.height());
                var n = {
                    width: o,
                    height: g
                }
                  , r = a.find(".J_photoImgPanel")
                  , s = a.find("img");
                if ("photoGroup" != f)
                    if (2 == u) {
                        var l = s.attr("iWidth") / s.attr("iHeight");
                        o / g <= l ? (s.css("width", l * g + "px"),
                        s.css("height", g + "px"),
                        s.css("marginTop", ""),
                        s.css("marginLeft", (o - l * g) / 2 + "px")) : (s.css("height", o / l + "px"),
                        s.css("width", o + "px"),
                        s.css("marginLeft", ""),
                        s.css("marginTop", (g - o / l) / 2 + "px")),
                        r.css({
                            width: o,
                            height: g,
                            position: "relative",
                            overflow: "hidden"
                        })
                    } else
                        "number" == typeof u && (u = !u),
                        u && (n = m ? Fai.Img.calcSize(i, t, o, g, Fai.Img.MODE_SCALE_FILL) : Fai.Img.calcSize(i, t, o, g, Fai.Img.MODE_SCALE_DEFLATE_HEIGHT)),
                        (0 < r.length || 0 < a.length) && (r.css({
                            marginLeft: "",
                            marginTop: "",
                            width: n.width + "px",
                            height: n.height + "px",
                            position: "relative",
                            overflow: "hidden",
                            margin: "0 auto"
                        }),
                        s.css("marginLeft", "").css("marginTop", "")),
                        s.css("width", n.width + "px"),
                        s.css("height", n.height + "px");
                var d = a.width();
                d < n.width && (d = n.width);
                var c = e.find(".propDiv");
                c.width() != d && c.css("width", d + "px"),
                a.width() != d && a.css("width", d + "px"),
                a.height() != g && (a.css("height", g + "px"),
                $.browser.msie && 6 == $.browser.version && a.addClass("wocaie6").removeClass("wocaie6")),
                e.height() > _ && (0 == h || 1 == h) && (_ = $(this).outerHeight(!0)),
                _ < b && (2 == h || 3 == h) && (_ = b);
                var p = e.outerWidth(!0);
                e.outerHeight(!0);
                S < p && (S = p),
                v += p
            }
        }),
        s = v,
        0 < $(".photoMarqueeForm").length && Site.unifiedAttrVal(n, ".photoMarqueeForm", "height");
        var d = n.find(".demo")
          , c = n.find(".demo0");
        if (l = c.outerHeight(),
        0 < _ && d.css("height", _ + "px"),
        0 == h || 1 == h) {
            c.css("width", v + "px");
            var p = d.width();
            if (c.width() <= p)
                return void jzUtils.run({
                    name: "ImageEffect.FUNC.BASIC.Init",
                    callMethod: !0
                }, {
                    moduleId: e,
                    imgEffOption: i,
                    tagetOption: a,
                    callback: Site.createImageEffectContent_photo,
                    callbackArgs: o
                })
        }
        if (2 == h || 3 == h) {
            _ = d.height();
            if (c.height() <= _)
                return void jzUtils.run({
                    name: "ImageEffect.FUNC.BASIC.Init",
                    callMethod: !0
                }, {
                    moduleId: e,
                    imgEffOption: i,
                    tagetOption: a,
                    callback: Site.createImageEffectContent_photo,
                    callbackArgs: o
                })
        }
        if (0 != r.length)
            if (0 != r.first().outerWidth(!0)) {
                var x = 0
                  , w = r.length - 1;
                r.each(function(e, t) {
                    if (p < x)
                        return !1;
                    var i = $(t).clone().attr("cloneDiv", "true");
                    tmpId = i.children("div.imgDiv").attr("id"),
                    i.children("div.imgDiv").attr("id", tmpId + "_clone"),
                    0 !== e || 2 != h && 3 != h || ($(t).css("clear", "both"),
                    i.css("clear", "both")),
                    (Fai.isIE6() || Fai.isIE7()) && e === w && ($(r[e]).after('<div style="clear:both;"></div>'),
                    i.after('<div style="clear:both;"></div>')),
                    c.append(i),
                    x += i.outerWidth(!0)
                });
                var y = v + x;
                0 != h && 1 != h || c.css("width", y + "px");
                var C = [31, 50, 22][t || 0];
                if (0 == h ? (c.css("marginLeft", -(2 * v - d.width()) + "px"),
                Fai.addInterval("marquee" + e, I, C)) : 1 == h ? Fai.addInterval("marquee" + e, P, C) : 2 == h ? (c.css("marginTop", -(2 * l - d.height()) + "px"),
                Fai.addInterval("marquee" + e, k, C)) : 3 == h && Fai.addInterval("marquee" + e, L, C),
                d.mouseover(function() {
                    Fai.stopInterval("marquee" + e)
                }).mouseleave(function() {
                    Fai.startInterval("marquee" + e)
                }),
                setTimeout(function() {
                    Fai.startInterval("marquee" + e)
                }, 100),
                n.data("first1") || (n.data("first1", !0),
                n.data("options", {
                    id: e,
                    scale: u,
                    fixHeight: m,
                    phoMarqueeDirection: h,
                    flag: f
                })),
                n.data("first2") && Fai.top._manageMode) {
                    var F = n.data("photoOptions");
                    Site.initModulePhotoListItemManage(F),
                    "listPhotos" == f && Site.moduleListPhotosItemManage.init(F)
                }
                jzUtils.run({
                    name: "ImageEffect.FUNC.BASIC.Init",
                    callMethod: !0
                }, {
                    moduleId: e,
                    imgEffOption: i,
                    tagetOption: a,
                    callback: Site.createImageEffectContent_photo,
                    callbackArgs: o
                }),
                Site.restartPhotoMarquee(n)
            }
    }
    function I() {
        v--,
        c.css("marginLeft", -v + "px"),
        0 == v && (c.css("marginLeft", -s + "px"),
        v = s)
    }
    function P() {
        var e = parseInt(c.css("marginLeft"));
        e--,
        c.css("marginLeft", e + "px"),
        e == -v && c.css("marginLeft", 0)
    }
    function k() {
        var e = parseInt(c.css("marginTop"));
        e++,
        c.css("marginTop", e + "px"),
        0 == e && c.css("marginTop", -l + "px")
    }
    function L() {
        var e = parseInt(c.css("marginTop"));
        e--,
        c.css("marginTop", e + "px"),
        e == -l && c.css("marginTop", 0)
    }
}
,
Site.restartPhotoMarquee = function(t) {
    t.data("first2") || (t.data("first2", !0),
    t.on("Fai_onModuleSizeChange", function() {
        var e = t.data("options");
        Fai.stopInterval("marquee" + e.id),
        Site.loadPhotoMarquee(e.id, e.scale, e.fixHeight, e.phoMarqueeDirection, e.flag)
    }),
    t.on("Fai_onModuleLayoutChange", function() {
        var e = t.data("options");
        Fai.stopInterval("marquee" + e.id),
        Site.loadPhotoMarquee(e.id, e.scale, e.fixHeight, e.phoMarqueeDirection, e.flag)
    }))
}
,
Site.getFormMiddleContentHeight = function(e, t) {
    var i = e.height()
      , a = e.find(".formTop").first()
      , o = e.find(".formBanner" + t).first()
      , n = e.find(".formMiddle").first()
      , r = e.find(".formBottom").first()
      , s = 0;
    "none" != a.css("display") && (s = a.outerHeight(!0));
    var l = 0;
    "none" != o.css("display") && (l = o.outerHeight(!0));
    var d = 0;
    "none" != r.css("display") && (d = r.outerHeight(!0));
    var c = i - s - l - d - ($(n).outerHeight(!0) - $(n).height())
      , p = n.find(".formMiddleCenter").first();
    c -= $(p).outerHeight(!0) - $(p).height();
    var u = n.find(".formMiddleContent").first();
    return c -= $(u).outerHeight(!0) - $(u).height()
}
,
Site.loadPhotoGallery = function(e) {
    var t = e.id
      , i = e.scale
      , a = (e.cus,
    e.flag)
      , o = $("#" + t)
      , n = o.find("div.photo-container");
    if (4 <= e.effType && e.effType < 6 && Site.clearImageEffectContent_photo(e.id, "prop-container"),
    "listPhotos" == a && 1,
    0 != n.length) {
        for (var r = 0; r < n.length; r++) {
            "listPhotos" == a && $(n[r]).children().hasClass("J_sortDiv") && $(n[r]).children().children().unwrap();
            var s = $(n[r]).children("div.img-container")
              , l = s.width()
              , d = s.height()
              , c = s.find("img")
              , p = c.attr("fHeight")
              , u = c.attr("fWidth")
              , m = s.find(".J_photoImgPanel");
            if (2 == i) {
                var h = c.attr("iWidth") / c.attr("iHeight");
                l / d <= h ? (c.css("width", h * d + "px"),
                c.css("height", d + "px"),
                c.css("marginTop", ""),
                c.css("marginLeft", (l - h * d) / 2 + "px")) : (c.css("height", l / h + "px"),
                c.css("width", l + "px"),
                c.css("marginLeft", ""),
                c.css("marginTop", (d - l / h) / 2 + "px")),
                m.css({
                    width: l,
                    height: d,
                    position: "relative",
                    overflow: "hidden"
                })
            } else {
                var f = Fai.Img.calcSize(u, p, l, d, Fai.Img.MODE_SCALE_FILL);
                "number" == typeof i && (i = !i),
                (0 < m.length || 0 < s.length) && (i ? m.css({
                    marginLeft: "",
                    marginTop: "",
                    width: f.width + "px",
                    height: f.height + "px",
                    position: "relative",
                    overflow: "hidden",
                    margin: "0 auto"
                }) : m.css({
                    marginLeft: "",
                    marginTop: "",
                    width: l + "px",
                    height: d + "px",
                    position: "relative",
                    overflow: "hidden",
                    margin: "0 auto"
                }),
                c.css("marginLeft", "").css("marginTop", "")),
                i ? (c.width(f.width),
                c.height(f.height)) : (c.width(l),
                c.height(d))
            }
        }
        if (_manageMode) {
            var g, v = Site.getModuleAttrPattern(t.replace("module", "")), _ = Site.isVueStyleGrayTest(t.replace("module", "")) ? "o" : "outside";
            new Vue({
                data: v,
                watch: (g = {},
                _defineProperty(g, _ + ".l", function() {
                    Site.fixPhotoGallery(o)
                }),
                _defineProperty(g, _ + ".r", function() {
                    Site.fixPhotoGallery(o)
                }),
                g)
            })
        }
        Site.fixPhotoGallery(o)
    } else {
        var S = o.find("div.addNoProTips");
        o.find("div.photo-gallery").height(100).html(S)
    }
    if (0 < o.find(".prop-wordwrap-container").length) {
        o.find(".photo-container").height("auto");
        var b = 0;
        o.find(".photo-container").each(function() {
            var e = $(this).height();
            b < e && (b = e)
        }),
        o.find(".photo-container").each(function() {
            $(this).height(b)
        }),
        o.find(".photo-gallery-preview").height(b),
        Site.unifiedAttrVal(o, ".prop-wordwrap-container", "height")
    }
    var x = o.find(".gallery-control-prev")
      , w = o.find(".gallery-control-next");
    if ("listPhotos" == a) {
        if (0 != n.length)
            for (r = 0; r < n.length; r++) {
                if ($(n[r]).children().hasClass("J_sortDiv"))
                    return !1;
                var y = $(n[r]).attr("hoverstylewrap") || "";
                $(n[r]).children().wrapAll("<div class='J_sortDiv " + y + "'></div>")
            }
        x && 0 < x.length && x.hover(function() {
            $(this).hasClass("gallery-control-prev-disabled") || $(this).addClass("g_hover")
        }, function() {
            $(this).removeClass("g_hover")
        }),
        x && 0 < w.length && w.hover(function() {
            $(this).hasClass("gallery-control-next-disabled") || $(this).addClass("g_hover")
        }, function() {
            $(this).removeClass("g_hover")
        })
    }
}
,
Site.fixPhotoGallery = function(e) {
    [31, 88, 89, 90, 107, 108].indexOf(parseInt(e.attr("_modulestyle"))) < 0 || Site.photosGalleryBtn({
        id: e.attr("id"),
        photoContainer: "photo-container",
        imgContainer: "img-container",
        propContainer: "prop-container",
        flag: "listPhotos"
    })
}
,
Site.photosGalleryBtn = function(e) {
    Fai.top._manageMode ? Vue.nextTick(function() {
        Site._photosGalleryBtn(e)
    }) : Site._photosGalleryBtn(e)
}
,
Site._photosGalleryBtn = function(e) {
    var t = e.id
      , i = e.photoContainer
      , a = e.imgContainer
      , o = e.propContainer
      , n = e.flag;
    if ("number" == typeof t)
        var r = $("#module" + t);
    else
        r = $("#" + t);
    var s = r.find(".gallery-control")
      , l = r.find(".gallery-control-prev")
      , d = r.find(".gallery-control-next")
      , c = l.height()
      , p = l.width()
      , u = r.find("div." + i)
      , m = u.first()
      , h = m.find("div." + a)
      , f = h.outerWidth(!0)
      , g = h.outerHeight(!0)
      , v = 0;
    if (0 < (_ = m.find("div." + o)).length && (v = _.first().outerHeight(!0) * _.length),
    "photoGroup" == n) {
        var _ = r.find("div." + o)
          , S = [];
        _.each(function() {
            S.push($(this).outerHeight(!0))
        }),
        v = Math.max.apply(Math, S) || 0
    } else {
        v = 0 < (_ = r.find("div." + o)).length ? Math.max.apply(null, _.map(function() {
            return $(this).outerHeight(!0)
        }).toArray()) : 0
    }
    var b = g + v;
    "photoGroup" != n && u.height(b),
    "listPhotos" != n && u.find("div." + o).width(f),
    "photoGroup" != n && u.width(f);
    var x = r.find("div.photo-gallery-preview");
    x.height(b);
    var w = r.find("div.photo-gallery-inner")
      , y = w.outerHeight();
    if (y < c) {
        var C = y - w.height()
          , F = Math.ceil((c - y) / 2)
          , I = Math.ceil(C / 2) + F;
        w.css("padding-top", I + "px").css("padding-bottom", I + "px")
    }
    var P = w.outerHeight() / 2 - c / 2;
    s.css("top", P + "px");
    var k = 1
      , L = l.innerWidth() - p
      , T = r.find("div.formMiddleContent").width() - L - 2 * p
      , M = m.outerWidth(!0)
      , B = m.outerWidth()
      , A = M - B;
    M < T && (k = parseInt(T / M));
    var N = k * M - A;
    x.width(N);
    var D = u.length
      , j = D % k == 0 ? D / k : Math.floor(D / k) + 1;
    r.find("div.photo-gallery-container").width(D * M);
    for (var E = u.length < k ? u.length : k, O = 0; O < E; O++) {
        var J = $(u[O]).find("img");
        J.attr("src") || J.attr("src", J.attr("lzurl")),
        J.show()
    }
    r.find(".photo-gallery-inner").off("mouseover.btn").on("mouseover.btn", function() {
        1 < j && s.css("display", "block")
    }).off("mouseleave.btn").on("mouseleave.btn", function() {
        s.css("display", "none")
    }),
    l.addClass("gallery-control-prev-disabled"),
    1 == j ? d.addClass("gallery-control-next-disabled") : d.removeClass("gallery-control-next-disabled"),
    r.find("div.photo-gallery-container").css("left", ""),
    l.off("click.prev").on("click.prev", function() {
        var e = $(this);
        if (e.hasClass("gallery-control-prev-disabled"))
            return !1;
        var t = e.parent()
          , i = t.find("div.photo-gallery-container")
          , a = t.find(".gallery-control-next");
        if (a.hasClass("gallery-control-next-disabled") && a.removeClass("gallery-control-next-disabled"),
        0 == i.position().left || i.is(":animated"))
            return !1;
        var o = N + A;
        i.animate({
            left: "+=" + o + "px"
        }, function() {
            0 == i.position().left && e.addClass("gallery-control-prev-disabled")
        })
    }),
    d.off("click.next").on("click.next", function() {
        var e = $(this);
        if (e.hasClass("gallery-control-next-disabled"))
            return !1;
        var t = e.parent()
          , i = t.find("div.photo-gallery-container")
          , a = t.find(".gallery-control-prev");
        a.hasClass("gallery-control-prev-disabled") && a.removeClass("gallery-control-prev-disabled");
        var o = N + A
          , n = -(j - 1) * o;
        if (left_position = parseInt(i.css("left").replace("px")),
        left_position == n || i.is(":animated"))
            return !1;
        if (!e.data("loading_finish"))
            for (var r = Math.abs(left_position) / (M * k) + 1, s = r <= 1 ? 1 * k : r * k, l = s + k > u.length ? u.length : s + k, d = s; d < l; d++) {
                var c = $($(u[d]).find("img")[0]);
                c.attr("src") || c.attr("src", c.attr("lzurl")),
                c.show()
            }
        i.animate({
            left: "-=" + o + "px"
        }, function() {
            parseInt(i.css("left").replace("px", "")) == n && (e.data("loading_finish", !0),
            e.addClass("gallery-control-next-disabled"))
        })
    })
}
,
Site.autoFixPhotoHeight = function(e) {
    for (var t, i, a = $("#module" + e).find(".photoForms"), o = a.find(".J_groupItem"), n = a.width(), r = o.outerWidth(!0), s = parseInt(n / r), l = 0, d = [], c = 0, p = 1, u = o.length; c < u; c++)
        i = (t = $(o[c])).height(),
        l < i && (l = i),
        d.push(t),
        p === s || c === u - 1 ? ($(d).each(function() {
            $(this).css("height", l + "px")
        }),
        p = 1,
        l = 0,
        d = []) : p++
}
;
var isInShareContent = !1;
function getLineArr(e, t, i) {
    return e[t] || (e[t] = []),
    e[t][i] ? getLineArr(e, t + 1, i) : e[t]
}
function RegExpWeather(e, t) {
    if ("temp" == e)
        var i = /-\d+|\d+/;
    else if ("power" == e)
        i = /(\d+)-(\d+)|(\d+)|([\u4e00-\u9fa5]+)/;
    return String(t).match(i)
}
function ajaxLoadIntegralList(a, o, n) {
    var r = $("#module" + a).find(".memberIntegralPanel");
    r.find("#" + o).on("click", ".pageNo, .pagePrev, .pageNext", function() {
        var e = $(this).attr("_pageSize")
          , t = $.trim($(this).text());
        $(this).hasClass("pagePrev") ? t = $(this).attr("_prepage") : $(this).hasClass("pageNext") && (t = $(this).attr("_nextpage")),
        !$(this).hasClass("J_pageSelect") && t && (Site.showLoading(o),
        $.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=getWafNotCk_getIntegralListHtml",
            data: "moduleId=" + a + "&pageno=" + t + "&pageSize=" + e + "&integralType=" + n,
            dataType: "json",
            type: "post",
            success: function i(e) {
                setTimeout(function() {
                    e.success ? (r.find("#" + o).empty(),
                    r.find("#" + o).prepend(e.integralListHtml)) : Fai.ing(e.msg, !0),
                    Site.closeLoading(o)
                }, 150)
            }
        }))
    })
}
Site.removeModulePhotoTitle = function(e) {
    $module = $("#module" + e),
    $module.find(".imgDiv").each(function() {
        $(this).removeAttr("title")
    })
}
,
Site.loadPhotoResultMarquee = function(e) {
    "use strict";
    var m = e.id
      , h = e.scale
      , t = $("#module" + m, Fai.top.document.body);
    function i(e) {
        var t, i = e.find(".J_imgDiv"), a = e.find(".showPhotoContent"), o = e.find(".photoMarquee"), n = null, r = 0, s = i.outerWidth(!0) * i.length;
        if (a.width() < s) {
            var l = $(".photoMarquee").html();
            $(".photoMarquee").append(l),
            o.width(2 * s),
            d()
        } else
            o.width(s);
        function d() {
            n = setInterval(function() {
                a.scrollLeft(r),
                ++r == s && (r = 0)
            }, 30)
        }
        i = e.find(".J_imgDiv"),
        t = e.find("img[data-original]"),
        i.hover(function() {
            c.call(this, e),
            clearInterval(n)
        }, function() {
            p.call(this, e),
            n = n && setInterval(function() {
                0 < t.length && !t[0].loaded && t.trigger("appear"),
                a.scrollLeft(r),
                ++r == s && (r = 0)
            }, 30)
        }),
        i.on("mouseup", ".icon-button", function() {
            p.call(i, e),
            n = n && setInterval(function() {
                a.scrollLeft(r),
                ++r == s && (r = 0)
            }, 30)
        }),
        i.eq(0).mouseover().mouseleave()
    }
    function a(t) {
        var i = t.find(".J_imgDiv")
          , e = t.find(".J_photoShowPrev")
          , a = t.find(".J_photoShowNext");
        function o() {
            var e = t.find(".J_selectedDiv").next();
            0 != e.length && e.hasClass("J_imgFirst") || (e = t.find(".J_imgFirst:first")),
            i.removeClass("J_selectedDiv"),
            $(e).addClass("J_selectedDiv"),
            r($(e).find("img"))
        }
        function n() {
            var e = t.find(".J_selectedDiv").prev();
            0 != e.length && e.hasClass("J_imgFirst") || (e = t.find(".J_imgFirst:last")),
            i.removeClass("J_selectedDiv"),
            $(e).addClass("J_selectedDiv"),
            r($(e).find("img"))
        }
        e.click(n),
        a.click(o),
        e.dblclick(function(e) {
            e.stopPropagation()
        }),
        a.dblclick(function(e) {
            e.stopPropagation()
        })
    }
    function o(e) {
        var t = !1
          , i = e.find(".J_showList")
          , a = e.find(".J_shareContent")
          , o = e.find(".J_shareListMore");
        function n() {
            a.show(),
            i.addClass("showList-hover"),
            o.addClass("shareListMore-hover"),
            t = !0
        }
        function r() {
            setTimeout(function() {
                isInShareContent || (e.find(".J_shareContent").hide(),
                e.find(".J_showList").removeClass("showList-hover"),
                e.find(".J_shareListMore").removeClass("shareListMore-hover"))
            }),
            t = !1
        }
        function s() {
            isInShareContent = !1,
            t || (a.hide(),
            i.removeClass("showList-hover"),
            o.removeClass("shareListMore-hover"))
        }
        function l() {
            isInShareContent = !0
        }
        i.mouseover(n),
        i.mouseleave(r),
        a.mouseover(l),
        a.mouseleave(s)
    }
    function n(e) {
        var t = e.find(".pageDiv");
        0 !== t.length && (t.mouseover(function() {
            t.addClass("pageDiv-hover")
        }),
        t.mouseleave(function() {
            t.removeClass("pageDiv-hover")
        }))
    }
    function r(e) {
        var t = $("." + e.attr("class").match(/\bJ_pic\d*\b/)).eq(0);
        t.length && (e = t);
        var i = e.attr("bigpicurl")
          , a = e.attr("bigpicwidth")
          , o = e.attr("bigpicheight")
          , n = e.attr("_href")
          , r = e.data("basic")
          , s = $("#module" + m)
          , l = s.find(".J_photoBasicContent");
        r ? (l.show(),
        l.html(Fai.encodeHtml(r)),
        l.attr("title", r)) : l.hide();
        var d = s.find(".photoGroupUp .imgContainer img")
          , c = s.find(".photoGroupUp .imgContainer a");
        if (h)
            d.width(s.width()),
            d.css("height", "452px"),
            l.width(s.width() - 240);
        else {
            var p = Fai.Img.calcSize(a, o, 852, 453, Fai.Img.MODE_SCALE_FILL);
            d.width(p.width),
            d.height(p.height),
            p.height < 452 ? d.css("margin-top", (452 - p.height) / 2) : d.css("margin-top", 0);
            var u = d.position();
            l.width(p.width - 240),
            l.css("left", u.left)
        }
        d.attr("src") != i && (d.attr("src", i),
        d.attr("alt", e.attr("alt"))),
        "" == $.trim(n) ? s.hasClass("formStyle94") ? c.removeClass("fk-photoGroupDefaultCursor") : c.attr("href", "javascript:void(0)") : c.attr("href", n).removeClass("fk-photoGroupDefaultCursor"),
        f(s, h)
    }
    function c(e) {
        var t = e.find(".J_imgDiv")
          , i = $(this).find("img");
        Fai.stopInterval("marquee" + m),
        t.removeClass("J_selectedDiv"),
        $(this).addClass("J_selectedDiv"),
        $(this).find(".imgMask").show(),
        r(i)
    }
    function p(e) {
        Fai.startInterval("marquee" + m),
        $(this).find(".imgMask").hide()
    }
    function f(e, t) {
        var i = e.find(".J_photoBasicContent");
        if (0 !== i.length) {
            var a = e.find(".imgContainer img")
              , o = e.find(".photoContainer")
              , n = i.position().left
              , r = a.position().left
              , s = a.outerWidth()
              , l = o.outerWidth()
              , d = .7
              , c = .3
              , p = Math.floor(s * d)
              , u = Math.floor(s * c / 2)
              , m = p + 2 * u;
            Fai.isIE6() && r != n && i.css("left", 0),
            Fai.isIE7() && t && i.css("left", 0),
            (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) && i.addClass("photoBasicContent-fixIEBgColor"),
            Fai.isMozilla() && r != n && i.css("left", r),
            m < s && (m = (p += s - m) + 2 * u),
            l < m && (m = (p -= m - l) + 2 * u),
            i.css({
                width: p + "px",
                padding: "0 " + u + "px"
            })
        }
    }
    i(t),
    a(t),
    o(t),
    n(t),
    f(t, h)
}
,
Site.loadPhotoSmallPic = function(e) {
    Fai.top._manageMode ? Vue.nextTick(function() {
        Site._loadPhotoSmallPic(e)
    }) : Site._loadPhotoSmallPic(e)
}
,
Site._loadPhotoSmallPic = function(V) {
    var G = V.id
      , Q = (V.scale,
    V.cus,
    V.flag)
      , d = $("#" + G);
    d.on("Fai_onModuleSizeChange", function() {
        Site.smallPicPhotoModuleFix(G, Q)
    }),
    d.on("Fai_onModuleLayoutChange", function() {
        Site.smallPicPhotoModuleFix(G, Q)
    });
    var f = d.find("div.photoSmallPicBox")
      , e = d.find(".photoSmallPicUpForms").height()
      , t = d.find(".photoSmallPicDownForms").height();
    d.find(".photoSmallPicForms").height(e + t);
    var i = d.find(".photoSmallPicForms").width();
    d.find(".photoSmallPicUpForms").width(i),
    d.find(".photoSmallPicUpFormsMid").width(i),
    d.find(".photoSmallPicDownForms").width(i);
    var a = d.find(".photoSmallPrePic_control").outerWidth(!0);
    d.find(".photoSmallPicDownFormsMid").css("width", i - 2 * a - 20 + "px");
    var o = d.find(".photoSmallPrePicContainer")
      , g = d.find(".photoSmallPrePicOuter").outerWidth(!0)
      , n = 0;
    Fai.isIE6() && (n = 2),
    o.width(g * f.length + n);
    var r = o.width()
      , s = d.find(".photoSmallPicDownFormsMid").width();
    d.hasClass("formStyle93") && r < s && o.css("margin-left", (s - r) / 2 + "px");
    var l = d.find(".photoSmallPicUpFormsMid").outerHeight() / 2 - 23;
    d.find(".photoSmallPic_control").css("top", l + "px");
    var Z = f.length
      , K = Math.floor(s / g) + 1
      , c = Z % K == 0 ? Z / K : Math.floor(Z / K) + 1;
    1 == c && s < o.width() && (c = 2);
    for (var p = f.length < K ? f.length : K, u = 0; u < p; u++) {
        var m = $(f[u]).find("img");
        Site.loadPhotoSmallPicItem(m, Q)
    }
    var Y = d.find(".photoSmallPicDownForms a.g_imgPrev")
      , X = d.find(".photoSmallPicDownForms a.g_imgNext")
      , ee = d.find(".photoSmallPicUpForms a.photoSmallPicArrow_left")
      , te = d.find(".photoSmallPicUpForms a.photoSmallPicArrow_right");
    if (Y.addClass("photoSmallPic-control-prev-disabled"),
    1 == c && X.addClass("photoSmallPic-control-next-disabled"),
    ee.addClass("photoBigPic-control-prev-disabled"),
    1 == Z && te.addClass("photoBigPic-control-next-disabled"),
    !V.notBindEvent)
        if (d.find(".photoSmallPicUpFormsMid").mouseover(function() {
            $(".photoSmallPic_control").css("display", "block")
        }).mouseleave(function() {
            $(".photoSmallPic_control").css("display", "none")
        }),
        "carouselPhotos" != Q && d.find(".photoContainerLeft").mouseenter(function() {
            var e = $(this).parents(".form").attr("id");
            1 == _manageMode && Site.initModulePhotoSmallPicItemManage(e, V.isOpenImgEff)
        }).mouseleave(function() {
            var e = $(this).parents(".form").find("div.photoContainerLeft");
            1 == _manageMode && (V.isOpenImgEff ? Site.removeEditLayer(e, null, 5) : Site.removeEditLayer(e, null, 106))
        }),
        f.mouseover(function() {
            $(this).parent().addClass("photoSmallPrePicOuterHover").addClass("g_border").addClass("g_borderHover")
        }),
        f.mouseleave(function() {
            $(this).parent().removeClass("photoSmallPrePicOuterHover").removeClass("g_borderHover").removeClass("g_border")
        }),
        d.find(".photoSmallPicUpFormsMid .photoContainerLeft img").attr("onload", "Site.removePhotoSmallPicMask(" + G.replace("module", "") + ")"),
        ee.click(_),
        te.click(S),
        X.click(x),
        Y.click(b),
        V.manuallyCarousel)
            Fai.stopInterval(G + "AutoCarouselRuner");
        else {
            var h = function h() {
                d.hasClass("formStyle93") ? te.click() : Fai.stopInterval(G + "AutoCarouselRuner")
            };
            Fai.addInterval(G + "AutoCarouselRuner", h, V.interval),
            Fai.startInterval(G + "AutoCarouselRuner")
        }
    function v(e) {
        e.stopPropagation();
        var t = $(this).find("img")
          , i = (k = $("#" + G)).find(".photoSmallPicUpFormsMid .photoContainerLeft img");
        (i = i.first()).css({
            opacity: ""
        });
        i.clone();
        var a = $(this).parent().next();
        Site.loadPhotoSmallPicItem(a.find("img"), Q),
        Site.loadPhotoSmallPicItem(a.next().find("img"), Q),
        Site.loadPhotoSmallPicItem(a.next().next().find("img"), Q),
        Site.loadPhotoSmallPicItem(a.next().next().next().find("img"), Q),
        Site.loadPhotoSmallPicItem(t, Q);
        var o = V.scale
          , n = $(this).parent();
        n.siblings(".photoSmallPrePicOuter").find("div.photoSmallPicBox").removeClass("photoSmallPrePicSelected"),
        $(this).addClass("photoSmallPrePicSelected"),
        n.siblings(".photoSmallPrePicOuter").removeClass("photoSmallPrePicOuterClick").removeClass("g_borderSelected"),
        n.addClass("photoSmallPrePicOuterClick").addClass("g_borderSelected");
        var r = k.hasClass("formStyle42")
          , s = k.find("#bigImgDetail");
        r ? s.replaceWith(i) : (s.remove(),
        k.find(".J_bigImgDetailWrap").append(i));
        var l = k.find(".photoContainerLeft").width()
          , d = k.find(".photoContainerLeft").height()
          , c = t.attr("bigpicurl")
          , p = t.attr("bigpicwidth")
          , u = t.attr("bigpicheight")
          , m = t.attr("productname")
          , h = (t.attr("ifshowname"),
        t.attr("aattribute"));
        if ("carouselPhotos" == Q) {
            n.css({
                overflow: "visible"
            }),
            n.siblings(".photoSmallPrePicOuter").find(".cs_triangle_up").hide(),
            n.find(".cs_triangle_up").show().addClass("g_borderSelected");
            var f = t.attr("pic");
            if (k.find(".imgContainer").attr("id", "photoList" + f),
            _manageMode) {
                var g = k.data("carouselPhotosOptions");
                Site.moduleCarouselPhotosItemManage.init(g)
            }
        }
        if (2 == o) {
            var v = Fai.Img.calcSize(p, u, l, d, Fai.Img.MODE_SCALE_FILL)
              , _ = p / u;
            l / d <= _ ? (i.css({
                width: _ * d + "px",
                height: d + "px"
            }),
            "carouselPhotos" == Q ? i.css({
                left: (l - _ * d) / 2 + "px",
                position: "absolute",
                top: "0"
            }) : i.parent(".imgContainer").css({
                position: "relative",
                left: (l - _ * d) / 2 + "px",
                top: "0"
            })) : (i.css({
                height: l / _ + "px",
                width: l + "px"
            }),
            "carouselPhotos" == Q ? i.css({
                top: (d - l / _) / 2 + "px",
                position: "relative",
                left: "0"
            }) : i.parent(".imgContainer").css({
                top: (d - l / _) / 2 + "px",
                position: "relative",
                left: "0"
            }))
        } else if (0 == o) {
            v = Fai.Img.calcSize(p, u, l, d, Fai.Img.MODE_SCALE_FILL);
            i.width(v.width).height(v.height).css("position", "")
        } else
            i.css("width", l).css("height", d).css("position", "");
        i.attr("src") == c && i.attr("src", "");
        var S = i.attr("src");
        i.attr("src", c).css("margin", "auto");
        var b = t.attr("alt");
        i.attr("alt", b),
        "carouselPhotos" == Q && (k.find(".photoContainerLeft").css("margin-top", "1.5px"),
        k.find(".photoContainerLeft .imgContainer").css("width", l).css("height", d)),
        i.wrap("<a id='bigImgDetail' " + h + "></a>"),
        S && i.hide().fadeIn(V.animate),
        k.find("#imgInnerNameDiv p").html(Fai.encodeHtml(m));
        var x = k.find("#imgInnerNameDiv")
          , w = k.find(".J_carouselPhotos");
        if ("carouselPhotos" == Q) {
            var y = parseInt(x.css("padding-left").replace("px", "")) + parseInt(x.css("padding-right").replace("px", ""));
            x.width(w.width() - y),
            k.find(".photoNameContainer").width(w.width() - y),
            x.css({
                overflow: "hidden",
                margin: "0 auto",
                bottom: "0",
                left: "0",
                right: "0"
            })
        } else {
            x.width(i.width()),
            k.find(".photoNameContainer").width(i.width());
            var C = (k.find(".photoContainerLeft").height() - i.height()) / 2 + i.height() - x.outerHeight(!0)
              , F = C % 2 == 0 ? C : 2 * Math.floor(C / 2);
            x.css("top", F + "px");
            var I = (k.find(".photoSmallPicUpFormsMid").width() - i.width()) / 2;
            x.css("left", I + "px").css("overflow", "hidden")
        }
        V.isOpenImgEff && Site.bindImageEffectCusEvent_photo(k.find(".photoSmallPic_td"), V.tgOpt);
        var P = k.find(".photoSmallPrePicSelected").parent().index();
        ee.removeClass("photoBigPic-control-prev-disabled"),
        te.removeClass("photoBigPic-control-next-disabled"),
        Y.removeClass("photoSmallPic-control-prev-disabled"),
        X.removeClass("photoSmallPic-control-next-disabled");
        var k, L = k.find(".photoSmallPicDownForms").find(".photoSmallPrePicContainer"), T = parseInt(L.css("left").replace("px")), M = Math.abs(T) / O, B = k.find(".photoSmallPicDownFormsMid").width();
        0 == P && (ee.addClass("photoBigPic-control-prev-disabled"),
        0 == T && Y.addClass("photoSmallPic-control-prev-disabled")),
        P == Z - 1 && (te.addClass("photoBigPic-control-next-disabled"),
        (Z - 1 - M + 1) * O <= B && (Z - K - 1) * O <= T && X.addClass("photoSmallPic-control-next-disabled")),
        L = (k = $("#" + G)).find(".photoSmallPicDownForms .photoSmallPrePicContainer"),
        smallPicForm = k.find(".photoSmallPicDownFormsMid"),
        picOuterClick = k.find(".photoSmallPrePicOuterClick"),
        picOuter = k.find(".photoSmallPrePicOuter");
        var A = picOuterClick.index()
          , N = picOuterClick.position().left
          , D = picOuter.length
          , j = D - A - 1
          , E = A
          , O = picOuter.outerWidth(!0)
          , J = L.position().left
          , R = L.width()
          , U = smallPicForm.width()
          , H = Math.floor(U / O)
          , W = k.data("positionLeft")
          , q = (M = Math.abs(W) / O,
        P = k.find(".photoSmallPrePicSelected").parent().index(),
        1);
        D <= H && 4 < K || H < D && ((H - 3) * O < A * O + J && U + 2 < R + J && 2 <= j ? ((H - 1) * O < A * O + J && (q = 2),
        W = (W = J - (q = (H - 2) * O < A * O + J ? U - O <= N + J ? 2 : 1 : 0) * O - (J % O == 0 ? (H + 1) * O - U : 0)) < U - R ? U - R : W,
        L.animate({
            left: W + "px"
        })) : 2 * O < (A + 1) * O && U <= R + J && 2 <= E && N + J < 2 * O ? (A * O + J < O ? q = N + J <= 0 ? 2 : 1 : O < A * O + J && (q = 1),
        W = 0 < (W = J + q * O + (J % O != 0 ? (H + 1) * O - U : 0)) ? 0 : W,
        L.animate({
            left: W + "px"
        })) : j <= 2 ? L.animate({
            left: -(R - U) + "px"
        }) : E <= 2 && L.animate({
            left: "0px"
        })),
        k.data("positionLeft", T);
        var z = k.find(".photoSmallPrePicSelected").attr("phoid");
        k.find("div.photoContainerLeft").attr("phoid", z).attr("photoname", m).attr("id", "containerLeft_PhotosmallPic" + z),
        ie(k)
    }
    function _() {
        if ($(this).hasClass("photoBigPic-control-prev-disabled"))
            return !1;
        var e = $("#" + G)
          , t = e.find(".photoSmallPicDownForms .photoSmallPrePicContainer")
          , i = e.find(".photoSmallPrePicSelected").parent();
        if (t.is(":animated"))
            return !1;
        $(".img_ProductPhoto_LR_Border").remove(),
        $(".img_ProductPhoto_TB_Border").remove(),
        $(".editLayer").remove();
        var a = i.prev().find("div.photoSmallPicBox");
        e.find("div.photoContainerLeft").attr("phoid", a.attr("phoid")).attr("photoname", a.find("img").attr("productname")).attr("id", "containerLeft_PhotosmallPic" + a.attr("phoid")),
        i.prev().find("div.photoSmallPicBox").trigger("mousedown")
    }
    function S(e) {
        e.stopPropagation();
        $(this);
        var t = $("#" + G)
          , i = t.find(".photoSmallPicDownForms .photoSmallPrePicContainer")
          , a = t.find(".photoSmallPrePicSelected").parent();
        if (i.is(":animated"))
            return !1;
        $(".img_ProductPhoto_LR_Border").remove(),
        $(".img_ProductPhoto_TB_Border").remove(),
        $(".editLayer").remove();
        var o = a.next();
        o.length < 1 && (o = a.prevAll().last());
        var n = o.find("div.photoSmallPicBox");
        t.find("div.photoContainerLeft").attr("phoid", n.attr("phoid")).attr("photoname", n.find("img").attr("productname")).attr("id", "containerLeft_PhotosmallPic" + n.attr("phoid")),
        o.find("div.photoSmallPicBox").trigger("mousedown")
    }
    function b(e) {
        e.stopPropagation();
        var t = $(this);
        if (t.hasClass("photoSmallPic-control-prev-disabled"))
            return !1;
        var i = t.parents(".photoSmallPicDownForms").find(".photoSmallPrePicContainer")
          , a = Math.floor(d.find(".photoSmallPicDownFormsMid").width() / g) + 1
          , o = t.parents(".photoSmallPicDownForms").find("a.g_imgNext");
        o.hasClass("photoSmallPic-control-next-disabled") && o.removeClass("photoSmallPic-control-next-disabled");
        var n = parseInt(i.css("left").replace("px"))
          , r = Math.abs(n) / g
          , s = 0 < r - a + 1 ? r - a + 1 : 0;
        0 == s && t.addClass("photoSmallPic-control-prev-disabled");
        var l = (r - s) * g;
        if (i.is(":animated"))
            return !1;
        i.animate({
            left: "+=" + l + "px"
        }),
        ie(d)
    }
    function x() {
        var e = $(this)
          , t = $("#" + G);
        if (e.hasClass("photoSmallPic-control-next-disabled"))
            return !1;
        var i = e.parents(".photoSmallPicDownForms").find(".photoSmallPrePicContainer")
          , a = e.parents(".photoSmallPicDownForms").find("a.g_imgPrev")
          , o = Math.floor(t.find(".photoSmallPicDownFormsMid").width() / g) + 1;
        a.hasClass("photoSmallPic-control-prev-disabled") && a.removeClass("photoSmallPic-control-prev-disabled");
        var n, r, s, l = (o - 1) * g, d = parseInt(i.css("left").replace("px")), c = Math.abs(d) / g, p = Z - 1 < c + o - 1 ? Z - 1 : c + o - 1, u = t.find(".photoSmallPicDownFormsMid").width();
        if (i.is(":animated"))
            return !1;
        Z - 1 <= p ? ((s = Z - 1) - (r = c) + 1) * g <= u && (n = !0,
        e.addClass("photoSmallPic-control-next-disabled")) : s = (r = p) + o - 1;
        for (var m = r; m <= s; m++) {
            var h = $(f[m]).find("img");
            Site.loadPhotoSmallPicItem(h, Q)
        }
        n || i.animate({
            left: "-=" + l + "px"
        }),
        ie(t)
    }
    function ie(e) {
        e.find(".photoSmallPicDownForms");
        Site.updateThumbnailForSmallPicForms({
            $module: d,
            listCls: ".photoSmallPicDownForms",
            itemCls: ".photoSmallPrePicOuter"
        })
    }
    ie(d),
    f.off("mousedown").on("mousedown", v),
    f.eq(0).trigger("mousedown")
}
,
Site.loadPhotoDetailLeftRight = function(_) {
    var S = $("#module" + _)
      , n = S.find(".J_detail_img")
      , e = S.find(".J_detail_img_group")
      , t = S.find(".J_detail_img_box")
      , i = S.find(".detail_small_img_icon")
      , r = S.find(".J_detail_img_lists")
      , a = S.find(".J_detail_list_img")
      , o = S.find(".J_detail_content_right")
      , s = t.width()
      , l = a.outerWidth(!0)
      , d = a.length || 0
      , c = l * d
      , p = 0
      , u = 0
      , m = !1;
    function h() {
        var e = S.find(".J_detail_small_icon_prev")
          , t = S.find(".J_detail_small_icon_next")
          , i = 0;
        e.length && t.length && (t.on("click.c", function(e) {
            e.preventDefault(),
            e.stopPropagation(),
            i = parseInt(r.css("left")) || 0,
            c <= s - i || r.is(":animated") || r.animate({
                left: i - l + "px"
            })
        }).on("dblclick.p", function(e) {
            e.stopPropagation()
        }),
        e.on("click.c", function(e) {
            e.stopPropagation(),
            0 <= (i = parseInt(r.css("left")) || 0) || r.is(":animated") || r.animate({
                left: i + l + "px"
            })
        }).on("dblclick.p", function(e) {
            e.stopPropagation()
        }))
    }
    function f() {
        d <= 0 || (a.off("mouseover.mo").on("mouseover.mo", function(e) {
            e.preventDefault();
            var t = $(this).find("img").attr("bigpicurl") || "";
            n.find("img").attr("src") != t && n.find("img").attr("src", t),
            b($(this))
        }).off("click.c").on("click.c", function(e) {
            var t = S.find(".detail_img_show")
              , i = $(this).find("a")
              , a = t.find(".J_detail_big_img_jump")
              , o = "";
            e.preventDefault(),
            b($(this)),
            $(this).addClass("detail_list_img_select").siblings().removeClass("detail_list_img_select"),
            i.length ? (o = i.attr("href"),
            a.length ? (a.attr("href") || "") != o && a.attr("href", o) : n.wrap("<a class='J_detail_big_img_jump detail_big_img_jump' href='" + o + "'></a>")) : a.length && n.unwrap()
        }).off("mouseleave.ml").on("mouseleave.ml", function(e) {
            e.preventDefault();
            var t = r.find(".detail_list_img_select img").attr("bigpicurl") || "";
            n.find("img").attr("src") != t && n.find("img").attr("src", t)
        }),
        a.first().click())
    }
    function g() {
        var e = ".J_detail_share_list"
          , t = ".J_detail_share_more_wrap"
          , i = S.find(e)
          , a = S.find(t)
          , o = S.find(".J_detail_share_more")
          , n = {};
        i.length && S.off("mouseover.mo").on("mouseover.mo", e + ", " + t, function() {
            $(this).is(":animated") || (n.left = i.offset().left,
            n.top = i.offset().top + i.height(),
            a.offset(n).height(o.outerHeight()),
            Fai.top._isTemplateVersion2 && (i.find("div").css("color", Fai.top._majorColorData),
            i.find(".detail_share_list_icon").attr("class", "detail_share_list_icon").addClass("detail_share_icon_" + Fai.top._themeColorType)))
        }).off("mouseleave.ml").on("mouseleave.ml", e + ", " + t, function() {
            $(this).is(":animated") || (Fai.top._isTemplateVersion2 && (i.find("div").css("color", ""),
            i.find(".detail_share_list_icon").attr("class", "detail_share_list_icon")),
            a.height(0))
        })
    }
    function v() {
        var t = S.find(".J_bigImgShowPrev")
          , i = S.find(".J_bigImgShowNext")
          , a = S.find(".J_detail_small_icon_prev")
          , o = S.find(".J_detail_small_icon_next")
          , e = S.find(".J_detail_list_img")
          , n = S.find(".detail_list_img_select");
        t.length && i.length && (n.prev().length || t.addClass("detail_disable_prev"),
        e.length <= 1 && i.addClass("detail_disable_next"),
        t.on("click.c", function(e) {
            n = S.find(".detail_list_img_select"),
            e.stopPropagation(),
            e.preventDefault(),
            r.is(":animated") || (n.prev().length ? (n.prev().trigger("mouseover").click(),
            i.removeClass("detail_disable_next"),
            S.find(".detail_list_img_select").prev().length ? t.removeClass("detail_disable_prev") : t.addClass("detail_disable_prev")) : t.addClass("detail_disable_prev"),
            a.length && a.trigger("click"))
        }).on("dblclick.p", function(e) {
            e.stopPropagation()
        }),
        i.on("click.c", function(e) {
            n = S.find(".detail_list_img_select"),
            e.stopPropagation(),
            e.preventDefault(),
            r.is(":animated") || (n.next().length ? (n.next().trigger("mouseover").click(),
            t.removeClass("detail_disable_prev"),
            S.find(".detail_list_img_select").next().length ? i.removeClass("detail_disable_next") : i.addClass("detail_disable_next")) : i.addClass("detail_disable_next"),
            o.length && o.trigger("click"))
        }).on("dblclick.p", function(e) {
            e.stopPropagation()
        }))
    }
    function b(e) {
        var t = e.data("basic") || "";
        !!t ? S.find(".J_detail_img_basic_content").show().text(t) : S.find(".J_detail_img_basic_content").hide()
    }
    function x() {
        if (Fai.top._manageMode) {
            var o = S.find(".J_detail_img")
              , e = S.find(".J_newPhotoGroupLRWrap")
              , t = S.find(".J_detail_content_right")
              , i = (S.find(".J_detail_img_group"),
            S.find(".J_detail_img"),
            S.find(".J_detail_img_box"),
            S.find(".J_detail_small_icon_prev"))
              , a = S.find(".J_detail_page_div")
              , n = S.find(".J_detail_page_icon")
              , r = (S.find(".J_detail_page_text"),
            0)
              , s = 0
              , l = 0
              , d = 0
              , c = 0
              , p = null
              , u = null;
            if (o.length) {
                t.length && !0,
                i.length && i.outerWidth(),
                a.length && n.outerWidth(!0),
                r = e.width(),
                d = s = parseInt(r / 3 * 2),
                c = l = parseInt(r / 3 * 1),
                S.find(".J_detail_img_show").width() - o.width();
                var m = 8;
                o.resizable("destroy"),
                o.resizable({
                    handles: "n,e,s,w,ne,nw,sw,se",
                    autoHide: !0,
                    alsoResize: o,
                    minWidth: l,
                    minHeight: c,
                    maxWidth: s,
                    maxHeight: d,
                    create: function h(e, t) {
                        Site.addResizableImgHandles(o, $(this), 0, 8, !0, !0)
                    },
                    start: function f(e, t) {
                        var i = Math.floor((o.width() - m) / 2)
                          , a = Math.floor((o.height() - m) / 2);
                        o.children(".ui-resizable-s").children(".imgResizeLine").css({
                            width: i + "px"
                        }),
                        o.children(".ui-resizable-n").children(".imgResizeLine").css({
                            width: i + "px"
                        }),
                        o.children(".ui-resizable-e").children(".imgResizeLine").css({
                            height: a + "px"
                        }),
                        o.children(".ui-resizable-w").children(".imgResizeLine").css({
                            height: a + "px"
                        }),
                        Site.removeAllEditLayer(),
                        Site.disableEditLayer(),
                        $(".draggableBtn").css({
                            opacity: "0"
                        }),
                        $("#dockTip").show(),
                        p = o.width(),
                        u = o.height()
                    },
                    resize: function g(e, t) {
                        $(this).outerWidth();
                        Site.fixNewPhotoDetailImg(_),
                        $(this).css({
                            top: "",
                            left: ""
                        }),
                        $(".draggableBtn").css({
                            opacity: "0"
                        });
                        var i = Math.floor((o.width() - m) / 2) - 1
                          , a = Math.floor((o.height() - m) / 2) - 1;
                        o.children(".ui-resizable-s").children(".imgResizeLine").width(i),
                        o.children(".ui-resizable-n").children(".imgResizeLine").width(i),
                        o.children(".ui-resizable-e").children(".imgResizeLine").height(a),
                        o.children(".ui-resizable-w").children(".imgResizeLine").height(a),
                        $("#dockTip").html("高度:" + o.height() + "<br/>宽度:" + o.width()).css({
                            left: e.pageX - 28,
                            top: e.pageY + 18
                        }),
                        $(this).children(".ui-resizable-handle").show()
                    },
                    stop: function v(e, t) {
                        var i = $(this)
                          , a = Site.getModuleAttrPattern(_)
                          , o = {};
                        Site.enableEditLayer(),
                        $(".draggableBtn").css({
                            opacity: "1"
                        }),
                        $(this).find(".J_photoImg").removeClass("resizeBcolor"),
                        $("#dockTip").hide(),
                        null === p && null === u || (Site.undoRun(function() {}, {
                            type: "module.listPhoto",
                            detail: "listPhotoSize",
                            undoSame: !1,
                            redoSame: !1,
                            undoArgs: [_, {
                                width: p,
                                height: u
                            }],
                            redoArgs: [_, {
                                width: i.width(),
                                height: i.height()
                            }],
                            undoFn: Fai.top._undo.photoDetailLRResizeUndo,
                            redoFn: Fai.top._undo.photoDetailLRResizeUndo
                        }),
                        p = u = null),
                        (o = Site.isVueStyleGrayTest(_) ? a.dis : a.detailImgSize).t = 1,
                        o.w = i.width(),
                        o.h = i.height(),
                        a.changed = !0,
                        Site.styleChanged()
                    }
                })
            }
        }
    }
    o.length || (m = !0),
    r.width(c + "px"),
    m && (i.length && (p = i.outerWidth()),
    u = e.width() - 2 * p,
    t.width(u)),
    Site.fixNewPhotoDetailImg = function(e, t) {
        var i = $("#module" + e)
          , a = i.find(".J_detail_img")
          , o = i.find(".J_detail_img_show")
          , n = i.find(".J_detail_content_right")
          , r = i.find(".J_detail_img_group")
          , s = i.find(".J_detail_img_box")
          , l = i.find(".J_detail_small_icon_prev")
          , d = i.find(".J_detail_page_div")
          , c = i.find(".J_detail_page_icon")
          , p = i.find(".J_detail_page_text")
          , u = 0
          , m = 0
          , h = 0
          , f = 0
          , g = !1;
        t = t || !1,
        n.length && (g = !0),
        u = 2 * parseInt(o.css("padding-left") || 0),
        u += m = a.width(),
        l.length && (h = l.outerWidth()),
        d.length && (f = c.outerWidth(!0)),
        g && (r.width(u),
        s.width(u - 2 * h),
        n.css("margin-left", u + 10 + "px"),
        d.length && (d.width(m),
        p.width(m - f))),
        t && (a.css({
            width: "",
            height: ""
        }),
        r.css("width", ""),
        s.css("width", ""),
        n.css("margin-left", ""),
        d.length && (d.css("width", ""),
        p.css("width", "")))
    }
    ,
    v(),
    h(),
    f(),
    g(),
    x()
}
,
function(e, o) {
    "use strict";
    function n(e) {
        e.each(function(e, t) {
            var i = o(t)
              , a = i.find("img");
            a[0].complete ? r(a, i) : a.off("load.adjustSize").one("load.adjustSize", function() {
                r(o(this), i)
            })
        })
    }
    function r(e, t) {
        e[0].style.width = null,
        e[0].style.height = null;
        var i, a, o = e.width() / e.height(), n = t.width(), r = t.height();
        o < n / r ? i = o * (a = r) : a = (i = n) / o,
        e.css({
            width: i,
            height: a
        })
    }
    e.updateThumbnailForSmallPicForms = function(e) {
        var t = e.listCls
          , i = e.itemCls
          , a = e.$module;
        if (0 !== a.length) {
            var o = a.find(t).find(i);
            0 !== o.length && n(o)
        }
    }
}(Site, jQuery),
Site.removePhotoSmallPicMask = function(e) {
    $("#module" + e).find(".loadingImg").remove()
}
,
Site.loadPhotoSmallPicItem = function(e, t) {
    e.attr("src") || e.attr("src", e.attr("lzurl"));
    var i = parseInt(e.attr("sWidth"))
      , a = parseInt(e.attr("sHeight"))
      , o = a < i ? i : a
      , n = a < i ? "width" : "height";
    71 < o ? "carouselPhotos" == t ? 76 < o && (e.css(n, 76),
    e.css("height", 60),
    e.css("width", 76)) : e.css(n, 71) : e.css("width", i).css("height", a),
    e.show()
}
,
Site.smallPicPhotoModuleFix = function(e, t) {
    var i = $("#" + e)
      , a = i.find("div.photoSmallPicBox")
      , o = i.find(".photoSmallPicUpForms").height()
      , n = i.find(".photoSmallPicDownForms").height();
    i.find(".photoSmallPicForms").height(o + n);
    var r = i.find(".photoSmallPicForms").width();
    i.find(".photoSmallPicUpFormsMid").width(r),
    i.find(".photoSmallPicDownForms").width(r),
    i.find(".photoSmallPicUpForms").width(r);
    var s = i.find(".photoSmallPrePic_control").outerWidth(!0);
    i.find(".photoSmallPicDownFormsMid").css("width", r - 2 * s - 20 + "px");
    $(".photoSmallPicUpForms").width();
    var l = i.find(".photoSmallPrePicContainer")
      , d = $(".photoSmallPrePicOuter").outerWidth(!0)
      , c = 0;
    Fai.isIE6() && (c = 2),
    l.width(d * a.length + c);
    l.width();
    var p = i.find(".photoSmallPicDownFormsMid").width()
      , u = i.find(".photoSmallPicUpFormsMid").outerHeight() / 2 - 46;
    i.find(".photoSmallPic_control").css("top", u + "px");
    var m = a.length
      , h = Math.floor(p / d) + 1
      , f = m % h == 0 ? m / h : Math.floor(m / h) + 1;
    1 == f && p < l.width() && (f = 2);
    var g = i.find(".photoSmallPicDownForms a.g_imgPrev")
      , v = i.find(".photoSmallPicDownForms a.g_imgNext");
    i.find(".photoSmallPicUpForms a.photoSmallPicArrow_left"),
    i.find(".photoSmallPicUpForms a.photoSmallPicArrow_right");
    1 == f && (g.addClass("photoSmallPic-control-prev-disabled"),
    v.addClass("photoSmallPic-control-next-disabled"));
    for (var _ = a.length < h ? a.length : h, S = 0; S < _; S++) {
        var b = $(a[S]).find("img");
        b.attr("src") || Site.loadPhotoSmallPicItem(b, t)
    }
    i.find(".photoSmallPrePicSelected").click()
}
,
Site.loadPhotoList = function(e, p, u, t, i, m) {
    if (Fai.top._perfGray)
        Site.loadPhotoList2(e, p, u, t, i, m);
    else {
        var h = $("#module" + e);
        if (h.length) {
            var f = 0;
            "listPhotos" != i && "photoList" != i || (u = 1),
            "listPhotos" == i && h.find(".photoForms").css("overflow", ""),
            u || h.find(".photoForm").each(function() {
                var e = $(this).attr("faiWidth")
                  , t = $(this).attr("faiHeight");
                if (!Fai.isNull(t)) {
                    var i = $(this).find(".imgDiv")
                      , a = i.width()
                      , o = i.height()
                      , n = Fai.Img.calcSize(e, t, a, o, Fai.Img.MODE_SCALE_FILL);
                    n.height > f && (f = n.height)
                }
            }),
            4 <= t && t < 6 && Site.clearImageEffectContent_photo("module" + e, "parametersDiv");
            var a = h.find(".nameWordWrap");
            if (0 < a.length) {
                var o = 0;
                a.each(function() {
                    var e = $(this).height();
                    o < e && (o = e)
                }),
                a.each(function() {
                    $(this).height(o)
                })
            }
            h.find(".photoForm").each(function() {
                var e = $(this)
                  , t = $(this).attr("faiHeight");
                if (!Fai.isNull(t)) {
                    var i = $(this).attr("faiWidth")
                      , a = $(this).find(".imgDiv")
                      , o = a.width();
                    u && (f = a.height());
                    var n = {
                        width: o,
                        height: f
                    }
                      , r = a.find("img")
                      , s = a.find(".J_photoImgPanel");
                    if (2 == p) {
                        var l = r.attr("iWidth") / r.attr("iHeight")
                          , d = o / f;
                        a.css("height", f + "px"),
                        d <= l ? (r.css("width", l * f + "px"),
                        r.css("height", f + "px"),
                        r.css("marginTop", ""),
                        r.css("marginLeft", (o - l * f) / 2 + "px")) : (r.css("height", o / l + "px"),
                        r.css("width", o + "px"),
                        r.css("marginLeft", ""),
                        r.css("marginTop", (f - o / l) / 2 + "px")),
                        s.css({
                            width: o,
                            height: f,
                            position: "relative",
                            overflow: "hidden"
                        })
                    } else {
                        if ("number" == typeof p && (p = !p),
                        p && (n = Fai.Img.calcSize(i, t, o, f, Fai.Img.MODE_SCALE_FILL)),
                        (0 < s.length || 0 < a.length) && (s.css({
                            marginLeft: "",
                            marginTop: "",
                            width: n.width + "px",
                            height: n.height + "px",
                            position: "relative",
                            overflow: "hidden",
                            margin: "0 auto"
                        }),
                        r.css("marginLeft", "").css("marginTop", "")),
                        r.css("width", n.width + "px"),
                        r.css("height", n.height + "px"),
                        a.css("height", f + "px"),
                        h.hasClass("formStyle27") && !u) {
                            var c = {};
                            1 == m ? c = {
                                width: 160,
                                height: 160
                            } : 3 == m ? c = {
                                width: 290,
                                height: 200
                            } : 4 == m ? c = {
                                width: 260,
                                height: 200
                            } : 5 == m && (c = {
                                width: 300,
                                height: 210
                            });
                            n = Fai.Img.calcSize(i, t, c.width, c.height, Fai.Img.MODE_SCALE_FILL);
                            r.css("width", n.width + "px"),
                            r.css("height", n.height + "px"),
                            a.css(c),
                            e.css({
                                width: c.width
                            }),
                            !1 === p && r.css(c)
                        }
                    }
                    $(this).find(".photoParameters").css("height", "auto")
                }
            }),
            Site.fixPhotoListHeight(e),
            Site.switchJump()
        }
    }
}
,
Site.loadPhotoList2 = function(e, c, p, t, i, u) {
    location.search.indexOf("_initForms");
    var m = $("#module" + e);
    if (m.length) {
        var h = 0;
        "listPhotos" != i && "photoList" != i || (p = 1),
        "listPhotos" == i && m.find(".photoForms").css("overflow", "");
        var a = m.find(".photoForm").find(".imgDiv").eq(0)
          , o = a.width()
          , n = a.height();
        p || m.find(".photoForm").each(function() {
            var e = $(this).attr("faiWidth")
              , t = $(this).attr("faiHeight");
            if (!Fai.isNull(t)) {
                var i = Fai.Img.calcSize(e, t, o, n, Fai.Img.MODE_SCALE_FILL);
                i.height > h && (h = i.height)
            }
        }),
        4 <= t && t < 6 && Site.clearImageEffectContent_photo("module" + e, "parametersDiv");
        var r = m.find(".nameWordWrap");
        if (0 < r.length) {
            var s = 0;
            r.each(function() {
                var e = $(this).height();
                s < e && (s = e)
            }),
            r.each(function() {
                $(this).height(s)
            })
        }
        var f = o;
        p && (h = n),
        m.find(".photoForm").each(function() {
            var e = $(this)
              , t = $(this).attr("faiHeight");
            if (!Fai.isNull(t)) {
                var i = $(this).attr("faiWidth")
                  , a = $(this).find(".imgDiv")
                  , o = {
                    width: f,
                    height: h
                }
                  , n = a.find("img")
                  , r = a.find(".J_photoImgPanel");
                if (2 == c) {
                    var s = n.attr("iWidth") / n.attr("iHeight")
                      , l = f / h;
                    a.css("height", h + "px"),
                    l <= s ? (n.css("width", s * h + "px"),
                    n.css("height", h + "px"),
                    n.css("marginTop", ""),
                    n.css("marginLeft", (f - s * h) / 2 + "px")) : (n.css("height", f / s + "px"),
                    n.css("width", f + "px"),
                    n.css("marginLeft", ""),
                    n.css("marginTop", (h - f / s) / 2 + "px")),
                    r.css({
                        width: f,
                        height: h,
                        position: "relative",
                        overflow: "hidden"
                    })
                } else {
                    if ("number" == typeof c && (c = !c),
                    c && (o = Fai.Img.calcSize(i, t, f, h, Fai.Img.MODE_SCALE_FILL)),
                    (0 < r.length || 0 < a.length) && (r.css({
                        marginLeft: "",
                        marginTop: "",
                        width: o.width + "px",
                        height: o.height + "px",
                        position: "relative",
                        overflow: "hidden",
                        margin: "0 auto"
                    }),
                    n.css("marginLeft", "").css("marginTop", "")),
                    n.css("width", o.width + "px"),
                    n.css("height", o.height + "px"),
                    a.css("height", h + "px"),
                    m.hasClass("formStyle27") && !p) {
                        var d = {};
                        1 == u ? d = {
                            width: 160,
                            height: 160
                        } : 3 == u ? d = {
                            width: 290,
                            height: 200
                        } : 4 == u ? d = {
                            width: 260,
                            height: 200
                        } : 5 == u && (d = {
                            width: 300,
                            height: 210
                        });
                        o = Fai.Img.calcSize(i, t, d.width, d.height, Fai.Img.MODE_SCALE_FILL);
                        n.css("width", o.width + "px"),
                        n.css("height", o.height + "px"),
                        a.css(d),
                        e.css({
                            width: d.width
                        }),
                        !1 === c && n.css(d)
                    }
                }
                $(this).find(".photoParameters").css("height", "auto")
            }
        }),
        27 == m.attr("_modulestyle") && Site.fixPhotoListHeight(e),
        Site.switchJump()
    }
}
,
Site.fixPhotoListHeight = function(e) {
    var t = $("#module" + e)
      , i = t.find(".photoForm");
    if (i.css("height", ""),
    27 == t.attr("_modulestyle"))
        Site.autoFixPhotoHeight(e);
    else {
        var a = 0;
        i.each(function() {
            var e = $(this).height();
            a < e && (a = e)
        }),
        i.css("height", a + "px")
    }
}
,
Site.multiPhoto = function(e, p, t) {
    var u = !1
      , i = "leftIcon"
      , a = "rightIcon"
      , o = "horizontal"
      , m = !1
      , n = {};
    null != (n = $.extend({}, n, t)).leftIconID && (i = n.leftIconID),
    null != n.rightIconID && (a = n.rightIconID),
    null != n.direction && (o = n.direction),
    null != n.zoom && (m = "true" == n.zoom);
    var r = e
      , s = e.width()
      , l = e.height()
      , d = r.find("> ul")
      , h = r.find("li")
      , c = (r.find("li .g_border"),
    h.outerWidth(!0))
      , f = h.outerHeight(!0)
      , g = h.length
      , v = 0;
    if (v = "horizontal" == o ? parseInt(s / c) : parseInt(l / f),
    "horizontal" == o) {
        Fai.isIE6() && c++;
        var _ = c * g;
        d.css("width", _ + "px")
    } else {
        var S = f * g;
        d.css("height", S + "px")
    }
    e.hasClass("J_imgDivsStyle5") && (u = !0),
    $("#" + i).mouseover(function() {
        v <= g && Math.abs(d.position().left) + r.width() >= d.width() && $(this).addClass("g_imgPrevHover")
    }).mouseout(function() {
        $(this).removeClass("g_imgPrevHover")
    }).click(function() {
        if (d.position().left < 0 || d.position().top < 0) {
            if (d.is(":animated"))
                return;
            "horizontal" == o ? d.animate({
                left: d.position().left + c + "px"
            }, "slow") : "vertical" == o && d.animate({
                top: d.position().top + f + "px"
            }, "slow"),
            Math.abs(d.position().left) <= c && $(this).addClass("g_imgPrevNotClick"),
            $("#" + a).removeClass("g_imgNextNotClick")
        }
    }),
    $("#" + a).mouseover(function() {
        v <= g && Math.abs(d.position().left) + r.width() <= d.width() && $(this).addClass("g_imgNextHover")
    }).mouseout(function() {
        $(this).removeClass("g_imgNextHover")
    }).click(function() {
        d.is(":animated") || v <= g && ("horizontal" == o ? Math.abs(d.position().left) + r.width() < d.width() ? (Math.abs(d.position().left) + r.width() + c >= d.width() && $(this).addClass("g_imgNextNotClick"),
        $("#" + i).removeClass("g_imgPrevNotClick"),
        d.animate({
            left: d.position().left - c + "px"
        }, "slow")) : ($(this).removeClass("g_imgNextHover"),
        $(this).addClass("g_imgNextNotClick")) : Math.abs(d.position().top) + r.height() < d.height() ? d.animate({
            top: d.position().top - f + "px"
        }, "slow") : ($(this).removeClass("g_imgNextHover"),
        $(this).addClass("g_imgNextNotClick")))
    }),
    h.mouseover(function() {
        h.removeClass("g_borderHover"),
        $(this).addClass("g_borderHover"),
        u && (_manageMode && m && Site.removeEditLayer(p, null, 106),
        h.removeClass("fk-mainBorderColor"),
        $(this).addClass("fk-mainBorderColor"));
        var e = $(this).find("a").attr("href");
        if (e != p.find("a").attr("href")) {
            p.find("a").attr("href", e);
            var t, i = $(this).attr("faiWidth"), a = $(this).attr("faiHeight"), o = p.width(), n = p.height();
            p.data("divWidth") && (o = p.data("divWidth")),
            p.data("divHeight") && (n = p.data("divHeight")),
            t = u ? Fai.Img.calcSize(i, a, o, n, Fai.Img.MODE_SCALE_FILL) : Fai.Img.calcSize(i, a, o, n, Fai.Img.MODE_SCALE_DEFLATE_FILL);
            var r = p.find("img");
            if (!r.is(":animated")) {
                var s = p.find("td")
                  , l = s.width()
                  , d = s.height()
                  , c = [];
                c.push("<div class='ProductDetailloadingImg' style='width:" + l + "px;height:" + d + "px;'>"),
                c.push("<table cellspacing='0' cellpadding='0' class='ProductDetailloadingImgTable' style='width:" + l + "px;height:" + d + "px;'><tbody><tr><td class='ProductDetailloadingImgTd'>"),
                c.push("<div class='ajaxLoading2' style='margin:0 auto;'></div>"),
                c.push("</td></tr></tbody></table>"),
                c.push("</div>"),
                s.append(c.join("")),
                $(r).load(function() {
                    $(".ProductDetailloadingImg").remove(),
                    $(".multiPhotoImgLoad").fadeOut("slow", function() {
                        $(this).remove()
                    })
                }),
                setTimeout(function() {
                    if (!$(r).load()) {
                        var e = $("<div class='multiPhotoImgLoad'></div>");
                        0 == p.find(".multiPhotoImgLoad").length && e.appendTo(p)
                    }
                }, 1e3),
                r.css("width", t.width + "px"),
                r.css("height", t.height + "px"),
                r.attr("src", e),
                "true" == p.attr("picPopup") ? p.attr("faiHref", "./previewimg.jsp?fileID=" + $(this).find("a > img").attr("id")) : p.attr("faiHref", e),
                m && (p.find(".cloud-zoom").data("zoom").destroy(),
                p.find(".cloud-zoom").CloudZoom({
                    imageWidth: i,
                    imageHeight: a
                }))
            }
        }
    }).mouseleave(function() {})
}
,
Site.createImageEffectContent_photo = function(e, l, t, i) {
    var a = $(e).parents("." + t.targetParent)
      , p = $(e).find(".imageEffects")
      , o = $(a).attr("photoName") || ""
      , n = $(a).attr("photoDisc") || "";
    o = Fai.encodeHtml(o),
    n = Fai.encodeHtml(n);
    var u = l[Site.ImageEffect.DATA.KEY.FULL_MASK_OPEN_DISC]
      , r = l[Site.ImageEffect.DATA.KEY.HALF_MASK_OPEN_DISC]
      , m = t.nameHidden;
    function s() {
        var e = []
          , t = l.effType
          , i = "";
        4 == t ? i = "photoFullMask" : 5 == t && (i = "photoHalfMask"),
        e.push("<div class='props " + i + "'>"),
        e.push("<div class='propList g_specialClass'>"),
        m || e.push("<div class='photoName g_specialClass'>" + o + "</div>"),
        u && 0 < n.length && 4 == t && e.push("<div class='photoDisc'>" + n + "</div>"),
        r && 0 < n.length && 5 == t && e.push("<div class='photoDisc'>" + n + "</div>"),
        e.push("</div>"),
        e.push("</div>"),
        $(p).append(e.join(""))
    }
    function d(e, t) {
        var i = $(p).find(".photoName")
          , a = $(p).find(".photoDisc")
          , o = 3;
        if (0 == i.length || m || (h(e, t),
        Site.clamp($(i)[0], {
            clamp: o
        })),
        0 != a.length && 4 == e.effType && u && (f(e),
        Site.clamp($(a)[0], {
            clamp: o
        }),
        setTimeout(function() {
            var e = $(p).height()
              , t = $(p).find(".props").height();
            if (e < t && !m) {
                var i = $(a).height();
                o = i - (t - e) + "px",
                Site.clamp($(a)[0], {
                    clamp: o
                })
            }
        }, 100)),
        4 == e.effType) {
            $(p).css({
                left: 0,
                top: 0,
                width: "100%",
                height: "100%"
            });
            var n = p.parent().find(".J_photoImg");
            if ("2" === n.attr("picsca")) {
                var r = n.css("margin-top");
                "0" !== r.replace("px", "") && (p.css("margin-top", r),
                p.css("height", n.height()))
            }
        }
        if (5 == e.effType) {
            var s = $(p).height() / 3
              , l = $(p).find(".props")
              , d = $(l).height() + 10
              , c = s;
            g(e),
            s < d && (c = d),
            $(p).css("height", c).css("bottom", "-" + c + "px")
        }
    }
    function h(e, t) {
        var i = $(p).find(".photoName")
          , a = ""
          , o = {};
        if ($(i).removeAttr("style"),
        4 == e.effType) {
            var n = e[Site.ImageEffect.DATA.KEY.FULL_MASK_CUS_NAME]
              , r = e[Site.ImageEffect.DATA.KEY.FULL_MASK_NAME_ALIG]
              , s = e[Site.ImageEffect.DATA.KEY.FULL_MASK_NAME_STYLE];
            n && "string" == typeof s && 0 < s.length && (s = $.parseJSON(s),
            o = Site.CompatibleColor.textStyle(s.fc),
            a += "color: " + s.fc + ";",
            a += 1 == s.fb ? " font-weight: bold;" : "",
            $.each(o, function(e, t) {
                a += " " + e + ":" + t + ";"
            })),
            "number" == typeof r && (a += " text-align:" + (1 == r ? "center;" : 2 == r ? "left;" : "right;"))
        }
        t ? 4 == l.effType ? a += " word-wrap: break-word;" : a += " overflow: visible; text-overflow: clip; white-space: normal; word-wrap: break-word;" : a += " overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",
        $(i).attr("style", a)
    }
    function f(e) {
        var t = $(p).find(".photoDisc")
          , i = ""
          , a = e[Site.ImageEffect.DATA.KEY.FULL_MASK_CUS_DISC]
          , o = e[Site.ImageEffect.DATA.KEY.FULL_MASK_DISC_STYLE]
          , n = e[Site.ImageEffect.DATA.KEY.FULL_MASK_DISC_ALIG]
          , r = {};
        if ($(t).removeAttr("style"),
        a && "string" == typeof o && 0 < o.length) {
            o = $.parseJSON(o),
            r = Site.CompatibleColor.textStyle(o.fc),
            $.each(r, function(e, t) {
                i += " " + e + ":" + t + ";"
            });
            var s = o.s;
            s && (i += "font-size:" + s + "px;"),
            1 == o.i && (i += "font-style:italic;"),
            1 == o.d && (i += "text-decoration:underline;"),
            1 == o.w && (i += "font-weight:bold;");
            var l = o.f;
            l && (i += "font-family:" + l + ";")
        }
        if ("number" == typeof n && (i += " text-align:" + (1 == n ? "center;" : 2 == n ? "left;" : "right;")),
        !m) {
            var d = Fai.isIE6() || Fai.isIE7() ? 16 : 18;
            i += " margin-top: " + d + "px;"
        }
        $(t).attr("style", i)
    }
    function g(e) {
        var t = $(p).find(".photoDisc")
          , i = ""
          , a = e[Site.ImageEffect.DATA.KEY.HALF_MASK_CUS_DISC]
          , o = e[Site.ImageEffect.DATA.KEY.HALF_MASK_DISC_STYLE]
          , n = e[Site.ImageEffect.DATA.KEY.HALF_MASK_DISC_ALIG]
          , r = {};
        if (e[Site.ImageEffect.DATA.KEY.HALF_MASK_OPEN_DISC]) {
            if (a && "string" == typeof o && 0 < o.length) {
                o = $.parseJSON(o),
                r = Site.CompatibleColor.textStyle(o.fc),
                $.each(r, function(e, t) {
                    i += " " + e + ":" + t + ";"
                });
                var s = o.s;
                s && (i += "font-size:" + s + "px;"),
                1 == o.i && (i += "font-style:italic;"),
                1 == o.d && (i += "text-decoration:underline;"),
                1 == o.w && (i += "font-weight:bold;");
                var l = o.f;
                l && (i += "font-family:" + l + ";")
            }
            "number" == typeof n && (i += " text-align:" + (1 == n ? "center;" : 2 == n ? "left;" : "right;")),
            $(t).attr("style", i)
        }
    }
    m && !u && !r || (s(),
    d(l, t.nameWordWrap))
}
,
Site.clearImageEffectContent_photo = function(e, t) {
    $("#" + e).find("." + t).remove()
}
,
Site.bindImageEffectCusEvent_photo = function(e, n) {
    var t = $(e).find(".imageEffects")
      , i = !0
      , r = $(e).parents("." + n.targetParent).find("a")
      , a = $(r).attr("href");
    (void 0 === a || 0 == a.length || 0 < a.indexOf("javascirpt") || 0 < a.indexOf("return") || 0 == r.length) && (i = !1),
    i ? $(t).css("cursor", "pointer") : $(t).css("cursor", "default"),
    $(t).unbind("click").bind("click", function() {
        var e = $(this).parents("." + n.targetParent).find("a");
        if (!Fai.isNull(e)) {
            var t = $(e).attr("href")
              , i = $(e).attr("onclick")
              , a = $(e).attr("target")
              , o = !(void 0 === t || 0 == t.length || 0 < t.indexOf("javascirpt") || 0 < t.indexOf("return") || 0 == r.length);
            void 0 !== i ? $(e).click() : o && window.open(t, a)
        }
    })
}
,
Site.loadPhotoGroup = function(e, l, t, i, a) {
    var o = $("#module" + e);
    if (!Fai.isNull(o)) {
        var d = 0;
        o.find(".photoForm").css("height", "auto").each(function() {
            var e = $(this)
              , t = e.attr("faiHeight")
              , i = e.attr("faiWidth");
            if (!Fai.isNull(t)) {
                var a = e.find(".imgDiv")
                  , o = a.width()
                  , n = a.height();
                e.css("width", o + "px");
                var r = l ? Fai.Img.calcSize(i, t, o, n, Fai.Img.MODE_SCALE_FILL) : {
                    width: o,
                    height: n
                };
                a.find("img").css({
                    width: r.width,
                    height: r.height
                }),
                e.find(".photoParameters").css("height", "auto");
                var s = e.height();
                d = d < s ? s : d
            }
        }).css("height", d + "px"),
        Site.photoGroupImageEffect.bind(o)
    }
}
,
Site.loadPhotoMasonry = function loadPhotoMasonry(e, t, i) {
    loadPhotoMasonry[e] || (loadPhotoMasonry[e] = {});
    var a = Fai.top.$("#module" + e);
    if (!(a.length < 1)) {
        var o = a.find(".J_list_photos_masonry");
        if (o.length) {
            var n = o.find(".J_list_photos_masonry_main")
              , r = o.find(".J_list_photos_masonry_item");
            if (!(r.length < 1)) {
                var s = o.width()
                  , l = r.length
                  , d = r.eq(0).width()
                  , c = Math.floor(s / d) || 1
                  , p = null
                  , u = 0
                  , m = 0
                  , h = Math.ceil(l / c)
                  , f = []
                  , g = [];
                if (0 != c && loadPhotoMasonry[e].column != c || i) {
                    var v = parseFloat(n.attr("picwidth"));
                    loadPhotoMasonry[e].column = c;
                    for (var _ = 0; _ <= h; _++)
                        f.push([]);
                    for (var S = r.sort(function(e, t) {
                        return $(e).data("sort") - $(t).data("sort")
                    }), b = 0; b <= f.length; b++) {
                        var x = f[b];
                        if (0 == b)
                            for (var w = 0; w < c; w++) {
                                x.push(S[w]);
                                var y = $(S[w]).find(".J_photoImg")
                                  , C = y.attr("iwidth") / y.attr("iheight");
                                g.push(v / C)
                            }
                        else
                            for (var F = function F(e) {
                                var t = Math.min.apply(Math, g)
                                  , i = g.findIndex(function(e) {
                                    return e == t
                                });
                                if (b * c + e > S.length - 1)
                                    return "break";
                                getLineArr(f, b, i)[i] = S[b * c + e];
                                var a = $(x[i]).find(".J_photoImg")
                                  , o = a.attr("iwidth") / a.attr("iheight");
                                g[i] = g[i] + v / o
                            }, I = 0; I < c; I++) {
                                if ("break" === F(I))
                                    break
                            }
                    }
                    for (n.hide(),
                    r.appendTo(n),
                    o.find(".J_list_photos_masonry_column").remove(),
                    u = 0; u < c; u++) {
                        for (p = $('<div class="m_list_photos_masonry_column J_list_photos_masonry_column"></div>'),
                        m = 0; m < f.length; m++)
                            f[m][u] && $(f[m][u]).appendTo(p);
                        p.appendTo(n)
                    }
                    n.show()
                }
            }
        }
    }
}
,
Site.loadPhotoAccordion = function(e, c) {
    var t = Fai.top.$("#module" + e);
    if (!(t.length < 1)) {
        var i = t.find(".J_list_photos_accordion")
          , a = (i.find(".J_list_photos_accordion_main"),
        i.find(".J_list_photos_accordion_item"));
        if (!(a.length < 1)) {
            var o = "m_list_photos_accordion_item__active"
              , n = "J_list_photos_accordion_content"
              , r = "J_list_photos_accordion_photo"
              , s = i.find("." + n)
              , l = i.find("." + r)
              , d = i.width()
              , p = a.length
              , u = s.eq(0).outerWidth(!0) - s.eq(0).width()
              , m = l.eq(0).width()
              , h = Math.floor((d - m - u) / (p - 1)) - u
              , f = m < h ? m : h
              , g = i.find("." + o);
            g.length < 1 && (g = a.eq(0)).addClass(o),
            g.children("." + n).width(m),
            g.siblings().children("." + n).width(f),
            a.off("mouseover.accordion").on("mouseover.accordion", function v() {
                !1 !== Site._enableEditLayer && ($(this).hasClass(o) || ($(this).addClass(o).children("." + n).stop().animate({
                    width: m
                }, 500, function() {
                    $(this).css("overflow", "")
                }),
                $(this).siblings().removeClass(o).children("." + n).stop().animate({
                    width: f
                }, 500, function() {
                    $(this).css("overflow", "")
                })))
            }),
            i.find(".J_photoForm").each(function() {
                var e = $(this)
                  , t = e.find(".J_listPhotoImg")
                  , i = e.find(".J_photoImg")
                  , a = i.attr("iwidth") / i.attr("iheight")
                  , o = t.width()
                  , n = t.height()
                  , r = o / n
                  , s = e.attr("faiwidth")
                  , l = e.attr("faiheight")
                  , d = Fai.Img.calcSize(s, l, o, n, Fai.Img.MODE_SCALE_FILL);
                2 == c ? r < a ? i.css({
                    width: a * n + "px",
                    height: n + "px",
                    "margin-top": "",
                    "margin-left": (o - a * n) / 2 + "px"
                }) : i.css({
                    width: o + "px",
                    height: o / a + "px",
                    "margin-top": (n - o / a) / 2 + "px",
                    "margin-left": ""
                }) : 0 === c ? i.css({
                    width: d.width,
                    height: d.height
                }) : 1 == c && i.css({
                    width: o,
                    height: n
                })
            }),
            i.removeClass("m_list_photos_accordion__loading")
        }
    }
}
,
Site.initPhotoGroupSelect = function(e, t) {
    var i = JZ.getIsOpenRemoveUrlArg() ? JZ.getUrlHashInCookie() : Fai.top.location.hash
      , a = t.style;
    if (!(i.length < 2) && Fai.getHashParam(i, "_php") && 27 == a) {
        var o = Site.decodeQsToUrl(Fai.getHashParam(i, "_php"), "_php", t)
          , n = Fai.getHashParam(o, "groupId");
        Fai.top.$("#module" + e).find("table").find("[groupid=" + n + "]").addClass("g_selected")
    }
}
,
function(o, n) {
    "use strict";
    function e() {
        var e = n(".formStyle27", n("#web"))
          , a = "mousemove.bindImaEff";
        0 !== e.length && e.each(function(e, t) {
            var i = n(t);
            0 < i.find(".J_photoImg").length && i.off(a).one(a, function() {
                r(n(this), !0)
            })
        })
    }
    function r(e, t) {
        var i = o.photoGroupImageEffect
          , a = 0 < e.find(".J_photoImg").length;
        l(e) && a && (t ? setTimeout(function() {
            s(i, e)
        }) : s(i, e))
    }
    function s(t, i) {
        var e = i.find(".imgDiv")
          , a = "mouseenter.imageEffect"
          , o = "mouseleave.imageEffect";
        t.init(i),
        e.off(a).off(o),
        e.on(a, function(e) {
            t.use(i, n(this).parent())
        }).on(o, function(e) {
            t.unUse(i, n(this).parent())
        })
    }
    function l(e) {
        return e.hasClass("formStyle27")
    }
    n(window).load(e),
    o.photoGroupImageEffect = n.extend({}, o.photoGroupImageEffect, {
        bind: r
    })
}(Site, jQuery),
function(o, n) {
    "use strict";
    function e(e, t) {
        s("init", arguments)
    }
    function t(e, t) {
        s("use", arguments)
    }
    function i(e, t) {
        s("unUse", arguments)
    }
    function a(e, t) {
        s("fix", arguments)
    }
    function r(e, t) {
        s("refresh", arguments)
    }
    function s(e, t) {
        var i, a = o.photoGroupImageEffect.getImageEffect(t[0]);
        n.isPlainObject(a) && (i = a[e]),
        n.isFunction(i) && i.apply(a, t)
    }
    o.photoGroupImageEffect = n.extend({}, o.photoGroupImageEffect, {
        use: t,
        unUse: i,
        init: e,
        fix: a,
        refresh: r
    })
}(Site, jQuery),
function(o, l) {
    "use strict";
    function e(e, t) {
        e.find(".photoForm").each(function(e, t) {
            i(l(t))
        })
    }
    function i(e) {
        var t = e.find("img")
          , i = e.find(".imageEffects")
          , a = (e.find(".imgDiv"),
        1)
          , o = t.width()
          , n = t.height()
          , r = t.position().left
          , s = t.position().top;
        o -= 2 * a,
        n -= 2 * a,
        i.css({
            left: r,
            top: s,
            width: o,
            height: n
        })
    }
    function t(e) {
        var t = e.find(".J_photoForms").attr("_imgefftype")
          , i = o.photoGroupImageEffect;
        (function a() {}
        );
        return {
            1: {},
            2: i.border,
            3: i.magnifier,
            4: i.textDescFull,
            5: i.textDescHalf,
            6: i.imgScale,
            7: i.bgTranslate,
            8: i.photoReplace
        }[t]
    }
    function a(e, t) {
        e.find(".photoForm").each(function(e, t) {
            n(l(t))
        })
    }
    function n(e) {
        var t, i = l('<div class="J_tmpImgWrap"></div>'), a = e.find(".imgDiv"), o = e.find("img"), n = 1 < o.parent().hasClass(".J_tmpImgWrap"), r = o.width(), s = o.height();
        n || (i.css({
            position: "relative",
            width: r,
            height: s,
            display: "inline-block"
        }),
        t = {
            initImgRatio: r / s,
            isImgFull: r === a.width() && s === a.height()
        },
        i.data("wrapData", t),
        o.wrap(i))
    }
    function r(e) {
        e.find("img");
        var t, i, a = e.find(".J_tmpImgWrap").data("wrapData"), o = e.width(), n = e.height(), r = o / n, s = a.initImgRatio;
        return a.isImgFull ? (t = o,
        i = n) : r < s ? i = (t = o) / s : t = (i = n) * s,
        {
            width: t,
            height: i
        }
    }
    o.photoGroupImageEffect = l.extend({}, o.photoGroupImageEffect, {
        adjustImgEffSize: i,
        adjustModuleImgEffSize: e,
        getImageEffect: t,
        wrapModuleImage: a,
        computeWrapImageSize: r
    })
}(Site, jQuery),
function(a, c) {
    "use strict";
    function e(e) {
        var t, i;
        e.find(".imageEffects").remove(),
        e.removeData("imageEffectData"),
        e.find(".photoForm").each(function(e, t) {
            var i, a, o = c(t).find(".photoImg"), n = o.parent(), r = "solid #000 1px", s = 0, l = "absolute", d = 0;
            0 < n.find(".imageEffects").length || (a = c(Site.ImageEffect.DATA.imageEffectHtml),
            n.append(a),
            o.width() < n.width() && (i = n.width() - o.width(),
            i /= 2),
            a.css({
                border: r,
                opacity: s,
                position: l,
                top: d,
                left: i
            }))
        }),
        t = {
            effType: 2,
            imgShapeType: 1
        },
        i = {
            moduleId: e.attr("_moduleid"),
            imgEffOption: t,
            tagetOption: {
                target: "imgDiv"
            }
        },
        e.data("imageEffectData", i),
        a.ImageEffect.FUNC.BASIC.Init(i),
        e.find(".photoForm").each(function(e, t) {
            var i = c(t).find(".photoImg").parent()
              , a = i.siblings(".imageEffects");
            0 !== a.length && i.append(a)
        })
    }
    function t(e, t) {
        a.photoGroupImageEffect.adjustModuleImgEffSize(e, t)
    }
    a.photoGroupImageEffect = c.extend({}, a.photoGroupImageEffect, {
        border: {
            init: e,
            fix: t
        }
    })
}(Site, jQuery),
function(i, e) {
    "use strict";
    function t(e) {
        e.find(".imageEffects").remove(),
        i.ImageEffect.FUNC.BASIC.Init({
            moduleId: e.attr("_moduleid"),
            imgEffOption: {
                effType: 3,
                borderType: !1
            },
            tagetOption: {
                target: "imgDiv a"
            }
        })
    }
    function a(e, t) {
        i.photoGroupImageEffect.adjustModuleImgEffSize(e, t)
    }
    i.photoGroupImageEffect = e.extend({}, i.photoGroupImageEffect, {
        magnifier: {
            init: t,
            fix: a
        }
    })
}(Site, jQuery),
function(i, n) {
    "use strict";
    function e(e) {
        e.find(".imageEffects").remove(),
        i.ImageEffect.FUNC.BASIC.Init({
            moduleId: e.attr("_moduleid"),
            imgEffOption: {
                effType: 4,
                borderType: !1
            },
            tagetOption: {
                target: "imgDiv a"
            }
        }),
        e.find(".imageEffects").css("zIndex", 1),
        e.find(".J_photoForm").each(function(e, t) {
            var i = n(t);
            r(i.find(".imageEffects"), i.attr("_photogroupdesc"))
        })
    }
    function t(e) {
        o(e)
    }
    function a(e, t) {
        i.photoGroupImageEffect.adjustModuleImgEffSize(e, t),
        o(e)
    }
    function o(e) {
        e.find(".imgDiv").each(function(e, t) {
            var i = n(t)
              , a = i.find(".imageEffects")
              , o = (i.find(".J_desc"),
            i.find(".propList"));
            o.css({
                padding: "0 7.5%",
                position: "absolute",
                top: (a.height() - o.height()) / 2,
                left: 0
            })
        })
    }
    function r(e, t) {
        if (!(0 < e.find(".J_mask").length)) {
            var i = n(['<div class="props photoFullMask J_mask">', '<div class="propList g_specialClass">', '<div class="photoName g_specialClass" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 3;"></div>', '<div class="photoDisc J_desc" style="max-height:48px;text-align: center;overflow: hidden; text-overflow: ellipsis; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 3;">' + (t || "") + "</div>", "</div>", "</div>"].join(""));
            i.css("overflow", "hidden"),
            e.append(i)
        }
    }
    i.photoGroupImageEffect = n.extend({}, i.photoGroupImageEffect, {
        textDescFull: {
            use: t,
            init: e,
            fix: a
        }
    })
}(Site, jQuery),
function(t, s) {
    "use strict";
    function e(e) {
        e.find(".imageEffects").remove(),
        t.ImageEffect.FUNC.BASIC.Init({
            moduleId: e.attr("_moduleid"),
            imgEffOption: {
                effType: 5,
                borderType: !1
            },
            tagetOption: {
                target: "imgDiv a"
            }
        }),
        e.find(".imageEffects").css("zIndex", 1),
        e.find(".J_photoForm").each(function(e, t) {
            var i = s(t)
              , a = i.find(".imageEffects")
              , o = i.attr("_photogroupdesc");
            n(a),
            a.find(".J_desc").text(o)
        }),
        a(e)
    }
    function i(e, t) {
        t.find(".imgDiv");
        var i = t.find(".imageEffects");
        t.find("img").position().left !== i.position().left && i.css("left", 0)
    }
    function n(e, t) {
        if (!(0 < e.find(".J_mask").length)) {
            var i = s(['<div class="props photoHalfMask J_mask">', '<div class="propList g_specialClass">', '<div class="photoName g_specialClass" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 3;"></div>', '<div class="photoDisc J_desc" style=" text-align:center;">' + (t || "") + "</div>", "</div>", "</div>"].join(""));
            e.append(i)
        }
    }
    function a(e) {
        e.find(".imgDiv").each(function(e, t) {
            var i = s(t)
              , a = i.find(".imageEffects")
              , o = i.find("img")
              , n = o.width()
              , r = o.offset().left - i.offset().left;
            a.css({
                width: n,
                left: r
            })
        })
    }
    t.photoGroupImageEffect = s.extend({}, t.photoGroupImageEffect, {
        textDescHalf: {
            use: i,
            init: e,
            fix: a
        }
    })
}(Site, jQuery),
function(n, d) {
    "use strict";
    function e(e) {
        e.find(".imageEffects").remove(),
        n.ImageEffect.FUNC.BASIC.Init({
            moduleId: e.attr("_moduleid"),
            imgEffOption: {
                effType: 6,
                borderType: !1
            },
            tagetOption: {
                target: "imgDiv a",
                picScale: 2
            }
        }),
        n.photoGroupImageEffect.wrapModuleImage(e)
    }
    function t(e, t, i) {
        var a = i.width
          , o = i.height
          , l = n.photoGroupImageEffect.computeWrapImageSize;
        d.isFunction(l) && a && o && e.find(".imgDiv").each(function(e, t) {
            var i = d(t)
              , a = l(i)
              , o = i.find(".J_tmpImgWrap")
              , n = i.find("img")
              , r = a.width
              , s = a.height;
            o.css({
                width: r,
                height: s
            }),
            n.attr("_initwidth", r),
            n.attr("_initheight", s),
            n.css({
                width: r,
                height: s,
                margin: 0
            })
        })
    }
    n.photoGroupImageEffect = d.extend({}, n.photoGroupImageEffect, {
        imgScale: {
            init: e,
            refresh: t
        }
    })
}(Site, jQuery),
function(n, d) {
    "use strict";
    function e(e) {
        e.find(".imageEffects").remove(),
        e.find(".imgDiv").each(function(e, t) {
            var i = d(t).find("a")
              , a = i.attr("style") || {};
            i.data("initW", a.width),
            i.data("initH", a.height),
            i.css({
                width: i.width(),
                height: i.height()
            })
        }),
        n.ImageEffect.FUNC.BASIC.Init({
            moduleId: e.attr("_moduleid"),
            imgEffOption: {
                effType: 7,
                borderType: !1
            },
            tagetOption: {
                target: "imgDiv a"
            }
        }),
        n.photoGroupImageEffect.wrapModuleImage(e)
    }
    function t(e, t, i) {
        var a = i.width
          , o = i.height
          , l = n.photoGroupImageEffect.computeWrapImageSize;
        d.isFunction(l) && a && o && e.find(".imgDiv").each(function(e, t) {
            var i = d(t)
              , a = l(i)
              , o = a.width
              , n = a.height
              , r = i.find(".J_tmpImgWrap")
              , s = i.find("img");
            r.parent().css({
                width: o,
                height: n
            }),
            r.css({
                width: o,
                height: n
            }),
            s.css({
                width: o + 10,
                height: n
            })
        })
    }
    n.photoGroupImageEffect = d.extend({}, n.photoGroupImageEffect, {
        bgTranslate: {
            init: e,
            refresh: t
        }
    })
}(Site, jQuery),
function(t, l) {
    "use strict";
    function e(e) {
        e.find(".imageEffects").remove(),
        e.find(".J_photoForm").each(function(e, t) {
            var i = l(t)
              , a = i.find(".J_photoImg")
              , o = i.find(".J_imgDiv")
              , n = a.attr("_iehoverphotosrc")
              , r = l('<div class="imageEffect J_hovIE"><img class="J_hovImg"></div>')
              , s = r.find(".J_hovImg");
            r.css({
                width: a.width(),
                height: a.height(),
                position: "absolute",
                left: a.offset().left - o.offset().left,
                top: a.offset().top - o.offset().top
            }),
            s.css({
                width: "100%",
                height: "100%"
            }),
            s.attr("src", n),
            r.hide(),
            r.insertAfter(a)
        }),
        t.ImageEffect.FUNC.BASIC.Init({
            moduleId: e.attr("_moduleid"),
            imgEffOption: {
                effType: 8,
                borderType: !1
            },
            tagetOption: {
                target: "imgDiv a"
            }
        })
    }
    function i(e, t) {
        var i = {
            $photoForm: t
        };
        t.find(".J_photoImg").parent().off("mouseleave.useie").off("mouseenter.useie").off("mousemove.useie").one("mousemove.useie", i, n).on("mouseenter.useie", i, n).on("mouseleave.useie", i, r),
        o(e)
    }
    function a(e, t) {
        t.find(".J_photoImg").off("mouseleave.useie").off("mouseenter.useie")
    }
    function o(e) {
        e.find(".J_photoForm").each(function(e, t) {
            var i = l(t)
              , a = i.find(".J_photoImg")
              , o = i.find(".J_imgDiv")
              , n = i.find(".J_hovIE");
            n.find(".J_hovImg");
            n.css({
                width: a.width(),
                height: a.height(),
                position: "absolute",
                left: a.offset().left - o.offset().left,
                top: a.offset().top - o.offset().top
            })
        })
    }
    function n(e) {
        var t = e.data.$photoForm
          , i = t.find(".J_photoImg")
          , a = t.find(".J_hovIE")
          , o = t.find(".J_hovImg");
        0 < o.length && i.attr("_iehoverphotosrc") && (o.attr("src", o.attr("_hovImg")),
        a.css({
            width: i.width(),
            height: i.height(),
            opacity: 0
        }),
        a.show(),
        a.stop().animate({
            opacity: 1
        }, 300),
        i.stop().animate({
            opacity: 0
        }, 300))
    }
    function r(e) {
        var t = e.data.$photoForm
          , i = t.find(".J_photoImg")
          , a = t.find(".J_hovIE")
          , o = t.find(".J_hovImg");
        0 < o.length && i.attr("_iehoverphotosrc") && (o.attr("src", o.attr("_hovImg")),
        a.stop().animate({
            opacity: 0
        }, 300, function() {
            l(this).hide()
        }),
        i.stop().animate({
            opacity: 1
        }, 300))
    }
    t.photoGroupImageEffect = l.extend({}, t.photoGroupImageEffect, {
        photoReplace: {
            init: e,
            use: i,
            unUes: a
        }
    })
}(Site, jQuery),
function(e, c) {
    "use strict";
    e.initNewCp3DFunc = function() {
        this.init.apply(this, arguments)
    }
    ,
    e.initNewCp3DFunc.prototype = {
        init: function t(e) {
            this.curIndex = 0,
            this.opts = e,
            this.picLen = e.cycleList.length,
            this.$module = c("#" + e.id),
            this.picList = e.cycleList,
            this.threeLevel = !!this.$module.find(".m_cp_3D_list__three").length,
            this.twoLevel = !!this.$module.find(".m_cp_3D_list__two").length,
            this.cycleShow = this.picLen <= this.$module.find(".m_cp_3D_item").length,
            this.bindEvent()
        },
        bindEvent: function i() {
            this.$module.find(".m_cp_3D_list").off("click.nt").on("click.nt", ".is_3d__center_r", {
                _this: this
            }, this.doNext),
            this.$module.find(".m_cp_3D_list").off("click.prev").on("click.prev", ".is_3d__center", {
                _this: this
            }, this.doPrev),
            this.opts.imgPopupNone || (this.$module.find(".is_3d__top").css("cursor", "pointer"),
            this.$module.find(".m_cp_3D_list").off("click.t").on("click.t", ".is_3d__top", {
                _this: this
            }, this.opts.imgPopupType ? this.showPopup : this.jumpHref)),
            (this.animated || Fai.top.carousel3D[this.opts.moduleId] && Fai.top.carousel3D[this.opts.moduleId].animated) && (this.pausePlay(!!Fai.top.carousel3D[this.opts.moduleId] && Fai.top.carousel3D[this.opts.moduleId].animated),
            this.removeAnimateTime()),
            this.opts.manuallyCarousel ? this.$module.find(".m_cp_3D_list").off("mouseover.mo").off("mouseleave.ml") : (this.autoPlay(),
            this.$module.find(".m_cp_3D_list").off("mouseover.mo").on("mouseover.mo", {
                _this: this,
                pause: !0
            }, this.dealEventOfAnimate).off("mouseleave.ml").on("mouseleave.mo", {
                _this: this,
                pause: !1
            }, this.dealEventOfAnimate))
        },
        doNext: function p(e) {
            e.stopPropagation(),
            e.preventDefault();
            var t = e.data._this
              , i = t.$module
              , a = i.find(".m_cp_3D_list")
              , o = c(this)
              , n = o.next()
              , r = o.prev()
              , s = i.find(".is_3d__bottom")
              , l = i.find(".is_3d__center")
              , d = !!i.find(".m_cp_3D_list__two_same").length;
            i.find(".m_cp_3D_item:animated").length || (t.curIndex++,
            d ? (l.remove(),
            a.append(r.clone().removeClass("is_3d__top"))) : t.checkPicCycle(!0),
            setTimeout(function() {
                n = o.next(),
                r.addClass("is_3d__center").removeClass("is_3d__top"),
                o.addClass("is_3d__top").removeClass("is_3d__center_r"),
                t.threeLevel ? (s.removeClass("is_3d__bottom"),
                l.addClass("is_3d__bottom").removeClass("is_3d__center"),
                n.addClass("is_3d__center_r").removeClass("is_3d__bottom_r"),
                n.next().addClass("is_3d__bottom_r"),
                t.cycleShow && a.find(".m_cp_3D_item:first").remove()) : d ? a.find(".m_cp_3D_item:last").addClass("is_3d__center_r") : (l.removeClass("is_3d__center"),
                n.addClass("is_3d__center_r"),
                t.cycleShow && a.find(".m_cp_3D_item:first").remove()),
                _manageMode && setTimeout(function() {
                    Site.moduleCarouselPhotosItemManage.carouselPhotosImgResize(i.attr("_moduleid"))
                }, t.opts.manuallyCarousel ? 300 : t.opts.animate)
            }, 1),
            _manageMode && (Site.removeEditLayer(i.find(".is_3d__top"), null, 6),
            i.find(".is_3d__top").resizable("destroy")))
        },
        doPrev: function u(e) {
            e.stopPropagation(),
            e.preventDefault();
            var t = e.data._this
              , i = t.$module
              , a = i.find(".m_cp_3D_list")
              , o = c(this)
              , n = o.next()
              , r = o.prev()
              , s = i.find(".is_3d__bottom_r")
              , l = i.find(".is_3d__center_r")
              , d = !!i.find(".m_cp_3D_list__two_same").length;
            i.find(".m_cp_3D_item:animated").length || (d ? (l.remove(),
            a.prepend(n.clone().removeClass("is_3d__top"))) : t.checkPicCycle(!1),
            setTimeout(function() {
                r = o.prev(),
                o.addClass("is_3d__top").removeClass("is_3d__center"),
                n.addClass("is_3d__center_r").removeClass("is_3d__top"),
                t.threeLevel ? (r.prev().addClass("is_3d__bottom"),
                r.addClass("is_3d__center").removeClass("is_3d__bottom"),
                l.addClass("is_3d__bottom_r").removeClass("is_3d__center_r"),
                s.removeClass("is_3d__bottom_r"),
                t.cycleShow && a.find(".m_cp_3D_item:last").remove()) : d ? a.find(".m_cp_3D_item:first").addClass("is_3d__center") : (l.removeClass("is_3d__center_r"),
                r.addClass("is_3d__center"),
                t.cycleShow && a.find(".m_cp_3D_item:last").remove()),
                _manageMode && setTimeout(function() {
                    Site.moduleCarouselPhotosItemManage.carouselPhotosImgResize(i.attr("_moduleid"))
                }, t.opts.manuallyCarousel ? 300 : t.opts.animate)
            }, 1),
            _manageMode && (Site.removeEditLayer(i.find(".is_3d__top"), null, 6),
            i.find(".is_3d__top").resizable("destroy")))
        },
        showPopup: function o(e) {
            var t = e.data._this.opts.moduleId
              , i = c(this)
              , a = parseInt(i.attr("index"));
            Site.photoSlide.Func.open(t, a)
        },
        jumpHref: function n(e) {
            e.data._this.opts.moduleId;
            var t = c(this)
              , i = t.attr("href") || ""
              , a = t.attr("target") || ""
              , o = t.attr("onclick");
            JZ.getIsOpenRemoveUrlArg() && void 0 !== o ? c("<a>").attr({
                href: i,
                target: a,
                onclick: o
            }).click() : i && a && window.open(i, a)
        },
        autoPlay: function a() {
            var e = this.opts.interval
              , t = this.opts.animate
              , i = (this.opts.moduleId,
            this);
            this.$module.find(".is_3d__center");
            this.setAnimateTime(),
            this.animated = setInterval(function() {
                i.$module.find(".is_3d__center_r").trigger("click")
            }, e + t)
        },
        pausePlay: function r(e) {
            clearInterval(this.animated || e)
        },
        setAnimateTime: function s() {
            if (_manageMode) {
                var e = this.opts.animate
                  , t = this.opts.moduleId;
                Site.setModuleStyleCssList(t, [{
                    cls: ".m_cp_3D_item",
                    key: "transition",
                    value: "height " + e + "ms linear,width " + e + "ms linear,opacity " + e + "ms linear,left " + e + "ms linear"
                }])
            }
        },
        removeAnimateTime: function l() {
            _manageMode && Site.removeModuleStyleCssList(this.opts.moduleId, [{
                cls: ".m_cp_3D_item",
                key: "transition"
            }])
        },
        dealEventOfAnimate: function d(e) {
            var t = e.data._this;
            e.data.pause ? t.pausePlay() : t.autoPlay()
        },
        checkPicCycle: function m(e) {
            var t = this.$module.find(".m_cp_3D_item").length
              , i = this.picLen
              , a = this.$module.find(".m_cp_3D_list")
              , o = !!e
              , n = this.$module.find(".is_3d__bottom_r").nextAll(".m_cp_3D_item").length
              , r = this.$module.find(".is_3d__bottom").prevAll(".m_cp_3D_item").length
              , s = t < i && (o ? !n : !r)
              , l = 0
              , d = 0;
            if (this.cycleShow = this.picLen <= this.$module.find(".m_cp_3D_item").length,
            o)
                if (this.cycleShow) {
                    var c = this.threeLevel ? "is_3d__bottom" : "is_3d__center";
                    a.append(a.find(".m_cp_3D_item:first").clone().removeClass(c))
                } else
                    s && (l = parseInt(this.$module.find(".m_cp_3D_item:last").attr("index")),
                    this.appendPicDom(o, ++l));
            else if (this.cycleShow) {
                c = this.threeLevel ? "is_3d__bottom_r" : "is_3d__center_r";
                a.prepend(a.find(".m_cp_3D_item:last").clone().removeClass(c))
            } else
                s && (d = parseInt(this.$module.find(".m_cp_3D_item:first").attr("index")),
                this.appendPicDom(o, --d))
        },
        appendPicDom: function h(e, t) {
            var i = this.picList[t]
              , a = this.$module.find(".m_cp_3D_list")
              , o = "";
            o += "<li class='m_cp_3D_item' index='" + t + "' " + i.aAttribute + ">",
            o += "<div class='m_cp_3D__img m_cp_3D__img" + i.id + "' " + i.aAttribute + " style='background-image:url(" + i.bigPicThumbPath + ")'>",
            o += "</div>",
            o += "<div class='m_cp_3D__desc'><p>" + i.basicAttr + "</p></div >",
            o += "</li>",
            e ? a.append(o) : a.prepend(o)
        }
    }
}(Site, jQuery),
Site.initModuleWeather = function(e, t, i, a) {
    Site.initIframeLoading(e, t, i, a)
}
,
Site.initModuleWeatherBySina = function(o, e, n, t, i) {
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax/site_h.jsp",
            oldPath: Site.genAjaxUrl("site_h.jsp")
        }),
        data: "cmd=getWeatherCityCode&cityName=" + Fai.encodeUrl(e),
        type: "post",
        success: function r(e) {
            var t = jQuery.parseJSON(e);
            if (t.success) {
                var i = t.msg.cityCode
                  , a = t.msg.parentCityCode;
                13 == n || 14 == n || 15 == n ? Site.initModuleWeatherByEtouch(o, i, n, a) : Site.initModuleWeatherBySinaV2(o, i, n, a)
            }
        }
    })
}
,
Site.initModuleWeatherByEtouch = function(c, p, u, m) {
    Site.logDog(200133, 1);
    var h = []
      , f = Fai.isIE6();
    $(".formMiddleContent" + c).css("overflow", "hidden"),
    $(".formMiddleContent" + c).append("<div class='weather2Loading'></div>"),
    0 < $("#toolTips" + u).length && $("#toolTips" + u).remove(),
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/weather_h.jsp?cmd=getWafNotCk_wthrcdnWeather&&cityCode=" + p,
        dataType: "json",
        type: "GET",
        success: function g(e) {
            if (e.success) {
                var t = e.data;
                if (!t || 1e3 != t.status) {
                    if (!m)
                        return;
                    return void Site.initModuleWeatherByEtouch(c, m, u)
                }
                var i = t.data.city
                  , a = t.data.wendu
                  , o = t.data.forecast[0].fengli
                  , n = (t.data.forecast[0].fengxiang,
                t.data.forecast[0].type)
                  , r = t.data.aqi
                  , s = ""
                  , l = "";
                switch (_typeof2(r) != undefined && (0 <= r && r <= 50 ? l = "优" : 50 < r && r <= 100 ? l = "良" : 100 < r && r <= 150 ? l = "轻度污染" : 150 < r && r <= 200 ? l = "中度污染" : 200 < r && r <= 300 ? l = "重度污染" : 300 < r && (l = "严重污染")),
                n) {
                case "暴雨":
                    s = "baoyu";
                    break;
                case "大暴雨":
                    s = "dabaoyu";
                    break;
                case "大雪":
                    s = "daxue";
                    break;
                case "大雨":
                    s = "dayu";
                    break;
                case "多云":
                    s = "duoyun";
                    break;
                case "雷阵雨":
                    s = "leizhenyu";
                    break;
                case "霾":
                    s = "mai";
                    break;
                case "晴":
                    s = "qing";
                    break;
                case "雾":
                    s = "wu";
                    break;
                case "小雪":
                    s = "xiaoxue";
                    break;
                case "小雨":
                    s = "xiaoyu";
                    break;
                case "雪":
                    s = "xue";
                    break;
                case "阴":
                    s = "yin";
                    break;
                case "雨夹雪":
                    s = "yujiaxue";
                    break;
                case "阵雨":
                    s = "zhenyu";
                    break;
                case "中雪":
                    s = "zhongxue";
                    break;
                case "中雨":
                case "中到大雨":
                    s = "zhongyu";
                    break;
                case "小到中雨":
                    s = "xiaoyu";
                    break;
                case "中到大雪":
                    s = "zhongxue";
                    break;
                case "小到中雪":
                    s = "xiaoxue";
                    break;
                case "大到暴雨":
                    s = "baoyu";
                    break;
                default:
                    s = "kongbai"
                }
                if (13 == u ? (f && $(".formMiddleContent" + c).css("height", "80px"),
                h.push("<div class='weather2' style='width:300px;'>"),
                h.push("<div class='left" + u + "'>"),
                h.push("<div class='firstLine" + u + "'>"),
                h.push("<div class='cityName" + u + "'>" + i + "</div>"),
                h.push("<div class='currentTemperature" + u + "'>"),
                h.push("<font face='微软雅黑' color='#fdbf43'>" + a + "℃</font>"),
                h.push("</div>"),
                h.push("</div>"),
                h.push("<div class='secondLine" + u + "'>"),
                h.push("<div class='weatherCon" + u + "'>"),
                h.push("<span class='weatherCon2" + u + "'>" + n + "</span>"),
                h.push("</div>"),
                h.push("<div class='fenli" + u + "'>" + o + "</div>"),
                h.push("</div>"),
                h.push("</div>"),
                h.push("<div class='right" + u + "'>"),
                h.push("<div class='images" + u + "'>"),
                h.push("<img alt=' ' class='image1" + u + "' title='" + n + "' src='" + _resRoot + "/image/site/weather/" + s + "22." + (f ? "gif'" : "png'") + "/>"),
                h.push("</div>"),
                h.push("</div>")) : 14 == u ? (f && $(".formMiddleContent" + c).css("height", "80px"),
                h.push("<div class='weather2' style='width:250px;'>"),
                h.push("<div class='left" + u + "' style='width: 90px;'>"),
                h.push("<div class='images" + u + "'>"),
                h.push("<img alt=' ' class='image1" + u + "' title='" + n + "' src='" + _resRoot + "/image/site/weather/" + s + "11." + (f ? "gif'" : "png'") + "/>"),
                h.push("</div>"),
                h.push("</div>"),
                h.push("<div class='right" + u + "'>"),
                h.push("<div class='firstLine" + u + "'>"),
                h.push("<div class='cityName" + u + "'>" + i + "</div>"),
                h.push("<div class='currentTemperature" + u + "'>"),
                h.push("<font face='微软雅黑' color='#fdbf43'>" + a + "℃</font>"),
                h.push("</div>"),
                h.push("</div>"),
                h.push("<div class='secondLine" + u + "'>"),
                h.push("<div class='weatherCon" + u + "'>"),
                h.push("<span class='weatherCon2" + u + "'>" + n + "</span>"),
                h.push("</div>"),
                h.push("<div class='fenli" + u + "'>" + o + "</div>"),
                h.push("</div>"),
                h.push("</div>")) : 15 == u && (f && $(".formMiddleContent" + c).css("height", "80px"),
                h.push("<div class='weather2' style='width:350px;'>"),
                h.push("<div class='left" + u + "' style='width: 90px;'>"),
                h.push("<div class='images" + u + "'>"),
                h.push("<img alt=' ' class='image1" + u + "' title='" + n + "' src='" + _resRoot + "/image/site/weather/" + s + "33." + (f ? "gif'" : "png'") + "/>"),
                h.push("</div>"),
                h.push("</div>"),
                h.push("<div class='right" + u + "'>"),
                h.push("<div class='firstLine" + u + "'>"),
                h.push("<div class='cityName" + u + "'>" + i + "</div>"),
                h.push("<div class='weatherCon" + u + "'>"),
                h.push(n + "</div>"),
                h.push("<div class='fenli" + u + "'>" + o + "</div>"),
                h.push("</div>"),
                h.push("<div class='secondLine" + u + "'>"),
                h.push("<div class='currentTemperature" + u + "'>"),
                h.push("<font face='微软雅黑'>" + a + "℃</font>"),
                h.push("</div>"),
                _typeof2(r) != undefined && "" != l && (h.push("<div class='weatherAqi" + u + "'>"),
                h.push("<span class='weatherAqi2" + u + "'>空气质量: " + r + " " + l + "</span>"),
                h.push("</div>")),
                h.push,
                h.push("</div>"),
                h.push("</div>")),
                0 == h.length) {
                    var d = "<div id='toolTips" + u + "' style='margin: 0 auto;width: 120px; cursor:pointer;' onclick='Site.initModuleWeatherByEtouch( " + c + ", " + p + ", " + u + "," + m + " )'>网络缓慢，请重新加载</div>";
                    $(".formMiddleContent" + c + " .includeWeather" + u).append(d)
                } else
                    $(".formMiddleContent" + c + " .includeWeather" + u).append(h.join(""));
                $(".formMiddleContent" + c + " .weather2Loading").remove()
            } else {
                300 <= $("#module" + c).css("width").replace("px", "") && $("#module" + c).css("min-width", "300px"),
                $(".formMiddleContent" + c + " .weather2Loading").remove(),
                $(".formMiddleContent" + c + " .includeWeather" + u).append("<div text-align='center' style='position: absolute; width:100%; top: 50%; transform: translateY(-50%); text-align:center;'><span >" + LS.weatherLoadErr + "</span></div>")
            }
        },
        error: function e() {
            Fai.ing("系统异常，请稍后重试", !0)
        }
    })
}
,
Site.initModuleWeatherBySinaV2 = function(w, e, y, C) {
    Site.logDog(200133, 1);
    var F = Fai.isIE6()
      , I = [];
    $(".formMiddleContent" + w).css("overflow", "hidden"),
    $(".formMiddleContent" + w).append("<div class='weather2Loading'></div>"),
    0 < $("#toolTips" + y).length && $("#toolTips" + y).remove(),
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/weather_h.jsp?cmd=getWafNotCk_wthrcdnWeather&&cityCode=" + e,
        dataType: "json",
        type: "GET",
        error: function t() {
            Fai.ing("系统异常，请稍后重试", !0)
        },
        success: function P(e) {
            if (e.success) {
                var t = e.data;
                if (!t || 1e3 != t.status) {
                    if (!C)
                        return;
                    return void Site.initModuleWeatherBySinaV2(w, C, y)
                }
                var i = $(".formMiddleContent" + w + " .weather2")
                  , a = []
                  , o = !1;
                a.push(t.data.forecast[0]),
                11 == y && a.push(t.data.forecast[1]);
                for (var n = /^[0-9]+.?[0-9]*/, r = 0; r < a.length; r++) {
                    var s = ""
                      , l = ""
                      , d = RegExpWeather("temp", a[r].high) ? RegExpWeather("temp", a[r].high)[0] : "0"
                      , c = RegExpWeather("temp", a[r].low) ? RegExpWeather("temp", a[r].low)[0] : "0"
                      , p = a[r].type
                      , u = a[r].type
                      , m = a[r].fengxiang
                      , h = a[r].fengxiang
                      , f = ""
                      , g = -1
                      , v = RegExpWeather("power", a[r].fengli)
                      , _ = t.data.city;
                    if (n.test(v[0]))
                        switch (v[3] == undefined ? g = v[2] : v[2] == undefined && (g = v[3]),
                        parseInt(g)) {
                        case 0:
                            f = "无风";
                            break;
                        case 1:
                            f = "软风";
                            break;
                        case 2:
                            f = "轻风";
                            break;
                        case 3:
                            f = "微风";
                            break;
                        case 4:
                            f = "和风";
                            break;
                        case 5:
                            f = "轻劲风";
                            break;
                        case 6:
                            f = "强风";
                            break;
                        case 7:
                            f = "疾风";
                            break;
                        case 8:
                            f = "大风";
                            break;
                        case 9:
                            f = "烈风";
                            break;
                        case 10:
                            f = "狂风";
                            break;
                        case 11:
                            f = "暴风";
                            break;
                        case 12:
                            f = "台风";
                            break;
                        default:
                            f = ""
                        }
                    else
                        f = v[4];
                    switch (a[r].type) {
                    case "暴雨":
                        l = s = "baoyu";
                        break;
                    case "大暴雨":
                        l = s = "dabaoyu";
                        break;
                    case "大雪":
                        l = s = "daxue";
                        break;
                    case "大雨":
                        l = s = "dayu";
                        break;
                    case "多云":
                        l = s = "duoyun";
                        break;
                    case "雷阵雨":
                        l = s = "leizhenyu";
                        break;
                    case "霾":
                        l = s = "mai";
                        break;
                    case "晴":
                        l = s = "qing";
                        break;
                    case "雾":
                        l = s = "wu";
                        break;
                    case "小雪":
                        l = s = "xiaoxue";
                        break;
                    case "小雨":
                        l = s = "xiaoyu";
                        break;
                    case "雪":
                        l = s = "xue";
                        break;
                    case "阴":
                        l = s = "yin";
                        break;
                    case "雨夹雪":
                        l = s = "yujiaxue";
                        break;
                    case "阵雨":
                        l = s = "zhenyu";
                        break;
                    case "中雪":
                        l = s = "zhongxue";
                        break;
                    case "中雨":
                    case "中到大雨":
                        l = s = "zhongyu";
                        break;
                    case "小到中雨":
                        l = s = "xiaoyu";
                        break;
                    case "中到大雪":
                        l = s = "zhongxue";
                        break;
                    case "小到中雪":
                        l = s = "xiaoxue";
                        break;
                    case "大到暴雨":
                        l = s = "baoyu";
                        break;
                    default:
                        l = s = "kongbai"
                    }
                    var S = s == l;
                    if (i.find(".cityName" + y).text(_),
                    12 != y && 11 != y)
                        I.push("<ul class='weather2'>"),
                        I.push("<li class='cityName", y, "'>"),
                        I.push(_, "</li>"),
                        I.push("<li class='weatherCon", y, "'>"),
                        F && $(".formMiddleContent" + w).css("height", (1 == y ? 27 : 33) + "px"),
                        1 == y ? I.push(u, "</li>") : (3 != y && 11 != y || S || I.push("<img alt=' ' style='margin-right:5px;' class='image1" + y + "' title='" + p + "' src='" + _resRoot + "/image/site/weather/" + s + "1." + (F ? "gif'" : "png'") + "/>"),
                        I.push("<img alt=' ' class='image2", y, "' title='" + u + "' src='" + _resRoot + "/image/site/weather/" + l + "1." + (F ? "gif'" : "png'") + "/>")),
                        I.push("</li>"),
                        I.push("<li class='temperature", y, "'>"),
                        I.push("<span class='temperature1", y, "'>"),
                        I.push(d, "℃</span> ~"),
                        I.push("<span class='temperature2", y, "'>"),
                        I.push(c, "℃</span>"),
                        I.push("</li>"),
                        7 == y && (I.push("<li class='weatherCondition", y, "'>"),
                        I.push(f, "</li>")),
                        I.push("</ul>");
                    else if (11 == y) {
                        $(".formMiddleContent" + w + " .includeWeather" + y).width(560),
                        F && $(".formMiddleContent" + w).css("height", "81px");
                        var b = "";
                        b = 0 == r ? "今天" : "明天",
                        I.push("<div class='weather2'  style='width:278px;'>"),
                        I.push("<div class='cityName" + y + "'>" + (o ? "" : _) + "</div>"),
                        I.push("<img alt=' ' class='image1" + y + "' title='" + p + "' src='" + _resRoot + "/image/site/weather/" + s + "11." + (F ? "gif'" : "png'") + "/>"),
                        I.push("<div class='weatherToday" + y + "'>"),
                        I.push("<div class='weatherTodayInfo" + y + "'>"),
                        I.push("<span class='weatherTodayDate" + y + "'>" + b + " "),
                        I.push(d, "℃ ~ </span>"),
                        I.push(c, "℃ <span class='temperature1" + y + "'>"),
                        I.push("</span> "),
                        I.push("<span class='temperature2" + y + "'>"),
                        I.push("</span>"),
                        I.push("</div>"),
                        I.push("<div class='weatherCon" + y + "'>"),
                        S || (I.push("<span class='weatherCon1" + y + "'>" + p + "</span>"),
                        I.push("<span>转</span>")),
                        I.push("<span class='weatherCon2" + y + "'>" + u + "</span>"),
                        I.push("</div>"),
                        I.push("</div>"),
                        I.push("</div>"),
                        o = !0
                    } else
                        12 == y && (F && $(".formMiddleContent" + w).css("height", "135px"),
                        I.push("<div class='weather2' style='width:250px;'>"),
                        I.push("<div class='left" + y + "' style='width: 90px;'>"),
                        I.push("<div class='cityName" + y + "'>" + _ + "</div>"),
                        I.push("<div class='images" + y + "'>"),
                        I.push("<img alt=' ' class='image1" + y + "' title='" + p + "' src='" + _resRoot + "/image/site/weather/" + s + "11." + (F ? "gif'" : "png'") + "/>"),
                        I.push("</div>"),
                        I.push("<div class='weatherCon" + y + "'>"),
                        S || (I.push("<span class='weatherCon1" + y + "'>" + p + "</span>"),
                        I.push("<span>转</span>")),
                        I.push("<span class='weatherCon2" + y + "'>" + u + "</span>"),
                        I.push("</div>"),
                        I.push("</div>"),
                        I.push("<div class='right" + y + "'>"),
                        I.push("<div class='temperatureInclude" + y + "'>"),
                        I.push("<div style='float: left;'>温&nbsp;&nbsp;度：</div>"),
                        I.push("<div class='temperature" + y + "'>"),
                        I.push("<span class='temperature1" + y + "'>" + d + "℃"),
                        I.push("</span> ~"),
                        I.push("<span class='temperature2" + y + "'>" + c + "℃"),
                        I.push("</span>"),
                        I.push("</div>"),
                        I.push("</div>"),
                        "" != f && (I.push("<div class='windInclude" + y + "'>"),
                        I.push("<div style='float: left;'>风&nbsp;&nbsp;力：</div>"),
                        I.push("<div class='wind", y, "'>", f, "</div>"),
                        I.push("</div>")),
                        I.push("<div class='windDirectionInclude" + y + "'>"),
                        I.push("<div style='float: left;'>风&nbsp;&nbsp;向：</div>"),
                        I.push("<div class='windDirection" + y + "'>"),
                        I.push("" == m ? h : m, "</div>"),
                        I.push("</div>"),
                        I.push("</div>"))
                }
                var x = 0 != I.length ? I.join("") : "<div id='toolTips" + y + "' style='margin:0 auto;width:120px;cursor:pointer;' onclick='Site.initModuleWeather2( " + w + ',"' + cityNameStr + '", ' + y + ',"' + parentName + "\")'>" + LS.networkError + "</div>";
                $(".formMiddleContent" + w + " .includeWeather" + y).append(x),
                $(".formMiddleContent" + w + " .weather2Loading").remove()
            } else {
                300 <= $("#module" + w).css("width").replace("px", "") && $("#module" + w).css("min-width", "300px"),
                $(".formMiddleContent" + w + " .weather2Loading").remove(),
                $(".formMiddleContent" + w + " .includeWeather" + y).append("<div text-align='center' style='position: absolute; width:100%; top: 50%; transform: translateY(-50%); text-align:center;'><span >" + LS.weatherLoadErr + "</span></div>")
            }
        }
    })
}
,
Site.initWeatherOfIP = function(o, n) {
    Site.logDog(200133, 1),
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/weather_h.jsp?cmd=getWafNotCk_weatherLocation",
        type: "GET",
        dataType: "json",
        success: function i(e) {
            if (e.success) {
                var t = e.data.city;
                $.ajax({
                    url: Site.addRequestPrefix({
                        newPath: "/ajax/site_h.jsp",
                        oldPath: Site.genAjaxUrl("site_h.jsp")
                    }),
                    data: "cmd=getWeatherCityCode&cityName=" + Fai.encodeUrl(t),
                    type: "POST",
                    success: function n5(e) {
                        var t = jQuery.parseJSON(e);
                        if (t.success) {
                            var i = t.msg.cityCode
                              , a = t.msg.parentCityCode;
                            13 == n || 14 == n || 15 == n ? Site.initModuleWeatherByEtouch(o, i, n, a) : Site.initModuleWeatherBySinaV2(o, i, n, a)
                        }
                    }
                })
            } else {
                300 <= $("#module" + o).css("width").replace("px", "") && $("#module" + o).css("min-width", "300px"),
                $(".formMiddleContent" + o + " .weather2Loading").remove(),
                $(".formMiddleContent" + o + " .includeWeather" + n).append("<div text-align='center' style='position: absolute; width:100%; top: 50%; transform: translateY(-50%); text-align:center;'><span >" + LS.weatherLoadErr + "</span></div>")
            }
        },
        error: function t(e) {
            Fai.ing("系统异常，请稍后重试", !0)
        }
    })
}
,
Site.initModuleDate = function() {
    var c, p, u = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"], m = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    return {
        init: function i(e, t) {
            c = t,
            p = $("#module" + e + "Date"),
            this.start()
        },
        start: function e() {
            this.go(),
            2 != c && 3 != c && 5 != c && 7 != c && 8 != c || setInterval(this.go, 8001)
        },
        go: function h() {
            var e = new Date
              , t = e.getFullYear()
              , i = e.getMonth() + 1
              , a = e.getDate()
              , o = e.getDay()
              , n = u[o]
              , r = m[o]
              , s = e.getHours() + ""
              , l = e.getMinutes() + ""
              , d = "";
            1 == s.length && (s = "0" + s),
            1 == l.length && (l = "0" + l),
            d = 1 == c ? t + "年" + i + "月" + a + "日 " + n : 2 == c ? t + "年" + i + "月" + a + "日 " + s + ":" + l : 3 == c ? t + "年" + i + "月" + a + "日 " + n + " " + s + ":" + l : 4 == c ? t + "-" + i + "-" + a : 5 == c ? t + "-" + i + "-" + a + " " + s + ":" + l : 6 == c ? i + "/" + a + "/" + t + " " + r : 7 == c ? i + "/" + a + "/" + t + " " + s + ":" + l : i + "/" + a + "/" + t + " " + r + " " + s + ":" + l,
            p.text(d)
        }
    }
}(),
function(s) {
    function t(e) {
        var t = $("#videoBanner")
          , i = t.find(".banner_video_content")
          , a = i.find("#fk-inBannerListZone-video");
        if (!(0 < a.length)) {
            t.attr("_init", "1");
            var o = Fai.top.$("#webContainer").width();
            Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
                cls: "#videoBanner .fk-inBannerListZone",
                key: "width",
                value: o + "px"
            }, {
                cls: "#videoBanner .fk-inBannerListZone",
                key: "margin-left",
                value: "-" + o / 2 + "px"
            }]);
            var n = e.fId
              , r = '\n\t\t\t<div id="fk-inBannerListZone-video" _banId="'.concat(n, '" class="elemZone elemZoneModule fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone">\n\t\t\t\t<div class="fk-inBannerListZoneBg fk-elemZoneBg J_zoneContentBg elemZoneBg"></div>\n\t\t\t</div>\n\t\t');
            i.append(r),
            a = i.find("#fk-inBannerListZone-video"),
            Fai.top._manageMode && window.jzUtils.run({
                name: "_elemZone.sortModuleZone",
                base: Fai.top
            }),
            Fai.top.$(".fk-inBannerListZone-tmp").find(".form").each(function() {
                var e = $(this);
                if (e.parent().hasClass("fk-inBannerListZone-tmp")) {
                    var t = e.attr("_banid");
                    s.isSystemModule(e) || n != t || a.append(e)
                }
            })
        }
    }
    var a = function a() {
        if (!Fai.isPC()) {
            var e = $("#videoBanner")
              , t = e.find(".bannerVideo")
              , i = e.find(".banner_video_background");
            t.remove(),
            i.text("手机端暂不支持视频背景").addClass("mobi_not_support_tips")
        }
    };
    s.initVideoBanner = function(e) {
        a(),
        t(e)
    }
}(Site),
function(Pe) {
    Pe.fn.extend({
        bannerImageSwitch: function i(e) {
            if ("undefined" != typeof Fai) {
                var Se = Pe.extend({
                    title: !0,
                    desc: !1,
                    btn: !0,
                    repeat: "no-repeat",
                    position: "50% 50%",
                    titleSize: 14,
                    titleFont: "Verdana,宋体",
                    titleColor: "#FFF",
                    titleTop: 4,
                    titleLeft: 4,
                    descSize: 12,
                    descFont: "Verdana,宋体",
                    descColor: "#FFF",
                    descTop: 2,
                    descLeft: 4,
                    btnWidth: 15,
                    btnHeight: 15,
                    btnMargin: 4,
                    btnType: 1,
                    playTime: 4e3,
                    animateTime: 1500,
                    animateStyle: "o",
                    index: 0,
                    wideScreen: !1,
                    btnFunc: function t() {}
                }, e)
                  , be = {
                    0: {
                        name: "arrow",
                        classes: "arrowImg",
                        switchType: "Slide"
                    },
                    1: {
                        name: "Num",
                        classes: "numImg",
                        switchType: "Fade"
                    },
                    2: {
                        name: "Dot",
                        classes: "dotImg",
                        switchType: "Fade"
                    },
                    3: {
                        name: "Box",
                        classes: "boxImg",
                        switchType: "Fade"
                    },
                    4: {
                        name: "NoColorArrow",
                        classes: "arrowImg",
                        switchType: "Slide"
                    },
                    5: {
                        name: "RightColorArrow",
                        classes: "arrowImg",
                        switchType: "Slide"
                    },
                    6: {
                        name: "AdsorptionRound",
                        classes: "adsorptionRoundImg",
                        switchType: "Fade"
                    },
                    7: {
                        name: "BottomRound",
                        classes: "bottomRoundImg",
                        switchType: "Fade"
                    },
                    8: {
                        name: "BottomPhoto",
                        classes: "bottomPhotoImg",
                        switchType: "Fade"
                    },
                    9: {
                        name: "ThreePicCarousel",
                        classes: "arrowImg",
                        switchType: "Slide"
                    }
                }
                  , xe = "Slide" === be[Se.btnType].switchType
                  , we = "Fade" === be[Se.btnType].switchType
                  , $e = be[Se.btnType].name
                  , ye = function() {
                    for (var e = {}, t = "arrow Num Dot Box NoColorArrow RightColorArrow AdsorptionRound BottomRound BottomPhoto ThreePicCarousel".split(" "), i = 0; i < t.length; i++)
                        e["is" + t[i]] = function(t) {
                            return function(e) {
                                return e === t
                            }
                        }(t[i]);
                    return e
                }();
                return Pe(this).each(function() {
                    var l, d, e, t, c, p = Pe(this), s = Se.width || p.width(), u = Se.height || p.height(), m = Se.data.length, h = Se.index, i = s < p.width() ? s : p.width(), f = p.width(), g = !!Fai.top._useBannerVersionTwo, v = g ? Fai.top._bannerV2Data : Fai.top._bannerData, _ = !!(Site.checkBrowser() && 0 < v.at), a = 1e3, o = Site.getWebBackgroundData(), n = Se.width <= p.width() ? Se.width : "100%", r = g ? "bannerV2" : "banner", S = !1, b = !1, x = 4;
                    if (g)
                        if (b = 0 == v.bla,
                        S = !(1 != v.blw.t || !b),
                        2 === v.blw.t)
                            l = Se.width;
                        else {
                            if (c = Fai.top.$("#webContainer").width(),
                            0 === v.blw.t)
                                if (Fai.top._wideBanner)
                                    l = c;
                                else {
                                    var w = Fai.top.$("#webBanner").width();
                                    l = w
                                }
                            1 === v.blw.t && (l = c)
                        }
                    else
                        S = !!o.wbs;
                    if (S) {
                        var $ = Fai.top._manageMode ? Fai.getScrollWidth() : 0;
                        u = a <= u ? a : u;
                        var y, C = !1;
                        Fai.top.$(".g_web").width() + $ > Pe(window).width() ? y = Fai.top.$(".g_web").width() + $ : (y = Pe(window).width(),
                        C = !0),
                        i = n = f = y - $ < f ? y - $ : f,
                        Fai.top._wideBanner && C && Fai.top.$("#web").width("auto")
                    }
                    f < 960 && (x = 3),
                    p.css("overflow", "hidden"),
                    p.height(u);
                    var F = Pe('<div class="imageSwitchShowName" />').appendTo(p);
                    0 == m && F.css("visibility", "hidden");
                    var I = "none";
                    if (1 < Se.data.length && (I = Se.btn ? "block" : "none"),
                    we) {
                        var P = Pe('<div class="imageSwitchBtnArea clearFix"/>').appendTo(p).css("position", "absolute").css("zIndex", 3).css("display", I);
                        v.new_bt && 7 == v.bt ? Pe(P).addClass("fk_new_bottomRound") : Pe(P).hasClass("fk_new_bottomRound") && Pe(P).removeClass("fk_new_bottomRound")
                    }
                    Pe("<div />").appendTo(p);
                    var k = "";
                    _ && (k = "billboard billboard" + v.at);
                    var L = Pe('<div class="switchGroup switchGroup_' + r + " " + k + '"/>').appendTo(p).css("width", n).css("position", "relative").height(-1 != "y,show-y".indexOf(Se.animateStyle) ? u * m : u).css("overflow", "hidden").css("margin", "0 auto");
                    Se.wideScreen && L.css("width", "100%");
                    var T = 0;
                    xe && (Se.animateStyle = "x");
                    var M = []
                      , B = ""
                      , A = ""
                      , N = ""
                      , D = ""
                      , j = ""
                      , E = "";
                    B = be[Se.btnType].classes;
                    var O = (L.width() - (c = Fai.top.$("#webContainer").width())) / 2;
                    if (Pe.each(Se.data, function(e, t) {
                        var i = ""
                          , a = "";
                        if ((E = j = "") != Pe.trim(t.edgeLeft) && (j = "background:" + t.edgeLeft + ";"),
                        "" != Pe.trim(t.edgeRight) && (E = "background:" + t.edgeRight + ";"),
                        t.href || (i = "onclick='return false;'"),
                        t.onclick) {
                            var o = Fai.decodeHtml(t.onclick);
                            i = o,
                            t.onclick.includes("onclick=") || (i = o.includes('"') ? "onclick='".concat(o, "'") : 'onclick="'.concat(o, '"'))
                        }
                        if (M = [],
                        A = "",
                        A += "position:absolute;",
                        ye.isThreePicCarousel($e) && 1 < m ? A += "width:" + c + "px;" : A += "width:100%;",
                        xe && (ye.isThreePicCarousel($e) && 1 < m ? A += e - h == m - 1 ? "left:" + (-c + O) + "px;" : "left:" + ((e - h) * c + O) + "px;" : Se.wideScreen || S ? A += "left:" + (e - h) * f + "px;" : A += "left:" + (e - h) * Se.width + "px;"),
                        _ ? M.push("<div class='J_billboardItem billboard_item " + B + "'>\n") : M.push("<div class='J_billboardItem " + B + "' id='" + B + e + "' style='" + A + "'>\n"),
                        N = "",
                        N += "width:100%;",
                        N += "height:" + u + "px;",
                        N += "cursor:" + (t.href ? "pointer" : "default") + ";",
                        N += "background-position:" + Se.position + ";",
                        N += "background-repeat:" + Se.repeat + ";",
                        [6, 7, 13].includes(v.at) || (N += "overflow:hidden;"),
                        N += "display:block;",
                        N += "outline:none;",
                        N += "margin:0 auto;",
                        N += "position:relative;",
                        N += "z-index:1;",
                        g) {
                            var n = v.bla
                              , r = 0 == n || 2 == n || 3 == n;
                            if (1 == v.blw.t && r || r)
                                switch (n) {
                                case 0:
                                    N += "background-size:cover;";
                                    break;
                                case 2:
                                    N += "background-size:auto 100%;";
                                    break;
                                case 3:
                                    N += "background-size:100% auto;"
                                }
                        } else
                            (S || b) && (N += "background-size:cover;"),
                            t.width && 0 < t.width || (N += "filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=&quot;" + t.src + "&quot;,sizingMethod=&quot;scale&quot;);");
                        t.width && 0 < t.width ? D = "<img src='" + t.src + "' width='" + t.width + "' height='" + t.height + "' />\n" : (D = "",
                        N += "background-image:url(" + t.src + ");"),
                        Se.wideScreen && !g && (M.push("<a class='J_bannerEdge J_bannerEdgeLeft bannerEdge bannerEdgeLeft' hidefocus='true' title='" + (t.tip ? t.tip : "") + "' href='" + (t.href ? Fai.encodeHtml(t.href) : "javascript:;") + "' target='" + (t.target ? t.target : "") + "' " + i + " style='" + j + "'></a>"),
                        M.push("<a class='J_bannerEdge J_bannerEdgeRight bannerEdge bannerEdgeRight' hidefocus='true' title='" + (t.tip ? t.tip : "") + "' href='" + (t.href ? Fai.encodeHtml(t.href) : "javascript:;") + "' target='" + (t.target ? t.target : "") + "' " + i + " style='" + E + "'></a>"));
                        var s = "";
                        1 == (Fai.top._bannerV2Data || {}).blpe && (s = ' data-stellar-background-ratio="0.01"',
                        N += "background-attachment:fixed;"),
                        t.href ? M.push("<a class='J_bannerItem f-bannerItem' hidefocus='true' title='" + (t.tip ? t.tip : "") + "' href='" + Fai.encodeHtml(t.href) + "' target='" + (1 == t.ot ? "_blank" : "") + "' style='" + N + "' " + i + s + ">\n") : M.push("<div class='J_bannerItem f-bannerItem' title='" + (t.tip ? t.tip : "") + "' style='" + N + "'" + s + ">\n"),
                        M.push(D),
                        g && (M.push("<div id='fk-inBannerListZone-" + e + "' _sys='1' _banId=" + t.i + " style='text-align: left;' class='elemZone elemZoneModule fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone '>\n"),
                        M.push("<div class='fk-inBannerListZoneBg fk-elemZoneBg J_zoneContentBg elemZoneBg'></div>\n"),
                        M.push("</div>\n")),
                        t.href ? M.push("</a>\n") : M.push("</div>\n"),
                        M.push("</div>\n"),
                        L.append(M.join("")),
                        g && (Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
                            cls: "#bannerV2 .fk-inBannerListZone",
                            key: "width",
                            value: l + "px"
                        }, {
                            cls: "#bannerV2 .fk-inBannerListZone",
                            key: "margin-left",
                            value: "-" + l / 2 + "px"
                        }]),
                        Fai.top.$(".fk-inBannerListZone-tmp").find(".form").each(function() {
                            Pe(this).parent().hasClass("fk-inBannerListZone-tmp") && (Pe(this).attr("_banid") !== t.i || Site.isSystemModule(Pe(this)) || Pe("#fk-inBannerListZone-" + e).append(Pe(this)))
                        }),
                        Fai.top._manageMode && window.jzUtils.run({
                            name: "_elemZone.sortModuleZone",
                            base: Fai.top
                        }),
                        Site.bannerV2.stopBannerPropagation());
                        e == h && (a = "spanShowName"),
                        Pe('<span class="spanHiddenName ' + a + '"/>').appendTo(F),
                        d = Ce(d, P, e, h, m, M, x),
                        ye.isNum($e) && (T += Pe(d).outerWidth(!0))
                    }),
                    1 < m) {
                        var J = {
                            position: "absolute",
                            zIndex: 3
                        };
                        if (ye.isarrow($e))
                            t = Pe('<a class="imageSwitchBtn_arrow arrow_prev" />').appendTo(p).css(J),
                            e = Pe('<a class="imageSwitchBtn_arrow arrow_next" />').appendTo(p).css(J);
                        else if (ye.isNoColorArrow($e))
                            t = Pe('<a class="fk_noColorArrowsImg fk_noColorArrowsImg_prev" />').appendTo(p).css(J),
                            e = Pe('<a class="fk_noColorArrowsImg fk_noColorArrowsImg_next" />').appendTo(p).css(J);
                        else if (ye.isRightColorArrow($e))
                            t = Pe('<a class="fk_rightColorArrowsImg fk_rightColorArrowsImg_prev"><div class="f-icon_prev"></div><div class="f-horizontal-line"></div></a>').appendTo(p).css(J),
                            e = Pe('<a class="fk_rightColorArrowsImg fk_rightColorArrowsImg_next"><div class="f-icon_next"></div></a>').appendTo(p).css(J);
                        else if (ye.isBottomRound($e))
                            t = Pe('<a class="fk_bottomRoundImg fk_bottomRoundImg_prev"><div class="f-background-prev"></div></a>').appendTo(p).css(J),
                            e = Pe('<a class="fk_bottomRoundImg fk_bottomRoundImg_next"><div class="f-background-next"></div></a>').appendTo(p).css(J);
                        else if (ye.isBottomPhoto($e)) {
                            P.children("a").wrapAll('<div class="fk_imageSwitchPanel"><div class="fk_imageSwitchReal"></div></div>');
                            var R = P.find(".fk_imageSwitchBtn_bottomPhoto")
                              , U = P.find(".fk_imageSwitchPanel")
                              , H = P.find(".fk_imageSwitchReal")
                              , W = +R.css("marginRight").replace("px", "")
                              , q = Math.ceil(m / x)
                              , z = m % x
                              , V = R.outerWidth(!0) * (m < x ? m : x)
                              , G = R.outerHeight(!0);
                            U.width(V - W),
                            U.height(G),
                            H.width(V * q),
                            H.height(G),
                            Fai.isIE6() && U.parent().width(V + 60),
                            H.attr("index", 0)
                        } else if (ye.isThreePicCarousel($e)) {
                            t = Pe('<div class="fk_three_pic_carousel_arrow fk_three_pic_carousel_arrow__prev"><i class="f_three_pic_carousel_arrow_icon"></i></div>').appendTo(p).css(J),
                            e = Pe('<div class="fk_three_pic_carousel_arrow fk_three_pic_carousel_arrow__next"><i class="f_three_pic_carousel_arrow_icon"></i></div>').appendTo(p).css(J);
                            var Q = Fai.top.$(".arrowImg").height()
                              , Z = {
                                "border-color": Site.getThreePicCarouselMaskBorderColor(),
                                width: c - 60,
                                height: Q - 60
                            }
                              , K = t
                              , Y = e;
                            Pe('<div class="fk_three_pic_carousel_mask J_three_pic_carousel_mask"><div class="f_three_pic_carousel_mask_content J_three_pic_carousel_mask_content"></div></div>').appendTo(p).css(Z).css("left", O - c).children(".J_three_pic_carousel_mask_content").on("click", function() {
                                K.click()
                            }),
                            Pe('<div class="fk_three_pic_carousel_mask J_three_pic_carousel_mask"><div class="f_three_pic_carousel_mask_content J_three_pic_carousel_mask_content"></div></div>').appendTo(p).css(Z).css("right", O - c).children(".J_three_pic_carousel_mask_content").on("click", function() {
                                Y.click()
                            })
                        }
                    }
                    ye.isNum($e) && P.width(T);
                    var X = F.children("span")
                      , ee = p.parent()
                      , te = ee.width();
                    Pe.browser.msie && 6 == Pe.browser.version && (te = ee.parent().width());
                    var ie, ae, oe = ee.height();
                    if (te > Se.width && (te = Se.width + (te - Se.width) / 2),
                    te > p.width() && (te = p.width()),
                    u < oe && (oe = u),
                    Fe(m, r, s, p.width(), te, oe, T, P, t, e, h),
                    we) {
                        var ne = P.children("a")
                          , re = L.find(".J_bannerItem");
                        ye.isBottomRound($e) ? (ie = e,
                        ae = t) : ye.isBottomPhoto($e) && 1 < m && (ne = H.children("a"))
                    } else
                        ie = e,
                        ae = t;
                    function se() {
                        g && (window.jzUtils.run({
                            name: "moduleAnimation.publish",
                            base: Fai.top.Site
                        }),
                        window.jzUtils.run({
                            name: "moduleAnimation.contentAnimationPublish",
                            base: Fai.top.Site
                        }),
                        window.jzUtils.run({
                            name: "triggerScroll",
                            base: Fai.top.Site
                        }))
                    }
                    function le() {
                        ye.isBottomRound($e) && (ie.on("click", function() {
                            if (!re.is(":animated") && !Site.bannerAnimate.animating) {
                                var e = h;
                                _ ? Site.bannerAnimate.stop() : (re.eq(e).fadeOut(Se.animateTime, "failinear", function() {
                                    se(),
                                    Ie()
                                }),
                                ne.eq(e).removeClass("fk_imageSwitchBtnSel_bottomRound")),
                                e == m - 1 && (e = -1),
                                ++e,
                                _ ? Site.bannerAnimate.goTo(e) : (re.eq(e).fadeIn(Se.animateTime, "failinear", function() {
                                    se(),
                                    Ie()
                                }),
                                ne.eq(e).addClass("fk_imageSwitchBtnSel_bottomRound")),
                                h = e
                            }
                        }),
                        ae.on("click", function() {
                            if (!re.is(":animated") && !Site.bannerAnimate.animating) {
                                var e = h;
                                _ ? Site.bannerAnimate.stop() : (re.eq(e).fadeOut(Se.animateTime, "failinear", function() {
                                    se(),
                                    Ie()
                                }),
                                ne.eq(e).removeClass("fk_imageSwitchBtnSel_bottomRound")),
                                0 == e && (e = m),
                                --e,
                                _ ? Site.bannerAnimate.goTo(e) : (re.eq(e).fadeIn(Se.animateTime, "failinear", function() {
                                    se(),
                                    Ie()
                                }),
                                ne.eq(e).addClass("fk_imageSwitchBtnSel_bottomRound")),
                                h = e
                            }
                        }))
                    }
                    function de() {
                        if (ye.isBottomPhoto($e)) {
                            var a = P.find(".fk_imageSwitchBtn_bottomPhoto_prev")
                              , t = P.find(".fk_imageSwitchBtn_bottomPhoto_next");
                            h < x && t.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                            a.on("click", function() {
                                var e = parseInt(H.attr("index"));
                                Pe(this).hasClass("fk_imageSwitchBtn_bottomPhoto_next_active") && (e === q - 1 && 2 === q ? (t.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                                Pe(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active")) : (e === q - 2 && Pe(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                                t.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")),
                                H.attr("index", --e),
                                H.animate({
                                    marginLeft: -V * e
                                }, 1e3))
                            }),
                            t.on("click", function() {
                                var e, t = parseInt(H.attr("index")), i = (x - z) * R.outerWidth(!0);
                                Pe(this).hasClass("fk_imageSwitchBtn_bottomPhoto_next_active") && (0 === t && t === q - 2 ? (a.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                                Pe(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active")) : (t === q - 2 && Pe(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                                a.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")),
                                H.attr("index", ++t),
                                e = t === q - 1 && 0 !== z ? V * t - i : V * t,
                                H.animate({
                                    marginLeft: -e
                                }, 1e3))
                            })
                        }
                    }
                    function ce(e, t) {
                        var i, a = P.find(".fk_imageSwitchBtn_bottomPhoto_prev"), o = P.find(".fk_imageSwitchBtn_bottomPhoto_next"), n = parseInt(H.attr("index")), r = Math.floor(e / x);
                        if (r - n == 1)
                            o.click();
                        else if (r - n == -1 && (t - z < e + 1 || 0 === z))
                            a.click();
                        else if (1 < n - r)
                            H.animate({
                                marginLeft: 0
                            }, 1e3),
                            a.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                            o.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                            H.attr("index", 0);
                        else if (1 < r - n) {
                            var s = (q - z) * R.outerWidth(!0);
                            i = r === q - 1 ? 2 * V - s : 2 * V,
                            H.animate({
                                marginLeft: -i
                            }, 1e3),
                            o.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                            a.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                            H.attr("index", 2)
                        }
                    }
                    if (-1 != "o, show, none".indexOf(Se.animateStyle) && re.each(function(e) {
                        h != e && (_ || Pe(this).hide(),
                        Se.wideScreen && Pe(this).siblings(".J_bannerEdge").hide())
                    }),
                    1 == m && X.eq(0).addClass("spanShowName"),
                    1 < m)
                        if (_)
                            Site.bannerAnimate.init({
                                container: Fai.top.$("#" + r + " .switchGroup_" + r),
                                effectIndex: v.at,
                                currentIndex: Se.index,
                                speed: v.a,
                                duration: v.i,
                                _isBannerV2: g
                            }),
                            we ? (ne.click(function(e) {
                                e.stopPropagation();
                                var t = ne.index(this);
                                Site.bannerAnimate.stop(),
                                Site.bannerAnimate.goTo(t),
                                h = t
                            }),
                            le(),
                            de()) : xe && (ie.click(function(e) {
                                e.stopPropagation(),
                                Site.bannerAnimate.next()
                            }),
                            ie.hover(function() {
                                ie.addClass(be[Se.btnType].name + "_next_hover")
                            }, function() {
                                ie.removeClass(be[Se.btnType].name + "_next_hover")
                            }),
                            ae.click(function(e) {
                                e.stopPropagation(),
                                Site.bannerAnimate.prev()
                            }),
                            ae.hover(function() {
                                ae.addClass(be[Se.btnType].name + "_prev_hover")
                            }, function() {
                                ae.removeClass(be[Se.btnType].name + "_prev_hover")
                            })),
                            p.mouseover(function() {
                                Site.bannerAnimate.stop()
                            }),
                            p.mouseout(function() {
                                Site.bannerAnimate.autoPlay()
                            });
                        else {
                            if (we) {
                                var pe = !1;
                                le(),
                                de(),
                                ne.click(function(e) {
                                    if (!re.is(":animated")) {
                                        e.stopPropagation();
                                        var t = ne.index(this);
                                        if (t != h) {
                                            if (X.eq(h).removeClass("spanShowName"),
                                            X.eq(t).addClass("spanShowName"),
                                            ye.isNum($e))
                                                ne.eq(h).removeClass("imageSwitchBtnSel"),
                                                ne.eq(t).addClass("imageSwitchBtnSel");
                                            else if (ye.isBox($e))
                                                ne.eq(h).removeClass("fk_imageSwitchBtnSel_box"),
                                                ne.eq(t).addClass("fk_imageSwitchBtnSel_box");
                                            else if (ye.isAdsorptionRound($e)) {
                                                ne.eq(h).find(".fk_adsorptionRound_num").removeClass("fk_adsorptionRound_num_current"),
                                                ne.eq(t).find(".fk_adsorptionRound_num").addClass("fk_adsorptionRound_num_current"),
                                                Site.checkBrowser() || (ne.eq(h).removeClass("fk_imageSwitchBtn_ar_current"),
                                                ne.eq(t).addClass("fk_imageSwitchBtn_ar_current"));
                                                var i = Pe(".fk_adsorptionRound_current")
                                                  , a = ne.eq(h).position().left
                                                  , o = ne.eq(t).position().left;
                                                i.animate({
                                                    a: o
                                                }, {
                                                    step: function r(e, t) {
                                                        t.start = a,
                                                        (e > t.start && t.start < o || e < t.start && t.start > o) && i.css("transform", "translate3d(" + e + "px, 0px, 0px) scale(1.5, 1.5")
                                                    },
                                                    duration: 600
                                                })
                                            } else
                                                ye.isBottomRound($e) ? (ne.eq(h).removeClass("fk_imageSwitchBtnSel_bottomRound"),
                                                pe && !v.new_bt ? P.find(".J_bottomRoundlinear").eq(h).addClass("f-animal-linear").css({
                                                    "transition-duration": "transform " + Se.animateTime / 1e3 + "s linear",
                                                    "-webkit-transition": "-webkit-transform " + Se.animateTime / 1e3 + "s linear"
                                                }) : ne.eq(t).addClass("fk_imageSwitchBtnSel_bottomRound")) : ye.isBottomPhoto($e) ? (ne.eq(h).removeClass("fk_imageSwitchBtnSel_bottomPhoto"),
                                                ne.eq(t).addClass("fk_imageSwitchBtnSel_bottomPhoto"),
                                                ce(t, m)) : (ne.eq(h).removeClass("imageSwitchBtnSel_dot"),
                                                ne.eq(t).addClass("imageSwitchBtnSel_dot"));
                                            switch (Se.animateStyle) {
                                            case "o":
                                                re.eq(h).fadeOut(Se.animateTime, "failinear", function() {
                                                    se(),
                                                    Ie()
                                                }),
                                                re.eq(t).fadeIn(Se.animateTime, "failinear", function() {
                                                    se(),
                                                    Ie(),
                                                    ye.isBottomRound($e) && pe && (P.find(".J_bottomRoundlinear").removeClass("f-animal-linear").css({
                                                        "transition-duration": "",
                                                        "-webkit-transition": ""
                                                    }),
                                                    ne.eq(t).addClass("fk_imageSwitchBtnSel_bottomRound"),
                                                    pe = !1)
                                                }),
                                                Se.wideScreen && (re.eq(h).siblings().fadeOut(Se.animateTime, "failinear"),
                                                re.eq(t).siblings().fadeIn(Se.animateTime, "failinear"));
                                                break;
                                            case "x":
                                                L.animate({
                                                    marginLeft: -t * s
                                                }, Se.animateTime);
                                                break;
                                            case "y":
                                                L.animate({
                                                    marginTop: -t * u
                                                }, Se.animateTime);
                                                break;
                                            case "show":
                                            case "show-x":
                                            case "show-y":
                                                re.eq(h).hide(Se.animateTime),
                                                re.eq(t).show(Se.animateTime);
                                                break;
                                            case "none":
                                                re.eq(h).hide(),
                                                re.eq(t).show(),
                                                Se.wideScreen && (re.eq(h).siblings().hide(),
                                                re.eq(t).siblings().show())
                                            }
                                            Ie(),
                                            h = t;
                                            var n = Fai.top.$("#bannerGetHref");
                                            n && (n.css({
                                                width: Se.data[t].imgWidth,
                                                left: (p.width() - Se.data[t].imgWidth) / 2 + "px"
                                            }),
                                            n.css({
                                                height: Se.data[t].imgHeight,
                                                top: (p.height() - Se.data[t].imgHeight) / 2 + "px"
                                            }))
                                        }
                                    }
                                });
                                var ue = function ue() {
                                    Site.checkBanAutoPlay() || (pe = !0,
                                    ne.eq((h + 1) % m).click())
                                }
                            } else if (xe) {
                                var me = h;
                                X.eq(me).addClass("spanShowName");
                                var he = function he(e) {
                                    if (e.stopPropagation(),
                                    Fai.top.$(".arrowImg").is(":animated"))
                                        return !1;
                                    X.eq(me).removeClass("spanShowName"),
                                    me == m - 1 && (me = -1),
                                    ++me,
                                    X.eq(me).addClass("spanShowName");
                                    var c = i;
                                    return Se.wideScreen && (c = f),
                                    Pe(function() {
                                        c = Fai.top.$(".arrowImg").width(),
                                        Fai.top.$(".arrowImg").css({
                                            display: "block"
                                        });
                                        var n = Fai.top.$(".arrowImg").length;
                                        if (ye.isThreePicCarousel($e)) {
                                            var r = (L.width() - c) / 2;
                                            Fai.top.$("#arrowImg" + me).css({
                                                left: c + r + "px"
                                            });
                                            var e = me == m - 1 ? 0 : me + 1;
                                            3 < n && Fai.top.$("#arrowImg" + e).css({
                                                left: c + r + c + "px"
                                            })
                                        } else
                                            Fai.top.$("#arrowImg" + me).css({
                                                left: c + "px"
                                            });
                                        var s = Fai.top.$("#arrowImg" + e)
                                          , t = Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y")
                                          , i = parseFloat(t)
                                          , l = !!t && "%" === t.charAt(t.length - 1) ? "%" : "";
                                        Fai.top.$(".arrowImg").animate({
                                            left: "-=" + c + "px"
                                        }, {
                                            duration: Se.animateTime,
                                            complete: function o() {
                                                se(),
                                                ye.isThreePicCarousel($e) || Fai.top.$(".arrowImg").css({
                                                    display: "none"
                                                }),
                                                Fai.top.$("#arrowImg" + me).css({
                                                    display: "block"
                                                }),
                                                Ie();
                                                var e = (Fai.top._bannerV2Data || {}).blpe;
                                                1 == e && Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y", i + l),
                                                1 == (e = (Fai.top._bannerV2Data || {}).blpe) && Pe(this).css("left", Pe(this).data("tweenEnd"))
                                            },
                                            step: function d(e, t) {
                                                ye.isThreePicCarousel($e) && n <= 3 && s[0] == t.elem && e + c < 0 && (t.start = c + r + c,
                                                t.end = c + r);
                                                var i = (Fai.top._bannerV2Data || {}).blpe;
                                                if (1 == i) {
                                                    var a = Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y")
                                                      , o = parseFloat(a);
                                                    Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y", o + 1e-4 + l)
                                                }
                                                1 == (i = (Fai.top._bannerV2Data || {}).blpe) && (t.now = parseInt(t.now),
                                                Pe(this).data("tweenEnd", t.end))
                                            }
                                        });
                                        var a = Fai.top.$("#bannerGetHref");
                                        a && (a.css({
                                            width: Se.data[me].imgWidth,
                                            left: (p.width() - Se.data[me].imgWidth) / 2 + "px"
                                        }),
                                        a.css({
                                            height: Se.data[me].imgHeight,
                                            top: (p.height() - Se.data[me].imgHeight) / 2 + "px"
                                        }))
                                    }),
                                    !1
                                };
                                ie.on("click", he),
                                ie.hover(function() {
                                    ie.addClass(be[Se.btnType].name + "_next_hover")
                                }, function() {
                                    ie.removeClass(be[Se.btnType].name + "_next_hover")
                                });
                                var fe = function fe(e) {
                                    if (e.stopPropagation(),
                                    !Fai.top.$(".arrowImg").is(":animated")) {
                                        X.eq(me).removeClass("spanShowName"),
                                        0 == me && (me = m);
                                        var d = i;
                                        Se.wideScreen && (d = f),
                                        Pe(function() {
                                            d = Fai.top.$(".arrowImg").width(),
                                            --me,
                                            X.eq(me).addClass("spanShowName"),
                                            Fai.top.$(".arrowImg").css({
                                                display: "block"
                                            });
                                            var n = Fai.top.$(".arrowImg").length;
                                            if (ye.isThreePicCarousel($e)) {
                                                var r = (L.width() - d) / 2;
                                                Fai.top.$("#arrowImg" + me).css({
                                                    left: -d + r + "px"
                                                });
                                                var e = 0 == me ? m - 1 : me - 1;
                                                3 < n && Fai.top.$("#arrowImg" + e).css({
                                                    left: -d + r - d + "px"
                                                })
                                            } else
                                                Fai.top.$("#arrowImg" + me).css({
                                                    left: "-" + d + "px"
                                                });
                                            var s = Fai.top.$("#arrowImg" + e)
                                              , t = Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y")
                                              , i = parseFloat(t);
                                            Fai.top.$(".arrowImg").animate({
                                                left: "+=" + d + "px"
                                            }, {
                                                duration: Se.animateTime,
                                                complete: function o() {
                                                    se(),
                                                    ye.isThreePicCarousel($e) || Fai.top.$(".arrowImg").css({
                                                        display: "none"
                                                    }),
                                                    Fai.top.$("#arrowImg" + me).css({
                                                        display: "block"
                                                    }),
                                                    Ie();
                                                    var e = (Fai.top._bannerV2Data || {}).blpe;
                                                    1 == e && Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y", i),
                                                    1 == (e = (Fai.top._bannerV2Data || {}).blpe) && Pe(this).css("left", Pe(this).data("tweenEnd"))
                                                },
                                                step: function l(e, t) {
                                                    ye.isThreePicCarousel($e) && n <= 3 && s[0] == t.elem && r + d + r < e && (t.start = -d + r - d,
                                                    t.end = r - d);
                                                    var i = (Fai.top._bannerV2Data || {}).blpe;
                                                    if (1 == i) {
                                                        var a = Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y")
                                                          , o = parseFloat(a);
                                                        Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").css("background-position-y", o + 1e-4)
                                                    }
                                                    1 == (i = (Fai.top._bannerV2Data || {}).blpe) && (t.now = parseInt(t.now),
                                                    Pe(this).data("tweenEnd", t.end))
                                                }
                                            });
                                            var a = Fai.top.$("#bannerGetHref");
                                            a && (a.css({
                                                width: Se.data[me].imgWidth,
                                                left: (p.width() - Se.data[me].imgWidth) / 2 + "px"
                                            }),
                                            a.css({
                                                height: Se.data[me].imgHeight,
                                                top: (p.height() - Se.data[me].imgHeight) / 2 + "px"
                                            }))
                                        })
                                    }
                                };
                                ae.on("click", fe),
                                ae.hover(function() {
                                    ae.addClass(be[Se.btnType].name + "_prev_hover")
                                }, function() {
                                    ae.removeClass(be[Se.btnType].name + "_prev_hover")
                                });
                                var ge = function ge() {
                                    Site.checkBanAutoPlay() || ie.click()
                                }
                            }
                            var ve = "imageSwitch" + Math.random() + "banner";
                            0 != Se.btnType && 4 != Se.btnType && 5 != Se.btnType && 9 != Se.btnType ? Fai.addInterval(ve, ue, parseInt(Se.playTime + Se.animateTime)) : Fai.addInterval(ve, ge, parseInt(Se.playTime + Se.animateTime));
                            var _e = setTimeout(function() {
                                we ? ue() : xe && ge(),
                                Fai.startInterval(ve)
                            }, Se.playTime);
                            "undefined" != typeof Se.mouseoverId ? (Pe(Fai.top.$(p).find("." + Se.mouseoverId)[0]).mouseover(function() {
                                _e && clearTimeout(_e),
                                Fai.stopInterval(ve)
                            }),
                            Pe(Fai.top.$(p).find("." + Se.mouseoverId)[0]).mouseout(function() {
                                _e && clearTimeout(_e),
                                Fai.startInterval(ve)
                            })) : (p.mouseover(function() {
                                _e && clearTimeout(_e),
                                Fai.stopInterval(ve)
                            }),
                            p.mouseout(function() {
                                _e && clearTimeout(_e),
                                Fai.startInterval(ve)
                            }))
                        }
                })
            }
            function Ce(e, t, i, a, o, n, r) {
                var s = !Pe(t).hasClass("fk_new_bottomRound");
                if (ye.isNum($e))
                    e = Pe('<a class="imageSwitchBtn" />').appendTo(t).html("<span>" + (i + 1) + "</span>"),
                    i === a && e.addClass("imageSwitchBtnSel");
                else if (ye.isDot($e))
                    e = Pe('<a class="imageSwitchBtn_dot" />').appendTo(t),
                    i === a && e.addClass("imageSwitchBtnSel_dot");
                else if (ye.isBox($e))
                    e = Pe('<a class="fk_imageSwitchBtn_box"><div class="f_box_height"></div></a>').appendTo(t),
                    i === a && e.addClass("fk_imageSwitchBtnSel_box");
                else if (ye.isAdsorptionRound($e)) {
                    if (0 === i && Pe('<div class="fk_adsorptionRound_current"></div>').appendTo(t),
                    e = Pe('<a class="fk_imageSwitchBtn_adsorptionRound"><span class="fk_adsorptionRound_num">' + (i + 1) + "</span></a>").appendTo(t),
                    i === a && (Site.checkBrowser() || e.addClass("fk_imageSwitchBtn_ar_current"),
                    e.find(".fk_adsorptionRound_num").addClass("fk_adsorptionRound_num_current")),
                    i === o - 1) {
                        Pe('<svg style="height: 0;" xmlns="http://www.w3.org/2000/svg" version="1.1" width="740"><defs><filter id="AR"><feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur"></feGaussianBlur><feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 15 -5" result="AR"></feColorMatrix><feBlend in="SourceGraphic" in2="AR" /></filter></defs></svg>').appendTo(t)
                    }
                } else if (ye.isBottomRound($e))
                    e = Pe('<a class="fk_imageSwitchBtn_bottomRound"></a>').appendTo(t),
                    i < o - 1 && s && e.after('<div class="fk_imageSwitchBtn_line"><div class="f-animal J_bottomRoundlinear"></div></div>'),
                    i === a && e.addClass("fk_imageSwitchBtnSel_bottomRound");
                else if (ye.isBottomPhoto($e)) {
                    0 === i && r < o && Pe('<div class="fk_imageSwitchBtn_bottomPhoto_prev clearFix" ><div class="f-icon_prev"></div></div>').appendTo(t),
                    e = Pe('<a class="fk_imageSwitchBtn_bottomPhoto"></a>').appendTo(t);
                    var l = Pe(n.join("")).find(".J_bannerItem").clone();
                    l.css("background-size", "cover"),
                    l.attr("onclick", "return false"),
                    l.removeAttr("data-stellar-background-ratio"),
                    l.css("background-attachment", "").css("-webkit-transform", ""),
                    l[0].innerHTML = "",
                    e.append(l),
                    i === o - 1 && r < o && Pe('<div class="fk_imageSwitchBtn_bottomPhoto_next clearFix"><div class="f-icon_next"></div></div>').appendTo(t),
                    i === a && e.addClass("fk_imageSwitchBtnSel_bottomPhoto")
                }
                return e
            }
            function Fe(e, t, i, a, o, n, r, s, l, d, c) {
                var p;
                if (1 < e)
                    if (xe)
                        p = a - i,
                        i <= a ? p -= .5 * p : p = 40,
                        ye.isRightColorArrow($e) ? (l.css({
                            right: p,
                            top: "50%",
                            marginTop: "-" + l.height() + "px"
                        }),
                        d.css({
                            right: p,
                            top: "50%"
                        })) : (l.css("top", "50%"),
                        l.css("marginTop", "-" + l.height() / 2 + "px"),
                        d.css("top", "50%"),
                        d.css("marginTop", "-" + d.height() / 2 + "px"),
                        l.css({
                            left: p,
                            top: "50%",
                            marginTop: "-" + l.height() / 2 + "px"
                        }),
                        d.css({
                            right: p,
                            top: "50%",
                            marginTop: "-" + d.height() / 2 + "px"
                        }));
                    else if (Fai.top.$("#" + t).length) {
                        if (ye.isNum($e))
                            a <= i ? s.css("right", "40px") : (s.css("right", "50%"),
                            s.css("marginRight", "-" + i / 2 + "px")),
                            s.css("top", n - s.height() - 6 + "px");
                        else if (ye.isDot($e) || ye.isBox($e) || ye.isAdsorptionRound($e) || ye.isBottomRound($e) || ye.isBottomPhoto($e)) {
                            if (ye.isAdsorptionRound($e)) {
                                s.css({
                                    bottom: "24px",
                                    width: "740px",
                                    filter: "url(#AR)"
                                });
                                var u = s.find("a").eq(c).position().left;
                                Site.checkBrowser() ? Pe(".fk_adsorptionRound_current").css("transform", "translate3d(" + u + "px, 0px, 0px) scale(1.5, 1.5)") : Pe(".fk_adsorptionRound_current").hide()
                            }
                            s.css("marginLeft", "-" + s.width() / 2 + "px"),
                            s.css("left", "50%"),
                            ye.isDot($e) && s.css("bottom", "5px"),
                            (ye.isBox($e) || ye.isBottomPhoto($e)) && s.css("bottom", "40px"),
                            ye.isBottomRound($e) && (p = a - i,
                            i <= a ? p -= .5 * p : p = 40,
                            l.css({
                                left: p,
                                top: "50%",
                                marginTop: "-" + l.height() / 2 + "px"
                            }),
                            d.css({
                                right: p,
                                top: "50%",
                                marginTop: "-" + d.height() / 2 + "px"
                            }),
                            s.css({
                                bottom: 0,
                                background: "rgba(255, 255, 255, .7)",
                                height: "30px",
                                padding: "0 20px 12px",
                                marginLeft: "-" + (s.width() + 40) / 2 + "px"
                            }))
                        }
                    } else
                        s.css("left", o - r + "px")
            }
            function Ie() {
                Fai.top._useBannerVersionTwo && 4 === Fai.top._bannerV2Data.ble.at && (Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").faiRipples("destroy"),
                Site.bannerV2.initBannerEffects())
            }
            alert("must import fai.js")
        }
    })
}(window.jQuery),
Site.initBanner = function(i, e, t) {
    if (!Fai.top._uiMode) {
        var a = !1
          , o = Fai.top.$("#webBanner")
          , n = Fai.top.$("#banner")
          , r = !!Site.getWebBackgroundData().wbs;
        if (0 == Fai.top._templateLayout || 1 == Fai.top._templateLayout || 9 == Fai.top._templateLayout || 10 == Fai.top._templateLayout) {
            var s = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
            if (-1 < s && (i.height = s,
            0 < n.siblings(".nav, #navV2Wrap").length)) {
                var l = n.attr("normalheight");
                -1 == l && (l = n.css("height").replace("px", ""));
                var d = n.siblings(".nav, #navV2Wrap").height() || 0;
                -1 < s && (i.height = o.height() - d,
                o.height() < parseInt(l) + parseInt(d) && (a = !0)),
                -1 == n.attr("normalheight") && a && n.css({
                    height: i.height + "px"
                })
            }
        }
        if (i._open) {
            e._open && Fai.flashChecker().f ? i.mouseoverId = "bannerGetHref" : i.mouseoverId = "switchGroup",
            n.children().remove(),
            n.bannerImageSwitch(i);
            var c = n.width()
              , p = n.height()
              , u = Fai.top._manageMode ? Fai.getScrollWidth() : 0
              , m = Fai.top.$(window).width() > Fai.top.$("#web").width() ? Fai.top.$(window).width() : Fai.top.$("#web").width();
            a && (p = i.height),
            r && (c = m < (c = Fai.top.$("#webBanner").width()) ? m - u : c,
            p = Fai.top.$("#webBanner").height());
            var h = Fai.top.$("#banner .switchGroup");
            Fai.top.$("#banner .switchGroup .J_bannerItem").each(function(e) {
                if (!i.data[e])
                    return !1;
                var t;
                t = (i.data[e] ? i.data[e].imgWidth : 0) <= c && !r ? ($(this).css("width", i.data[e].imgWidth),
                h.width() - i.data[e].imgWidth) : ($(this).css("width", c),
                h.width() - c),
                Fai.isIE() && (t += t % 2),
                $(this).siblings(".J_bannerEdge").css("width", t / 2),
                p >= i.data[e].imgHeight && !r ? (Site.checkBrowser() && 0 < Fai.top._bannerData.at ? $(this).css("height", p) : ($(this).css("height", i.data[e].imgHeight),
                $(this).parent().css("paddingTop", (p - i.data[e].imgHeight) / 2 + "px")),
                $(this).siblings(".J_bannerEdge").height(i.data[e].imgHeight),
                $(this).siblings(".J_bannerEdge").css("top", (p - i.data[e].imgHeight) / 2 + "px")) : ($(this).css("height", p),
                $(this).siblings(".J_bannerEdge").height(p))
            }),
            n.css("background", "none")
        } else
            Site.refreshDefaultBannerEdge();
        if (e._open && Fai.flashChecker().f) {
            if ($.browser.mozilla && "49.0" == $.browser.version)
                return;
            var f = 0
              , g = 0
              , v = Fai.top.$("#banner").width();
            960 < v && (v = 960,
            f = parseInt((Fai.top.$("#webBanner").width() - 960) / 2));
            var _ = Fai.top.$("#banner").height();
            if (1 == e.position ? v /= 2 : 2 == e.position ? f += v /= 2 : 3 == e.position && (f += e.positionLeft,
            g = e.positionTop),
            "undefined" != typeof Fai && "undefined" != typeof Fai.top._resRoot)
                var S = Fai.top._resRoot;
            "undefined" == typeof e.color1 && (e.color1 = "#000"),
            "undefined" == typeof e.color2 && (e.color2 = "#FFFFFF");
            var b = "text1=" + Fai.encodeUrl(e.text1) + "&text2=" + Fai.encodeUrl(e.text2) + "&size1=" + e.size1 + "&size2=" + e.size2 + "&color1=0x" + e.color1.substr(1, e.color1.length - 1) + "&color2=0x" + e.color2.substr(1, e.color2.length - 1) + "&style1=" + e.style1 + "&style2=" + e.style2
              , x = ['<div class="effectShow" id="effectShow" style="position:absolute; top:' + g + "px; left:" + f + 'px; z-index:1;">', '<object id="effectShow_swf" type="application/x-shockwave-flash"  data="' + Fai.top._resRoot + "/image/site/effects/" + e.type + ".swf?" + $.md5(b) + '" width="' + v + '" height="' + _ + '">', '<param name="movie" value="' + Fai.top._resRoot + "/image/site/effects/" + e.type + ".swf?" + $.md5(b) + '"/>', '<param name="quality" value="high" />', '<param name="wmode" value="transparent" />', '<param name="flashvars" value="' + b + '"/>', '<embed id="effectShowEmbed" name="effectShow_swf" type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-4445535400000" src="', Fai.top._resRoot, "/image/site/effects/" + e.type + ".swf?" + $.md5(b) + '" wmode="transparent" quality="high" menu="false" play="true" loop="true" width="', v, '" height="', _, 'flashvars="' + b + '"', '" >', "</embed>", "</object>", "</div>"];
            if (x = x.join(""),
            4 == t)
                x += '<div id="bannerGetHref" class="bannerGetHref" style="position:absolute; top:0; left:' + f + "px; width:" + v + "px; height:100%; z-index:1; background:url('" + S + '/image/site/transpace.png\');" onmouseover="Site.bannerInitHref();"  onmouseout="Site.startBannerInterval();" onclick="Site.bannerGetHref();"></div>';
            n.append(x),
            p = n.height(),
            c = n.width(),
            i.data && 0 < i.data.length && Fai.top.$("#bannerGetHref").css({
                width: i.data[0].imgWidth,
                height: i.data[0].imgHeight,
                left: (c - i.data[0].imgWidth) / 2 + "px",
                top: (p - i.data[0].imgHeight) / 2 + "px"
            })
        }
        i._open && 960 != $(".webBanner").width() && $(window).resize(function(e) {
            e.target.nodeType && 9 != e.target.nodeType || setTimeout(function() {
                Site.refreshBanner(0)
            }, 500)
        }),
        Site.adjustBannerFlash()
    }
}
,
Site.adjustBannerWidth = function() {
    function e() {
        var e = Fai.top.$(window)
          , t = Fai.top.$("#webBanner")
          , i = Fai.top.$("#web")
          , a = Site.getWebBackgroundData();
        if (!(t.length < 1 || Fai.top._useBannerVersionTwo))
            if (-1 != a.wbw) {
                var o = Fai.top._manageMode ? Fai.getScrollWidth() : 0
                  , n = parseInt(t.css("borderLeftWidth").replace("px", "")) + parseInt(t.css("borderRightWidth").replace("px", "")) || 0
                  , r = a.wbw + n
                  , s = i.width();
                s - o < r && s < r && l(s - n),
                e.off("resize.banner"),
                e.on("resize.banner", function() {
                    Fai.top._isTemplateVersion2 && 2 == a.wbws || (s = i.width(),
                    e.width() - o < r && s < r ? l(s - n) : l(a.wbw))
                })
            } else
                e.off("resize.banner")
    }
    function l(e) {
        Fai.top.Fai.setCtrlStyleCss("styleWebSite", "", ".webBanner", "width", e + "px !important"),
        Fai.top.Fai.setCtrlStyleCss("styleWebSite", "", ".webBanner .banner", "width", "auto !important"),
        Fai.top.Fai.setCtrlStyleCss("styleWebSite", "", ".webBanner .switchGroup", "width", e + "px")
    }
    return e
}(),
Site.startBannerInterval = function() {
    var e = 0;
    if (Fai.intervalFunc != undefined && (e = Fai.intervalFunc.length),
    0 < e) {
        var t = Fai.intervalFunc[0].id;
        void 0 !== t && "imageSwitch" == t.substring(0, 11) && Fai.startInterval(t)
    }
    Fai.top._bannerData.n && 1 < Fai.top._bannerData.n.length && Site.checkBrowser() && 0 < Fai.top._bannerData.at && Site.bannerAnimate.autoPlay()
}
,
Site.stopBannerInterval = function() {
    var e = 0;
    if (Fai.intervalFunc != undefined && (e = Fai.intervalFunc.length),
    0 < e) {
        var t = Fai.intervalFunc[0].id;
        void 0 !== t && "imageSwitch" == t.substring(0, 11) && Fai.stopInterval(t)
    }
    Fai.top._bannerData.n && 1 < Fai.top._bannerData.n.length && Site.checkBrowser() && 0 < Fai.top._bannerData.at && Site.bannerAnimate.stop()
}
,
Site.bannerInitHref = function() {
    Site.stopBannerInterval();
    var i = !1
      , e = Fai.top.$("#banner")
      , a = -1;
    e.find(".spanHiddenName").each(function(e) {
        if ($(this).hasClass("spanShowName"))
            return a = e,
            !1
    }),
    -1 != a && (e.find(".switchGroup").children().each(function(e, t) {
        if (e == a && "javascript:;" != Fai.top.$(t).find("a").eq(0).attr("href"))
            return Fai.top.$("#bannerGetHref").css("cursor", "pointer"),
            !(i = !0)
    }),
    0 == i && Fai.top.$("#bannerGetHref").css("cursor", "default"))
}
,
Site.bannerGetHref = function() {
    var e = Fai.top.$("#banner")
      , a = -1;
    if (e.find(".spanHiddenName").each(function(e) {
        if ($(this).hasClass("spanShowName"))
            return a = e,
            !1
    }),
    -1 != a) {
        var o = "";
        e.find(".switchGroup").children().each(function(e, t) {
            if (e == a) {
                var i = Fai.top.$(t).find("a").eq(0);
                return void 0 !== (o = i.attr("href")) && "javascript:;" == o && $(i).click(),
                !1
            }
        }),
        void 0 !== o && "javascript:;" != o && window.open(o)
    }
}
,
Site.adjustBannerFlash = function() {
    var e = Fai.top.$("#banner")
      , t = Fai.top.$("#imgPageFlash");
    if (0 < t.length) {
        var i = e.width()
          , a = t.width();
        i < a ? t.css({
            position: "absolute",
            left: -(a - i) / 2 + "px"
        }) : t.css({
            position: "",
            left: ""
        })
    }
}
,
Site.refreshBanner = function(e) {
    if (!Fai.top._uiMode) {
        var t = Fai.top.$("#webBanner")
          , i = Fai.top.$("#banner");
        if (Fai.top._bannerData.h)
            Fai.top.$("#banner").css("display", "none");
        else {
            if (void 0 === e && (e = 0),
            3 != Fai.top._bannerData.s || Fai.top._bannerData.f.p || (Fai.top._bannerData.s = 0),
            4 == Fai.top._bannerData.s && 0 == Fai.top._bannerData.n.length && (Fai.top._bannerData.s = 0),
            Fai.top.$("#banner").css("display", "block"),
            0 == Fai.top._bannerData.s) {
                Fai.top.$("#banner").removeAttr("style"),
                Fai.top.$("#banner").children().remove();
                var a = [];
                if (a.push("<div class='" + i.attr("class") + " defaultBannerMain'></div>"),
                a.push("<div class='defaultBannerEdge defaultBannerEdgeLeft'></div>"),
                a.push("<div class='defaultBannerEdge defaultBannerEdgeRight'></div>"),
                i.append(a.join("")),
                0 == Fai.top._templateLayout || 1 == Fai.top._templateLayout || 9 == Fai.top._templateLayout || 10 == Fai.top._templateLayout)
                    if (-1 < (Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight) && 0 < i.siblings(".nav, #navV2Wrap").length) {
                        var o = i.css("height").replace("px", "")
                          , n = i.siblings(".nav, #navV2Wrap").height();
                        t.height() < parseInt(o) + n && (o = t.height() - n,
                        i.css({
                            height: o + "px"
                        }))
                    }
                Site.refreshDefaultBannerEdge()
            } else if (3 == Fai.top._bannerData.s) {
                Fai.top.$("#banner").css("background", "none"),
                Fai.top.$("#banner").css("height", Fai.top._bannerData.f.h + "px"),
                Fai.top.$("#banner").children().remove();
                var r = '<embed type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-4445535400000" id="imgPageFlash" src="' + Fai.top._bannerData.f.p + '" wmode="opaque" quality="high" menu="false" play="true" loop="true" width="' + Fai.top._bannerData.f.w + '" height="' + Fai.top._bannerData.f.h + '" ></embed>';
                Fai.top.$("#banner").append(r),
                Site.adjustBannerFlash()
            } else
                4 == Fai.top._bannerData.s && Fai.top.Site.refreshBannerImageSwitch(e);
            if (Fai.top._bannerData.o) {
                if ($.browser.mozilla && "49.0" == $.browser.version)
                    return;
                var s = 0
                  , l = 0
                  , d = Fai.top.$("#banner").width()
                  , c = Fai.top.$("#banner").height();
                if (960 < d && (d = 960,
                s = parseInt((Fai.top.$("#webBanner").width() - 960) / 2)),
                1 == Fai.top._bannerData.p ? d /= 2 : 2 == Fai.top._bannerData.p ? s += d /= 2 : 3 == Fai.top._bannerData.p && (s += Fai.top._bannerData.pl,
                l = Fai.top._bannerData.pt),
                "undefined" != typeof Fai && "undefined" != typeof Fai.top._resRoot)
                    var p = Fai.top._resRoot;
                "undefined" == typeof Fai.top._bannerData.ce.c1 && (Fai.top._bannerData.ce.c1 = "#000"),
                "undefined" == typeof Fai.top._bannerData.ce.c2 && (Fai.top._bannerData.ce.c2 = "#FFFFFF");
                var u = "text1=" + Fai.encodeUrl(Fai.top._bannerData.ce.t1) + "&text2=" + Fai.encodeUrl(Fai.top._bannerData.ce.t2) + "&size1=" + Fai.top._bannerData.ce.sz1 + "&size2=" + Fai.top._bannerData.ce.sz2 + "&color1=0x" + Fai.top._bannerData.ce.c1.substr(1, Fai.top._bannerData.ce.c1.length - 1) + "&color2=0x" + Fai.top._bannerData.ce.c2.substr(1, Fai.top._bannerData.ce.c2.length - 1) + "&style1=" + Fai.top._bannerData.ce.s1 + "&style2=" + Fai.top._bannerData.ce.s2
                  , m = Fai.top._resRoot + "/image/site/effects/" + Fai.top._bannerData.t + ".swf?" + $.md5(u)
                  , h = ['<div class="effectShow" id="effectShow" style="position:absolute; top:' + l + "px; left:" + s + 'px; z-index:1;">', '<object id="effectShow_swf"  type="application/x-shockwave-flash"  data="' + m + '" width="' + d + '" height="' + c + '">', '<param name="movie" value="' + m + '" />', '<param name="quality" value="high" />', '<param name="flashvars" value="' + u + '"/>', '<param name="wmode" value="transparent" />', '<embed name="effectShow_swf"  wmode="transparent" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-4445535400000" id="effectFlash" src="' + m + '" quality="high" menu="false" play="true" loop="true" width="' + d + '" height="' + c + '" flashvars="' + u + '" >', "</embed>", "</object>", "</div>"];
                if (h = h.join(""),
                4 == Fai.top._bannerData.s)
                    h += '<div id="bannerGetHref" class="bannerGetHref" style="position:absolute; top:0; left:' + s + "px; width:" + d + "px; height:100%;z-index:1; background:url('" + p + '/image/site/transpace.png\');"  onmouseover="Site.bannerInitHref();" onmouseout="Site.startBannerInterval();" onclick="Site.bannerGetHref();"></div>';
                Fai.top.$("#banner").append(h),
                Fai.top._bannerData.n && 0 < Fai.top._bannerData.n.length && Fai.top.$("#bannerGetHref").css({
                    width: Fai.top._bannerData.n[e].w,
                    height: Fai.top._bannerData.n[e].h,
                    left: (Fai.top.$("#banner").width() - Fai.top._bannerData.n[e].w) / 2 + "px",
                    top: (Fai.top.$("#banner").height() - Fai.top._bannerData.n[e].h) / 2 + "px"
                })
            } else
                Fai.top.$("#effectShow").remove()
        }
    }
}
,
Site.getWebBackgroundData = function() {
    return Fai.top._Global._useTemplateBackground ? Fai.top._templateBackgroundData : Fai.top._customBackgroundData
}
,
Site.refreshBannerImageSwitch = function(e) {
    var s = 0
      , l = 0
      , d = new Array
      , c = new Array
      , p = new Array
      , t = Fai.top._bannerData.bt
      , i = !1
      , a = Fai.top.$("#webBanner")
      , o = Fai.top.$("#banner")
      , n = !!Site.getWebBackgroundData().wbs;
    if ($.each(Fai.top._bannerData.n, function(e, t) {
        var i = t.el || ""
          , a = t.er || ""
          , o = parseInt(t.h)
          , n = parseInt(t.w);
        if (s < o && (s = o),
        l < n && (l = n),
        0 != t.e) {
            var r = t.jUrl || "javascript:;";
            Fai.top._manageMode && ($(".panelLibItem[vid=" + t.i + "]").data("JURL") != undefined && (r = $(".panelLibItem[vid=" + t.i + "]").data("JURL")),
            1 == t.urlChange && (r = t.jUrl || "javascript:;")),
            12 < r.length && "javascript" == r.substring(0, 10) ? d.push({
                src: t.p,
                href: "javascript:;",
                onclick: r.substring(11) + "return false;",
                ot: t.ot,
                imgWidth: n,
                imgHeight: o,
                edgeLeft: i,
                edgeRight: a
            }) : d.push({
                src: t.p,
                href: r,
                ot: t.ot,
                imgWidth: n,
                imgHeight: o,
                edgeLeft: i,
                edgeRight: a,
                onclick: t._onclick || t.onclick || ""
            })
        } else
            d.push({
                src: t.p,
                imgWidth: n,
                imgHeight: o,
                edgeLeft: i,
                edgeRight: a
            });
        c.push(n),
        p.push(o)
    }),
    0 == Fai.top._templateLayout || 1 == Fai.top._templateLayout || 9 == Fai.top._templateLayout || 10 == Fai.top._templateLayout) {
        var r = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
        if (-1 < r && (s = r,
        0 < o.siblings(".nav, #navV2Wrap").length)) {
            var u = o.attr("normalheight");
            -1 == u && (u = o.css("height").replace("px", ""));
            var m = m = o.siblings(".nav, #navV2Wrap").height() || 0;
            -1 < r && a.height() < u + m && (i = !0,
            s = a.height() - m)
        }
    }
    s = n ? o.height() : s,
    Fai.top.$("#banner").css("background", "none"),
    Fai.top.$("#banner").children().remove(),
    Fai.top.$("#banner").css("height", s + "px"),
    Fai.top.$("#banner").bannerImageSwitch({
        data: d,
        index: e,
        width: l,
        height: s,
        from: "banner",
        playTime: Fai.top._bannerData.i,
        animateTime: Fai.top._bannerData.a,
        btnType: t,
        wideScreen: Fai.top._bannerData.ws
    });
    var h = Fai.top.$("#banner").width()
      , f = Fai.top.$("#banner").height()
      , g = Fai.top._manageMode ? Fai.getScrollWidth() : 0
      , v = Fai.top.$(window).width() > Fai.top.$("#web").width() ? Fai.top.$(window).width() : Fai.top.$("#web").width();
    i && (f = s),
    n && (h = v < (h = Fai.top.$("#webBanner").width()) ? v - g : h);
    var _ = Fai.top.$("#banner .switchGroup");
    Fai.top.$("#banner .switchGroup .J_bannerItem").each(function(e) {
        if (h >= c[e] && !n) {
            $(this).css("width", c[e]);
            var t = _.width() - c[e];
            Fai.isIE() && (t += t % 2),
            $(this).siblings(".J_bannerEdge").css("width", t / 2 + "px")
        } else
            $(this).css("width", h),
            t = _.width() - h,
            Fai.isIE() && (t += t % 2),
            $(this).siblings(".J_bannerEdge").css("width", t / 2 + "px");
        f >= p[e] && !n ? (Site.checkBrowser() && 0 < Fai.top._bannerData.at ? $(this).css("height", f) : ($(this).css("height", p[e]),
        $(this).parent().css("paddingTop", (f - p[e]) / 2 + "px")),
        $(this).siblings(".J_bannerEdge").css("height", p[e]),
        $(this).siblings(".J_bannerEdge").css("top", (f - p[e]) / 2 + "px")) : ($(this).css("height", f),
        $(this).siblings(".J_bannerEdge").css("height", f))
    })
}
,
Site.refreshBannerHeight = function() {
    var e = Fai.top.$("#webBanner")
      , t = Fai.top.$("#banner")
      , i = t.height()
      , a = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
    if (-1 < a && (i = a,
    0 < t.siblings(".nav, #navV2Wrap").length)) {
        var o = t.attr("normalheight");
        -1 == o && (o = t.css("height").replace("px", ""));
        var n = t.siblings(".nav, #navV2Wrap").height() || 0;
        -1 < a && e.height() < o + n && (i = e.height() - n)
    }
    Fai.top.$("#banner").css("height", i + "px")
}
,
Site.refreshDefaultBannerEdge = function() {
    var e = Fai.top.$("#banner");
    if (0 < e.length) {
        var t = e.attr("defaultwidth") || 960;
        if (0 < e.children(".defaultBannerEdge").length) {
            var i = e.width() - t;
            i = (i + i % 2) / 2,
            e.children(".defaultBannerEdge").css("width", i)
        }
    }
}
,
Site.checkBrowser = function() {
    var o = ["animation", "MozAnimation", "webkitAnimation", "msAnimation", "OAnimation"]
      , n = ["transform", "MozTransform", "webkitTransform", "msTransform", "OTransform"]
      , r = ["opacity", "MozOpacity", "webkitOpacity", "msOpacity", "OOpacity"]
      , s = document.createElement("div")
      , l = {};
    return function(e) {
        if ("boolean" == typeof l[e])
            return l[e];
        var t;
        switch (e) {
        case "animation":
            t = o;
            break;
        case "transform":
            t = n;
            break;
        case "opacity":
            t = r;
            break;
        default:
            t = o
        }
        for (var i = 0, a = t.length; i < a; i++)
            if (s.style[t[i]] !== undefined)
                return l[e] = !0,
                l[e];
        return l[e] = !1,
        l[e]
    }
}(),
Site.bannerAnimate = {},
function(I, P) {
    var c, i, k, L, T, M, B = 1, A = 0, N = -1, D = -1, t = {
        autoPlay: !0,
        currentIndex: 0,
        speed: 1500,
        duration: 4e3,
        effectIndex: 1
    }, j = !0, E = 0, p = 0, u = 0, a = {
        0: {
            name: "arrow",
            classes: "arrowImg",
            switchType: "Slide"
        },
        1: {
            name: "Num",
            classes: "numImg",
            switchType: "Fade"
        },
        2: {
            name: "Dot",
            classes: "dotImg",
            switchType: "Fade"
        },
        3: {
            name: "Box",
            classes: "boxImg",
            switchType: "Fade"
        },
        4: {
            name: "NoColorArrow",
            classes: "arrowImg",
            switchType: "Slide"
        },
        5: {
            name: "RightColorArrow",
            classes: "arrowImg",
            switchType: "Slide"
        },
        6: {
            name: "AdsorptionRound",
            classes: "adsorptionRoundImg",
            switchType: "Fade"
        },
        7: {
            name: "BottomRound",
            classes: "bottomRoundImg",
            switchType: "Fade"
        },
        8: {
            name: "BottomPhoto",
            classes: "bottomPhotoImg",
            switchType: "Fade"
        }
    };
    function o() {
        if (Fai.isSafari())
            ;
        else if (!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i))
            return;
        Fai.top.$("#" + T).addClass("fk-fixPerspective")
    }
    function n() {
        P.animating = !1,
        clearTimeout(i);
        for (var e = 0; e < E; e++)
            d(L.eq(e)[0], O)
    }
    function r() {
        l(),
        c.autoPlay && e()
    }
    function e() {
        void 0 !== c && (P.animating || (clearTimeout(i),
        i = setTimeout(P.next, c.duration)))
    }
    function s() {
        if (Fai.top._useBannerVersionTwo) {
            var e = "J_billboardItem billboard_item " + a[M.bt].classes;
            Fai.top.$("#bannerV2").find(".J_billboardItem").attr("class", e).attr("style", "");
            var t = "switchGroup switchGroup_bannerV2 " + ("billboard billboard" + M.at);
            Fai.top.$("#bannerV2 .switchGroup_bannerV2").attr("class", t),
            Site.bannerAnimate.init({
                container: Fai.top.$("#bannerV2 .switchGroup_bannerV2"),
                effectIndex: 13,
                currentIndex: A,
                speed: c.speed,
                duration: c.duration,
                _isBannerV2: !0
            })
        } else
            Site.refreshBanner(A)
    }
    function O() {
        if (d(this, O)) {
            if (P.animating = !1,
            L.eq(N).css("display", "none"),
            j) {
                if (clearTimeout(i),
                13 == c.effectIndex ? s() : i = setTimeout(function() {
                    P.next()
                }, c.duration),
                7 == M.bt) {
                    var e = Fai.top.$("#" + T).find(".imageSwitchBtnArea")
                      , t = e.children("a");
                    e.find(".J_bottomRoundlinear").removeClass("f-animal-linear").css({
                        "transition-duration": "",
                        "-webkit-transition": ""
                    }),
                    t.eq(A).addClass("fk_imageSwitchBtnSel_bottomRound")
                }
            } else
                13 == c.effectIndex && s();
            Fai.top._useBannerVersionTwo && Fai.top.$(".fk-inBannerListZone").find(".form").length && (window.jzUtils.run({
                name: "moduleAnimation.publish",
                base: Fai.top.Site
            }),
            window.jzUtils.run({
                name: "moduleAnimation.contentAnimationPublish",
                base: Fai.top.Site
            })),
            Fai.top._useBannerVersionTwo && 4 === M.ble.at && (Fai.top.$("#bannerV2").find(".switchGroup_bannerV2 .J_bannerItem").faiRipples("destroy"),
            Site.bannerV2.initBannerEffects())
        }
    }
    function l() {
        for (var e = 0; e < L.length; e++)
            R(L.eq(e), "animationDuration", c.speed + "ms");
        var t = L.eq(c.currentIndex);
        t.addClass("billboardItem_" + B + "_start"),
        L.css("display", "none"),
        t.css("display", "block")
    }
    function J(e, t) {
        return e.addEventListener("animationend", t, !1),
        e.addEventListener("webkitAnimationEnd", t, !1),
        e.addEventListener("oAnimationEnd", t, !1),
        e.addEventListener("oanimationend", t, !1),
        e.addEventListener("msAnimationEnd", t, !1),
        !0
    }
    function d(e, t) {
        return e.removeEventListener("animationend", t, !1),
        e.removeEventListener("webkitAnimationEnd", t, !1),
        e.removeEventListener("oAnimationEnd", t, !1),
        e.removeEventListener("oanimationend", t, !1),
        e.removeEventListener("msAnimationEnd", t, !1),
        !0
    }
    function m() {
        var e;
        p = k.width() || 0,
        u = Fai.top.$("#" + T).height() || 0;
        var t = Site.getWebBackgroundData()
          , i = Fai.top._manageMode ? Fai.getScrollWidth() : 0
          , a = Fai.top.$(window).width() - i;
        (Fai.top._useBannerVersionTwo ? 0 == Fai.top._bannerV2Data.bla : t.wbs) && (p = a < p ? a : p),
        13 == c.effectIndex && k.addClass("billboard" + B),
        k.css("height", u + "px");
        for (var o = 0; o < L.length; o++)
            if ((e = L.eq(o)).addClass("billboardItem_" + B + " billboardAnim"),
            e.css({
                width: "100%",
                height: u + "px"
            }),
            6 == B)
                R(e, "transformOrigin", "50% 50% " + -p / 2 + "px");
            else if (7 == B)
                R(e, "transformOrigin", "50% 50% " + -u / 2 + "px");
            else if (8 == B || 9 == B) {
                var n = I(document.createElement("div"));
                n.addClass("billboard_item billboardItem_" + B + " billboardItem_" + B + "_" + (o + 1));
                for (var r = 1; r <= 3; r++) {
                    var s = I(document.createElement("div"));
                    s.addClass("billboardTile billboardTile_" + r + " billboardAnim"),
                    R(s, "animationDuration", c.speed + "ms"),
                    R(s, "transformOrigin", 8 == B ? "50% 50% " + -p / 2 + "px" : "50% 50% " + -u / 2 + "px");
                    var l = e.clone();
                    l.attr("class", "billboardImg").removeAttr("style"),
                    l.find(".J_bannerItem").addClass("billboardImgInner"),
                    I(s).append(l),
                    I(n).append(s)
                }
                e.before(n),
                e.remove()
            } else if (10 == B || 12 == B) {
                for ((n = I(document.createElement("div"))).addClass("billboard_item billboardItem_" + B + " billboardItem_" + B + "_" + (o + 1)),
                n.css({
                    width: "100%",
                    height: u + "px"
                }),
                r = 1; r <= 4; r++) {
                    (s = I(document.createElement("div"))).addClass("billboardTile billboardTile_" + r);
                    var d = I(document.createElement("div"));
                    d.addClass("billboardAnim billboardTileImg"),
                    R(d, "animationDuration", c.speed + "ms"),
                    s.append(d),
                    (l = e.clone()).attr("class", "billboardImg").removeAttr("style"),
                    l.find(".J_bannerItem").addClass("billboardImgInner"),
                    d.append(l),
                    n.append(s)
                }
                e.before(n),
                e.remove()
            }
        8 != B && 9 != B && 10 != B && 12 != B || (L = k.children(),
        E = L.length)
    }
    function h(e) {
        D = N = -1,
        c = I.extend({}, t, e),
        B = c.effectIndex,
        13 == c.effectIndex && (B = f(4, 7)),
        A = c.currentIndex,
        j = c.autoPlay,
        k = c.container,
        L = k.children(),
        E = L.length,
        T = c._isBannerV2 ? "bannerV2" : "banner",
        M = c._isBannerV2 ? Fai.top._bannerV2Data : Fai.top._bannerData
    }
    function R(e, t, i) {
        var a = t.substring(0, 1).toUpperCase() + t.substring(1);
        e.css("Webkit" + a, i),
        e.css("Moz" + a, i),
        e.css("ms" + a, i),
        e.css("O" + a, i),
        e.css(t, i)
    }
    function f(e, t) {
        var i = t - e + 1
          , a = Math.floor(Math.random() * i + e);
        return !Fai.top._useBannerVersionTwo || 8 != a && 9 != a && 10 != a && 12 != a ? a : f(e, t)
    }
    P.animating = !1,
    P.init = function(e) {
        Site.checkBrowser() && e.container && (n(),
        h(e),
        o(),
        m(),
        r())
    }
    ,
    P.autoPlay = function() {
        j = !0,
        e()
    }
    ,
    P.next = function() {
        var e = A + 1;
        e >= L.length && (e = 0),
        P.goTo(e, !1)
    }
    ,
    P.prev = function() {
        var e = A - 1;
        e < 0 && (e = L.length - 1),
        P.goTo(e, !0)
    }
    ,
    P.stop = function() {
        j && (j = !1,
        clearTimeout(i))
    }
    ,
    P.goTo = function(e, t) {
        if (Site.checkBanAutoPlay())
            O();
        else if (!(isNaN(e) || E <= e || e < 0 || e == A || this.animating)) {
            D = e,
            void 0 === t && (t = !(A < D));
            var i = Fai.top.$("#" + T).find(".imageSwitchBtnArea")
              , a = Fai.top.$("#" + T).find(".imageSwitchShowName").children("span")
              , o = 8 == M.bt ? i.find(".fk_imageSwitchReal").children("a") : i.children("a")
              , n = L.eq(A)
              , r = 4
              , s = i.find(".fk_imageSwitchReal")
              , l = parseInt(s.attr("index"))
              , d = L.eq(D);
            if (0 == M.bt)
                ;
            else if (1 == M.bt)
                o.removeClass("imageSwitchBtnSel"),
                o.eq(D).addClass("imageSwitchBtnSel");
            else if (2 == M.bt)
                o.removeClass("imageSwitchBtnSel_dot"),
                o.eq(D).addClass("imageSwitchBtnSel_dot");
            else if (3 == M.bt)
                o.removeClass("fk_imageSwitchBtnSel_box"),
                o.eq(D).addClass("fk_imageSwitchBtnSel_box");
            else if (6 == M.bt) {
                o.eq(A).find(".fk_adsorptionRound_num").removeClass("fk_adsorptionRound_num_current"),
                o.eq(D).find(".fk_adsorptionRound_num").addClass("fk_adsorptionRound_num_current"),
                Site.checkBrowser() || (o.eq(A).removeClass("fk_imageSwitchBtn_ar_current"),
                o.eq(D).addClass("fk_imageSwitchBtn_ar_current"));
                var c = I(".fk_adsorptionRound_current")
                  , p = o.eq(A).position().left
                  , u = o.eq(D).position().left;
                c.animate({
                    a: u
                }, {
                    step: function F(e, t) {
                        t.start = p,
                        (e > t.start && t.start < u || e < t.start && t.start > u) && c.css("transform", "translate3d(" + e + "px, 0px, 0px) scale(1.5, 1.5")
                    },
                    duration: 500
                })
            } else if (7 == M.bt)
                o.removeClass("fk_imageSwitchBtnSel_bottomRound"),
                j && !M.new_bt ? i.find(".J_bottomRoundlinear").eq(A).addClass("f-animal-linear").css({
                    "transition-duration": "transform " + M.a / 1e3 + "s linear",
                    "-webkit-transition": "-webkit-transform " + M.a / 1e3 + "s linear"
                }) : o.eq(D).addClass("fk_imageSwitchBtnSel_bottomRound");
            else if (8 == M.bt) {
                o.removeClass("fk_imageSwitchBtnSel_bottomPhoto"),
                o.eq(D).addClass("fk_imageSwitchBtnSel_bottomPhoto"),
                k.width() < 960 && (r = 3);
                var m, h = i.find(".fk_imageSwitchBtn_bottomPhoto"), f = h.outerWidth(!0) * r, g = E % r, v = Math.ceil(E / r), _ = (r - g) * h.outerWidth(!0), S = Math.floor(e / r), b = i.find(".fk_imageSwitchBtn_bottomPhoto_prev"), x = i.find(".fk_imageSwitchBtn_bottomPhoto_next");
                S - l == 1 ? x.click() : S - l == -1 && (E - g < D + 1 || 0 === g) ? b.click() : 1 < l - S ? (s.animate({
                    marginLeft: 0
                }, 1e3),
                b.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                x.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                s.attr("index", 0)) : 1 < S - l && (m = S === v - 1 ? 2 * f - _ : 2 * f,
                s.animate({
                    marginLeft: -m
                }, 1e3),
                x.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                b.addClass("fk_imageSwitchBtn_bottomPhoto_next_active"),
                s.attr("index", 2))
            }
            if (a.removeClass("spanShowName"),
            a.eq(D).addClass("spanShowName"),
            d.css("display", "block"),
            11 == B) {
                var w = ["15% 15%", "85% 85%", "15% 85%", "85% 15%"]
                  , $ = ["billboardItem_11_on_zoomOut", "billboardItem_11_on_zoomIn"]
                  , y = w[Math.floor(Math.random() * w.length)]
                  , C = $[Math.floor(Math.random() * $.length)];
                d.addClass(C).removeClass("billboardItem_11_off"),
                R(d, "transformOrigin", y),
                n.addClass("billboardItem_11_off"),
                n.removeClass("billboardItem_11_on_zoomIn billboardItem_11_on_zoomOut billboardItem_11_start")
            } else
                n.removeClass("billboardItem_" + B + "_on billboardItem_" + B + "_on_reverse"),
                n.addClass("billboardItem_" + B + "_off"),
                d.removeClass("billboardItem_" + B + "_off billboardItem_" + B + "_off_reverse"),
                d.addClass("billboardItem_" + B + "_on"),
                t && (n.addClass("billboardItem_" + B + "_off_reverse"),
                d.addClass("billboardItem_" + B + "_on_reverse"));
            P.animating = !0,
            N = A,
            A = D,
            J(d[0], O)
        }
    }
}(window.jQuery, Site.bannerAnimate),
Site.getThreePicCarouselMaskBorderColor = function() {
    var e = "";
    if (0 == Fai.top._bannerV2Data.bzb.t)
        e = "#fff";
    else if (1 == Fai.top._bannerV2Data.bzb.t) {
        var t = Fai.top._bannerV2Data.bzb.c ? Fai.top._bannerV2Data.bzb.c : "#000";
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8())
            e = t;
        else {
            var i = "undefined" == typeof Fai.top._bannerV2Data.bzb.o ? 100 : Fai.top._bannerV2Data.bzb.o
              , a = Fai.hexadecimalToRgb(t);
            e = -1 < a.indexOf("rgba") ? a : "rgba(" + a + ", " + i / 100 + ")"
        }
    }
    return e
}
,
Site.checkBanAutoPlay = function() {
    if (Fai.top._manageMode)
        return !!$("#webBanner").find("[contenteditable=true]").length || (!!$(".jz_modal").length || (!!$(".fk-popupWindowVT").length || (!!$(".formDialog").length || (!!$(".J_fkEditor_tool").length || (!!$(".fk-hoverEft-dialog:visible").length || (!!$(".funOuterPanel:visible").length || void 0))))))
}
,
Site.initModuleProductSearch = function(a) {
    var o = $("#module" + a + " .productSearch");
    o.autocomplete({
        source: function s(e, t) {
            jQuery.ajax({
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/product_h.jsp",
                data: "cmd=getWafNotCk_getKeywordList&limit=6&term=" + Fai.encodeUrl(o.val()) + "&prgmid=" + a,
                type: "GET",
                dataType: "json",
                success: function i(e) {
                    t($.map(e, function(e) {
                        return {
                            label: e,
                            value: e
                        }
                    }))
                }
            })
        },
        delay: 100,
        select: function l(e, t) {
            var i = t.item.label;
            Site.searchProduct(a, i)
        }
    }),
    o.keypress(function(e) {
        13 == e.keyCode && Site.searchProduct(a)
    });
    var e = $("#module" + a)
      , t = e.find(".searchBox").attr("class")
      , i = e.find(".recommandKeyBox");
    "searchBox" == t ? i.css("vertical-align", "7px") : i.css("vertical-align", "11px");
    var n = e.find(".J_newSearchBox")
      , r = e.find(".J_dynamicShowTip .linkKeys");
    1 <= r.length && n.length && i.length && n.position().top == i.position().top && (i.css("line-height", n.height() + "px"),
    r.css("margin-top", 0))
}
,
Site.searchProduct = function(e, t) {
    var i, a, o = $("#module" + e);
    a = (i = o.find(".fk-newSearchBox").length ? o.find(".fk-newSearchInput") : o.find("input.g_itext")).val(),
    i.attr("_searching") || (t && (a = t),
    "" != a.trim() ? Fai.top.location.href = Site.preprocessUrl({
        path: "",
        oldPath: ""
    }) + "pr.jsp?keyword=" + Fai.encodeUrl($.trim(a)) + "&_pp=0_" + e : Fai.ing(LS.enterSearchText, !0))
}
,
Site.searchProductByKey = function(e, t, i) {
    var a = Site.preprocessUrl({
        path: "",
        oldPath: ""
    }) + "pr.jsp?keyword=" + Fai.encodeUrl($.trim(t)) + "&_pp=0_" + e;
    Fai.top._manageMode ? Site.redirectUrl(a, "_self", i, 1, 0) : Fai.top.location.href = a
}
,
Site.changeTxtLenght = function() {
    for (var e = Fai.top.$(".head_txt"), t = e.length, i = [], a = 0; a < t; a++) {
        var o = e.eq(a)
          , n = o[0].getBoundingClientRect().width;
        n = void 0 === n ? o.width() : Math.ceil(n) - (o.outerWidth() - o.width()),
        i.push(n)
    }
    var r = Math.max.apply(null, i);
    e.css("width", r)
}
,
Site.memberCenterInit = function(e, t, a, o, n) {
    switch (Site.logDog(201296, 7),
    a && $("#module" + e).find(".formBanner").hide(),
    $(".mCenter .mCenterLeft li").click(function() {
        if ($(".mCenter .mCenterTitle:first-child").html("<span class='underline'>" + $(this).find("span").html() + "</span>"),
        a && "memberCoupon" == $(this).attr("id") ? $(".mCenter .mCenterTitleList").hide() : $(".mCenter .mCenterTitleList").show(),
        "memberBind" == $(this).attr("id") && Site.logDog(200199, 2),
        "memberMineForms" == $(this).attr("id") && ($(".memberMineFormsPanel").show(),
        Site.logDog(201296, 8)),
        "memberKnowProducts" == $(this).attr("id") && $(".memberMemberKnowProductsPanel").show(),
        "memberOrder" == $(this).attr("id")) {
            var e = $(".memberOrderNewPanel .mallOrderNewList");
            $(".J_orderEmpty").hide(),
            0 == $(".itemList .itemLine").length && $(".pagenation").hide(),
            0 == $(".memberOrderOldPanel .line.itemLine").length && $(".memberOrderOldPanel .pagenation").hide(),
            $(".mCenterTitle").removeClass("mCenterTitleSelected"),
            $(".memberOrderPanel").find(".itemList .itemLine").show(),
            a && o && $(".mCenter .mCenterTitleList .mCenterTitle:first-child").addClass("mCenterTitleSelected" + n),
            $(".mCenter .mCenterTitleList .mCenterTitle:first-child").addClass("mCenterTitleSelected"),
            $(".mCenter .mCenterTitleList .mCenterTitleOrder").show(),
            $(".mCenterTitle").on("click.mCenterTitle", function() {
                if ($(".mCenter .mCenterTitleList .mCenterTitle:first-child").css("cursor", "pointer"),
                a && o && ($(".mCenterTitle").removeClass("mCenterTitleSelected" + n),
                $(this).addClass("mCenterTitleSelected" + n)),
                $(".mCenterTitle").removeClass("mCenterTitleSelected"),
                $(this).addClass("mCenterTitleSelected"),
                a ? $(this).css("display", "table-cell") : $(this).css("display", "inline-block"),
                e.attr("_managemode"))
                    if ($(this).hasClass("J_refundStatus"))
                        $(".memberOrderPanel").find(".itemList .itemLine").each(function(e, t) {
                            var a = !1;
                            $(t).find(".J_refundTD").each(function(e, t) {
                                var i = parseInt($(t).attr("_rs")) || 0;
                                if (0 < i && i < 35)
                                    return !(a = !0)
                            }),
                            a ? $(this).show() : $(this).hide()
                        });
                    else if ($(this).hasClass("mCenterTitleOrder")) {
                        var i = $(this).text();
                        $(".memberOrderPanel").find(".itemList .itemLine .J-status").each(function(e, t) {
                            $(this).text() == i ? $(this).parents(".itemLine").show() : $(this).parents(".itemLine").hide()
                        })
                    } else
                        $(".memberOrderPanel").find(".itemList .itemLine").show();
                0 == $(".itemList .itemLine").length ? ($(".pagenation").hide(),
                $(".J_orderEmpty").show()) : ($(".J_orderEmpty").hide(),
                $(".pagenation").show()),
                e.attr("_managemode") && (0 == $(".itemList .itemLine:visible").length ? ($(".pagenation").hide(),
                $(".line.g_title").hide(),
                $(".orderEmpty").show(),
                $(".J_orderEmpty").show()) : ($(".pagenation").show(),
                $(".line.g_title").show(),
                $(".J_orderEmpty").hide(),
                $(".orderEmpty").hide())),
                e.attr("_managemode") || (e.children().hide(),
                $(this).hasClass("J_allOrder") ? $(".mallOrderAll").show() : $(this).hasClass("J_waitSettle") ? $(".mallOrderWaitSettle").show() : $(this).hasClass("J_finSettle") ? $(".mallOrderFinSettle").show() : $(this).hasClass("J_waitGroup") ? $(".mallOrderWaitGroup").show() : $(this).hasClass("J_FinPay") ? $(".mallOrderFinPay").show() : $(this).hasClass("J_FinShip") ? $(".mallOrderFinShip").show() : $(this).hasClass("J_finProcess") ? $(".mallOrderFinProcess").show() : $(this).hasClass("J_refundStatus") && $(".mallOrderRefund").show())
            }),
            0 < e.length && !e.attr("_managemode") && $(".mCenterTitleSelected").click()
        } else
            $(".mCenterTitle").off("click.mCenterTitle"),
            $(".mCenter .mCenterTitleList .mCenterTitle:first-child").removeClass("mCenterTitleSelected"),
            $(".mCenter .mCenterTitleList .mCenterTitleOrder").hide();
        var t = $(this).attr("id")
          , i = $(".mCenter .mCenterRight ." + t + "Panel");
        i.show(),
        i.siblings().hide(),
        a && o ? ($(this).addClass("selected"),
        $(this).find("span").addClass("g_selected" + n),
        $(this).siblings().removeClass("selected"),
        $(this).siblings().find("span").removeClass("g_selected" + n)) : ($(this).addClass("selected"),
        $(this).find("span").addClass("g_selected"),
        $(this).siblings().removeClass("selected"),
        $(this).siblings().find("span").removeClass("g_selected"))
    }),
    Fai.getUrlParam(Fai.top.location.search, "item")) {
    case "memberOrder":
        $("#memberOrder")[0].click();
        break;
    case "memberIntegral":
        if (0 < $("#memberIntegral").length) {
            $("#memberIntegral")[0].click();
            break
        }
    case "memberInfo":
        $("#addrMsg").click();
        break;
    case "memberCoupon":
        $("#memberCoupon").click();
        break;
    case "memberCollection":
        $("#memberCollection").click();
        break;
    default:
        $("#memberProfile")[0].click()
    }
    Site.initContentSplitLine(e, t),
    Fai.top.Site.actionForUECallback({
        id: e
    })
}
,
Site.memberCenterNewStyleSmallWidth = function(e, t) {
    var i = $("#module" + e)
      , a = i.width()
      , o = !0;
    i.find(".memberOrderNewPanel .J-mallOrder .itemList").hasClass("newRefundStyle") && (o = !1),
    t && a < 1200 && o && (i.find(".J-mCenterR").css("padding-left", "15px"),
    i.find(".memberOrderNewPanel .J-mallOrder .itemList .g_title .itemOpt").css("padding-left", "60px"))
}
,
Site.memberCenterCompatibility = function(e) {
    if (!("placeholder"in document.createElement("input"))) {
        var t = $("#module" + e).find(".itemCtrl");
        $.each(t, function(e, t) {
            var i = $(t).find("span");
            i.css({
                "white-space": "nowrap"
            });
            var a = $(i).width()
              , o = $(i).height()
              , n = $(t).position().top + (Fai.isIE6() ? 2 : 0)
              , r = $(t).position().left;
            $(i).css({
                top: n + "px",
                left: r + "px",
                "line-height": o + "px",
                padding: "0px 0px 0px 4px",
                width: a + "px"
            });
            var s = $(t).find("input").val();
            s && 0 < s.length && $(i).hide()
        })
    }
}
,
Site.memberHeadPicInit = function(i) {
    if ("undefined" != typeof headPic) {
        headPic = $.parseJSON(headPic);
        var e = headPic.width / 100;
        $("#memberHeadPic").css({
            width: headPic.imgW / e + "px",
            height: headPic.imgH / e + "px",
            top: -headPic.top / e + "px",
            left: -headPic.left / e + "px"
        })
    }
    $(".memberHeadPic").on({
        hover: function t() {
            $(".hoverTip").toggle()
        },
        click: function a() {
            var e = "memberHeadPicEdit.jsp?id=" + i + "&headPic=" + Fai.encodeUrl($.toJSON(headPic)) + "&mCenter=1";
            Fai.popupWindow({
                title: "自定义头像",
                bannerDisplay: !1,
                frameSrcUrl: e,
                width: 650,
                height: 650,
                closeFunc: function t(e) {
                    e && (newImg = e.newImg,
                    (e.headPic.thumbId || newImg) && (headPic = e.headPic,
                    Site.showMemberHeadPic($("#memberHeadPic"), headPic, 100),
                    Site.showMemberHeadPic($("#topBarMemberPic"), headPic, 30),
                    $(".memberProfileBtn").click()))
                }
            }),
            $(".formDialog .formX_old").removeClass("formX_old").removeClass("formX").addClass("formXSite").css("margin-top", "10px"),
            $(".formDialog").addClass("formBox")
        }
    })
}
,
Site.img_sf = function(e) {
    document.body,
    document.getElementById("img_1"),
    document.getElementById("img_2"),
    document.getElementById("img_3");
    var i = document.getElementById("imgShadow3")
      , t = document.getElementById("imgShadow1")
      , a = document.getElementById("imgShadow4")
      , o = document.getElementById("imgShadow5")
      , n = document.getElementById("imgShadow2");
    350 < e.width ? (e.style.width = 350,
    $(".imgArea").css("width", "350px")) : 350 < e.height && (e.style.height = 350,
    $(".imgArea").css("height", "350px"));
    var r, s, l, d, c, p, u, m, h = e.height, f = e.width, g = Math.min(h, f), v = (document.getElementById("img_dsf"),
    coverImgHeight = "" == i.style.width ? g : $(i).width()), _ = $(".editPicArea");
    $(".imgArea").css("height", h + "px"),
    coverImgLeft = "" == i.style.width ? (f - v) / 2 : i.offsetLeft,
    coverImgTop = "" == i.style.width ? (h - coverImgHeight) / 2 : i.offsetTop,
    x(),
    $(".imgArea").css({
        top: (_.height() - h) / 2 + "px",
        left: (_.width() - f) / 2 - 10 + "px"
    });
    var S = !1;
    function b(t) {
        document.onmousemove = function(e) {
            if (S) {
                switch (e = e || window.event,
                p = {
                    x: e.clientX,
                    y: e.clientY
                },
                u = p.x - c.x,
                m = p.y - c.y,
                t) {
                case 0:
                    v = d,
                    coverImgTop = s + m,
                    coverImgLeft = l + u;
                    break;
                case 1:
                    v = d + u,
                    coverImgTop = s,
                    coverImgLeft = l;
                    break;
                case 2:
                    v = d - u,
                    coverImgTop = s,
                    coverImgLeft = l + u;
                    break;
                case 3:
                    v = d + u,
                    coverImgTop = s - u,
                    coverImgLeft = l;
                    break;
                case 4:
                    v = d - u,
                    coverImgTop = s + u,
                    coverImgLeft = l + u
                }
                x()
            }
        }
    }
    function x() {
        v < 100 ? coverImgHeight = v = 100 : v > Math.min(f, h) && (v = Math.min(f, h),
        coverImgHeight = Math.min(f, h)),
        coverImgTop < 0 ? coverImgTop = 0 : coverImgTop > h - v && (coverImgTop = h - v),
        coverImgLeft < 0 ? coverImgLeft = 0 : coverImgLeft > f - v && (coverImgLeft = f - v),
        0 <= coverImgTop && coverImgTop <= h - v && 0 <= coverImgLeft && coverImgLeft <= f - v && ($(i).css({
            width: v,
            height: v,
            top: coverImgTop,
            left: coverImgLeft
        }),
        $("#coverBox").css({
            width: v - 2,
            height: v - 2,
            top: coverImgTop,
            left: coverImgLeft
        }),
        $(t).css({
            width: f,
            height: coverImgTop,
            top: 0,
            left: 0
        }),
        $(n).css({
            width: coverImgLeft,
            height: v,
            top: coverImgTop,
            left: 0
        }),
        $(a).css({
            width: f - v - coverImgLeft,
            height: v,
            top: coverImgTop,
            left: v + coverImgLeft
        }),
        $(o).css({
            width: f,
            height: h - v - coverImgTop,
            top: v + coverImgTop,
            left: 0
        }),
        r = [v / 100, v / 50, v / 30],
        $("#img_1").css({
            width: f / r[0],
            height: h / r[0],
            top: -coverImgTop / r[0],
            left: -coverImgLeft / r[0]
        }),
        $("#img_2").css({
            width: f / r[1],
            height: h / r[1],
            top: -coverImgTop / r[1],
            left: -coverImgLeft / r[1]
        }),
        $("#img_3").css({
            width: f / r[2],
            height: h / r[2],
            top: -coverImgTop / r[2],
            left: -coverImgLeft / r[2]
        }))
    }
    $("body").on("mouseup", function() {
        S = !1
    }),
    $(".imgArea .coverBox,#layerImg").on({
        mousedown: function w(e) {
            e = e || window.event,
            s = i.offsetTop,
            l = i.offsetLeft,
            d = $(i).width(),
            c = {
                x: e.clientX,
                y: e.clientY
            },
            S = !0,
            Site.enablePopupBtn("save", !0);
            var t = e.target.id;
            b("dragBotCenter" == t || "dragRightCenter" == t || "dragRightBot" == t ? 1 : "dragLeftCenter" == t || "dragLeftBot" == t ? 2 : "dragTopCenter" == t || "dragRightTop" == t ? 3 : "dragLeftTop" == t ? 4 : 0)
        },
        mouseup: function y() {
            S = !1
        }
    })
}
,
Site.showMemberHeadPic = function(e, t, i) {
    e.attr("src", t.path);
    var a = t.width / i;
    e.css({
        width: t.imgW / a,
        height: t.imgH / a,
        top: -t.top / a,
        left: -t.left / a
    })
}
,
Site.memberImgFileUpload = function(e, t, i) {
    var a = i.split(",")
      , o = {
        file_post_name: "Filedata",
        upload_url: "/ajax/memberHeadImgUp_h.jsp",
        button_placeholder_id: t,
        file_size_limit: e + "MB",
        file_queue_limit: 1,
        button_cursor: SWFUpload.CURSOR.HAND,
        button_width: "80",
        button_height: "30",
        requeue_on_error: !1,
        post_params: {
            ctrl: "Filedata",
            app: 21
        },
        file_types: a.join(";"),
        file_dialog_complete_handler: function n(e) {
            this._allSuccess = !1,
            this.startUpload()
        },
        file_queue_error_handler: function r(e, t, i) {
            switch (t) {
            case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
                Fai.ing(LS.siteFormSubmitCheckFileSizeErr, !0);
                break;
            case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:
                Site.initPopupBox(LS.mobiFormSubmitFileUploadNotAllow, "alert", "");
                break;
            case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
                Site.initPopupBox(jm.format(LS.mobiFormSubmitFileUploadOneTimeNum, "1"), "alert", "");
                break;
            default:
                Site.initPopupBox(LS.mobiFormSubmitFileUploadReSelect, "alert", "")
            }
        },
        upload_success_handler: function s(e, t) {
            var i = jQuery.parseJSON(t);
            this._allSuccess = i.success,
            this._sysResult = i.msg,
            i.success ? onFileUploadEvent("upload", i) : ($("#imgShadow3").removeClass("loading"),
            $("#imgShadow3").children().show(),
            Fai.ing("文件" + e.name + "，" + i.msg))
        },
        upload_error_handler: function l(e, t, i) {
            -280 == t ? Fai.ing("文件取消成功", !1) : -270 == t ? Fai.ing("已经存在名称为" + e.name + "的文件。", !0) : Fai.ing("服务繁忙，文件" + e.name + "上传失败，请稍候重试。"),
            $("#imgShadow3").removeClass("loading"),
            $("#imgShadow3").children().show()
        },
        upload_complete_handler: function d(e) {
            e.filestatus == SWFUpload.FILE_STATUS.COMPLETE && this._allSuccess ? swfObj.startUpload() : e.filestatus == SWFUpload.FILE_STATUS.ERROR && (Fai.ing("服务繁忙，文件" + e.name + "上传失败，请稍候重试。"),
            $("#imgShadow3").removeClass("loading"),
            $("#imgShadow3").children().show())
        },
        upload_start_handler: function c(e) {
            Fai.enablePopupWindowBtn(0, "save", !1),
            Fai.ing("读取文件准备上传", !1)
        },
        view_progress: function p(e, t, i, a) {
            Fai.ing("正在上传" + a + "%", !1),
            $("#imgShadow3").addClass("loading"),
            $("#imgShadow3").children().hide()
        }
    };
    swfObj = SWFUploadCreator.create(o),
    onFileUploadEvent = function u(e, t) {
        if ("upload" == e) {
            var i = t.name;
            t.size,
            t.path,
            t.id,
            t.width,
            t.height;
            smallPath = t.smallPath,
            newImg = t;
            var a = new Image;
            a.src = smallPath,
            a.onload = function() {
                Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(i)), !0),
                $("#imgShadow3").removeClass("loading"),
                $("#imgShadow3").children().show(),
                $(".formBodyContent").find(".editPicArea #memberHeadPic").attr("src", smallPath),
                $(".formBodyContent").find(".viewPicArea img").attr("src", smallPath),
                $("#imgShadow3").css("width", "")
            }
            ,
            Site.enablePopupBtn("save", !0)
        }
    }
}
,
Site.memberImgFileUploadH5 = function(e, t, i, a, o, n, r) {
    var s = {
        siteFree: n,
        updateUrlViewRes: o,
        auto: !0,
        fileTypeExts: i.split(",").join(";"),
        multi: !1,
        fileSizeLimit: 1024 * e * 1024,
        fileSplitSize: 20971520,
        breakPoints: !0,
        saveInfoLocal: !1,
        showUploadedPercent: !1,
        showUploadedSize: !1,
        removeTimeout: 9999999,
        post_params: {
            app: 21,
            type: 0,
            fileUploadLimit: e,
            isSiteForm: !0
        },
        isBurst: !1,
        isDefinedButton: !0,
        buttonText: r,
        uploader: "/ajax/memberHeadImgUp_h.jsp?cmd=mobiUpload&_TOKEN=" + $("#_TOKEN").attr("value"),
        onUploadSuccess: function l(e, t) {
            var i = jQuery.parseJSON(t);
            i.success ? (onFileUploadEvent("upload", i),
            setTimeout(function() {
                Fai.ing("文件上传成功", !0)
            }, 2e3)) : ($("#imgShadow3").removeClass("loading"),
            $("#imgShadow3").children().show(),
            Fai.ing("文件:" + e.name + "，" + i.msg))
        },
        onUploadError: function d(e, t) {
            $("#progressBody_ " + e.id).remove(),
            $("#progressWrap_" + e.id).remove(),
            $("#imgShadow3").removeClass("loading"),
            $("#imgShadow3").children().show(),
            Fai.ing("网络繁忙，文件:" + e.name + "上传失败，请稍后重试")
        },
        onSelect: function c() {
            return !a || (Fai.ing("已超过资源库容量限制，请升级网站版本。"),
            !1)
        },
        onUploadStart: function p(e) {
            $("#imgShadow3").addClass("loading"),
            $("#imgShadow3").children().hide(),
            $("#progressBody_ " + e.id).remove(),
            $("#progressWrap_" + e.id).remove()
        }
    };
    $("#" + t).uploadify(s);
    onFileUploadEvent = function u(e, t) {
        if ("upload" == e) {
            var i = t.name;
            t.size,
            t.path,
            t.id,
            t.width,
            t.height;
            smallPath = t.smallPath,
            newImg = t;
            var a = new Image;
            a.src = smallPath,
            a.onload = function() {
                Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(i)), !0),
                $("#imgShadow3").removeClass("loading"),
                $("#imgShadow3").children().show(),
                $(".formBodyContent").find(".editPicArea #memberHeadPic").attr("src", smallPath),
                $(".formBodyContent").find(".viewPicArea img").attr("src", smallPath),
                $("#imgShadow3").css("width", "")
            }
            ,
            Site.enablePopupBtn("save", !0)
        }
    }
}
,
Site.initPopupBox = function(e, t, i) {
    var a = ["<div style='text-align:center;width: 100%;font-size: 12px; color:#636363;position:absolute;top:20px;'>", e, "</div>"];
    a.push("<div class='memberHeadEdit'>"),
    "confirm" == t ? (a.push("<div style='display: inline-block;width: 100%; text-align:center;position:absolute;top:50px;'>"),
    a.push("\t\t<div class='confirmBtn' style='display: inline-block;zoom: 1;*display: inline;    padding: 0 10px !important;height: 25px; text-align: center;margin: 10px 10px 10px auto;line-height:25px; border: 1px solid #0064B5;background:#49A3FF;color: #FFFFFF;font-size: 12px; border-radius: 2px;'>确 定</div>"),
    a.push("\t\t<div class='cancelBtn' style='display: inline-block;zoom: 1;*display: inline;height: 25px;padding: 0 10px !important;text-align: center;margin: 10px auto 10px 10px;height: 25px;line-height: 25px;     border: 1px solid #8F8F8F;background: #F5F5F5;color: #666666;font-size: 12px; border-radius: 2px;' >取 消</div>"),
    a.push("</div>")) : a.push("\t\t<div class='confirmBtn' style='position:absolute;top:60px;zoom: 1;height: 25px; text-align: center;line-height:25px; border: 1px solid #0064B5;background:#49A3FF;color: #FFFFFF;font-size: 12px;left:100px;padding: 0 10px !important;border-radius: 2px;'>确 定</div>"),
    a.push("</div>");
    var o = {};
    o.htmlContent = a.join(""),
    o.width = 255,
    o.height = 122;
    var n = Site.popupBox(o);
    n.find(".popupBClose").css("margin", "10px 0px auto auto"),
    n.on("click", ".confirmBtn", function() {
        n.find(".popupBClose").click(),
        i()
    }),
    n.on("click", ".cancelBtn", function() {
        n.find(".popupBClose").click()
    })
}
,
Site.enablePopupBtn = function(e, t) {
    var i = $("#" + e);
    t ? (i.removeAttr("disabled"),
    i.removeClass("saveButton-disabled"),
    i.faiButton("enable")) : (i.attr("disabled", !0),
    i.faiButton("disable"))
}
,
Site.memberAddrMsgOpera = function(O, J, R, U, H, e, W, q, z, t, V, G, Q) {
    var Z = -1
      , K = {};
    $.each(t, function(e, t) {
        null != t.parentId && "" != t.parentId && 0 !== t.parentId || (K[t.id] = t)
    }),
    site_cityUtil.initProvinces(H),
    null != Site.addrInfoListGlobal && Site.addrInfoListGlobal != [] && (R = Site.addrInfoListGlobal);
    var Y = {};
    function X(e, t, i, a, o) {
        $("#areaBox1 .street_content").remove(),
        a != undefined && o != undefined || (o = $(e).attr("cname"),
        a = $(e).attr("cid")),
        $(".J_areaHead .street").click();
        $("#areaBoxInput").attr("lastArea");
        var n = $("#areaBoxInput").attr("lastAreaType");
        t ? (null == n || "street" != n && "county" != n || $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-", $("#areaBoxInput").val().indexOf("-") + 1))),
        $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + o),
        $("#areaBoxInput").attr("lastArea", "-" + o),
        $("#areaBoxInput").attr("lastAreaType", "county"),
        $("#areaBoxInput").attr("area3", a),
        $("#areaBoxInput").attr("area4", "")) : (null != n && "" != n && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
        $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + o),
        $("#areaBoxInput").attr("lastArea", "-" + o),
        $("#areaBoxInput").attr("lastAreaType", "city"),
        $("#areaBoxInput").attr("area2", a),
        $("#areaBoxInput").attr("area3", ""));
        var r = "";
        r = l(2052 == i || 1028 == i ? site_cityUtil.getStreet(a) : site_cityUtil.getStreetEn(a));
        var s = $(r).html();
        null !== s && s !== undefined && "" !== s || $("#areaBox1").hide(),
        $("#street_box").append(r)
    }
    function ee(e) {
        var i = "";
        return i += "<div class='city_content'>",
        $.each(e, function(e, t) {
            i += 2052 == H || 1028 == H ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.simpleCityNameStr(site_cityUtil.getInfo(t.id).name) + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.simpleCityNameStrEn(site_cityUtil.getInfoEn(t.id).name) + "</div>"
        }),
        i += "</div>"
    }
    function te(e) {
        var i = "";
        return i += "<div class='county_content'>",
        $.each(e, function(e, t) {
            i += 2052 == H || 1028 == H ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function l(e) {
        var i = "";
        return i += "<div class='street_content'>",
        $.each(e, function(e, t) {
            i += 2052 == H || 1028 == H ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function ie(i) {
        var a = ""
          , o = !1;
        return $.each(t, function(e, t) {
            o || t.id == i && (a = t.name,
            o = !0)
        }),
        a
    }
    function a(i) {
        var a = [];
        return $.each(t, function(e, t) {
            t.parentId == i && a.push(t)
        }),
        a
    }
    function ae(e) {
        if (isNaN(e))
            return "";
        var t = parseInt(e)
          , i = "";
        return $.each(a(t), function(e, t) {
            i += "<div class='group_item' cid='" + t.id + "' cname='" + t.name + "'>" + t.name + "</div>"
        }),
        i
    }
    Y.addrInfoList = R,
    $(".addAddrMsgPanel, .edit").click(function() {
        var _ = ""
          , S = 0
          , b = {}
          , x = ""
          , e = "";
        if (Z = 0 == $(this).parents(".addrMsg_default").length ? $(this).parents(".addrMsg").attr("_item") : $(this).parents(".addrMsg_default").attr("_item"),
        x = $(this).hasClass("edit") ? (e = $(this).parent().parent().attr("_item"),
        _ = Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=editAddr&editItem=" + e + "&id=" + O,
        b = R[e],
        S = b.isDefault,
        "edit") : (_ = Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=addAddr&id=" + O,
        S = 0 == R.length ? 1 : 0,
        "add"),
        W) {
            var i = "<div style='width:942px; height:1px; font-size:0; background-color:#eeeeee; margin-top:15px;' />";
            i += "<div class='editAddrInfo editAddrNewInfo'>";
            for (var t = [], a = 0; a < J.length; a++) {
                var o = J[a].fieldKey
                  , n = J[a].name
                  , r = J[a].required
                  , s = J[a].type
                  , l = J[a].id
                  , d = (f = J[a].other || {}).placeholder || "";
                if (i += "<div class='addrInfoItem'>",
                "addr" != o && (i += "<div class='propItemName' title=" + n + ">" + n + "</div>",
                i += r ? "<div class='g_stress'>*</div>" : "<div class='g_stress' style='visibility: hidden;'>*</div>"),
                "addr" == o) {
                    var c = 2052 == H || 1028 == H ? "中国" : "China"
                      , p = 2052 == H || 1028 == H ? "海外" : "Oversea";
                    i += "<div class='propItemName'>" + LS.Region + "</div>",
                    i += r ? "<div class='g_stress'>*</div>" : "<div class='g_stress' style='visibility: hidden;'>*</div>",
                    i += "<div class='propItemValue'><select id='allArea' class='allArea'>",
                    i += "<option value=''>------</option>",
                    V || (i += "<option value='cn'>" + c + "</option>"),
                    G || (i += "<option value='os'>" + p + "</option>"),
                    $.each(K, function(e, t) {
                        i += "<option value='" + K[e].id + "'>" + Fai.encodeHtml(K[e].name) + "</option>"
                    }),
                    i += "</select></div>",
                    i += "<div class='propItemValue' style='display:none;'>",
                    i += "<input type='text' id='areaBoxInput' class='areaBoxInput' style='width: 295px;' placeholder='------' readOnly='true' isCn isOs isCus area1 area2 area3/>",
                    i += "<div id='areaBox1' class='areaBox1 areaBox1New' style='display:none;'>",
                    i += "<div id='province_box' class='province_box'>",
                    i += "<div class='pv_head J_areaHead'>",
                    i += "<div class='pv_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='pv_city city'>" + LS.city + "</div>",
                    i += "<div class='pv_county county'>" + LS.js_county + "</div>",
                    i += "<div class='pv_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "<div class='pv_content'>",
                    i += "<div class='spaceLine'></div>",
                    $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
                        i += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
                        i += "<div class='group_head'>" + t[0] + "</div>",
                        i += "<div class='group_content'>",
                        $.each(t[1], function(e, t) {
                            i += 2052 == H || 1028 == H ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
                        }),
                        i += "</div>",
                        i += "</div>",
                        i += "<div class='spaceLine'></div>"
                    }),
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='city_box' class='city_box' style='display:none;'>",
                    i += "<div class='city_head J_areaHead'>",
                    i += "<div class='city_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='city_city city'>" + LS.city + "</div>",
                    i += "<div class='city_county county'>" + LS.js_county + "</div>",
                    i += "<div class='city_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='county_box' class='county_box' style='display:none;'>",
                    i += "<div class='county_head J_areaHead'>",
                    i += "<div class='county_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='county_city city'>" + LS.city + "</div>",
                    i += "<div class='county_county county'>" + LS.js_county + "</div>",
                    i += "<div class='county_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='street_box' class='street_box' style='display:none;'>",
                    i += "<div class='street_head J_areaHead'>",
                    i += "<div class='street_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='street_city city'>" + LS.city + "</div>",
                    i += "<div class='street_county county'>" + LS.js_county + "</div>",
                    i += "<div class='street_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='areaBox2' class='areaBox2 areaBox2New' style='display:none;'>",
                    i += "<div id='sec_box' class='sec_box'>",
                    i += "<div class='sec_head J_areaHead2'>",
                    i += "<div class='sec_sec sec'>" + LS.firstRegion + "</div>",
                    i += "<div class='sec_thd thd'>" + LS.secRegion + "</div>",
                    i += "</div>",
                    i += "<div class='sec_content'></div>",
                    i += "</div>",
                    i += "<div id='thd_box' class='thd_box' style='display:none;'>",
                    i += "<div class='thd_head J_areaHead2'>",
                    i += "<div class='thd_sec sec'>" + LS.firstRegion + "</div>",
                    i += "<div class='thd_thd thd'>" + LS.secRegion + "</div>",
                    i += "</div>",
                    i += "<div class='thd_content'></div>",
                    i += "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div class='addrInfoItem'>",
                    i += "<div id='addrInfoStreet'>",
                    i += "<div class='propItemName'>" + LS.addrDetail + "</div><div class='g_stress' " + (r ? "" : "style='visibility: hidden;'") + " >*</div>",
                    i += "<div class='propItemValue'><input class='addrInfo_street' placeholder='" + LS.js_streetAddress + "' id='addrInfo_street' ></input></div>",
                    i += "</div>"
                } else {
                    if (8 == s || 10 == s)
                        i += "<div class='propItemValue'><input id='" + o + "'  class='propItemEdit' placeholder='" + d + "' maxLength='11' onkeypress='javascript:return Fai.isNumberKey(event)'  oninput='value=value.replace(/[^0-9]/g,\"\");if(value.length>11)value=value.slice(0,11);'></div>";
                    else if (9 == s) {
                        var u = "orderPropDateStart" + l;
                        if (f != undefined && f.dateSetting != undefined) {
                            var m = "";
                            if (v = 1 == (g = f.dateSetting).type)
                                m = "width:240px;";
                            if (i += "<div class='propItemValue'><input type='text' _placeHolder='" + "" + "' class='two-resize " + (v ? "fk-startTime" : "") + " g_itext propItemEdit' id='" + u + "' readonly style='" + m + "'/>",
                            (w = {}).id = u,
                            w.dateSetting = g,
                            t.push(w),
                            v)
                                i += "<span class=''> 至 </span>",
                                i += "<span class='fk-endTimeWrap' style='display: inline-block;position:relative;'>",
                                i += "<input type='text' class='fk-endTime g_itext propItemEdit' id='" + (y = u + "_end") + "' style='width: 240px;' readonly />",
                                i += "<span _startId = '" + u + "' id='" + y + "_mask' class='J_endTimeMask fk-endTimeMask' style='width: 200px;position: absolute;height: 42px;left: 0;'></span>",
                                i += "</span>",
                                (C = {}).id = y,
                                C.dateSetting = g,
                                t.push(C);
                            i += "</div>"
                        }
                    } else
                        i += "<div class='propItemValue'><input id='" + o + "' class='propItemEdit " + o + "' maxLength='50' placeholder='" + d + "'></div>"
                }
                i += "</div>"
            }
            i += "</div>",
            i += "<div class='saveOrCancel saveOrCancelNew'>",
            i += "<div class='save save" + (W && 0 < q ? z : "") + "' style='width:108px; height:35px;'>" + LS.confirm + "</div>",
            i += "<div class='cancel popupBClose' style='width:108px; height:33px;'>" + LS.cancel + "</div>",
            i += "</div>";
            var h = {
                boxId: parseInt(1e4 * Math.random()),
                title: Q,
                htmlContent: i,
                width: 942,
                boxName: "addrInfo"
            }
        } else {
            i = "<div style='width:130px; height:1px; font-size:0; background-color:#44a5ff; margin-left:26px; float:left;' />";
            i += "<div style='width:435px; height:1px; font-size:0; background-color:#dadada; margin-left:146px;' />",
            i += "<div class='editAddrInfo'>";
            for (t = [],
            a = 0; a < J.length; a++) {
                var f;
                o = J[a].fieldKey,
                n = J[a].name,
                r = J[a].required,
                s = J[a].type,
                l = J[a].id,
                d = (f = J[a].other || {}).placeholder || "";
                if (i += "<div class='addrInfoItem'>",
                "addr" != o && (i += "<div class='propItemName' title=" + n + "><span class='propItemNameValue'>" + n + "</span><span  class='propItemNameValueSign'> :</span></div>"),
                "addr" == o) {
                    c = 2052 == H || 1028 == H ? "中国" : "China",
                    p = 2052 == H || 1028 == H ? "海外" : "Oversea";
                    i += "<div class='propItemName'>" + LS.Region + " :</div>",
                    i += "<div class='propItemValue'><select id='allArea' class='allArea' style='width: 170px;'>",
                    i += "<option value=''>------</option>",
                    V || (i += "<option value='cn'>" + c + "</option>"),
                    G || (i += "<option value='os'>" + p + "</option>"),
                    $.each(K, function(e, t) {
                        i += "<option value='" + K[e].id + "'>" + Fai.encodeHtml(K[e].name) + "</option>"
                    }),
                    i += "</select></div>",
                    r && (i += "<div class='g_stress'>*</div>"),
                    i += "<div class='J-ssq'>",
                    i += "<br/>",
                    i += "<div class='propItemName J-ssq'><span id='ssq'>" + LS.ssq + " :</span><span id='administrativeRegion'>" + LS.administrativeRegion + " :</span></div>",
                    i += "<div class='propItemValue J-ssq'  ><input type='text' id='areaBoxInput' class='propItemEdit' style='height: 26px;border: 1px solid #e7e7e7;text-indent: 6px;-webkit-border-radius: 0;' placeholder='------' readOnly='true' isCn isOs isCus area1 area2 area3/></div>",
                    i += "</div>",
                    i += "<div id='areaBox1' class='areaBox1' style='display:none;'>",
                    i += "<div id='province_box' class='province_box'>",
                    i += "<div class='pv_head J_areaHead'>",
                    i += "<div class='pv_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='pv_city city'>" + LS.city + "</div>",
                    i += "<div class='pv_county county'>" + LS.js_county + "</div>",
                    i += "<div class='pv_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "<div class='pv_content'>",
                    i += "<div class='spaceLine'></div>",
                    $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
                        i += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
                        i += "<div class='group_head'>" + t[0] + "</div>",
                        i += "<div class='group_content'>",
                        $.each(t[1], function(e, t) {
                            i += 2052 == H || 1028 == H ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
                        }),
                        i += "</div>",
                        i += "</div>",
                        i += "<div class='spaceLine'></div>"
                    }),
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='city_box' class='city_box' style='display:none;'>",
                    i += "<div class='city_head J_areaHead'>",
                    i += "<div class='city_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='city_city city'>" + LS.city + "</div>",
                    i += "<div class='city_county county'>" + LS.js_county + "</div>",
                    i += "<div class='city_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='county_box' class='county_box' style='display:none;'>",
                    i += "<div class='county_head J_areaHead'>",
                    i += "<div class='county_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='county_city city'>" + LS.city + "</div>",
                    i += "<div class='county_county county'>" + LS.js_county + "</div>",
                    i += "<div class='county_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='street_box' class='street_box' style='display:none;'>",
                    i += "<div class='street_head J_areaHead'>",
                    i += "<div class='street_pv pv'>" + LS.js_province + "</div>",
                    i += "<div class='street_city city'>" + LS.city + "</div>",
                    i += "<div class='street_county county'>" + LS.js_county + "</div>",
                    i += "<div class='street_street street'>" + LS.street + "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "</div>",
                    i += "<div id='areaBox2' class='areaBox2' style='display:none;'>",
                    i += "<div id='sec_box' class='sec_box'>",
                    i += "<div class='sec_head J_areaHead2'>",
                    i += "<div class='sec_sec sec'>" + LS.firstRegion + "</div>",
                    i += "<div class='sec_thd thd'>" + LS.secRegion + "</div>",
                    i += "</div>",
                    i += "<div class='sec_content'></div>",
                    i += "</div>",
                    i += "<div id='thd_box' class='thd_box' style='display:none;'>",
                    i += "<div class='thd_head J_areaHead2'>",
                    i += "<div class='thd_sec sec'>" + LS.firstRegion + "</div>",
                    i += "<div class='thd_thd thd'>" + LS.secRegion + "</div>",
                    i += "</div>",
                    i += "<div class='thd_content'></div>",
                    i += "</div>",
                    i += "</div>",
                    r && (i += "<div class='g_stress J-ssq'>*</div>"),
                    i += "<br/>",
                    i += "<div id='addrInfoStreet'>",
                    i += "<div class='propItemName'>" + LS.js_streetAddress + " :</div>",
                    i += "<div class='propItemValue'><textarea id='addrInfo_street' style='height:80px;width:237px;'></textarea></div>",
                    r && (i += "<div class='g_stress'>*</div>"),
                    i += "</div>"
                } else {
                    if (8 == s || 10 == s)
                        i += "<div class='propItemValue'><input id='" + o + "'  class='propItemEdit' placeholder='" + d + "' maxLength='11' onkeypress='javascript:return Fai.isNumberKey(event)'  oninput='value=value.replace(/[^0-9]/g,\"\");if(value.length>11)value=value.slice(0,11);'></div>";
                    else if (9 == s) {
                        u = "orderPropDateStart" + l;
                        if (f != undefined && f.dateSetting != undefined) {
                            var g, v, w, y, C;
                            m = "width:200px;";
                            if (!(v = 1 == (g = f.dateSetting).type))
                                m = "width:240px;";
                            if (i += "<div class='propItemValue'><input type='text' _placeHolder='" + "" + "' class='two-resize " + (v ? "fk-startTime" : "") + " g_itext propItemEdit' id='" + u + "' readonly style='" + m + "'/>",
                            (w = {}).id = u,
                            w.dateSetting = g,
                            t.push(w),
                            v)
                                i += "<span class=''> 至 </span>",
                                i += "<span class='fk-endTimeWrap' style='display: inline-block;position:relative;'>",
                                i += "<input type='text' class='fk-endTime g_itext propItemEdit' id='" + (y = u + "_end") + "' style='width: 200px;' readonly />",
                                i += "<span _startId = '" + u + "' id='" + y + "_mask' class='J_endTimeMask fk-endTimeMask' style='width: 200px;position: absolute;height: 42px;left: 0;'></span>",
                                i += "</span>",
                                (C = {}).id = y,
                                C.dateSetting = g,
                                t.push(C);
                            i += "</div>"
                        }
                    } else
                        i += "<div class='propItemValue'><input id='" + o + "' class='propItemEdit " + o + "' placeholder='" + d + "' maxLength='50'></div>";
                    r && (i += "<div class='g_stress'>*</div>")
                }
                i += "</div>"
            }
            i += "</div>",
            i += "<div class='saveOrCancel'>",
            i += "<div class='cancel popupBClose' style='width:76px; height:35px;'>" + LS.cancel + "</div>",
            i += "<div class='save' style='width:86px; height:35px;'>" + LS.confirm + "</div>",
            i += "</div>";
            h = {
                boxId: parseInt(1e4 * Math.random()),
                title: Q,
                htmlContent: i,
                width: 610,
                boxName: "addrInfo"
            }
        }
        var F = Site.popupBox(h);
        Site.siteFormTimeBtn(t),
        (Fai.isIE6() || Fai.isIE7()) && ($(".editAddrInfo").find(".addrInfoItem").attr("style", "width:100%;"),
        $(".editAddrInfo").find(".addrInfoItem").find("#addrInfoStreet").attr("style", "width:100%;"));
        var I = 0 < $(".J-ssq").length;
        function P(e) {
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
        }
        if (I && (0 < $("#areaBoxInput").length && ($("#areaBox1,#areaBox2").css("left", $("#areaBoxInput").position().left),
        $("#areaBox1,#areaBox2").css("top", $("#areaBoxInput").position().top + $("#areaBoxInput").height())),
        $(".J-ssq").hide()),
        $(document).unbind("click.forAreaBox").bind("click.forAreaBox", function() {
            $("#areaBox1").hide(),
            $("#areaBox2").hide()
        }),
        $("#areaBox1,#areaBox2").unbind("click.forAreaBox").bind("click.forAreaBox", function(e) {
            P(e)
        }),
        $("#allArea").change(function() {
            if (null == $("#allArea").val() || "" == $("#allArea").val() || "os" == $("#allArea").val() ? I ? $(".J-ssq").hide() : $("#areaBoxInput").parent(".propItemValue").hide() : I ? $(".J-ssq").show() : $("#areaBoxInput").parent(".propItemValue").show(),
            $("#areaBox1").hide(),
            $("#areaBox2").hide(),
            null != $("#allArea").val() && "" != $("#allArea").val())
                if ($("#areaBoxInput").attr("isCn", 0),
                $("#areaBoxInput").attr("isCus", 0),
                $("#areaBoxInput").attr("isOs", 0),
                $("#areaBoxInput").attr("area1", ""),
                $("#areaBoxInput").attr("area2", ""),
                $("#areaBoxInput").attr("area3", ""),
                $("#areaBoxInput").attr("area4", ""),
                "cn" == $("#allArea").val() ? ($("#areaBoxInput").attr("isCn", 1),
                $("#areaBox1 .pv").click(),
                $("#areaBox1 .city_content").remove(),
                $("#areaBox1 .county_content").remove(),
                $("#areaBox1 .street_content").remove(),
                $("#areaBox1").show()) : "os" == $("#allArea").val() ? ($("#areaBoxInput").attr("isOs", 1),
                $("#areaBoxInput").attr("area1", 99e4),
                $("#areaBoxInput").attr("area2", 990100)) : ($("#areaBoxInput").attr("isCus", 1),
                $("#areaBoxInput").attr("area1", $("#allArea").val()),
                $("#areaBox2 .sec_content").html(""),
                $("#areaBox2 .thd_content").html(""),
                $("#areaBox2").show()),
                $("#areaBoxInput").val(""),
                "cn" == $("#allArea").val() || "os" == $("#allArea").val())
                    $("#areaBoxInput").show(),
                    $("#ssq").show(),
                    $("#administrativeRegion").hide();
                else {
                    var e = ae($("#allArea").val());
                    $("#sec_box .sec_content").append(e),
                    $("#areaBoxInput").val($("#areaBoxInput").val() + $("#allArea option[value='" + $("#allArea").val() + "']").text()),
                    $("#ssq").hide(),
                    $("#administrativeRegion").show(),
                    null !== e && e !== undefined && "" !== e || ($("#areaBox2").hide(),
                    $(".J-ssq").hide(),
                    I || $("#areaBoxInput").hide())
                }
        }),
        $("#areaBoxInput").unbind("click").bind("click", function(e) {
            "cn" == $("#allArea").val() ? ($("#areaBox1").toggle(),
            $("#areaBox2").hide(),
            $("#province_box").show(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").hide()) : null == $("#allArea").val() || "os" == $("#allArea").val() || ($("#areaBox2").toggle(),
            $("#areaBox1").hide(),
            $("#sec_box").show(),
            $("#thd_box").hide()),
            P(e)
        }),
        $(".J_areaHead .pv").click(function() {
            $("#province_box").show(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").hide()
        }),
        $(".J_areaHead .city").click(function() {
            $("#province_box").hide(),
            $("#city_box").show(),
            $("#county_box").hide(),
            $("#street_box").hide()
        }),
        $(".J_areaHead .county").click(function() {
            $("#province_box").hide(),
            $("#city_box").hide(),
            $("#street_box").hide(),
            $("#county_box").show()
        }),
        $(".J_areaHead .street").click(function() {
            $("#province_box").hide(),
            $("#city_box").hide(),
            $("#street_box").show(),
            $("#county_box").hide()
        }),
        $(".J_areaHead2 .sec").click(function() {
            $("#sec_box").show(),
            $("#thd_box").hide()
        }),
        $(".J_areaHead2 .thd").click(function() {
            $("#sec_box").hide(),
            $("#thd_box").show()
        }),
        $("#province_box .group_item").bind("click", function() {
            $("#areaBox1 .city_content").remove(),
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove();
            var e = $(this).attr("pname")
              , t = $(this).attr("pid");
            $(".J_areaHead .city").click(),
            $("#areaBoxInput").val(""),
            $("#areaBoxInput").val($("#areaBoxInput").val() + e),
            $("#areaBoxInput").removeAttr("lastArea"),
            $("#areaBoxInput").removeAttr("lastAreaType"),
            $("#areaBoxInput").attr("area1", t),
            $("#areaBoxInput").attr("area2", ""),
            $("#areaBoxInput").attr("area3", "");
            var i = "";
            i = ee(2052 == H || 1028 == H ? site_cityUtil.getCities(t) : site_cityUtil.getCitiesEn(t)),
            $("#city_box").append(i)
        }),
        $("#city_box").delegate(".group_item", "click", function() {
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove();
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = site_cityUtil.getCounty(t);
            if (0 != i.length) {
                $(".J_areaHead .county").click();
                $("#areaBoxInput").attr("lastArea");
                var a = $("#areaBoxInput").attr("lastAreaType");
                null != a && "" != a && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
                $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
                $("#areaBoxInput").attr("lastArea", "-" + e),
                $("#areaBoxInput").attr("lastAreaType", "city"),
                $("#areaBoxInput").attr("area2", t),
                $("#areaBoxInput").attr("area3", "");
                var o = "";
                o = te(2052 == H || 1028 == H ? i : site_cityUtil.getCountyEn(t));
                var n = $(o).html();
                null !== n && n !== undefined && "" !== n || $("#areaBox1").hide(),
                $("#county_box").append(o)
            } else
                X(this, !1, H, t, e)
        }),
        $("#county_box").delegate(".group_item", "click", function() {
            X(this, !0, H)
        }),
        $("#street_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#areaBoxInput").attr("lastArea")
              , a = $("#areaBoxInput").attr("lastAreaType");
            null != a && "street" == a && $("#areaBoxInput").val($("#areaBoxInput").val().replace(i, "")),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "street"),
            $("#areaBoxInput").attr("area4", t),
            $("#areaBox1").hide()
        }),
        $("#sec_box").delegate(".group_item", "click", function() {
            $("#areaBox2 .thd_content").html("");
            var e = $(this).attr("cname")
              , t = $(this).attr("cid");
            $(".J_areaHead2 .thd").click();
            $("#areaBoxInput").attr("lastArea");
            var i = $("#areaBoxInput").attr("lastAreaType");
            null != i && "" != i && -1 != $("#areaBoxInput").val().indexOf("-") && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "sec"),
            $("#areaBoxInput").attr("area2", t),
            $("#areaBoxInput").attr("area3", "");
            var a = ae(t);
            null !== a && a !== undefined && "" !== a || $("#areaBox2").hide(),
            $("#thd_box .thd_content").append(a)
        }),
        $("#thd_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#areaBoxInput").attr("lastArea")
              , a = $("#areaBoxInput").attr("lastAreaType");
            null != a && "thd" == a && $("#areaBoxInput").val($("#areaBoxInput").val().replace(i, "")),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "thd"),
            $("#areaBoxInput").attr("area3", t),
            $("#areaBox2").hide()
        }),
        $(this).hasClass("edit"))
            for (a = 0; a < J.length; a++) {
                o = J[a].fieldKey,
                s = J[a].type,
                l = J[a].id;
                var k = b[o];
                if ("addr" == o) {
                    var L = b.addr_info;
                    if (null != L)
                        if (L.isCus) {
                            var T = ie(L.countyCode)
                              , M = ie(L.cityCode)
                              , B = ie(L.provinceCode);
                            $("#allArea").val(L.provinceCode),
                            $("#allArea").change(),
                            $("#areaBoxInput").attr("lastArea", "-" + T),
                            $("#areaBoxInput").attr("lastAreaType", "thd"),
                            $("#areaBoxInput").val(B + "-" + M + "-" + T),
                            $("#areaBoxInput").attr("isCus", 1),
                            $("#areaBoxInput").attr("area1", L.provinceCode),
                            $("#areaBoxInput").attr("area2", L.cityCode),
                            $("#areaBoxInput").attr("area3", L.countyCode),
                            $("#addrInfo_street").val(L.streetAddr)
                        } else {
                            2052 == H || 1028 == H ? (site_cityUtil.getInfo(L.countyCode).name,
                            site_cityUtil.getInfo(L.cityCode).name,
                            site_cityUtil.getInfo(L.provinceCode).name,
                            site_cityUtil.getInfo(L.streetCode).name) : (site_cityUtil.getInfoEn(L.countyCode).name,
                            site_cityUtil.getInfoEn(L.cityCode).name,
                            site_cityUtil.getInfoEn(L.provinceCode).name,
                            site_cityUtil.getInfoEn(L.streetCode).name),
                            99e4 == L.provinceCode ? ($("#areaBoxInput").attr("isOs", 1),
                            $("#allArea").val("os")) : ($("#areaBoxInput").attr("isCn", 1),
                            $("#allArea").val("cn")),
                            $("#allArea").change(),
                            $("#areaBoxInput").attr("area1", L.provinceCode),
                            $("#areaBoxInput").attr("area2", L.cityCode),
                            $("#areaBoxInput").attr("area3", L.countyCode),
                            $("#areaBoxInput").attr("area4", L.streetCode),
                            $("#addrInfo_street").val(L.streetAddr),
                            setTimeout(function() {
                                $("#areaBox1 .group_item[pid='" + L.provinceCode + "']").click(),
                                setTimeout(function() {
                                    $("#areaBox1 .group_item[cid='" + L.cityCode + "']").click(),
                                    setTimeout(function() {
                                        $("#areaBox1 .group_item[cid='" + L.countyCode + "']").click(),
                                        setTimeout(function() {
                                            $("#areaBox1 .group_item[cid='" + L.streetCode + "']").click()
                                        }, 0)
                                    }, 0)
                                }, 0)
                            }, 0)
                        }
                    else
                        $("#addrInfo_street").val(b.addr)
                } else if (8 == s || 10 == s)
                    $("#mobileCt").val(b.mobileCt);
                else if (9 == s) {
                    $("#editAddrInfo").find("#" + o);
                    var A = b[o] || {}
                      , N = $(".editAddrInfo").find("#orderPropDateStart" + l);
                    if (A != undefined) {
                        var D = A.s || "";
                        if (N.val(D),
                        A.e != undefined) {
                            var j = $(".editAddrInfo").find("#orderPropDateStart" + l + "_end");
                            0 < j.length && j.val(A.e)
                        }
                    }
                    continue
                }
                null == k && (k = ""),
                $(".propItemValue").find("#" + o).val(k)
            }
        var E = {};
        F.find(".saveOrCancel .save").on("click", function() {
            for (var e = 0; e < J.length; e++) {
                var t = J[e].fieldKey
                  , i = J[e].name
                  , a = J[e].required
                  , o = J[e].type
                  , n = J[e].id;
                if ("addr" == t) {
                    var r = $("#allArea").val();
                    if (null == r || "" == r)
                        return void Fai.ing(LS.selectArea);
                    if ("os" == r) {
                        if (E.provinceCode = 99e4,
                        E.cityCode = 990100,
                        E.streetAddr = $("#addrInfo_street").val(),
                        E.isCus = !1,
                        b.addr_info = E,
                        2052 == Fai.top._lcid || 1028 == Fai.top.lcid ? b.addr = $("div[pid='990000']:eq(0)").text() + E.streetAddr : b.addr = $("div[pid='990000']:eq(0)").text() + " " + E.streetAddr,
                        a && "" == $("#addrInfo_street").val())
                            return void Fai.ing(LS.editStreetAddr, 1);
                        continue
                    }
                    E.isCus = "cn" != r;
                    var s = $("#areaBoxInput").attr("area4")
                      , u = $("#areaBoxInput").attr("area3")
                      , m = $("#areaBoxInput").attr("area2")
                      , l = $("#areaBoxInput").attr("area1")
                      , d = $("#addrInfo_street");
                    if (a && (null == l || "" == l))
                        return void Fai.ing(LS.mallStlSubmitAddrErr, 1);
                    if (a && (null == m || "" == m) && !E.isCus)
                        return void Fai.ing(LS.mallStlSubmitAddrErr, 1);
                    if (a && "" == d.val())
                        return void Fai.ing(LS.editStreetAddr, 1);
                    E.provinceCode = l,
                    E.cityCode = m,
                    E.countyCode = u,
                    E.streetCode = s,
                    E.streetAddr = d.val(),
                    b.addr_info = E,
                    2052 == Fai.top._lcid || 1028 == Fai.top.lcid ? b.addr = $("#areaBoxInput").val().replace(/-/g, "") + d.val() : b.addr = $("#areaBoxInput").val().replace(/-/g, " ") + " " + d.val()
                } else {
                    if (tmpField = 9 == o ? $(".editAddrInfo").find("#orderPropDateStart" + n) : $(".editAddrInfo").find("#" + t),
                    0 == tmpField.length)
                        continue;
                    var c = tmpField.val();
                    if (a && 0 == c.length)
                        return void Fai.ing(Fai.format(LS.addrInfoInputError, i), 1);
                    if ((8 == o || 10 == o) && (b.mobileCt = $(".editAddrInfo").find("#mobileCt").val(),
                    !Fai.isNationMobile(c) && a))
                        return Fai.ing(LS.mobileNumRegular);
                    if ((3 == o || 12 == o) && 0 < c.length && !Fai.isEmail(c))
                        return Fai.ing(Fai.format(LS.addrInfoInputError, i), 1);
                    if (11 == o && 0 < c.length && !Fai.isCardNo(c))
                        return Fai.ing(Fai.format(LS.addrInfoInputError, i), 1);
                    if (9 == o) {
                        var p = {};
                        if (0 < c.length) {
                            p.s = c;
                            var h = $(".editAddrInfo").find("#orderPropDateStart" + n + "_end");
                            if (0 < h.length) {
                                var f = h.val();
                                if ("" == f)
                                    return Fai.ing(Fai.format(LS.addrInfoInputError, i), 1);
                                p.e = f
                            }
                        }
                        c = p
                    }
                    b[t] = c
                }
            }
            b.isDefault = S,
            "add" == x && R.push(b),
            $.ajax({
                type: "post",
                url: _,
                data: "info=" + Fai.encodeUrl($.toJSON(Y)),
                success: function g(e) {
                    if (1 == U) {
                        var t = -1 < document.location.search.search(/imme/) ? "?imme&" : "?";
                        if ("add" == x)
                            document.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "mstl.jsp" + t + "opera=add";
                        else if ("edit" == x) {
                            var a = Y.addrInfoList[Z]
                              , i = $(".addrMsg_default[_item='" + Z + "']").add(".addrMsg[_item='" + Z + "']")
                              , o = a.name
                              , n = a.mobile
                              , r = (a.zip,
                            a.addr);
                            if ("" == o || "" == n || "" == r)
                                for (var s = 0; s < J.length; s++) {
                                    var l = J[s].fieldKey
                                      , d = (J[s].name,
                                    J[s].required,
                                    J[s].type)
                                      , c = (J[s].id,
                                    a[l]);
                                    if (2 != d && 4 != d && 5 != d && 8 != d && 7 != d) {
                                        if (9 == d) {
                                            var p = c || {};
                                            p.s != undefined ? (c = p.s,
                                            p.e != undefined && (c += LS.to + p.e)) : c = ""
                                        }
                                        o == undefined || "" == o ? o = c : n == undefined || "" == n ? n = c : r != undefined && "" != r || (r = c)
                                    }
                                }
                            i.find(".name").text(o),
                            i.find(".phone").text(n),
                            i.find(".address").text(r),
                            null == a.addr_info && "" == a.addr_info || (a.addr_info.isCus ? ($("#mallShipTemplate_allArea").val(a.addr_info.provinceCode),
                            $("#mallShipTemplate_allArea").change(),
                            $("#mallShipTemplate_areaBox2 .group_item[cid='" + m + "']").click(),
                            $("#mallShipTemplate_areaBox2 .group_item[cid='" + u + "']").click()) : (99e4 == a.addr_info.provinceCode ? $("#mallShipTemplate_allArea").val("os") : $("#mallShipTemplate_allArea").val("cn"),
                            $("#mallShipTemplate_allArea").change(),
                            $("#mallShipTemplate_areaBox1 .group_item[pid='" + a.addr_info.provinceCode + "']").click(),
                            $("#mallShipTemplate_areaBox1 .group_item[cid='" + a.addr_info.cityCode + "']").click(),
                            $("#mallShipTemplate_areaBox1 .group_item[cid='" + a.addr_info.countyCode + "']").click(),
                            $("#mallShipTemplate_areaBox1 .group_item[cid='" + a.addr_info.streetCode + "']").click()),
                            $("#streetAddress").val(a.addr_info.streetAddr)),
                            $(".propList .propItemValue").each(function(e, t) {
                                var i = $(this).attr("_field");
                                $(this).find("input").val(a[i])
                            }),
                            $(".saveOrCancel .popupBClose").click()
                        } else
                            document.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "mstl.jsp" + t
                    } else
                        document.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "mCenter.jsp?item=memberInfo"
                },
                error: function v() {
                    Fai.ing(LS.js_systemError)
                }
            })
        })
    }),
    $(".delete").click(function() {
        var t = $(this).parent().parent().attr("_item")
          , e = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", LS.conCancelAddrInfo, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"]
          , i = {
            boxId: parseInt(1e4 * Math.random()),
            title: "",
            htmlContent: e.join(""),
            width: 300
        }
          , a = Site.popupBox(i)
          , o = Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/memberAdm_h.jsp?cmd=setWafCk_set&id=" + O + "&opera=delAddr";
        a.find(".J-rpt-save").on("click", function() {
            R.splice(t, 1),
            $.ajax({
                type: "post",
                url: o,
                data: "info=" + Fai.encodeUrl($.toJSON(Y)),
                error: function e() {
                    Fai.ing(LS.js_systemError, !1)
                },
                success: function a(e) {
                    var t = $.parseJSON(e);
                    if (t.success)
                        if (1 == U) {
                            var i = -1 < document.location.search.search(/imme/) ? "?imme" : "";
                            document.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "mstl.jsp" + i
                        } else
                            document.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "mCenter.jsp?item=memberInfo";
                    else
                        Fai.ing(t.msg, !0)
                }
            })
        })
    }),
    $(".makeDefault").click(function() {
        var e = $(this).parent().parent().attr("_item")
          , t = Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/memberAdm_h.jsp?cmd=setWafCk_set&id=" + O;
        for (Z in R)
            R[Z].isDefault = 0;
        R[e].isDefault = 1,
        $.ajax({
            type: "post",
            url: t,
            data: "info=" + Fai.encodeUrl($.toJSON(Y)),
            error: function i() {
                Fai.ing(LS.js_systemError, !1)
            },
            success: function a(e) {
                var t = $.parseJSON(e);
                if (t.success)
                    if (1 == U) {
                        var i = -1 < document.location.search.search(/imme/) ? "?imme" : "";
                        document.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "mstl.jsp" + i
                    } else
                        document.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "mCenter.jsp?item=memberInfo";
                else
                    Fai.ing(t.msg, !0)
            }
        })
    }),
    Fai.isIE6() && $(".addrMsg , .addrMsg_default").hover(function() {
        $(this).hasClass("isDefault") ? $(this).find(".edit").attr("style", "margin-left:85px;") : $(this).find(".edit").attr("style", "margin-left:70px;"),
        W ? $(this).find(".other").attr("style", "top:20px;") : $(this).find(".other").attr("style", "top:90px;")
    }, function() {
        W ? $(this).find(".other").attr("style", "top:-65px;") : $(this).find(".other").attr("style", "top:150px;")
    })
}
,
Site.submitInfoWhileNoAddrMsg = function(e, t) {
    var i = {}
      , a = t.addrInfoList || []
      , o = {}
      , n = 0
      , r = !1;
    0 < a.length && $.each(a, function(e, t) {
        if (1 == t.isDefault)
            return o = t,
            !1;
        n++
    });
    var s = Site.addRequestPrefix({
        newPath: "/ajax",
        oldPath: "ajax"
    }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=editAddr&editItem=" + n + "&id=" + t.id;
    0 == a.length && (r = !0,
    s = Site.addRequestPrefix({
        newPath: "/ajax",
        oldPath: "ajax"
    }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=addAddr&id=" + t.id);
    for (var l = 0; l < e.length; l++) {
        var d = e[l].fieldKey
          , c = e[l].name
          , p = e[l].type
          , u = e[l].required
          , m = e[l].id
          , h = $(".J_noAddrMsgContent").find("#orderProp" + d);
        if (9 == p && (h = $(".J_noAddrMsgContent").find("#orderPropDateStart" + m)),
        0 != h.length) {
            var f = h.val() || "";
            if (u && 0 == f.length)
                return void Fai.ing(Fai.format(LS.addrInfoInputError, c), 1);
            if ((3 == p || 12 == p) && 0 < f.length && !Fai.isEmail(f))
                return void Fai.ing(Fai.format(LS.addrInfoInputError, c), 1);
            if ((8 == p || 10 == p) && 0 < f.length && !Fai.isNationMobile(f))
                return void Fai.ing(LS.mobileNumRegular, 1);
            if (11 == p && 0 < f.length && !Fai.isCardNo(f))
                return Fai.ing(Fai.format(LS.addrInfoInputError, c), 1);
            if (9 == p) {
                var g = "";
                if (0 < f.length) {
                    var v = {};
                    v.s = f;
                    var _ = $(".J_noAddrMsgContent").find("#orderPropDateStart" + m + "_end");
                    if (0 < _.length) {
                        var S = _.val();
                        if ("" == S)
                            return Fai.ing(Fai.format(LS.addrInfoInputError, c), 1);
                        v.e = S
                    }
                    g = JSON.stringify(v)
                }
                f = g
            }
            o[d] = f
        }
    }
    r && (o.isDefault = 1,
    a.push(o)),
    i.addrInfoList = a,
    $.ajax({
        type: "post",
        url: s,
        data: "info=" + Fai.encodeUrl($.toJSON(i)),
        success: function b(e) {
            document.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "mCenter.jsp?item=memberInfo"
        },
        error: function x() {
            Fai.ing(LS.js_systemError)
        }
    })
}
,
Site.memberIntegralInit = function(e, t, i) {
    function a(e) {
        var t = e || "totalTab";
        "incomeTab" == t ? ($("#allIntegralList").hide(),
        $("#incomeIntegralList").show(),
        $("#expenseIntegralList").hide()) : "expenseTab" == t ? ($("#allIntegralList").hide(),
        $("#incomeIntegralList").hide(),
        $("#expenseIntegralList").show()) : ($("#allIntegralList").show(),
        $("#incomeIntegralList").hide(),
        $("#expenseIntegralList").hide())
    }
    $("#incomeTab").css({
        "border-top": "1px solid #eeeeee",
        "border-right": "1px solid #eeeeee"
    }),
    $("#expenseTab").css({
        "border-top": "1px solid #eeeeee",
        "border-right": "1px solid #eeeeee"
    }),
    $("#totalTab").css({
        "border-top": "1px solid #eeeeee",
        "border-left": "1px solid #eeeeee",
        "border-right": "1px solid #eeeeee"
    }),
    $("#integralTabLine").find(".integralTab").click(function() {
        $("#integralTabLine").find(".g_border").removeClass("g_title" + i),
        $(this).addClass("g_title" + (t ? i : "")),
        a($(this).attr("id")),
        $("#integralTabLine").find(".g_title").removeClass("g_title"),
        $(this).addClass("g_title")
    })
}
,
Site.FitMemberProfilePanelImgSize = function() {
    if (!($(".memberProfilePanel").length <= 0)) {
        var i, a, o, e = $(".memberProfilePanel .mBulletin_content").find("img"), t = $(".mBulletin_Area"), n = t.width(), r = t.height();
        e.each(function(e, t) {
            i = $(t).attr("width"),
            a = $(t).attr("height"),
            n < i && (o = Fai.Img.calcSize(i, a, n, r, Fai.Img.MODE_SCALE_FILL),
            $(t).css({
                width: o.width,
                height: o.height
            }),
            Fai.isIE() && $(".formStyle55 .formMiddleContent").css("overflow", "hidden"))
        })
    }
}
,
Site.loadPdCollectionList = function(e, t, i, a, o) {
    this.pIdList = t,
    this.mid = e,
    this.isNewUser = i,
    this.colorStyleType = a,
    this.colorStyle = o,
    this.panel = $(".memberCollectionPanel")
}
,
function(r) {
    var a, s, n, l, d, c, p, e = Site.loadPdCollectionList.prototype, o = 12, u = [];
    function t() {
        r.post(Site.addRequestPrefix({
            newPath: "/ajax/product_h.jsp",
            oldPath: "ajax/product_h.jsp"
        }), {
            mid: a,
            cmd: "getWafNotCk_updateCollections",
            ids: r.toJSON(s)
        }, function(e) {
            e.success && (s = e.list)
        }, "json")
    }
    function m(t) {
        r.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/product_h.jsp",
            data: {
                cmd: "getWafNotCk_batchGetPd",
                ids: r.toJSON(t)
            },
            async: !1,
            type: "POST",
            dataType: "json",
            success: function i(e) {
                e.success && r(function() {
                    _(t, e.list)
                })
            }
        })
    }
    function h(i) {
        var a, o = !1;
        return r.each(u, function(e, t) {
            i == t.lid && (o = !0,
            a = t)
        }),
        o || (a = f(i)),
        a
    }
    function f(e) {
        var t = {
            lid: e
        };
        return r.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/productProp_h.jsp?cmd=getWafNotCk_list&lid=" + e,
            async: !1,
            type: "POST",
            dataType: "json",
            success: function o(e) {
                if (e.success) {
                    var i = !1
                      , a = !1;
                    r.each(e.list, function(e, t) {
                        "mallMarketPrice" == t.fieldKey && (a = !0),
                        "mallPrice" == t.fieldKey && (i = !0)
                    }),
                    t.showMarketPrice = a,
                    t.showPrice = i,
                    u.push(t)
                }
            }
        }),
        t
    }
    function g(e) {
        var t = !1;
        return r.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=setWafCk_setMemberCollection",
            data: "mid=" + a + "&pid=" + e + "&collection=false",
            type: "POST",
            async: !1,
            dataType: "json",
            success: function i(e) {
                e.success && (t = !0)
            }
        }),
        t
    }
    function v() {
        var e = Math.ceil(s.length / o);
        0 == c.find(".pagination").length ? c.append('<div class="pagination"><a id="upPage">' + LS.prevPager + '</a> <span id="currentPage">1</span>/<span id="totalPage">' + e + "</span> " + LS.Page + ' <a id="downPage">' + LS.nextPager + "</a></div>") : r("#totalPage").text(e),
        e > Number(r("#currentPage").text()) ? r("#downPage").addClass("g_border") : r("#downPage").removeClass("g_border"),
        "1" != r("#currentPage").text() ? r("#upPage").addClass("g_border") : r("#upPage").removeClass("g_border")
    }
    function _(e, t) {
        var a = []
          , o = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "pd.jsp";
        r.each(t, function(e, t) {
            var i = h(t.lid);
            a.push("<li>"),
            a.push('\t<div class="pdImg">'),
            a.push('\t\t<a href="' + o + "?id=" + t.id + '">'),
            a.push('\t\t\t<div class="delColl" data-id="' + t.id + '">'),
            a.push('\t\t\t\t<div class="delCollBg"></div>'),
            a.push('\t\t\t\t<div class="delCollIcon"></div>'),
            a.push("\t\t\t</div>  "),
            a.push('\t\t\t<img src="' + t.picPath + '" />'),
            t.contentLabel && a.push('<div class="fk_know_pd_label">' + t.contentLabel + "</div>"),
            a.push("\t\t</a>"),
            a.push("\t</div>  "),
            a.push('\t<div class="pdName">' + t.name + "</div>"),
            a.push('\t<div class="pdPrice">'),
            -1 != t.mallPrice && i.showPrice && a.push('\t\t<div class="mallPrice mallPrice' + (n && 0 < l ? d : "") + '">' + Fai.top.choiceCurrencyVal + " " + t.mallPrice + "</div>"),
            -1 != t.mallMarketPrice && i.showMarketPrice && a.push('\t\t<div class="mallMarketPrice">' + Fai.top.choiceCurrencyVal + " " + t.mallMarketPrice + "</div>"),
            a.push("\t</div>"),
            a.push("</li>")
        }),
        c.find(".collectionList").append(a.join(""))
    }
    function i() {
        c.on({
            hover: function e() {
                r(this).find(".delColl").show()
            },
            mouseleave: function t() {
                0 == r(this).parents(".memberCollectionNewPanel").length && r(this).find(".delColl").hide()
            }
        }, ".pdImg"),
        c.on("click", ".delColl", function() {
            var a = r(this);
            a.parents("a").attr("href", "javascript:;");
            var o = a.attr("data-id")
              , e = s.indexOf(Number(o));
            -1 < e && s.splice(e, 1);
            var t = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", LS.sureDelCollection, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"]
              , i = {
                boxId: parseInt(1e4 * Math.random()),
                title: "",
                htmlContent: t.join(""),
                width: 300
            }
              , n = Site.popupBox(i);
            n.find(".J-rpt-save").on("click", function() {
                if (g(o)) {
                    if (a.parents("li").remove(),
                    v(),
                    s.length > p) {
                        var e = s[p];
                        p += 1;
                        var t = [];
                        t.push(e),
                        m(t)
                    }
                    S(),
                    0 == s.length && (c.find(".collectionList").html("<div class='noCollIcon'></div><div class='noCollTip'>" + LS.js_notCollection + "</div>"),
                    c.find(".pagination").remove());
                    var i = !0;
                    r(".collectionList li").each(function() {
                        if (!r(this).is(":hidden"))
                            return !(i = !1)
                    }),
                    i && r("#upPage").click(),
                    n.find(".popupBClose").click()
                } else
                    Fai.ing(LS.js_systemError)
            })
        }),
        c.on("click", "#downPage", function() {
            if (r(this).hasClass("g_border")) {
                if (r("#currentPage").text(Number(r("#currentPage").text()) + 1),
                v(),
                s.length > p) {
                    var e = s.slice(p, p + o);
                    p += e.length,
                    0 < e.length && m(e)
                }
                S()
            }
        }),
        c.on("click", "#upPage", function() {
            r(this).hasClass("g_border") && (r("#currentPage").text(Number(r("#currentPage").text()) - 1),
            v(),
            S())
        })
    }
    function S() {
        var e = Number(r("#currentPage").text()) - 1;
        c.find(".collectionList").children().hide();
        for (var t = e * o, i = t; i < t + 12; i++)
            c.find(".collectionList li:eq(" + i + ")").show()
    }
    e.init = function() {
        s = this.pIdList,
        c = this.panel,
        a = this.mid,
        n = this.isNewUser,
        l = this.colorStyleType,
        d = this.colorStyle,
        t(),
        v();
        var e = s.slice(0, o);
        p = e.length,
        m(e),
        i()
    }
}(jQuery),
Site.memberProfileResetPwd = function(e) {
    var t = Fai.top.$("#module" + e)
      , i = t.find(".itemPwd");
    i.is(":visible") ? (i.hide(),
    t.find(".resetPwd").html(LS.memberProfileResetPwd)) : (i.show(),
    t.find(".resetPwd").html(LS.memberProfileCanelPwd))
}
,
Site.memberProfileSubmit = function(a, e, t) {
    var o = $("#module" + a);
    o.find(".memberProfileMsg").show();
    var n = o.find(".memberProfileMsg .msgText")
      , i = {}
      , r = !1
      , s = !0;
    if ($(".userEditItem").each(function() {
        if (userEditItemName = $(this).attr("id"),
        c = $(this).val(),
        i[userEditItemName] = c,
        "mobile" == userEditItemName && 0 < c.length)
            if ("disabled" != $(this).attr("disabled")) {
                if (!Fai.isNationMobile(c))
                    return n.html(LS.mobileNumRegular),
                    $(this).focus(),
                    s = !1;
                i.mobileCt = $(this).parent().find("#mobileCt").val(),
                r = !0
            } else
                i[userEditItemName] = ""
    }),
    s) {
        if (o.find(".itemPwd").is(":visible")) {
            if (t) {
                var l = $("#memberProfileOldPwd").val();
                if (null == l || "" == l)
                    return n.html(LS.memberProfileOldPwdEmpty),
                    void $("#memberProfileOldPwd").focus()
            }
            var d = $("#memberProfilePwd").val();
            if (null == d || "" == d)
                return n.html(LS.memberProfilePwdEmpty),
                void $("#memberProfilePwd").focus();
            if (d.length < 4)
                return n.html(LS.memberProfilePwdMinLength),
                void $("#memberProfilePwd").focus();
            if (d != $("#memberProfileRepwd").val())
                return n.html(LS.memberProfilePwdNotMatch),
                void $("#memberProfileRepwd").focus();
            i.oldPwd = $.md5(l),
            i.pwd = $.md5(d)
        }
        var c = ""
          , p = 0;
        $(".userEditItem").each(function() {
            return userEditItemID = $(this).attr("id"),
            c = $(this).val(),
            userEditItemName = $(this).attr("name"),
            userEditItemMaxLength = $(this).attr("maxlength"),
            "email" == userEditItemID && 0 < c.length && !Fai.isEmail(c) ? (n.html(Fai.format(LS.memberProfileItemCorrect, userEditItemName)),
            $(this).focus(),
            !(p = 1)) : c.length > userEditItemMaxLength ? (n.html(Fai.format(LS.memberProfileUserEditItemMaxLength, userEditItemName, userEditItemMaxLength)),
            $(this).focus(),
            !(p = 1)) : void 0
        });
        var u = o.find("#acct");
        if ("" != u.attr("disabled") && ("" == u.val() ? m = 1 : i.acct = u.val()),
        1 != p) {
            var m = 0
              , h = 0;
            if ($(".isCheckUAI").each(function() {
                return userEditItemID = $(this).attr("id"),
                c = $(this).val(),
                userEditItemName = $(this).attr("name"),
                null == c || "" == c ? ($(this).is("input") ? n.html(Fai.format(LS.memberSignupUserAddItemIsEmpty, userEditItemName)) : n.html(Fai.format(LS.site_memberSignupUserAddItemIsEmpty2, userEditItemName)),
                $(this).focus(),
                !(m = 1)) : "email" == userEditItemID && 0 < c.length && !Fai.isEmail(c) ? (n.html(Fai.format(LS.memberProfileItemCorrect, userEditItemName)),
                $(this).focus(),
                !(h = 1)) : void 0
            }),
            1 != m && 1 != h) {
                var f = o.find(".memberProfileBtn");
                f.attr("disabled", !0),
                n.html(LS.memberProfileSubmitting),
                newImg && "id"in newImg && oldImgId != newImg.id && $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "../ajax"
                    }) + "/member_h.jsp?cmd=wafNotCk_cimg",
                    data: "oldImgId=" + oldImgId + "&mid=" + e + "&newImg=" + Fai.encodeUrl($.toJSON(newImg)),
                    async: !1,
                    error: function g() {
                        Fai.ing(LS.js_systemError)
                    },
                    success: function v(e) {
                        (e = jQuery.parseJSON(e)).success && (headPic.thumbId = e.fileId)
                    }
                }),
                i.headPic = headPic,
                $.ajax({
                    type: "post",
                    async: !1,
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/member_h.jsp?cmd=setWafCk_set",
                    data: "id=" + e + "&info=" + Fai.encodeUrl($.toJSON(i)),
                    error: function g() {
                        f.removeAttr("disabled"),
                        n.html(LS.memberProfileError)
                    },
                    success: function v(e) {
                        f.removeAttr("disabled");
                        var t = jQuery.parseJSON(e);
                        if (t.success) {
                            if (n.html(LS.memberProfileOK),
                            setTimeout(function() {
                                n.html(""),
                                n.parent().hide()
                            }, 3e3),
                            t.changeAcct && (o.find(".acctOnlyOnceTip").hide(),
                            o.find(".canReset").removeClass("canReset"),
                            o.find("#acct").attr("disabled", "disabled")),
                            o.find(".itemPwd").hide(),
                            o.find(".itemPwd input").val(""),
                            o.find(".resetPwd").html(LS.memberProfileResetPwd),
                            1 == r) {
                                o.find("#mobile").attr("disabled", "disabled"),
                                o.find("#mobile").removeAttr("style");
                                var i = o.find("#mobileCt").find("option:selected").text();
                                null != i && 0 <= i.indexOf("+") && (i = i.substring(i.indexOf("+")),
                                o.find("#mobile").val(i + " " + o.find("#mobile").val())),
                                o.find("#mobileCt").remove()
                            }
                            Site.checkMemberDataIntegrity(a)
                        } else
                            -3 == t.rt ? n.html(LS.memberProfileOldPwdIncorrectError) : -6 == t.rt ? n.html(LS.memberSignupRegisterExisted) : -8 == t.rt ? n.html(LS.emailPlural) : -9 == t.rt ? n.html(LS.mobilePlural) : -10 == t.rt ? n.html(LS.memberAcctContainsIllegalChar) : 1 == t.mobileErr ? (n.html(LS.mobileNumRegular),
                            $("#mobile").focus()) : n.html(LS.memberProfileError)
                    }
                })
            }
        }
    }
}
,
Site.checkMemberDataIntegrity = function(e) {
    var t = Fai.top.$("#module" + e)
      , i = 0
      , a = 0
      , o = t.find(".allTooltip").width()
      , n = 0;
    t.find(".memberProNewfile .J_memberProfileItem").not(".itemPwd").each(function(e, t) {
        return a++,
        void 0 !== $(this).find("input").val() && 0 < $(this).find("input").val().length ? (i++,
        !0) : void 0 !== $(this).find("select").val() && "" != $(this).find("select").val() ? (i++,
        !0) : void 0
    }),
    n = i / a,
    t.find(".dataIntegrity").text(Math.floor(100 * n)),
    t.find(".realTooltip").css("width", n * o)
}
,
Site.loadCouponList = function(p) {
    function e(e) {
        this.mid = e
    }
    var n, t = e.prototype, u = 0;
    pageno = [1, 1, 1],
    pageSize = 9;
    var m = [];
    function a(t, i) {
        var e = n;
        p.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/mallCoupon_h.jsp?cmd=setWafCk_getCouponByMid",
            data: "mid=" + e.mid,
            dataType: "json",
            success: function a(e) {
                e.success && (e.receiveList && (m[0] = e.receiveList),
                e.usedList && (m[1] = e.usedList),
                e.expireList && (m[2] = e.expireList),
                r(t, i))
            },
            error: function o() {}
        })
    }
    function r(e, t) {
        var i = p(".couponList")
          , a = [];
        a.push('<div class="tabList">'),
        a.push('<div class="coupon-tab"><span class="">' + (e ? LS.myCoupon : LS.notUse) + '(<span class="couponAmount">' + m[0].length + "</span>)</span><em></em></div>"),
        a.push('<div class="coupon-tab"><span>' + (e ? LS.usedCoupon : LS.used) + '(<span class="couponAmount">' + m[1].length + "</span>)</span><em></em></div>"),
        a.push('<div class="coupon-tab"><span>' + (e ? LS.expiredCoupon : LS.js_expired) + '(<span class="couponAmount">' + m[2].length + "</span>)</span><em></em></div>"),
        a.push("</div>"),
        i.append(a.join(""));
        var o = p(".coupon-tab").eq(u)
          , n = p(".g_selected").css("background-color");
        s(o, e, t),
        o.addClass("g_selected"),
        o.find("em").css({
            "border-top-color": n
        })
    }
    function o(l, d) {
        var c = n;
        p("body").on("click", ".coupon-tab", function() {
            u != Number(p(this).index()) && s(p(this), l, d)
        }),
        p("body").on("click", ".coupon-delete", function() {
            var a = p(this).parents(".coupon").attr("data_id")
              , o = p(this).parents(".coupon-warp")
              , e = LS.delCouponWillUnavail;
            0 != u && (e = LS.confirmDelCoupon);
            var n = m[u]
              , r = n.length
              , t = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", e, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"]
              , i = {
                boxId: parseInt(1e4 * Math.random()),
                title: "",
                htmlContent: t.join(""),
                width: 300
            }
              , s = Site.popupBox(i);
            s.find(".J-rpt-save").on("click", function() {
                for (var e = 0; e < r; e++)
                    if (parseInt(a) == n[e].cdId) {
                        e;
                        break
                    }
                m[u].splice(e, 1),
                p.ajax({
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/member_h.jsp?cmd=delWafCk_delCoupon",
                    data: "mid=" + c.mid + "&cdid=" + a,
                    dataType: "json",
                    success: function t(e) {
                        e.success && (o.remove(),
                        h(u, pageno[u], l, d),
                        p(".coupon-tab").eq(u).find(".couponAmount").text(m[u].length))
                    },
                    error: function i() {}
                }),
                s.find(".popupBClose").click()
            })
        }),
        p("body").on("click", ".couponList .toUseCoupon,.couponList .toUseCouponOld", function() {
            var e = p(this).parents(".coupon").attr("couponid") || 0;
            e = parseInt(e),
            Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "pr.jsp?couponId=" + e
        })
    }
    function s(e, t, i) {
        var a = p(".g_selected").css("background-color");
        p(".coupon-tab").removeClass("g_selected"),
        p(".coupon-tab").find("em").css({
            "border-top-color": ""
        }),
        e.addClass("g_selected"),
        e.find("em").css({
            "border-top-color": a
        }),
        u = e.index(),
        p(".show-coupon-list").remove(),
        p(".couponList").append(l(t, i)),
        m[u].length > pageSize ? (p(".couponList").append("<div class='pagenation' id='pagenation" + u + "'></div>"),
        new Site.Pagenation(u,{
            pageNo: 1,
            pageSize: pageSize,
            totalSize: m[u].length
        },h)) : p(".memberCouponPanel .pagenation").remove()
    }
    function l(e, a) {
        var t = []
          , i = pageno[u];
        t = m[u].slice((i - 1) * pageSize, i * pageSize);
        var o = [];
        return o.push("<div class='show-coupon-list'>"),
        0 < t.length ? p.each(t, function(e, t) {
            0 != u && (t.bg = 7);
            var i = Fai.encodeHtml(t.couponName);
            i != undefined && 15 < i.length && (i = i.slice(0, 15).concat("...")),
            o.push("<div class='coupon-warp'>"),
            o.push("<div class='coupon coupon-new' couponId='" + t.couponId + "' data_id='" + t.cdId + "'>"),
            o.push("<div class='coupon-content-new " + (1 == u || 2 == u ? "coupon-background" : "") + " coupon-color-" + couponColorList[t.bg] + "'>"),
            o.push("<div class='couponSavePrice'><span class='priceSign'>" + Fai.top.choiceCurrencyVal + "</span><span class='couponPrice'>" + t.savePrice + "</span>"),
            o.push("<span class='couponActivity'><span class='couponName'>" + LS.Event + LS.name + "：" + i + "</span>"),
            0 == u && o.push("<div class='toUseCoupon'>" + LS.toUseCoupon + "</div>"),
            o.push("</span>"),
            o.push("</div>"),
            o.push("<div class='couponCondition'>" + LS.useCondition + "：" + t.useCondition + "</div>"),
            o.push("<div class='couponTime'>" + LS.valiteTime + "：" + t.validityStr + "</div>"),
            o.push("</div>"),
            1 == u && (2052 == a || 1028 == a ? o.push('<div class="fk-coupon-used"></div>') : o.push('<div class="fk-coupon-used-en"></div>')),
            o.push("</div>"),
            o.push("</div>")
        }) : (o.push("<div class='couponEmpty'>"),
        o.push("\t<div class='couponEmpty-img'>"),
        o.push("\t\t<div class='couponEmpty-img-container'></div>"),
        o.push("\t</div>"),
        o.push("\t<div class='couponEmpty-message'>"),
        0 == u ? o.push("\t\t<span>" + LS.noUseCoupon + "</span>") : o.push("\t\t<span>" + LS.noRelatedCoupon + "</span>"),
        o.push("\t</div>"),
        o.push("</div>")),
        o.push("</div>"),
        o.join("")
    }
    function h(e, t, i, a) {
        pageno[e] = t,
        p(".tabList").next().remove(),
        p(".tabList").after(l(i, a))
    }
    return m[0] = new Array,
    m[1] = new Array,
    m[2] = new Array,
    couponColorList = ["red", "orange", "yellow", "green", "blue", "pink", "purple", "gray"],
    t.init = function(e, t) {
        if (n = this,
        _manageMode) {
            var i = {
                id: 0,
                couponName: "示例优惠券",
                savePrice: 10,
                useCondition: "满10可用",
                couponLeaveAmount: 999,
                flag: 0,
                receiveCount: 1,
                state: !0,
                validityStr: "永久生效",
                cdId: 73,
                bg: 0,
                status: 0,
                redeemCode: "1111111"
            };
            return m[0] = [i, i, i],
            void p(".couponList").append(l(e, t))
        }
        a(e, t),
        o(e, t)
    }
    ,
    e
}(jQuery),
Site.onlyShowPhoneCode = function(e) {
    var t = $("#" + e);
    if (void 0 !== t && null != t) {
        var i = t.val();
        i = i.substring(0, i.length - 5),
        t.val(i)
    }
}
,
Site.newOrderList = function(moduleId) {
    var $module = $("#module" + moduleId);
    $module.find(".memberOrderPanel").on("click", ".pageNo, .pagePrev, .pageNext", function() {
        var pageSize = $(this).attr("_pageSize")
          , pageno = $.trim($(this).text())
          , status = $(this).attr("_status")
          , colorStyleType = $(this).attr("_colorStyleType")
          , colorStyle = $(this).attr("_colorStyle");
        if ($(this).hasClass("pagePrev") ? pageno = $(this).attr("_prepage") : $(this).hasClass("pageNext") && (pageno = $(this).attr("_nextpage")),
        !$(this).hasClass("J_pageSelect") && pageno) {
            var mallOrderStatusId = $module.find(".memberOrderNewPanel .mallOrderNewList > div:visible").attr("id");
            mallOrderStatusId = $.trim(mallOrderStatusId),
            Site.showLoading(mallOrderStatusId),
            $.ajax({
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/member_h.jsp?cmd=getWafNotCk_getNewOrderListHtml",
                data: "moduleId=" + moduleId + "&status=" + status + "&pageno=" + pageno + "&pageSize=" + pageSize + "&colorStyleType=" + colorStyleType + "&colorStyle=" + colorStyle,
                dataType: "json",
                success: function success(result) {
                    if (result.success) {
                        var newOrderListHtml = result.msg;
                        2 == status ? ($(".mallOrderWaitSettle").empty(),
                        $(".mallOrderWaitSettle").append(newOrderListHtml)) : 5 == status ? ($(".mallOrderFinSettle").empty(),
                        $(".mallOrderFinSettle").append(newOrderListHtml)) : 6 == status ? ($(".mallOrderWaitGroup").empty(),
                        $(".mallOrderWaitGroup").append(newOrderListHtml)) : 10 == status ? ($(".mallOrderFinPay").empty(),
                        $(".mallOrderFinPay").append(newOrderListHtml)) : 15 == status ? ($(".mallOrderFinShip").empty(),
                        $(".mallOrderFinShip").append(newOrderListHtml)) : 20 == status ? ($(".mallOrderFinProcess").empty(),
                        $(".mallOrderFinProcess").append(newOrderListHtml)) : 25 == status ? ($(".mallOrderAll").empty(),
                        $(".mallOrderAll").append(newOrderListHtml)) : -2 == status ? ($(".mallOrderRefund").empty(),
                        $(".mallOrderRefund").append(newOrderListHtml)) : -3 == status && ($("#mallOrderAllOld").empty(),
                        $("#mallOrderAllOld").append(newOrderListHtml));
                        var newOrderListScript = result.scripts;
                        eval(newOrderListScript)
                    } else
                        Fai.ing(result.msg, !0);
                    Site.closeLoading(mallOrderStatusId)
                },
                error: function error() {
                    Site.showLoadingAgain(mallOrderStatusId, pageno)
                }
            })
        }
    })
}
,
Site.showLoading = function(e) {
    var t = ['<div class="orderLoading" style="margin-top:50px;margin-bottom:50px;">', '<table style="width:100%;height:100%;"><tr><td align="center" valign="middle">', '<div class="ajaxLoading2"></div>', "</td></tr></table>", "</div>"];
    $("#" + e).empty().append(t.join(""))
}
,
Site.showLoadingAgain = function(e, t) {
    Site.closeLoading(e);
    var i = ['<div class="orderLoadingAgain orderLoading" style="margin-top:50px;margin-bottom:50px;text-align:center;">', '<div style="color: #1b7ad1; text-decoration: none; text-align:center; width:100%;cursor:pointer;" onclick="Site.reloadingClick(\'' + e + "'," + t + ');">加载失败，请点击重新加载</div>', "</div>"];
    $("#" + e).empty().append(i.join(""))
}
,
Site.closeLoading = function(e) {
    $("#" + e).find(".orderLoading").remove()
}
,
Site.reloadingClick = function(e, t) {
    Site.showLoading(e),
    $("#" + e).find(".pageNo").each(function() {
        $.trim($(this).text()) == t && $(this).click()
    })
}
,
Site.integralInitEvent = function(e) {
    ajaxLoadIntegralList(e, "allIntegralList", -1),
    ajaxLoadIntegralList(e, "incomeIntegralList", 0),
    ajaxLoadIntegralList(e, "expenseIntegralList", 1)
}
,
Site.memberOrderListInitEvent = function(a) {
    var o = $("#module" + a).find(".mallOrderList");
    o.on("click", ".pageNo, .pagePrev, .pageNext", function() {
        var e = $(this).attr("_pageSize")
          , t = $.trim($(this).text());
        $(this).hasClass("pagePrev") ? t = $(this).attr("_prepage") : $(this).hasClass("pageNext") && (t = $(this).attr("_nextpage")),
        !$(this).hasClass("J_pageSelect") && t && $.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=getWafNotCk_getMemberOrderListHtml",
            data: "moduleId=" + a + "&pageno=" + t + "&pageSize=" + e,
            dataType: "json",
            type: "post",
            success: function i(e) {
                e.success ? (o.empty(),
                o.prepend(e.orderListHtml),
                Site.initModuleItemCover("#module" + a + " .itemLine", e.contentSplitLine),
                Site.fixSiteWidth(Fai.top._manageMode),
                Site.fixWebFooterHeight()) : Fai.ing(e.msg, !0)
            }
        })
    })
}
,
Site.changeBindAcct = function(e, t) {
    Site.logDog(200199, 3);
    var i = $("#module" + e);
    i.find(".memberBindMsg").show();
    var a = i.find(".memberBindMsg .msgText")
      , o = "cmd=setWafCk_bindOtherAcct"
      , n = {}
      , r = $("#bindAcct").val()
      , s = $("#bindPassword").val()
      , l = $.cookie("isOtherLogin");
    return null == r || "" == r ? (a.html(LS.memberSignupRegisterAcctEmpty),
    void $("#bindAcct").focus()) : null == s || "" == s ? (a.html(LS.memberSignupRegisterPwdEmpty),
    void $("#bindPassword").focus()) : (s = $.md5(s),
    n.acct = r,
    n.pwd = s,
    void $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/member_h.jsp?" + o,
        data: "info=" + Fai.encodeUrl($.toJSON(n)) + "&mid=" + t + "&loginType=" + l,
        error: function d() {},
        success: function c(e) {
            var t = jQuery.parseJSON(e);
            t.success ? t.fromBind ? Site.memberInactiveDialog(t.mail, t.memName) : t.active ? Site.memberActiveDialog(n.email, Fai.encodeUrl(n.acct), function() {
                Fai.top.location.href = url,
                Fai.top.event.returnValue = !1
            }) : document.location.reload() : "该帐号已绑定到其他帐号" == t.msg ? a.html(LS.hasBindOtherAcct) : -601 == t.rt ? a.html(LS.reGetMobileCode) : -8 == t.rt ? a.html(LS.mobileHasSigned) : -6 == t.rt ? a.html(LS.memberSignupRegisterExisted) : -4 == t.rt ? a.html(LS.memberSignupRegisterLimit) : -3 == t.rt ? "密码不正确" == t.msg ? a.html(LS.memberPwdError) : a.html(LS.memberDialogNotFound) : 1 == t.rt ? a.html(LS.memberOtherLgnAcctAlreadyBind) : a.html(LS.memberSignupRegisterError)
        }
    }))
}
;
var commonObj = {
    flag: !0
};
function initFormList() {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/siteForm_h.jsp?cmd=getWafNotCk_getSubmitList&needFormStatus=true",
        success: function i(e) {
            var t = $.parseJSON(e);
            t.pageParam && (commonObj.showStatusCol = t.showStatusCol,
            commonObj.showTabForm = t.pageParam.showTabForm,
            commonObj.showTabForm || $("#memberMineForms").hide(),
            0 == t.pageParam.siteFormSubmitList.length && commonObj.showTabForm ? $(".form_table .member_no_list").show() : (commonObj.showTabForm && (_Global.memberPageNo = 1,
            _Global.memberMaxPageNo = Math.ceil(t.pageParam.siteFormSubmitList.length / 10),
            renderFormList(t),
            commonObj.showStatusCol || $(".memberMineFormsPanel").addClass("none_status")),
            initFormEvent()))
        },
        error: function e() {
            Fai.ing("系统错误，请稍后再试")
        }
    })
}
function initFormEvent() {
    $(".form_list .form_list_right").click(function a(p) {
        if (Site.logDog(201296, 9),
        commonObj.flag) {
            commonObj.flag = !1;
            var e = $(p.target).attr("data-id")
              , u = $(p.target).attr("data-remark")
              , t = "true" == $("#memberMineForms").attr("data-allowremark") && "true" == u ? "&haveRead=true" : "";
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/siteForm_h.jsp?cmd=setWafCk_changeReadStatus",
                data: "&id=" + e + "&callBackData=" + !0 + t,
                success: function m(e) {
                    var t = $.parseJSON(e);
                    if (t.success) {
                        var i = !!t.siteFormInfo && t.siteFormInfo
                          , a = !!t.submitInfo && t.submitInfo
                          , o = []
                          , n = i.showFormStatus
                          , r = a.formStatusName
                          , s = {
                            openOnlinePay: t.siteFormInfo.openOnlinePay,
                            payTxt: t.siteFormInfo.payTxt,
                            payStatus: t.submitInfo.payStatus,
                            price: t.submitInfo.price,
                            pageMode: t.submitInfo.payMode
                        };
                        if (i && a) {
                            var l = a.remark
                              , d = i.contentList ? i.contentList : []
                              , c = a.submitContentList ? a.submitContentList : [];
                            d.length && c.length && d.forEach(function(i, e) {
                                var t = c.some(function(e, t) {
                                    return i.id == e.id
                                })
                                  , a = c.find(function(e, t) {
                                    return i.id == e.id
                                });
                                !t && 5 != i.type || (5 != i.type ? o.push({
                                    id: i.id,
                                    key: i.name,
                                    value: a.val
                                }) : (o.push({
                                    id: i.id,
                                    key: "主标题",
                                    value: i.headline
                                }),
                                o.push({
                                    id: i.id,
                                    key: "副标题",
                                    value: i.input
                                })))
                            })
                        }
                        renderFormDetail(o, u, l, n, r, s),
                        $(p.target).find(".item_red_tips").hide(),
                        hideTabRedTip()
                    }
                },
                error: function i() {
                    Fai.ing("系统错误，请稍后再试")
                }
            })
        }
    })
}
function renderFormList(e) {
    var l = $(".mineFormTab .form_table");
    l.find(".form_list").remove();
    var d = !1
      , c = [];
    e.pageParam.siteFormSubmitList.forEach(function(e, t) {
        if (d || e.haveRead || !e.showRemark || (d = !0),
        !(10 <= t)) {
            e.showRemark && !e.haveRead && c.push(t);
            var i = new Date(e.createTime)
              , a = i.getFullYear()
              , o = 9 <= i.getMonth() ? i.getMonth() + 1 : "0" + (i.getMonth() + 1)
              , n = 10 <= i.getDate() ? i.getDate() : "0" + i.getDate()
              , r = e.showFormStatus ? "<div class='form_list_status form_item'>".concat(e.formStatusName, "</div>") : "<div class='form_list_status form_item'>—</div>"
              , s = $("\n\t\t\t<div class='form_list'>\n\t\t\t\t<div class='form_list_left form_item'>".concat(a, "-").concat(o, "-").concat(n, "</div>\n\t\t\t\t<div class='form_list_center form_item'>").concat(Fai.encodeHtml(e.name), "</div>\n\t\t\t\t").concat(r, "\n\t\t\t\t<div class='form_list_right form_item' data-remark='").concat(e.showRemark, "' data-id='").concat(e.id, "'>").concat(commonObj.memberViewDetail, "<i class='item_red_tips'></i></div>\n\t\t\t</div>"));
            l.append(s)
        }
    }),
    "true" == $("#memberMineForms").attr("data-allowremark") && (c.forEach(function(e, t) {
        $($(".item_red_tips")[e]).show()
    }),
    d && $(".red_tips").show())
}
function renderFormDetail(e, t, i, a, o, n) {
    var r = {
        17: {
            payType: "微信支付",
            payIcon: "#icon_wechat_pay",
            payClass: "form_wechatPay_svg"
        },
        19: {
            payType: "支付宝",
            payIcon: "#icon_alipay",
            payClass: "form_alipay_svg"
        }
    }
      , s = r[n.pageMode] || r[17]
      , l = "";
    e.forEach(function(e, t) {
        var i = 1 < e.value.split("\n").length ? e.value.split("\n").join("<br/>") : e.value;
        l += '<div class="form_item_wrap">\n\t\t\t\t\t\t\t\t\t<div class="form_item_title">'.concat(Fai.encodeHtml(e.key), '：</div>\n\t\t\t\t\t\t\t\t\t<div class="form_item_content">').concat(Fai.encodeHtml(i), "</div>\n\t\t\t\t\t\t\t</div>")
    });
    var d = "true" == t ? '<div class="form_item_wrap">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form_item_title">'.concat(commonObj.remarkMessage, '：</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form_item_content">').concat("" == i ? "暂无备注信息" : i, "</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>") : ""
      , c = a ? '<div class="form_item_wrap">\n\t\t\t\t<div class="form_item_title">'.concat(commonObj.memberCurrentStatus, '：</div>\n\t\t\t\t<div class="form_item_status">').concat(o, "</div>\n\t\t\t</div>") : ""
      , p = n.openOnlinePay ? '\n\t\t<div class="form_item_wrap pay_wrap">\n\t\t\t<div class="form_item_title">'.concat(n.payTxt, '：</div>\n\t\t\t<div class="form_pay_price">￥').concat(n.price.toFixed(2), '</div>\n\t\t\t<div class="form_pay_text">').concat(2 == n.payStatus ? "已支付" : "未支付", '</div>\n\n\t\t\t<div class="form_item_pay_right">\n\t\t\t\t<svg class=').concat(s.payClass, "><use xlink:href=").concat(s.payIcon, '></use></svg>\n\t\t\t\t<div class="wechat_pay_text">').concat(s.payType, "</div>\n\t\t\t</div>\n\t\t</div>\n\t") : ""
      , u = '\n\t\t\t<div class="form_list_content">\n\t\t\t\t'.concat(c, "\n\t\t\t\t").concat(d, "\n\t\t\t\t").concat(l, "\n\t\t\t\t").concat(p, '\n\t\t\t</div>\n\t\t\t<button class="form_confirm">确定</button>\n\t\t');
    Site.popupBox({
        title: commonObj.memberFormDetail,
        htmlContent: u,
        width: 674,
        height: 680,
        extClass: "formDetail",
        paddingBottom: 0,
        boxId: 10001,
        closeFunc: function h() {
            commonObj.flag = !0
        }
    }),
    $(".formDetail .form_confirm").click(function() {
        commonObj.flag = !0,
        $("#popupBg10001").remove(),
        $("#popupBox10001").remove()
    });
    var m = 0;
    $(".form_item_wrap").each(function(e, t) {
        m += $(t).outerHeight(!0)
    }),
    $(".form_list_content").height() <= m && $(".formDetail .formMSG").addClass("formScroll")
}
function preventBtn() {
    1 != _Global.memberPageNo && _Global.memberPageNo != _Global.memberMaxPageNo ? ($(".pagePrev").removeClass("pagination_btn_disable"),
    $(".pageNext").removeClass("pagination_btn_disable")) : 1 == _Global.memberPageNo ? ($(".pagePrev").addClass("pagination_btn_disable"),
    $(".pageNext").removeClass("pagination_btn_disable")) : _Global.memberPageNo == _Global.memberMaxPageNo && ($(".pageNext").addClass("pagination_btn_disable"),
    $(".pagePrev").removeClass("pagination_btn_disable"))
}
function renderPageNoDom(i) {
    var e = parseInt(_Global.memberPageNo)
      , t = e + 2
      , a = "memberMineFormsPanel"
      , o = []
      , n = []
      , r = [];
    switch (i.type) {
    case "knowProducts":
        a = "memberKnowProductsPanel"
    }
    if (t + 1 >= _Global.memberMaxPageNo) {
        o.push(1);
        for (var s = e - 2; s <= e + 2; s++)
            if (!(s <= 1)) {
                if (s > _Global.memberMaxPageNo)
                    break;
                r.push(s)
            }
        r[r.length - 1] < _Global.memberMaxPageNo && r.push(_Global.memberMaxPageNo),
        r[0] != o[0] + 1 && n.push(-1)
    } else if (t <= 6) {
        r.push(_Global.memberMaxPageNo);
        for (s = 1; s <= t; s++)
            o.push(s);
        n.push(-1)
    } else {
        o.push(1),
        o.push(-1),
        r.push(-1),
        r.push(_Global.memberMaxPageNo);
        for (s = e - 2; s <= e + 2; s++)
            n.push(s)
    }
    var l = [].concat(o, n, r)
      , d = "";
    l.forEach(function(e, t) {
        d += -1 == e ? '<div class="pagination_ellipsis">...</div>' : '<div class="pagination_btn pagination_number_1" data-page="'.concat(e, '">\n\t\t\t\t\t\t\t\t<a class="js_pagination" href="javascript:;" onclick="Site.ajaxFormClick(event, ').concat(i, ');">\n\t\t\t\t\t\t\t\t\t<span>').concat(e, "</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>")
    }),
    $(".".concat(a, " .pagination_number_1")).remove(),
    $(".".concat(a, " .pagination_ellipsis")).remove(),
    $(".".concat(a, " .pagePrev")).after($(d))
}
function hideTabRedTip() {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/siteForm_h.jsp?cmd=getWafNotCk_getSubmitList",
        success: function o(e) {
            var t = $.parseJSON(e);
            if (t.pageParam) {
                var i = !0;
                if (0 < t.pageParam.siteFormSubmitList.length) {
                    for (var a = 0; a < t.pageParam.siteFormSubmitList.length && (!(30 <= a) && i); a++)
                        i = 0 != t.pageParam.siteFormSubmitList[a].haveRead || !t.pageParam.siteFormSubmitList[a].showRemark;
                    i && $(".red_tips").hide()
                }
            }
        },
        error: function e() {
            Fai.ing("系统错误，请稍后再试")
        }
    })
}
function uniqueNslArray(e) {
    var t = []
      , i = 0
      , a = e.length;
    for (i = 0; i < a; i++)
        -1 != e.indexOf(e[i]) && t.push(e[i]);
    return t
}
function NewSearchMenu(e, t, i) {
    this.id = e,
    this.openMenuList = t,
    this.noSearchList = i
}
function changeSearchBorderStyle(e) {
    var t = "solid";
    return 2 == e ? t = "dashed" : 1 == e && (t = "dotted"),
    t
}
function fixSelectMenuStyle(e, t, i) {
    var a = $("#module" + i).find(".fk-openSearchMenu")
      , o = a.find(".fk-newSearchSelect")
      , n = 2 == e ? a : o;
    t ? n.css({
        borderTopLeftRadius: "5px",
        borderBottomLeftRadius: "5px"
    }) : n.css({
        borderTopLeftRadius: "40px",
        borderBottomLeftRadius: "40px"
    })
}
function NewDynamicSearchBox(e, t, i) {
    this.id = e,
    this.color = t,
    this._usethemecolor = i
}
function RgbatoRgb(e) {
    if (!e)
        return "";
    if (/#/g.test(e))
        return e;
    var t = e.split("(")[1].split(")")[0].split(",");
    return "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")"
}
Site.initFormDetail = function(e) {
    commonObj.memberFormDetail = e.memberFormDetail,
    commonObj.memberCurrentStatus = e.memberCurrentStatus,
    commonObj.remarkMessage = e.remarkMessage,
    commonObj.memberViewDetail = e.memberViewDetail,
    _manageMode ? $(".form_table .member_no_list").show() : initFormList()
}
,
Site.ajaxFormClick = function(e) {
    var t = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : {}
      , i = t.type
      , a = "memberMineFormsPanel"
      , o = ""
      , n = "";
    switch (e.preventDefault(),
    i) {
    case "knowProducts":
        a = "memberKnowProductsPanel"
    }
    if ($(e.target).hasClass("pagination_comfirm"))
        _Global.memberPageNo = $(".pagination_jump .pagination_input").val();
    else if ($(e.target).parent().hasClass("pagePrev") || $(e.target).parent().parent().hasClass("pagePrev")) {
        var r = parseInt(_Global.memberPageNo) - 1;
        if (1 == _Global.memberPageNo)
            return;
        _Global.memberPageNo = r
    } else if ($(e.target).parent().hasClass("pageNext") || $(e.target).parent().parent().hasClass("pageNext")) {
        var s = parseInt(_Global.memberPageNo) + 1;
        if (_Global.memberPageNo == _Global.memberMaxPageNo)
            return;
        _Global.memberPageNo = s
    } else {
        var l = "pagination_font_theme"
          , d = "";
        $(e.target).hasClass("js_pagination") ? (d = $(e.target).find("span"),
        _Global.memberPageNo = d.text()) : $(e.target).parent().hasClass("js_pagination") && (d = $(e.target),
        _Global.memberPageNo = d.text()),
        $(".".concat(a)).find(".".concat(l)).removeClass(l),
        d.addClass(l)
    }
    if (5 <= _Global.memberMaxPageNo && renderPageNoDom(t),
    preventBtn(),
    "" != _Global.memberPageNo) {
        switch (i) {
        case "knowProducts":
            o = Site.genAjaxUrl("product_h.jsp") + "?cmd=getWafNotCk_getKnowProductOrderList4member",
            o += "&pageNo=" + _Global.memberPageNo + "&pageSize=10";
            break;
        default:
            o = Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/siteForm_h.jsp?cmd=getWafNotCk_getSubmitList",
            n = "&pageNo=" + _Global.memberPageNo + "&pageSize=10"
        }
        $.ajax({
            type: "post",
            url: o,
            data: n,
            success: function c(e) {
                var t = $.parseJSON(e);
                switch (i) {
                case "knowProducts":
                    t.success && Site.renderKnowDom(t.list);
                    break;
                default:
                    if (!t.pageParam)
                        return;
                    renderFormList(t),
                    initFormEvent()
                }
            },
            error: function p() {
                Fai.ing("系统错误，请稍后再试")
            }
        })
    }
}
,
function(S) {
    function e(e) {
        S.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax/product_h.jsp",
                oldPath: Site.genAjaxUrl("product_h.jsp")
            }) + "?cmd=getWafNotCk_getKnowProductOrderList4member",
            error: function t() {
                Fai.ing("系统错误！", !1)
            },
            success: function a(e) {
                var t = jQuery.parseJSON(e)
                  , i = t.list
                  , a = t.success;
                a && (S("#memberKnowProducts").show(),
                o(i),
                i.length < 1 && S(".form_table .no_know_pd_list").show())
            }
        })
    }
    function o(e) {
        var _ = S(".minePayKnowTab .form_table");
        _.find(".form_list").remove(),
        S.each(e, function(e, t) {
            var i = t.picPath
              , a = t.productName
              , o = (t.productId,
            t.payTime)
              , n = t.jumpUrl
              , r = t.payContentType
              , s = t.pdReqArgs
              , l = new Date(o)
              , d = l.getFullYear()
              , c = 9 <= l.getMonth() ? l.getMonth() + 1 : "0" + (l.getMonth() + 1)
              , p = 10 <= l.getDate() ? l.getDate() : "0" + l.getDate()
              , u = "视频";
            switch (r) {
            case 0:
                u = "视频";
                break;
            case 1:
                u = "图文";
                break;
            case 2:
                u = "专栏";
                break;
            case 3:
                u = "音频"
            }
            var m = JZ.createUrlArgsOnclickStr(s)
              , h = Fai.top._useFullUrl ? n : "/" + n
              , f = ""
              , g = "";
            a ? (f = '<div class="know_pic_wrap"><img src=\''.concat(i, "'><div class='fk_know_pd_label'>").concat(u, '</div></div>\n\t\t\t\t<div class="know_name_wrap"><span class="know_name">').concat(a, "</span></div>"),
            g = "<a href='".concat(h, "' target='_blank' ").concat(m, ">查看详情</a>")) : (g = "<span style='cursor: Default;'>无</span>",
            f = '<div class="know_pic_wrap"><img src=\''.concat(i, '\'><div class="notAdd"><span class="notAddTip">已下架</span></div></div>'));
            var v = S("\n\t\t\t\t<div class='form_list'>\n\t\t\t\t\t<div class='form_list_left form_item'>\n\t\t\t\t\t\t".concat(f, "\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='form_list_center form_item'>").concat(d, "-").concat(c, "-").concat(p, "</div>\n\t\t\t\t\t<div class='form_list_right form_item' >").concat(g, "</div>\n\t\t\t\t</div>"));
            _.append(v)
        })
    }
    Site.initMemberKnowProducts = function() {
        _manageMode ? S(".form_table .no_know_pd_list").show() : e()
    }
    ,
    Site.renderKnowDom = o
}(jQuery),
Site.initModuleMemberSignup = function(e, t, i, a, o, n) {
    if (2 == t) {
        $("#module" + e).find(".formMiddle").addClass("memberSignupMiddle");
        var r = $("#module" + e).find("#memberSignupButton");
        $(r).unbind("click").bind("click", function() {
            i ? Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再注册会员。") : Site.memberSignupSubmit(e, a, t, o, n)
        }),
        Site.memberSignupCompatibility(e)
    }
}
,
Site.memberSignupCompatibility = function(e) {
    if (Fai.isIE6()) {
        var t = $("#module" + e).find(".J_memberSignupPanel");
        $(t).removeAttr("style");
        var i = $(t).width();
        (313 < i || i < 200) && (i = 313 < i ? "313px" : i < 200 ? "200px" : "auto",
        $(t).css("width", i))
    }
    if (!("placeholder"in document.createElement("input"))) {
        var a = $("#module" + e).find(".itemMiddle");
        $.each(a, function(e, t) {
            var i = $(t).find("span");
            i.css({
                "white-space": "nowrap"
            });
            var a = i.width()
              , o = i.height()
              , n = $(t).position().top + (Fai.isIE6() ? 2 : 0)
              , r = $(t).position().left;
            $(i).css({
                top: n + "px",
                left: r + "px",
                "line-height": o + "px",
                padding: "0px 0px 0px 4px",
                width: a + "px"
            });
            var s = $(t).find("input").val();
            s && 0 < s.length && $(i).hide()
        })
    }
}
,
Site.getSignMobileCode = function(i, a, e) {
    if (Fai.top._manageMode)
        Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再获取短信验证码。");
    else {
        var t = Site.checkGetMobileCodeParam(i, a, e)
          , o = $("#module" + i)
          , n = ""
          , r = ""
          , s = "";
        if ("J_memberRegisterDialogPanel" == i && (o = $("#J_memberRegisterDialogPanel")),
        1 == t.checkResult) {
            if (n = t.info.captcha,
            r = t.info.mobile,
            Fai.top._encryptType && void 0 !== r && Fai.top._faiEncryptKey && 0 < Fai.top._encryptType) {
                var l = new JSEncrypt;
                l.setPublicKey(Fai.top._faiEncryptKey),
                n = n && l.encrypt(n),
                1 == Fai.top._encryptType ? l = new JSEncrypt1 : 2 == Fai.top._encryptType ? l = new JSEncrypt2 : 3 == Fai.top._encryptType && (l = new JSEncrypt3),
                l.setPublicKey(Fai.top._faiEncryptKey),
                s = l.encrypt(r)
            }
            $(".getMobileCdBtn")[0].style.color = "#666",
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/member_h.jsp?cmd=wafNotCk_getMobileCode",
                data: "mobile=" + r + "&mobileCt=" + t.info.mobileCt + "&validateCode=" + n + "&mCode=" + s,
                error: function d() {
                    Site.showSignupMsg(a, i, "", LS.getMobileCodeErrAf, !0)
                },
                success: function c(e) {
                    var t = jQuery.parseJSON(e);
                    t.success ? (Site.showSignupMsg(a, i, "", LS.sendMobileCodeSuc, !0),
                    Site.getSignMobileCodeCountDown(i)) : (t.needCode && $(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide"),
                    Site.changeCaptchaImg(o.find("#memberSignupCaptchaImg")[0]),
                    $("#memberSignupCaptcha").val(""),
                    -401 == t.rt ? Site.showSignupMsg(a, i, "memberSignupCaptcha", LS.memberSignupRegisterCaptchaNotMatch) : -2 == t.rt ? Site.showSignupMsg(a, i, "", LS.js_argsError) : 2 == t.rt ? Site.showSignupMsg(a, i, "mobile", LS.memberDialogSendMobileCodeErr) : -4 == t.rt || 8 == t.rt ? Site.showSignupMsg(a, i, "", LS.getMobileOneMin, !0) : -8 == t.rt ? Site.showSignupMsg(a, i, "", LS.getMobileHalfHour, !0) : 3 == t.rt ? Site.showSignupMsg(a, i, "", LS.memberDialogMobileMoneyErr, !0) : 9 == t.rt ? Site.showSignupMsg(a, i, "", LS.memberDialogSendMobileCodeLimit, !0) : 101 == t.rt ? Site.showSignupMsg(a, i, "", LS.mobileSetErr, !0) : -6 == t.rt ? Site.showSignupMsg(a, i, "mobile", LS.mobileHasSigned, !0) : 23 == t.rt ? Site.showSignupMsg(a, i, "", LS.mobileNationTplErr, !0) : -301 == t.rt ? Site.showSignupMsg(a, i, "", LS.smsRanout) : -1002 == t.rt || Site.showSignupMsg(a, i, "", LS.getMobileRefresh, !0))
                }
            })
        }
    }
}
,
Site.getSignMobileCodeCountDown = function(e) {
    var t = $("#module" + e);
    "J_memberRegisterDialogPanel" == e && (t = $("#J_memberRegisterDialogPanel"));
    var i = t.find(".getMobileCdBtn")
      , a = i.attr("cTime")
      , o = 60;
    a && null != a ? (a = parseInt(a),
    o = 1800) : a = 0,
    a++,
    i.attr("cTime", a),
    i.attr("s_onclick", i.attr("onclick")),
    i.removeAttr("onclick");
    var n = setInterval(function() {
        o--,
        i.html(LS.reGetMsg + "(" + o + ")"),
        o <= 0 && (i.html(i.attr("title")),
        i.attr("onclick", i.attr("s_onclick")),
        clearInterval(n))
    }, 1e3)
}
,
Site.checkGetMobileCodeParam = function(e, t, i) {
    var a = {
        checkResult: !1,
        info: {}
    }
      , o = $("#module" + e);
    "J_memberRegisterDialogPanel" == e && (o = $("#J_memberRegisterDialogPanel"));
    var n = o.find("#mobile").val()
      , r = o.find("#memberSignupCaptcha").val();
    return Fai.isNationMobile(n) ? !i || null != r && "" != r ? (a.checkResult = !0,
    (a.info.mobile = n) && null != n && "" != $.trim(n) ? a.info.mobileCt = o.find("#mobileCt").val() : a.info.mobileCt = "",
    a.info.captcha = r) : Site.showSignupMsg(t, e, "memberSignupCaptcha", LS.memberSignupRegisterCaptchaEmpty) : Site.showSignupMsg(t, e, "mobile", LS.mobileNumRegular),
    a
}
,
Site.checkSignupValid = function(e, t, i, a) {
    var o = {
        checkResult: !0,
        captcha: "",
        info: {}
    };
    if ("J_memberRegisterDialogPanel" == e)
        var n = $("#" + e);
    else
        n = $("#module" + e);
    n.find(".memberSignupMsg").show();
    n.find(".memberSignupMsg .msgText");
    var r = "";
    if (!(i || a || null != (r = $.trim($("#memberSignupAcct").val())) && "" != r))
        return Site.showSignupMsg(t, e, "memberSignupAcct", LS.memberSignupRegisterAcctEmpty),
        o.checkResult = !1,
        o;
    var s = $("#memberSignupPwd").val();
    if (null == s || "" == s.trim())
        return Site.showSignupMsg(t, e, "memberSignupPwd", LS.memberSignupRegisterPwdEmpty),
        o.checkResult = !1,
        o;
    if (s.length < 4)
        return Site.showSignupMsg(t, e, "memberSignupPwd", LS.memberSignupRegisterPwdMinLength),
        o.checkResult = !1,
        o;
    if (s != $("#memberSignupRepwd").val())
        return Site.showSignupMsg(t, e, "memberSignupRepwd", LS.memberSignupRegisterPwdNotMatch),
        o.checkResult = !1,
        o;
    var l = "";
    if (0 < $("#memberSignupRemark").length) {
        l = $("#memberSignupRemark").val();
        var d = $("#memberSignupRemark").attr("maxlength");
        if (l.length > d)
            return Site.showSignupMsg(t, e, "memberSignupRemark", Fai.format(LS.memberSignupRegisterRemarkMaxLength, d)),
            o.checkResult = !1,
            o
    }
    if (void 0 !== n.find("#messageAuthCode").attr("maxlength") && null != n.find("#messageAuthCode").attr("maxlength")) {
        var c = n.find("#messageAuthCode").val();
        if (void 0 === c || null == c || "" == c)
            return Site.showSignupMsg(t, e, "messageAuthCode", LS.inputMobileCode),
            o.checkResult = !1,
            o;
        o.info.messageAuthCode = c
    }
    o.info.acct = r,
    o.info.pwd = $.md5(s),
    o.info.remark = l,
    o.info.signUpbyMobile = i,
    o.info.signUpbyMail = a;
    var p = ""
      , u = ""
      , m = 0
      , h = ""
      , f = 0;
    if ($(".userAddItem").each(function() {
        if (userAddItemID = $(this).attr("id"),
        u = $(this).val(),
        p = $(this).attr("name"),
        h = $(this).attr("maxlength"),
        (o.info[userAddItemID] = u).length > h)
            return Site.showSignupMsg(t, e, userAddItemID, Fai.format(LS.site_memberSignupUserAddItemMaxLength, p, h)),
            m = 1,
            o.checkResult = !1,
            o;
        if ("email" == userAddItemID && 0 < u.length && !Fai.isEmail(u))
            return Site.showSignupMsg(t, e, userAddItemID, Fai.format(LS.memberSignupUserAddItemCorrect, p)),
            f = 1,
            o.checkResult = !1,
            o;
        if ("mobile" == userAddItemID && 0 < u.length) {
            if (!Fai.isNationMobile(u))
                return Site.showSignupMsg(t, e, userAddItemID, LS.mobileNumRegular),
                f = 1,
                o.checkResult = !1,
                o;
            o.info.mobileCt = $("#mobileCt").val()
        }
    }),
    1 == f)
        return o.checkResult = !1,
        o;
    if (1 == m)
        return o.checkResult = !1,
        o;
    var g = 0;
    if ($(".isCheckUAI").each(function() {
        return userAddItemID = $(this).attr("id"),
        u = $(this).val(),
        p = $(this).attr("name"),
        null == u || "" == u.trim() ? ($(this).is("input") ? Site.showSignupMsg(t, e, userAddItemID, Fai.format(LS.memberSignupUserAddItemIsEmpty, p)) : Site.showSignupMsg(t, e, userAddItemID, Fai.format(LS.site_memberSignupUserAddItemIsEmpty2, p)),
        !(g = 1)) : "email" == userAddItemID && 0 < u.length && !Fai.isEmail(u) ? (Site.showSignupMsg(t, e, userAddItemID, Fai.format(LS.memberSignupUserAddItemCorrect, p)),
        !(g = 1)) : void 0
    }),
    1 == g)
        return o.checkResult = !1,
        o;
    if ("none" != $(".J_memberSignupCaptcha").css("display")) {
        if (o.captcha = $("#memberSignupCaptcha").val(),
        null == o.captcha || "" == o.captcha || "undefined" == typeof o.captcha)
            return Site.showSignupMsg(t, e, "memberSignupCaptcha", LS.memberSignupRegisterCaptchaEmpty),
            o.checkResult = !1,
            o
    } else
        null != o.captcha && "" != o.captcha && "undefined" != typeof o.captcha || (o.captcha = "");
    var v = $("#memberAgreePro");
    return 0 < v.length && !v.prop("checked") ? (Site.showSignupMsg(t, e, "memberAgreePro", LS.memberProtocolNotAgree, !0),
    o.checkResult = !1) : o.checkResult = !0,
    o
}
,
Site.memberSignupSubmit = function(a, o, n, e, t) {
    if ("object" != _typeof2(o) && (o = new Object),
    _isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行注册。");
    else {
        var r = $("#module" + a)
          , s = (r.find("#memberSignupAcct").val(),
        r.find("#memberSignupPwd").val())
          , l = Site.checkSignupValid(a, n, e, t);
        if (l.checkResult) {
            var d = r.find(".memberSignupBtn")
              , i = r.find(".memberSignupMsg .msgText");
            d.attr("disabled", !0),
            i.html(LS.memberSignupRegisterIng),
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/member_h.jsp?cmd=addWafCk_add",
                data: "info=" + Fai.encodeUrl($.toJSON(l.info)) + "&validateCode=" + l.captcha,
                error: function c() {
                    d.removeAttr("disabled"),
                    Site.showSignupMsg(n, a, "", LS.memberSignupRegisterError, !0)
                },
                success: function p(e) {
                    var t = Fai.getUrlParam(Fai.top.location.href, "url");
                    o.skipUrl && (t = o.skipUrl);
                    var i = jQuery.parseJSON(e);
                    if (i.success)
                        i.active ? Site.memberActiveDialog(l.info.email, Fai.encodeUrl(i.acct), function() {
                            Fai.top.location.href = t ? Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?errno=12&url=" + Fai.encodeUrl(t) : Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?errno=12",
                            Fai.top.event.returnValue = !1
                        }) : (0 == i.rt && (Fai.top.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?errno=-303"),
                        setTimeout(function() {
                            t ? Site.autoLogin(i.acct, s, t) : Fai.top.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?errno=12"
                        }, 3e3));
                    else {
                        if (i.isRealDemo)
                            return void Fai.ing(i.msg, !0);
                        d.removeAttr("disabled"),
                        Site.changeCaptchaImg($("#memberSignupCaptchaImg")[0]),
                        $("#memberSignupCaptcha").val(""),
                        -601 == i.rt ? Site.showSignupMsg(n, a, "messageAuthCode", LS.reGetMobileCode) : -401 == i.rt ? (Site.showSignupMsg(n, a, "memberSignupCaptcha", LS.memberSignupRegisterCaptchaNotMatch),
                        i.needCode && $(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide")) : -8 == i.rt ? Site.showSignupMsg(n, a, "mobile", LS.mobileHasSigned) : -6 == i.rt ? Site.showSignupMsg(n, a, "memberSignupAcct", LS.memberSignupRegisterExisted) : -4 == i.rt ? Site.showSignupMsg(n, a, "", LS.memberSignupRegisterLimit, !0) : -10 == i.rt ? Site.showSignupMsg(n, a, "", LS.memberAcctContainsIllegalChar, !0) : -28 == i.rt ? Site.showSignupMsg(n, a, "", LS.memberRegisterLimit, !0) : -20 == i.rt ? Site.showSignupMsg(n, a, "", i.msg, !0) : -1001 == i.rt ? Site.showPluralPopup(n, a, t, "email", i.headImg, i.name, i.acct, s, l.info) : -1002 == i.rt ? Site.showPluralPopup(n, a, t, "mobile", i.headImg, i.name, i.acct, s, l.info) : Site.showSignupMsg(n, a, "", i.msg || LS.memberSignupRegisterError, !0),
                        i.hasFW && (Site.showSignupMsg(n, a, "", i.msg, !0),
                        r.find(".memberSignupMsg .msgItem").hide())
                    }
                }
            })
        }
    }
}
,
Site.memberSignupDialogSubmit = function(i, a, o, n, r, s, l, d, c, e, t) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行注册。");
    else {
        var p = $("#" + i)
          , u = p.find("#memberSignupAcct").val()
          , m = p.find("#memberSignupPwd").val()
          , h = Site.checkSignupValid(i, o, e, t);
        if (h.checkResult) {
            var f = p.find(".memberSignupBtn")
              , g = p.find(".memberSignupMsg .msgText");
            f.attr("disabled", !0),
            g.html(LS.memberSignupRegisterIng),
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/member_h.jsp?cmd=addWafCk_add",
                data: "info=" + Fai.encodeUrl($.toJSON(h.info)) + "&validateCode=" + h.captcha,
                error: function v() {
                    f.removeAttr("disabled"),
                    Site.showSignupMsg(o, i, "", LS.memberSignupRegisterError, !0)
                },
                success: function _(e) {
                    var t = jQuery.parseJSON(e);
                    if (t.success)
                        t.active ? Site.memberActiveDialog(h.info.email, Fai.encodeUrl(t.acct), function() {
                            Fai.top.location.href = a ? Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?errno=12&url=" + Fai.encodeUrl(a) : Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?errno=12",
                            Fai.top.event.returnValue = !1
                        }) : a ? Site.autoLoginForDialog(u, m, a, n, i, r, s, l, d, c) : Fai.top.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?errno=12";
                    else {
                        if (t.isRealDemo)
                            return void Fai.ing(t.msg, !0);
                        f.removeAttr("disabled"),
                        Site.changeCaptchaImg($("#memberSignupCaptchaImg")[0]),
                        $("#memberSignupCaptcha").val(""),
                        -601 == t.rt ? Site.showSignupMsg(o, i, "messageAuthCode", LS.reGetMobileCode) : -401 == t.rt ? (Site.showSignupMsg(o, i, "memberSignupCaptcha", LS.memberSignupRegisterCaptchaNotMatch),
                        t.needCode && $(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide")) : -8 == t.rt ? Site.showSignupMsg(o, i, "mobile", LS.mobileHasSigned) : -6 == t.rt ? Site.showSignupMsg(o, i, "memberSignupAcct", LS.memberSignupRegisterExisted) : -4 == t.rt ? Site.showSignupMsg(o, i, "", LS.memberSignupRegisterLimit, !0) : -10 == t.rt ? Site.showSignupMsg(o, i, "", LS.memberAcctContainsIllegalChar, !0) : -28 == t.rt ? Site.showSignupMsg(o, i, "", LS.memberRegisterLimit, !0) : -1001 == t.rt ? Site.showPluralPopup(o, i, a, "email", t.headImg, t.name, t.acct, m, h.info) : -1002 == t.rt ? Site.showPluralPopup(o, i, a, "mobile", t.headImg, t.name, t.acct, m, h.info) : Site.showSignupMsg(o, i, "", t.msg || LS.memberSignupRegisterError, !0),
                        t.hasFW && Site.showSignupMsg(o, i, "", t.msg, !0)
                    }
                }
            })
        }
    }
}
,
Site.showPluralPopup = function(a, o, n, e, t, i, r, s, l) {
    var d = "email" == e ? LS.mail : LS.phoneNum
      , c = "email" == e ? l.email : l.mobile
      , p = Site.addRequestPrefix({
        newPath: "/ajax",
        oldPath: "ajax"
    }) + ("email" == e ? "/member_h.jsp?cmd=setWafCk_proceedAfterMail" : "/member_h.jsp?cmd=setWafCk_proceedAfterMobile")
      , u = parseInt(1e4 * Math.random())
      , m = parseInt(1e4 * Math.random())
      , h = Fai.isNull(i) || "" == i || "null" == i ? r : i
      , f = [];
    f.push("<div style='position: relative; top: 25px; left: 180px; display: inline-block; width: 100px; height: 100px;'>"),
    f.push("\t<img src=" + t + " style='height: 100px; width: 100px; border-radius: 100%; border: 4px #f2f2f2 solid;' />"),
    f.push("</div>"),
    f.push("<div style='font-size: 16px; color: #333; margin-top: 20px;'>"),
    f.push("\t<span style='display: block; text-align: center; padding-top: 34px;'>" + h + "</span>"),
    f.push("\t<span style='display: block; text-align: center; padding-top: 24px;'>" + Fai.format(LS.alreadyHasAnAcct, d) + "<a href='javascript:;' id='pluralLogin' style='font-size: 16px; text-decoration: underline;'>" + LS.memberDialogLoginInstantly + "</a></span>"),
    f.push("</div>"),
    f.push("<input id='proceed' style='width: auto; height: 35px; font-size: 12px; margin: 0 auto; border: 1px solid #557ce1; background: #557ce1; border-radius: 2px; font-family: 微软雅黑; color: #fff; cursor: pointer; position: relative; top: 32px; display: block;' type='button' value='" + LS.proceedRegistry + "'/>");
    var g = [];
    g.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 20px auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>"),
    g.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),
    g.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>"),
    g.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>"),
    g.push("</div>"),
    g.push("</div>"),
    g.push("<div style='color:#333; font-size:16px; padding: 48px 30px 0px 30px; text-align:center;'>" + Fai.format(LS.warningBeforeProceedRegistry, c) + "</div>"),
    g.push("<div style='text-align: center; margin-bottom: 30px; margin-top: 66px;'> "),
    g.push("<input id='confirm' style='width: 100px; height: 35px; font-size: 12px; margin: 0 20px; border: 1px solid #557ce1; background: #557ce1; border-radius: 2px; font-family: 微软雅黑; color: #fff; cursor: pointer;' type='button' value='" + LS.confirm + "'/>"),
    g.push("<input id='cancel' style='width: 100px; height: 35px; font-size: 12px; margin: 0 20px; border: 1px solid #ccc; background: #fff; border-radius: 2px; font-family: 微软雅黑; color: #d2d2d2; cursor: pointer; outline:none;' type='button' value='" + LS.cancel + "'/>"),
    g.push("</div>");
    var v = {
        boxId: u,
        htmlContent: f.join(""),
        width: 470,
        height: 370,
        extClass: "",
        popupBoxZIndex: 9999
    }
      , _ = {
        boxId: m,
        htmlContent: g.join(""),
        width: 500,
        height: 370,
        extClass: "",
        popupBoxZIndex: 9999
    }
      , S = Site.popupBox(v);
    S.on("click", "#pluralLogin", function() {
        S.find(".popupBClose").click(),
        Fai.top.location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "login.jsp?errno=-307&acct=" + Fai.encodeUrl(r)
    }),
    S.on("click", "#proceed", function() {
        S.find(".popupBClose").click();
        var t = Site.popupBox(_);
        t.on("click", "#confirm", function() {
            t.find(".popupBClose").click(),
            $.ajax({
                type: "post",
                url: p,
                data: "info=" + Fai.encodeUrl($.toJSON(l)),
                error: function e() {
                    Site.showSignupMsg(a, o, "", LS.memberSignupRegisterError, !0)
                },
                success: function i(e) {
                    var t = jQuery.parseJSON(e);
                    t.success ? t.active ? Site.memberActiveDialog(l.email, Fai.encodeUrl(t.acct), function() {
                        Fai.top.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?errno=12",
                        Fai.top.event.returnValue = !1
                    }) : (0 == t.rt && (Fai.top.location.href = Site.preprocessUrl({
                        path: "",
                        oldPath: ""
                    }) + "login.jsp?errno=-303"),
                    setTimeout(function() {
                        n ? Site.autoLogin(t.acct, s, n) : Fai.top.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?errno=12"
                    }, 3e3)) : (Site.changeCaptchaImg($("#memberSignupCaptchaImg")[0]),
                    $("#memberSignupCaptcha").val(""),
                    -601 == t.rt ? Site.showSignupMsg(a, o, "messageAuthCode", LS.reGetMobileCode) : -401 == t.rt ? (Site.showSignupMsg(a, o, "memberSignupCaptcha", LS.memberSignupRegisterCaptchaNotMatch),
                    t.needCode && $(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide")) : -8 == t.rt ? Site.showSignupMsg(a, o, "mobile", LS.mobileHasSigned) : -6 == t.rt ? Site.showSignupMsg(a, o, "memberSignupAcct", LS.memberSignupRegisterExisted) : -4 == t.rt ? Site.showSignupMsg(a, o, "", LS.memberSignupRegisterLimit, !0) : -10 == t.rt ? Site.showSignupMsg(a, o, "", LS.memberAcctContainsIllegalChar, !0) : -28 == t.rt ? Site.showSignupMsg(a, o, "", LS.memberRegisterLimit, !0) : -20 == t.rt ? Site.showSignupMsg(a, o, "", t.msg, !0) : -1001 == t.rt ? Site.showPluralPopup(a, o, n, "email", t.headImg, t.name, t.acct, s, l.email) : -1002 == t.rt ? Site.showPluralPopup(a, o, n, "mobile", t.headImg, t.name, t.acct, s, l.email) : -1500 == t.rt || Site.showSignupMsg(a, o, "", LS.memberSignupRegisterError, !0),
                    t.hasFW && (Site.showSignupMsg(a, o, "", t.msg, !0),
                    module.find(".memberSignupMsg .msgItem").hide()))
                }
            })
        }),
        t.on("click", "#cancel", function() {
            t.find(".popupBClose").click()
        }),
        t.find("#cancel").hover(function() {
            t.find("#cancel").css({
                background: "#557ce1",
                "border-color": "#557ce1",
                color: "#fff"
            })
        }, function() {
            t.find("#cancel").css({
                background: "#fff",
                "border-color": "#e7e7eb",
                color: "#d2d2d2"
            })
        })
    })
}
,
Site.autoLogin = function(e, t, i) {
    t = $.md5(t),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/login_h.jsp",
        data: "cmd=wafNotCk_loginMember&acct=" + Fai.encodeUrl(e) + "&pwd=" + Fai.encodeUrl(t),
        error: function a() {
            Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "login.jsp?errno=-1&url=" + Fai.encodeUrl(i) + "&acct=" + Fai.encodeUrl(e)
        },
        success: function o(e) {
            (e = jQuery.parseJSON(e)).success ? Fai.top.location.href = i : Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "login.jsp?returnUrl=" + Fai.encodeUrl(i)
        }
    })
}
,
Site.autoLoginForDialog = function(e, t, i, a, o, n, r, s, l, d) {
    t = $.md5(t),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/login_h.jsp",
        data: "cmd=wafNotCk_loginMember&acct=" + Fai.encodeUrl(e) + "&pwd=" + Fai.encodeUrl(t),
        error: function c() {
            Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "login.jsp?errno=-1&url=" + Fai.encodeUrl(i) + "&acct=" + Fai.encodeUrl(e)
        },
        success: function p(e) {
            if ((e = jQuery.parseJSON(e)).success)
                if ($("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                "addCartItem" == s)
                    (t = {}).pid = a,
                    t.mid = n,
                    t.url = r,
                    t.opList = l,
                    t.count = d,
                    t.doWhat = "add",
                    $.cookie("isNeedAddCartItem", $.toJSON(t)),
                    Fai.top.location.reload();
                else if ("immeBuy" == s) {
                    var t;
                    (t = {}).pid = a,
                    t.mid = n,
                    t.url = r,
                    t.opList = l,
                    t.count = d,
                    t.doWhat = "buy",
                    $.cookie("isNeedAddCartItem", $.toJSON(t)),
                    Fai.top.location.reload()
                } else
                    "payKnowProduct" == s && Fai.top.location.reload();
            else
                Fai.top.location.href = Site.preprocessUrl({
                    path: "",
                    oldPath: ""
                }) + "login.jsp?returnUrl=" + Fai.encodeUrl(i)
        }
    })
}
,
Site.memberSignup = function(e) {
    var t = Fai.getUrlParam(Fai.top.location.href, "url");
    Fai.top.location.href = e ? Site.getHtmlUrl("signup") + "?url=" + Fai.encodeUrl(e) : t ? Site.getHtmlUrl("signup") + "?url=" + Fai.encodeUrl(t) : Site.getHtmlUrl("signup")
}
,
Site.showSignupMsg = function(e, t, i, a, o) {
    if ("J_memberRegisterDialogPanel" != t) {
        var n = $("#module" + t)
          , r = new Object
          , s = "";
        if (0 < i.length && (r = $(n).find("#" + i),
        s = $(r).prop("tagName").toLocaleLowerCase()),
        n.find(".memberSignupMsg .msgItem").show(),
        1 == e) {
            n.find(".memberSignupMsg").show();
            var l = n.find(".memberSignupMsg .msgText");
            return 0 < s.length && "input" == s && $(r).focus(),
            void l.html(a)
        }
        if (o)
            Fai.ing(a, !1);
        else if (2 == e) {
            var d = {
                moduleId: "module" + t,
                targetId: i,
                tipText: a
            };
            return Site.floatTip(d),
            void $(r).addClass("focusBg")
        }
    } else
        Fai.ing(a)
}
,
Site.initModuleMemberLogin = function(e, t, i, a, o) {
    "object" != _typeof2(o) && (o = new Object),
    2 == t && ($("#module" + e).find(".J_loginButton").bind("click", function() {
        if (Fai.top.isJuly3FreeUser)
            return Site.logDog(200964, 1),
            void Fai.ing("免费版暂不支持此功能");
        a ? Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。") : i ? Site.memberLogin1(e, t, o) : Site.memberLogin2(e, t, o)
    }),
    $("#module" + e).find(".J_fastLoginButton").bind("click", function() {
        a ? Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。") : Site.fastLogin(e, t, o)
    })),
    Site.memberLoginCompatibility(e)
}
,
Site.memberLoginCompatibility = function(e) {
    var t = $("#module" + e);
    if ("loginDialog" == e && (t = $("#J_memberLoginDialogPanel")),
    Fai.isIE6()) {
        var i = t.find(".J_memberLoginPanel");
        $(i).removeAttr("style");
        var a = $(i).width();
        (260 < a || a < 180) && (a = 260 < a ? "260px" : a < 180 ? "180px" : "auto",
        $(i).css("width", a))
    }
    if (!("placeholder"in document.createElement("input"))) {
        var o = t.find(".J_memberLoginItem");
        $.each(o, function(e, t) {
            var i = $(t).find("span")
              , a = $(i).width()
              , o = $(i).height()
              , n = $(t).position().top + (Fai.isIE6() ? 2 : 0)
              , r = $(t).position().left;
            $(t).hasClass("memberCaptcha") ? r += 10 : r += 25,
            $(i).css({
                top: n + "px",
                left: r + "px",
                "line-height": o + "px",
                padding: "0px 0px 0px 4px",
                width: a + "px"
            }),
            0 < $(t).find("input").val().length && $(i).hide()
        })
    }
}
,
Site.memberLogin = function(e) {
    if (!(-1 < Fai.top.location.href.indexOf("errno="))) {
        var t = Site.getHtmlUrl("login");
        "/" + Site.getHtmlUrl("login") !== Fai.top.location.pathname && "/" + Site.getHtmlUrl("signup") !== Fai.top.location.pathname ? t += "?url=" + Fai.encodeUrl(Fai.top.location.pathname + Fai.top.location.search) : t += Fai.top.location.search,
        e !== undefined && (t += "&errno=" + e),
        Fai.top.location.href = t
    }
}
,
Site.mobileFastLoginToggle = function() {
    $(".forAcctLogin").hide(),
    $(".forFastLogin").show(),
    $(".forFastLogin").css("display", "inline-block")
}
,
Site.acctLoginToggle = function() {
    $(".forAcctLogin").show(),
    $(".forFastLogin").hide(),
    $(".forAcctLogin").css("display", "inline-block")
}
,
Site.loginAcquireCode = function(t) {
    var e = $(t).find("#acquirerInput").val();
    return !(Fai.isNull(e) || !e) && (Fai.isMobile(e) ? void $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/member_h.jsp?cmd=wafNotCk_sendMobileLoginCode",
        data: "memName=" + Fai.encodeUrl(e) + "&new=true",
        error: function i() {
            Fai.ing(LS.js_systemError)
        },
        success: function a(e) {
            (e = jQuery.parseJSON(e)).success ? ($(t).find("#memCodeSign").val(e.mobileCodeSign),
            Fai.ing(LS.memberDialogSendMobileCode),
            Site.loginAcquireCodeCountdown(t, 60)) : e.argErr ? Fai.ing(LS.memberDialogSendMobileClose) : e.apiKeyNotFound ? Fai.ing(LS.memberDialogYunPianErr) : e.tplNotFound ? Fai.ing(LS.memberDialogMobileTplErr) : e.notFound ? Fai.ing(LS.memberDialogNotFound) : e.limitOne ? Fai.ing(LS.getMobileOneMin) : e.limitTwo ? Fai.ing(LS.getMobileHalfHour) : e.noMoney ? Fai.ing(LS.memberDialogMobileMoneyErr) : e.mobileErr ? Fai.ing(LS.memberDialogSendMobileCodeErr) : e.sendLimit ? Fai.ing(LS.memberDialogSendMobileCodeLimit) : e.mobileSysErr ? Fai.ing(LS.memberDialogSendMobileSysErr) : e.tplNationErr ? Fai.ing(LS.mobileNationTplErr) : e.systemErr ? Fai.ing(LS.js_systemError) : -301 == e.rt ? Fai.ing(LS.smsRanout) : Fai.ing(LS.js_argsError)
        }
    }) : (Fai.ing(LS.mobileNumRegular),
    !1))
}
,
Site.loginAcquireCodeCountdown = function(e, t) {
    $(e).find("#acquireCode").attr("onclick", "");
    var i = setInterval(function() {
        $(e).find("#acquireCode").attr("onclick", ""),
        $(e).find("#acquireCode").text(Fai.format(LS.reacquireMemCode, t)),
        t < 0 && (clearInterval(i),
        $(e).find("#acquireCode").text(LS.memberDialogAcquireCode),
        $(e).find("#acquireCode").attr("onclick", 'Site.loginAcquireCode("' + e + '");return false;')),
        t--
    }, 1e3)
}
,
Site.fastLogin = function(d, c, p) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else if ("object" != _typeof2(p) && (p = new Object),
    !Site.mbLogining) {
        Site.mbLogining = !0;
        var u = Fai.getUrlParam(Fai.top.location.href, "url");
        u && !loginMemberSucJumpUrlIllegality || (u = "./index.jsp");
        var n = $("#module" + d)
          , e = n.find("#acquirerInput").val()
          , t = n.find("#memCodeInput").val()
          , i = "none" != n.find(".memberCaptcha").css("display")
          , a = n.find("#memCodeSign").val()
          , r = n.find(".memberCaptchaInput").val();
        if (null != e && "" != e)
            if (null != t && "" != t)
                if (null != a && "" != a)
                    if (!i || null != r && "" != r) {
                        var o = "memCode=" + Fai.encodeUrl(t) + "&memCodeSign=" + Fai.encodeUrl(a) + "&acquirer=" + Fai.encodeUrl(e) + "&mode=" + Fai.encodeUrl("mobile");
                        $.ajax({
                            type: "post",
                            url: Site.addRequestPrefix({
                                newPath: "/ajax",
                                oldPath: "ajax"
                            }) + "/member_h.jsp?cmd=wafNotCk_checkMobileCodeGeneral",
                            data: o,
                            error: function s() {
                                Fai.ing(LS.js_systemError)
                            },
                            success: function l(e) {
                                if ((e = jQuery.parseJSON(e)).success) {
                                    var t = e.memId
                                      , i = !1
                                      , a = n.find("#autoLogin" + d);
                                    a && a.attr("checked") && (i = !0),
                                    $.ajax({
                                        type: "post",
                                        url: Site.addRequestPrefix({
                                            newPath: "/ajax",
                                            oldPath: "ajax"
                                        }) + "/login_h.jsp",
                                        data: "cmd=wafNotCk_loginMemberByMobile&memId=" + Fai.encodeUrl(t) + "&captcha=" + Fai.encodeUrl(r) + "&autoLogin=" + Fai.encodeUrl(i),
                                        error: function o() {
                                            Site.mbLogining = !1,
                                            Site.showMemberLoginMsg(d, -1, c)
                                        },
                                        success: function ywa(e) {
                                            if (Site.mbLogining = !1,
                                            (e = jQuery.parseJSON(e)).success) {
                                                if (Site.logMonitor(6046),
                                                $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                                                p.skipUrl && (u = p.skipUrl),
                                                !p.isPhotoSlide)
                                                    return void (Fai.top.location.href = u);
                                                for (var t = u.split(";"), i = 0; i < t.length - 1; i++) {
                                                    if (new RegExp("[^script:]").test(u)) {
                                                        var a = t[i].split(":")
                                                          , o = a[1].indexOf("(") + 1
                                                          , n = a[1].lastIndexOf(")")
                                                          , r = Array.prototype.slice.call(a[1].substring(o, n).split(","))
                                                          , s = a[1].substring(0, o - 1)
                                                          , l = [];
                                                        Site.photoSlide.returnIndex = function() {
                                                            delete Site.photoSlide.returnIndex,
                                                            Fai.top.location.href = "/index.jsp"
                                                        }
                                                        ,
                                                        l = [{
                                                            name: s,
                                                            base: window
                                                        }].concat(r),
                                                        jzUtils.run.apply(window, l)
                                                    }
                                                }
                                            } else {
                                                if (e.isRealDemo)
                                                    return void Fai.ing(e.msg, !0);
                                                e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                                    path: "",
                                                    oldPath: ""
                                                }) + "login.jsp?errno=-307" : Site.showMemberLoginMsg(d, e.rt, e.captcha, c)
                                            }
                                        }
                                    })
                                } else
                                    e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : 1 == e.rt && (Site.mbLogining = !1,
                                    Fai.ing(LS.memberSignupRegisterCaptchaNotMatch))
                            }
                        })
                    } else
                        Site.showMemberLoginMsg(d, 3, !1, c);
                else
                    Site.showMemberLoginMsg(d, 6, !1, c);
            else
                Site.showMemberLoginMsg(d, 5, !1, c);
        else
            Site.showMemberLoginMsg(d, 4, !1, c)
    }
}
,
Site.fastLogin2 = function(d) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else {
        "object" != _typeof2(d) && (d = new Object);
        var c = Fai.getUrlParam(Fai.top.location.href, "url");
        c && !loginMemberSucJumpUrlIllegality || (c = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "index.jsp");
        var n = $("#J_WebRightBar")
          , e = n.find("#acquirerInput").val()
          , t = n.find("#memCodeInput").val()
          , i = (n.find(".rbar-captcha").css("display"),
        n.find("#memCodeSign").val())
          , r = n.find(".memberLoginCaptcha").val();
        if (!Fai.isNull(i) && i)
            if (null != e && "" != e)
                if (null != t && "" != t)
                    if (null != i && "" != i) {
                        n.find(".memberLoginBtn").attr("disabled", !0);
                        var a = "memCode=" + Fai.encodeUrl(t) + "&memCodeSign=" + Fai.encodeUrl(i) + "&acquirer=" + Fai.encodeUrl(e) + "&mode=" + Fai.encodeUrl("mobile");
                        $.ajax({
                            type: "post",
                            url: Site.addRequestPrefix({
                                newPath: "/ajax",
                                oldPath: "ajax"
                            }) + "/member_h.jsp?cmd=wafNotCk_checkMobileCodeGeneral",
                            data: a,
                            error: function o() {
                                Fai.ing(LS.js_systemError)
                            },
                            success: function s(e) {
                                if ((e = jQuery.parseJSON(e)).success) {
                                    var t = e.memId
                                      , i = !1
                                      , a = n.find("#autoLoginRightBar");
                                    a && a.attr("checked") && (i = !0),
                                    $.ajax({
                                        type: "post",
                                        url: Site.addRequestPrefix({
                                            newPath: "/ajax",
                                            oldPath: "ajax"
                                        }) + "/login_h.jsp",
                                        data: "cmd=wafNotCk_loginMemberByMobile&memId=" + Fai.encodeUrl(t) + "&captcha=" + Fai.encodeUrl(r) + "&autoLogin=" + Fai.encodeUrl(i),
                                        error: function o() {
                                            Site.mbLogining = !1,
                                            Site.showMemberLoginMsg(id, -1, moduleStyle)
                                        },
                                        success: function $wa(e) {
                                            if (Site.mbLogining = !1,
                                            (e = jQuery.parseJSON(e)).success) {
                                                if (Site.logMonitor(6046),
                                                $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                                                d.skipUrl && (c = d.skipUrl),
                                                !d.isPhotoSlide)
                                                    return void (Fai.top.location.href = c);
                                                for (var t = c.split(";"), i = 0; i < t.length - 1; i++) {
                                                    if (new RegExp("[^script:]").test(c)) {
                                                        var a = t[i].split(":")
                                                          , o = a[1].indexOf("(") + 1
                                                          , n = a[1].lastIndexOf(")")
                                                          , r = Array.prototype.slice.call(a[1].substring(o, n).split(","))
                                                          , s = a[1].substring(0, o - 1)
                                                          , l = [];
                                                        Site.photoSlide.returnIndex = function() {
                                                            delete Site.photoSlide.returnIndex,
                                                            Fai.top.location.href = "/index.jsp"
                                                        }
                                                        ,
                                                        l = [{
                                                            name: s,
                                                            base: window
                                                        }].concat(r),
                                                        jzUtils.run.apply(window, l)
                                                    }
                                                }
                                            } else {
                                                if (e.isRealDemo)
                                                    return void Fai.ing(e.msg, !0);
                                                e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                                    path: "",
                                                    oldPath: ""
                                                }) + "login.jsp?errno=-307" : Site.showMemberLoginMsg(id, e.rt, e.captcha, moduleStyle)
                                            }
                                        }
                                    })
                                } else
                                    e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                        path: "",
                                        oldPath: ""
                                    }) + "login.jsp?errno=-307" : 1 == e.rt && (Site.mbLogining = !1,
                                    Fai.ing(LS.memberSignupRegisterCaptchaNotMatch))
                            }
                        })
                    } else
                        Fai.top.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?&url=" + Fai.encodeUrl(c);
                else
                    Fai.top.location.href = Site.preprocessUrl({
                        path: "",
                        oldPath: ""
                    }) + "login.jsp?url=" + Fai.encodeUrl(c);
            else
                Fai.top.location.href = Site.preprocessUrl({
                    path: "",
                    oldPath: ""
                }) + "login.jsp?url=" + Fai.encodeUrl(c)
    }
}
,
Site.fastLogin3 = function(n, r, s, l, d, c) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else {
        var p = Fai.getUrlParam(Fai.top.location.href, "url");
        if (p && !loginMemberSucJumpUrlIllegality || (p = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "index.jsp"),
        !Site.mbLogining) {
            Site.mbLogining = !0;
            var u = $("#J_memberLoginDialogPanel")
              , e = u.find("#acquirerInput").val()
              , t = u.find("#memCodeInput").val()
              , i = "none" != u.find(".memberLoginDialogItem").css("display")
              , m = u.find(".memberLoginCaptcha").val()
              , a = u.find("#memCodeSign").val();
            if (null != e && "" != e)
                if (null != t && "" != t)
                    if (null != a && "" != a)
                        if (!i || null != m && "" != m) {
                            var o = "memCode=" + Fai.encodeUrl(t) + "&memCodeSign=" + Fai.encodeUrl(a) + "&acquirer=" + Fai.encodeUrl(e) + "&mode=" + Fai.encodeUrl("mobile");
                            $.ajax({
                                type: "post",
                                url: Site.addRequestPrefix({
                                    newPath: "/ajax",
                                    oldPath: "ajax"
                                }) + "/member_h.jsp?cmd=wafNotCk_checkMobileCodeGeneral",
                                data: o,
                                error: function h() {
                                    Fai.ing(LS.js_systemError)
                                },
                                success: function f(e) {
                                    if ((e = jQuery.parseJSON(e)).success) {
                                        var t = e.memId
                                          , i = !1
                                          , a = u.find("#memberLoginDialogAutoLogin");
                                        a && a.attr("checked") && (i = !0),
                                        $.ajax({
                                            type: "post",
                                            url: Site.addRequestPrefix({
                                                newPath: "/ajax",
                                                oldPath: "ajax"
                                            }) + "/login_h.jsp",
                                            data: "cmd=wafNotCk_loginMemberByMobile&memId=" + Fai.encodeUrl(t) + "&captcha=" + Fai.encodeUrl(m) + "&autoLogin=" + Fai.encodeUrl(i),
                                            error: function o() {
                                                Site.mbLogining = !1,
                                                Fai.top.location.href = Site.preprocessUrl({
                                                    path: "",
                                                    oldPath: ""
                                                }) + "login.jsp?errno=-1&url=" + Fai.encodeUrl(p) + "&acct=" + Fai.encodeUrl(acct)
                                            },
                                            success: function Exa(e) {
                                                if (Site.mbLogining = !1,
                                                (e = jQuery.parseJSON(e)).success) {
                                                    if (Site.logMonitor(6046),
                                                    $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                                                    "addCartItem" == l)
                                                        (t = {}).pid = n,
                                                        t.mid = r,
                                                        t.url = s,
                                                        t.opList = d,
                                                        t.count = c,
                                                        t.doWhat = "add",
                                                        $.cookie("isNeedAddCartItem", $.toJSON(t)),
                                                        Fai.top.location.reload();
                                                    else if ("immeBuy" == l) {
                                                        var t;
                                                        (t = {}).pid = n,
                                                        t.mid = r,
                                                        t.url = s,
                                                        t.opList = d,
                                                        t.count = c,
                                                        t.doWhat = "buy",
                                                        $.cookie("isNeedAddCartItem", $.toJSON(t)),
                                                        Fai.top.location.reload()
                                                    }
                                                } else
                                                    e.isRealDemo ? Fai.ing(e.msg, !0) : e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                                        path: "",
                                                        oldPath: ""
                                                    }) + "login.jsp?errno=-307" : Site.showMemberLoginMsg("loginDialog", e.rt, e.captcha, 2)
                                            }
                                        })
                                    } else
                                        e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                            path: "",
                                            oldPath: ""
                                        }) + "login.jsp?errno=-307" : 1 == e.rt && (Site.mbLogining = !1,
                                        Fai.ing(LS.memberSignupRegisterCaptchaNotMatch))
                                }
                            })
                        } else
                            Fai.ing(LS.memberCaptchError);
                    else
                        Fai.ing(LS.memberDialogGetCodeFirst);
                else
                    Fai.ing(LS.memberDialogEnterCode);
            else
                Fai.ing(LS.memberDialogPlzEnterMobile)
        }
    }
}
,
Site.memberLogin1 = function(c, p, u) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else if (Site.logDog(200061, 2),
    "object" != _typeof2(u) && (u = new Object),
    !Site.mbLogining) {
        Site.mbLogining = !0;
        var m = Fai.getUrlParam(Fai.top.location.href, "url");
        m && !loginMemberSucJumpUrlIllegality || (m = "./index.jsp");
        var e = $("#module" + c)
          , t = e.find(".memberAcctInput").val()
          , i = e.find(".memberPwdInput").val()
          , a = void 0 !== e.find(".memberCaptcha").css("display") && "none" != e.find(".memberCaptcha").css("display")
          , o = e.find(".memberCaptchaInput").val();
        if (null != t && "" != t)
            if (null != i && "" != i)
                if (!a || null != o && "" != o) {
                    i = $.md5(i);
                    var n = !1
                      , r = e.find("#autoLogin" + c);
                    r && r.attr("checked") && (n = !0),
                    t = window.btoa ? "&encryptAcct=" + window.btoa(Fai.encodeUrl(t)) : "&memberAcct=" + Fai.encodeUrl(Site.confuseMemberAcct(Fai.encodeUrl(t))),
                    $.ajax({
                        type: "post",
                        url: Site.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/login_h.jsp",
                        data: "cmd=wafNotCk_loginMember" + t + "&pwd=" + Fai.encodeUrl(i) + "&captcha=" + Fai.encodeUrl(o) + "&autoLogin=" + Fai.encodeUrl(n),
                        error: function s() {
                            Site.mbLogining = !1,
                            Site.showMemberLoginMsg(c, -1, p),
                            Site.logMonitor(6049, !0)
                        },
                        success: function h(e) {
                            Site.mbLogining = !1;
                            try {
                                e = jQuery.parseJSON(e)
                            } catch (d) {
                                e = {},
                                Site.logMonitor(6049, !0),
                                console.error(d)
                            }
                            if (e.success)
                                if (Site.logMonitor(6045, !0),
                                $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                                u.skipUrl && (m = u.skipUrl),
                                u.isPhotoSlide)
                                    for (var t = m.split(";"), i = 0; i < t.length - 1; i++) {
                                        if (new RegExp("[^script:]").test(m)) {
                                            var a = t[i].split(":")
                                              , o = a[1].indexOf("(") + 1
                                              , n = a[1].lastIndexOf(")")
                                              , r = Array.prototype.slice.call(a[1].substring(o, n).split(","))
                                              , s = a[1].substring(0, o - 1)
                                              , l = [];
                                            Site.photoSlide.returnIndex = function() {
                                                delete Site.photoSlide.returnIndex,
                                                Fai.top.location.href = "/index.jsp"
                                            }
                                            ,
                                            l = [{
                                                name: s,
                                                base: window
                                            }].concat(r),
                                            jzUtils.run.apply(window, l)
                                        }
                                    }
                                else {
                                    if (u.isPopup)
                                        return $.cookie("popupZoneUrl", m),
                                        void Fai.top.location.reload();
                                    if ("javascript:void(0)" != m)
                                        return void (Fai.top.location.href = m);
                                    Fai.top.location.reload()
                                }
                            else {
                                if (Site.logMonitor(6048, !0),
                                e.isRealDemo)
                                    return void Fai.ing(e.msg, !0);
                                e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + "login.jsp?errno=-307" : Site.showMemberLoginMsg(c, e.rt, e.captcha, p)
                            }
                        }
                    })
                } else
                    Site.showMemberLoginMsg(c, 3, !1, p);
            else
                Site.showMemberLoginMsg(c, 2, !1, p);
        else
            Site.showMemberLoginMsg(c, 1, !1, p)
    }
}
,
Site.mbLogining = !1,
Site.memberLogin2 = function(d, c, p) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else if (Site.logDog(200061, 2),
    "object" != _typeof2(p) && (p = new Object),
    !Site.mbLogining) {
        Site.mbLogining = !0;
        var u = Fai.getUrlParam(Fai.top.location.href, "url");
        u && !loginMemberSucJumpUrlIllegality || (u = "./index.jsp");
        var m = Fai.getUrlParam(Fai.top.location.href, "mid")
          , h = Fai.getUrlParam(Fai.top.location.href, "fid")
          , e = $("#module" + d)
          , t = $.trim(e.find(".memberAcctInput").val())
          , i = e.find(".memberPwdInput").val()
          , a = "none" != e.find(".memberCaptcha").css("display")
          , o = e.find(".memberCaptchaInput").val();
        if (null != t && "" != t)
            if (null != i && "" != i)
                if (!a || null != o && "" != o) {
                    i = $.md5(i);
                    var n = e.find(".memberLoginMsg");
                    n.show(),
                    n.find(".msgText").html(LS.memberLogining);
                    var f = e.find(".memberLoginBtn");
                    f.attr("disabled", !0);
                    var r = !1
                      , s = e.find("#autoLogin" + d);
                    s && s.attr("checked") && (r = !0),
                    t = window.btoa ? "&encryptAcct=" + window.btoa(Fai.encodeUrl(t)) : "&memberAcct=" + Fai.encodeUrl(Site.confuseMemberAcct(Fai.encodeUrl(t))),
                    $.ajax({
                        type: "post",
                        url: Site.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/login_h.jsp",
                        data: "cmd=wafNotCk_loginMember" + t + "&pwd=" + Fai.encodeUrl(i) + "&captcha=" + Fai.encodeUrl(o) + "&autoLogin=" + Fai.encodeUrl(r),
                        error: function l() {
                            Site.mbLogining = !1,
                            f.removeAttr("disabled"),
                            Site.showMemberLoginMsg(d, -1, c),
                            Site.logMonitor(6049, !0)
                        },
                        success: function g(e) {
                            if (Site.mbLogining = !1,
                            f.removeAttr("disabled"),
                            (e = jQuery.parseJSON(e)).success)
                                if (Site.logMonitor(6045),
                                $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                                null != m && null != h && ($.cookie("_moduleid", m, {
                                    expires: 1
                                }),
                                $.cookie("_fileid", h, {
                                    expires: 1
                                })),
                                p.skipUrl && (u = p.skipUrl),
                                p.isPhotoSlide)
                                    for (var t = u.split(";"), i = 0; i < t.length - 1; i++) {
                                        if (new RegExp("[^script:]").test(u)) {
                                            var a = t[i].split(":")
                                              , o = a[1].indexOf("(") + 1
                                              , n = a[1].lastIndexOf(")")
                                              , r = Array.prototype.slice.call(a[1].substring(o, n).split(","))
                                              , s = []
                                              , l = a[1].substring(0, o - 1);
                                            Site.photoSlide.returnIndex = function() {
                                                delete Site.photoSlide.returnIndex,
                                                Fai.top.location.href = "/index.jsp"
                                            }
                                            ,
                                            s = [{
                                                name: l,
                                                base: window
                                            }].concat(r),
                                            jzUtils.run.apply(window, s)
                                        }
                                    }
                                else {
                                    if (p.isPopup)
                                        return $.cookie("popupZoneUrl", u),
                                        void Fai.top.location.reload();
                                    if ("javascript:void(0)" != u)
                                        return void (Fai.top.location.href = u);
                                    Fai.top.location.reload()
                                }
                            else {
                                if (e.isRealDemo)
                                    return void Fai.ing(e.msg, !0);
                                e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + "login.jsp?errno=-307" : Site.showMemberLoginMsg(d, e.rt, e.captcha, c)
                            }
                        }
                    })
                } else
                    Site.showMemberLoginMsg(d, 3, !1, c);
            else
                Site.showMemberLoginMsg(d, 2, !1, c);
        else
            Site.showMemberLoginMsg(d, 1, !1, c)
    }
}
,
Site.memberLogin3 = function(t) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else {
        "object" != _typeof2(t) && (t = new Object);
        var i = Fai.getUrlParam(Fai.top.location.href, "url");
        i && !loginMemberSucJumpUrlIllegality || (i = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "index.jsp");
        var e = $("#J_WebRightBar")
          , a = $.trim(e.find("#memberAcct").val())
          , o = e.find("#memberPwd").val()
          , n = (e.find(".rbar-captcha").css("display"),
        e.find(".memberLoginCaptcha").val());
        if (null != a && "" != a)
            if (null != o && "" != o) {
                o = $.md5(o);
                var r = e.find(".memberLoginBtn");
                r.attr("disabled", !0);
                var s = !1
                  , l = e.find("#autoLoginRightBar");
                l && l.attr("checked") && (s = !0),
                a = window.btoa ? "&encryptAcct=" + window.btoa(Fai.encodeUrl(a)) : "&memberAcct=" + Fai.encodeUrl(Site.confuseMemberAcct(Fai.encodeUrl(a))),
                $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/login_h.jsp",
                    data: "cmd=wafNotCk_loginMember" + a + "&pwd=" + Fai.encodeUrl(o) + "&captcha=" + Fai.encodeUrl(n) + "&autoLogin=" + Fai.encodeUrl(s),
                    error: function d() {
                        Site.mbLogining = !1,
                        r.removeAttr("disabled"),
                        Site.logMonitor(6049, !0),
                        Fai.top.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?errno=-1&url=" + Fai.encodeUrl(i) + "&acct=" + Fai.encodeUrl(a)
                    },
                    success: function c(e) {
                        if (Site.mbLogining = !1,
                        r.removeAttr("disabled"),
                        (e = jQuery.parseJSON(e)).success)
                            return Site.logMonitor(6045),
                            $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                            t.skipUrl && (i = t.skipUrl),
                            t.isPopup ? ($.cookie("popupZoneUrl", i),
                            void Fai.top.location.reload()) : ("javascript:void(0)" == i && Fai.top.location.reload(),
                            void (Fai.top.location.href = i));
                        if (e.isRealDemo)
                            Fai.ing(e.msg, !0);
                        else if (e.active)
                            Site.memberInactiveDialog(e.mail, e.memName);
                        else if (-2e3 == e.rt)
                            Fai.top.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?errno=-307";
                        else {
                            if (e.captcha)
                                return void (Fai.top.location.href = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + "login.jsp?errno=" + e.rt + "&captcha=" + e.captcha + "&url=" + Fai.encodeUrl(i) + "&acct=" + Fai.encodeUrl(a));
                            Site.showMemberLoginMsg("webRightBar", e.rt, e.captcha, 2)
                        }
                    }
                })
            } else
                Fai.top.location.href = Site.preprocessUrl({
                    path: "",
                    oldPath: ""
                }) + "login.jsp?errno=2&url=" + Fai.encodeUrl(i) + "&acct=" + Fai.encodeUrl(a);
        else
            Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "login.jsp?errno=1&url=" + Fai.encodeUrl(i)
    }
}
,
Site.mbLogining = !1,
Site.memberLogin4 = function(i, a, o, n, r, s) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行登录。");
    else {
        var e = Fai.getUrlParam(Fai.top.location.href, "url");
        if (e && !loginMemberSucJumpUrlIllegality || (e = "./index.jsp"),
        !Site.mbLogining) {
            Site.mbLogining = !0;
            var t = $("#J_memberLoginDialogPanel")
              , l = $.trim(t.find("#memberAcct").val())
              , d = t.find("#memberPwd").val()
              , c = "none" != t.find(".memberCaptcha").css("display")
              , p = t.find(".memberCaptchaInput").val();
            if (null != l && "" != l)
                if (null != d && "" != d)
                    if (!c || null != p && "" != p) {
                        d = $.md5(d);
                        var u = t.find(".memberLoginBtn");
                        u.attr("disabled", !0);
                        var m = !1
                          , h = t.find("#memberLoginDialogAutoLogin");
                        h && h.attr("checked") && (m = !0),
                        l = window.btoa ? "&encryptAcct=" + window.btoa(Fai.encodeUrl(l)) : "&memberAcct=" + Fai.encodeUrl(Site.confuseMemberAcct(Fai.encodeUrl(l))),
                        $.ajax({
                            type: "post",
                            url: Site.addRequestPrefix({
                                newPath: "/ajax",
                                oldPath: "ajax"
                            }) + "/login_h.jsp",
                            data: "cmd=wafNotCk_loginMember" + l + "&pwd=" + Fai.encodeUrl(d) + "&captcha=" + Fai.encodeUrl(p) + "&autoLogin=" + Fai.encodeUrl(m),
                            error: function f() {
                                Site.mbLogining = !1,
                                u.removeAttr("disabled"),
                                Fai.top.location.href = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + "login.jsp?errno=-1&url=" + Fai.encodeUrl(e) + "&acct=" + Fai.encodeUrl(l)
                            },
                            success: function g(e) {
                                if (Site.mbLogining = !1,
                                u.removeAttr("disabled"),
                                (e = jQuery.parseJSON(e)).success) {
                                    if (Site.logMonitor(6045),
                                    $("#_TOKEN").attr("value") || $("title").after(e._TOKEN),
                                    "addCartItem" == n)
                                        (t = {}).pid = i,
                                        t.mid = a,
                                        t.url = o,
                                        t.opList = r,
                                        t.count = s,
                                        t.doWhat = "add",
                                        $.cookie("isNeedAddCartItem", $.toJSON(t)),
                                        Fai.top.location.reload();
                                    else if ("immeBuy" == n) {
                                        (t = {}).pid = i,
                                        t.mid = a,
                                        t.url = o,
                                        t.opList = r,
                                        t.count = s,
                                        t.doWhat = "buy",
                                        $.cookie("isNeedAddCartItem", $.toJSON(t)),
                                        Fai.top.location.reload()
                                    } else if ("payKnowProduct" == n) {
                                        var t;
                                        (t = {}).pid = i,
                                        t.mid = a,
                                        t.url = o,
                                        t.opList = r,
                                        t.count = s,
                                        t.doWhat = "buy",
                                        Fai.top.location.reload()
                                    }
                                } else
                                    e.isRealDemo ? Fai.ing(e.msg, !0) : e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -2e3 == e.rt ? Fai.top.location.href = Site.preprocessUrl({
                                        path: "",
                                        oldPath: ""
                                    }) + "login.jsp?errno=-307" : Site.showMemberLoginMsg("loginDialog", e.rt, e.captcha, 2)
                            }
                        })
                    } else
                        Fai.ing(LS.memberCaptchError);
                else
                    Fai.ing("密码不能为空！");
            else
                Fai.ing("帐号不能为空！")
        }
    }
}
,
Site.confuseMemberAcct = function(e) {
    if (e) {
        var i = ""
          , a = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "a", "s", "d", "f", "g", "h", "j", "k", "l", "q", "w", "e", "r", "t", "y", "u", "i", "o", "p", "z", "x", "c", "v", "b", "n", "m"];
        return $.each(e.split(""), function(e, t) {
            i += t + a[Math.floor(36 * Math.random())]
        }),
        i
    }
}
,
Site.popupZoneInit = function() {
    var e = $.cookie("popupZoneUrl");
    e && (Fai.top.location.href = e,
    $.cookie("popupZoneUrl", null))
}
,
Site.loadLastLoginAcct = function(e) {
    var t = $.cookie("loginMemberCacct");
    if (null != t && "undefined" !== t && t.toLowerCase() === e.toLowerCase()) {
        var i = $.cookie("loginMemberAcct");
        null != i && "undefined" !== i && $("#acctInput, .memberAcctInput, .J_memberAcctInput, #memberAcct").val(i)
    }
}
,
Site.showMemberLoginMsg = function(e, t, i, a) {
    var o, n = "", r = "", s = !1;
    if (Site.mbLogining = !1,
    o = "webRightBar" == e ? $("#J_WebRightBar") : "loginDialog" == e ? $("#J_memberLoginDialogPanel") : $("#module" + e),
    1 == t ? (n = LS.memberInputAcct,
    o.find(".memberAcctInput").focus(),
    r = "memberLoginAcct") : 2 == t ? (n = LS.memberInputPwd,
    o.find(".memberPwdInput").focus(),
    r = "memberLoginPwd") : 3 == t ? (n = LS.memberInputCaptcha,
    r = "memberLoginCaptcha") : 4 == t ? (n = LS.memberDialogPlzEnterMobile,
    r = "acquirerInput") : 5 == t ? (n = LS.memberDialogEnterCode,
    r = "memCodeInput") : 6 == t ? (n = LS.memberDialogGetCodeFirst,
    r = "memCodeInput") : 11 == t ? (n = LS.memberLoginFirst,
    s = !0) : 12 == t ? (n = LS.memberLoginSignup,
    s = !0) : 13 == t ? (n = LS.memberLoginToView,
    s = !0) : 14 == t ? (n = LS.memberLoginNoPermission,
    s = !0) : -3 == t ? (n = LS.memberPwdError,
    r = "memberLoginPwd") : -301 == t ? (n = LS.memberCaptchError,
    r = "memberLoginCaptcha") : -302 == t ? (n = LS.memberAcctError,
    r = "memberLoginAcct") : -303 == t ? (n = LS.memberNoAuth,
    r = "memberLoginAcct") : -305 == t ? (n = LS.memberPwdError,
    r = "memberLoginPwd") : -307 == t ? (n = LS.loginUseAcct,
    r = "memberLoginAcct") : s = (n = -2003 == t ? "该帐号已多次登录失败，请更换帐号重试" : -2004 == t ? "帐号/密码有误，请重新输入" : LS.memberLoginError,
    !0),
    i && "webRightBar" != e && (o.find(".memberCaptcha").show(),
    o.find(".memberCaptchaImg").attr("src", "/validateCode.jsp?" + 1e3 * Math.random()),
    Site.memberLoginCompatibility(e)),
    s)
        Fai.ing(n, !1);
    else {
        if (1 == a) {
            var l = o.find(".memberLoginMsg");
            l.show(),
            l.find(".msgText").html(n)
        }
        if (2 == a) {
            var d = {
                moduleId: "module" + e,
                targetId: r,
                tipText: n
            };
            "loginDialog" != e ? (d.moduleId = "webRightBar" == e ? "J_WebRightBar" : "module" + e,
            setTimeout(function() {
                Site.floatTip(d)
            }, 50)) : Fai.ing(n)
        }
    }
}
,
Site.changeCaptchaImg = function(e, t) {
    $(e).attr("src", "/validateCode.jsp?" + 1e3 * Math.random() + "&validateCodeRegType=" + t)
}
,
Site.wxListener = {
    timer: "",
    winOpen: "",
    w_uid: "",
    w_faiOpenId: "",
    faiOpenIdGreen: "",
    c: 0,
    wx_name: "",
    wx_avator: "",
    popupId: "",
    popupClose: !1
},
Site.initWXLogin = function(e, t, i, a, o, n, r) {
    function s(e) {
        var t = $.parseJSON(e.data);
        Site.wxListener.w_uid = t.uid,
        Site.wxListener.wx_name = t.wx_name,
        Site.wxListener.wx_avator = t.wx_avator,
        Site.wxListener.winOpen.close()
    }
    t += "/wxLogin.jsp",
    $("#" + n).click(function() {
        0 == Site.wxListener.c && (Site.wxListener.winOpen = window.open("https://open.weixin.qq.com/connect/qrconnect?appid=" + e + "&redirect_uri=" + Fai.encodeUrl(t) + "&response_type=code&scope=snsapi_login#wechat_redirect", "", "height=525,width=585, toolbar=no, menubar=no, scrollbars=no, status=no, location=yes, resizable=yes"),
        Site.wxListener.timer = window.setInterval("Site.wxWinListener('" + i + "', " + a + ", " + o + ", " + r + ",3)", 500),
        window.addEventListener("message", s, !1),
        ++Site.wxListener.c)
    })
}
,
Site.wxWinListener = function(u, e, t, m, h) {
    if ((1 == Site.wxListener.popupClose || 1 == Site.wxListener.winOpen.closed) && (window.clearInterval(Site.wxListener.timer),
    Site.wxListener.c = 0,
    Site.wxListener.popupClose = !1,
    null != Site.wxListener.w_uid && "" != Site.wxListener.w_uid)) {
        var f = Fai.getUrlParam(Fai.top.location.href, "url");
        f && !loginMemberSucJumpUrlIllegality || (f = "./index.jsp");
        var i = Site.checkHasMobileOption(u)
          , a = !1;
        if (u = jQuery.parseJSON(u))
            for (var o = 0; o < u.length; o++)
                if (u[o].otherLoginMust) {
                    a = !0;
                    break
                }
        var n = "loginType=" + h + "&hasMobile=" + i + "&otherLoginMust=" + a + "&openId=" + encodeURIComponent(Site.wxListener.w_uid);
        a || (n += "&avator=" + encodeURIComponent(Site.wxListener.wx_avator) + "&name=" + Site.wxListener.wx_name),
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/login_h.jsp?cmd=wafNotCk_otherLoginMember",
            data: n,
            error: function r() {
                Fai.ing(LS.memberLoginError, !0)
            },
            success: function g(e) {
                if ((e = jQuery.parseJSON(e)).success) {
                    Site.logMonitor(6047),
                    $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                    var t = $.cookie("forThirtLoginBuy");
                    if (void 0 !== t && null != t && "" != t) {
                        var i = $.parseJSON(t);
                        if (void 0 !== i && null != i)
                            if ("addCartItem" == i.where)
                                (a = {}).pid = i.pid,
                                a.mid = i.mid,
                                a.url = i.url,
                                a.opList = i.opList,
                                a.count = i.count,
                                a.doWhat = "add",
                                $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                Fai.top.location.reload();
                            else if ("immeBuy" == i.where) {
                                var a;
                                (a = {}).pid = i.pid,
                                a.mid = i.mid,
                                a.url = i.url,
                                a.opList = i.opList,
                                a.count = i.count,
                                a.doWhat = "buy",
                                $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                Fai.top.location.reload()
                            }
                        return void $.cookie("forThirtLoginBuy", null)
                    }
                    if (m.skipUrl && (f = m.skipUrl),
                    !m.isPhotoSlide)
                        return void (Fai.top.location.href = f);
                    for (var o = f.split(";"), n = 0; n < o.length - 1; n++) {
                        if (new RegExp("[^script:]").test(f)) {
                            var r = o[n].split(":")
                              , s = r[1].indexOf("(") + 1
                              , l = r[1].lastIndexOf(")")
                              , d = Array.prototype.slice.call(r[1].substring(s, l).split(","))
                              , c = r[1].substring(0, s - 1)
                              , p = [];
                            Site.photoSlide.returnIndex = function() {
                                delete Site.photoSlide.returnIndex,
                                Fai.top.location.href = "/index.jsp"
                            }
                            ,
                            p = [{
                                name: c,
                                base: window
                            }].concat(d),
                            jzUtils.run.apply(window, p)
                        }
                    }
                } else
                    e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -3 == e.rt ? "undefined" != typeof e.bindOtherAcct && e.bindOtherAcct ? Site.memberOtherBindOrLogin(u, Site.wxListener.w_uid, h, e.mobileCtNameList, e.signNeenMobile, m) : Site.memberOtherLoginFill(u, Site.wxListener.w_uid, h, e.mobileCtNameList, e.signNeenMobile, m) : -303 == e.rt ? Fai.ing(LS.memberNoAuth, !0) : Fai.ing(LS.js_argsError, !0)
            }
        })
    }
}
,
Site.initNewWXLogin = function(o, n, r, e, s) {
    $("#" + e).click(function() {
        if (Fai.top._siteDemo && Fai.top._oem)
            Fai.ing("样板网站无法登录");
        else {
            var e = "newSiteWX.jsp";
            Fai.top._curLanCode && (e = location.pathname.includes("/".concat(Fai.top._curLanCode, "/")) ? "/".concat(Fai.top._curLanCode, "/").concat(e) : "/".concat(e));
            var t = {
                title: LS.memberWxLgn,
                frameSrcUrl: e,
                width: 370,
                height: 480,
                closeFunc: function a() {}
            };
            Site.wxListener.popupId = Fai.top.Fai.popupWindowVersionTwo.createPopupWindow(t).getPopupWindowId(),
            Site._onWxLoginQrCode = function(e) {
                $("#popupWindow" + Site.wxListener.popupId + " .pWCenter").css("position", "relative").append('<img style="position:absolute;left: 50%;transform: translateX(-50%);top:55px" src=' + e + " />")
            }
            ;
            var i = parseInt($("#popupWindow" + Site.wxListener.popupId).css("top"));
            $("#popupWindow" + Site.wxListener.popupId).css("top", i + "px"),
            Site.wxListener.timer = window.setInterval("Site.newWxWinListener('" + o + "', " + n + ", " + r + ", " + s + ", 4)", 500)
        }
    })
}
,
Site.newWxWinListener = function(m, e, t, h, f) {
    if (1 == Site.wxListener.popupClose || 1 == Site.wxListener.winOpen.closed) {
        window.clearInterval(Site.wxListener.timer),
        Site.wxListener.c = 0,
        Site.wxListener.popupClose = !1;
        var i = "";
        if (Site.wxListener.faiOpenIdGreen ? null != Site.wxListener.w_faiOpenId && "" != Site.wxListener.w_faiOpenId : null != Site.wxListener.w_uid && "" != Site.wxListener.w_uid && null != Site.wxListener.w_faiOpenId && "" != Site.wxListener.w_faiOpenId) {
            var g = Fai.getUrlParam(Fai.top.location.href, "url");
            g && !loginMemberSucJumpUrlIllegality || (g = "./index.jsp");
            var a = Site.checkHasMobileOption(m)
              , o = !1;
            if (m = jQuery.parseJSON(m))
                for (var n = 0; n < m.length; n++)
                    if (m[n].otherLoginMust) {
                        o = !0;
                        break
                    }
            o || (i += "&avator=" + encodeURIComponent(Site.wxListener.wx_avator) + "&name=" + Site.wxListener.wx_name),
            Site.wxListener.faiOpenIdGreen ? i += "&loginType=5&hasMobile=" + a + "&otherLoginMust=" + o + "&faiOpenIdGreen=" + Site.wxListener.faiOpenIdGreen + "&faiOpenId=" + encodeURIComponent(Site.wxListener.w_faiOpenId) : i += "&loginType=4&hasMobile=" + a + "&otherLoginMust=" + o + "&openId=" + encodeURIComponent(Site.wxListener.w_uid) + "&faiOpenId=" + encodeURIComponent(Site.wxListener.w_faiOpenId) + "&faiOpenIdGreen=" + Site.wxListener.faiOpenIdGreen + "&unionId=" + Site.wxListener.w_unionId,
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/login_h.jsp?cmd=wafNotCk_otherLoginMember",
                data: i,
                error: function r() {
                    Fai.ing(LS.memberLoginError, !0)
                },
                success: function v(e) {
                    if ((e = jQuery.parseJSON(e)).success) {
                        Site.logMonitor(6047),
                        $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                        var t = $.cookie("forThirtLoginBuy");
                        if (void 0 !== t && null != t && "" != t) {
                            var i = $.parseJSON(t);
                            if (void 0 !== i && null != i)
                                if ("addCartItem" == i.where)
                                    (a = {}).pid = i.pid,
                                    a.mid = i.mid,
                                    a.url = i.url,
                                    a.opList = i.opList,
                                    a.count = i.count,
                                    a.doWhat = "add",
                                    $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                    Fai.top.location.reload();
                                else if ("immeBuy" == i.where) {
                                    var a;
                                    (a = {}).pid = i.pid,
                                    a.mid = i.mid,
                                    a.url = i.url,
                                    a.opList = i.opList,
                                    a.count = i.count,
                                    a.doWhat = "buy",
                                    $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                    Fai.top.location.reload()
                                } else if ("payKnowProduct" === i.where) {
                                    var o = $("#J_memberLoginDialogPanel").parents(".formBox");
                                    0 < o.length && o.eq(0).find(".popupBClose").click(),
                                    Fai.top.location.reload()
                                }
                            return void $.cookie("forThirtLoginBuy", null)
                        }
                        if (h.skipUrl && (g = h.skipUrl),
                        !h.isPhotoSlide)
                            return 0 < g.indexOf("popup") && localStorage.setItem("refreshWhenPopupClosed", !0),
                            void (Fai.top.location.href = g);
                        for (var n = g.split(";"), r = 0; r < n.length - 1; r++) {
                            if (new RegExp("[^script:]").test(g)) {
                                var s = n[r].split(":")
                                  , l = s[1].indexOf("(") + 1
                                  , d = s[1].lastIndexOf(")")
                                  , c = Array.prototype.slice.call(s[1].substring(l, d).split(","))
                                  , p = s[1].substring(0, l - 1)
                                  , u = [];
                                Site.photoSlide.returnIndex = function() {
                                    delete Site.photoSlide.returnIndex,
                                    Fai.top.location.href = "/index.jsp"
                                }
                                ,
                                u = [{
                                    name: p,
                                    base: window
                                }].concat(c),
                                jzUtils.run.apply(window, u)
                            }
                        }
                    } else
                        e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -3 == e.rt ? "undefined" != typeof e.bindOtherAcct && e.bindOtherAcct ? "undefined" != typeof Site.wxListener.w_faiOpenId && Site.wxListener.w_faiOpenId ? Site.memberOtherBindOrLogin(m, Site.wxListener.w_uid, 5, e.mobileCtNameList, e.signNeenMobile, h, Site.wxListener.w_faiOpenId) : Site.memberOtherBindOrLogin(m, Site.wxListener.w_uid, f, e.mobileCtNameList, e.signNeenMobile, h) : "undefined" != typeof Site.wxListener.w_faiOpenId && Site.wxListener.w_faiOpenId ? Site.memberOtherLoginFill(m, Site.wxListener.w_faiOpenId, 5, e.mobileCtNameList, e.signNeenMobile, h) : Site.memberOtherLoginFill(m, Site.wxListener.w_uid, f, e.mobileCtNameList, e.signNeenMobile, h) : -303 == e.rt ? Fai.ing(LS.memberNoAuth, !0) : Fai.ing(LS.js_argsError, !0)
                }
            })
        }
    }
}
,
Site.wbListener = {
    timer: "",
    winOpen: "",
    w_uid: "",
    c: 0,
    wb_name: "",
    wb_avator: ""
},
Site.initWBLogin = function(e, t, i, a, o, n, r) {
    function s(e) {
        var t = $.parseJSON(e.data);
        Site.wbListener.w_uid = t.uid,
        Site.wbListener.wb_name = t.name,
        Site.wbListener.wb_avator = t.w_avator,
        Site.wbListener.winOpen.close()
    }
    $("#" + n).click(function() {
        0 == Site.wbListener.c && (Site.wbListener.winOpen = window.open("https://api.weibo.com/oauth2/authorize?client_id=" + e + "&redirect_uri=" + t + "/wbLogin.jsp&response_type=code", "", "height=525,width=585, toolbar=no, menubar=no, scrollbars=no, status=no, location=yes, resizable=yes"),
        Site.wbListener.timer = window.setInterval("Site.wbWinListener('" + i + "', " + a + ", " + o + ", " + r + ")", 500),
        window.addEventListener("message", s, !1),
        ++Site.wbListener.c)
    })
}
,
Site.wbWinListener = function(u, e, t, m) {
    if (1 == Site.wbListener.winOpen.closed && (window.clearInterval(Site.wbListener.timer),
    Site.wbListener.c = 0,
    null != Site.wbListener.w_uid && "" != Site.wbListener.w_uid)) {
        var h = Fai.getUrlParam(Fai.top.location.href, "url");
        h && !loginMemberSucJumpUrlIllegality || (h = "./index.jsp");
        var i = Site.checkHasMobileOption(u)
          , a = !1;
        if (u = jQuery.parseJSON(u))
            for (var o = 0; o < u.length; o++)
                if (u[o].otherLoginMust) {
                    a = !0;
                    break
                }
        var n = "loginType=2&hasMobile=" + i + "&otherLoginMust=" + a + "&openId=" + encodeURIComponent(Site.wbListener.w_uid);
        a || (n += "&avator=" + encodeURIComponent(Site.wbListener.wb_avator) + "&name=" + Site.wbListener.wb_name),
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/login_h.jsp?cmd=wafNotCk_otherLoginMember",
            data: n,
            error: function r() {
                Fai.ing(LS.memberLoginError, !0)
            },
            success: function f(e) {
                if ((e = jQuery.parseJSON(e)).success) {
                    Site.logMonitor(6047),
                    $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                    var t = $.cookie("forThirtLoginBuy");
                    if (void 0 !== t && null != t && "" != t) {
                        var i = $.parseJSON(t);
                        if (void 0 !== i && null != i)
                            if ("addCartItem" == i.where)
                                (a = {}).pid = i.pid,
                                a.mid = i.mid,
                                a.url = i.url,
                                a.opList = i.opList,
                                a.count = i.count,
                                a.doWhat = "add",
                                $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                Fai.top.location.reload();
                            else if ("immeBuy" == i.where) {
                                var a;
                                (a = {}).pid = i.pid,
                                a.mid = i.mid,
                                a.url = i.url,
                                a.opList = i.opList,
                                a.count = i.count,
                                a.doWhat = "buy",
                                $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                Fai.top.location.reload()
                            }
                        return void $.cookie("forThirtLoginBuy", null)
                    }
                    if (m.skipUrl && (h = m.skipUrl),
                    !m.isPhotoSlide)
                        return void (Fai.top.location.href = h);
                    for (var o = h.split(";"), n = 0; n < o.length - 1; n++) {
                        if (new RegExp("[^script:]").test(h)) {
                            var r = o[n].split(":")
                              , s = r[1].indexOf("(") + 1
                              , l = r[1].lastIndexOf(")")
                              , d = Array.prototype.slice.call(r[1].substring(s, l).split(","))
                              , c = r[1].substring(0, s - 1)
                              , p = [];
                            Site.photoSlide.returnIndex = function() {
                                delete Site.photoSlide.returnIndex,
                                Fai.top.location.href = "/index.jsp"
                            }
                            ,
                            p = [{
                                name: c,
                                base: window
                            }].concat(d),
                            jzUtils.run.apply(window, p)
                        }
                    }
                } else
                    e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -3 == e.rt ? "undefined" != typeof e.bindOtherAcct && e.bindOtherAcct ? Site.memberOtherBindOrLogin(u, Site.wbListener.w_uid, 2, e.mobileCtNameList, e.signNeenMobile, m) : Site.memberOtherLoginFill(u, Site.wbListener.w_uid, 2, e.mobileCtNameList, e.signNeenMobile, m) : -303 == e.rt ? Fai.ing(LS.memberNoAuth, !0) : Fai.ing(LS.js_argsError, !0)
            }
        })
    }
}
,
Site.qqPopupID = "",
Site.initQQLogin = function(e, t, i, a, o, n, r) {
    Site.qqLoginPC(e, t, i, a, o, n, r)
}
,
Site.qqListener = {
    timer: "",
    winOpen: "",
    q_uid: "",
    c: 0,
    q_name: "",
    q_avator: "",
    q_recv: 0
},
Site.qqLoginPC = function(e, t, i, a, o, n, r) {
    $("#" + n).click(function() {
        0 == Site.qqListener.c && (Site.qqListener.winOpen = window.open("https://graph.qq.com/oauth2.0/authorize?client_id=" + e + "&redirect_uri=" + t + "/qqLoginPC.jsp&response_type=token&scope=all", "", "height=525,width=585, toolbar=no, menubar=no, scrollbars=no, status=no, location=yes, resizable=yes"),
        Site.qqListener.timer = window.setInterval("Site.qqWinListenerPC('" + i + "', " + a + ", " + o + ", " + r + ")", 500),
        ++Site.qqListener.c)
    })
}
,
Site.qqWinListenerPC = function(u, e, t, m) {
    if (1 == Site.qqListener.winOpen.closed && (window.clearInterval(Site.qqListener.timer),
    Site.qqListener.c = 0,
    null != Site.qqListener.q_uid && "" !== Site.qqListener.q_uid || (Site.qqListener.q_uid = localStorage.getItem("qqLoginOpenId"),
    localStorage.removeItem("qqLoginOpenId")),
    null != Site.qqListener.q_name && "" !== Site.qqListener.q_name || (Site.qqListener.q_name = localStorage.getItem("qqLoginName"),
    localStorage.removeItem("qqLoginName")),
    null != Site.qqListener.q_avator && "" !== Site.qqListener.q_avator || (Site.qqListener.q_avator = localStorage.getItem("qqLoginAvator"),
    localStorage.removeItem("qqLoginAvator")),
    null != Site.qqListener.q_uid && "" != Site.qqListener.q_uid)) {
        var h = Fai.getUrlParam(Fai.top.location.href, "url");
        h && !loginMemberSucJumpUrlIllegality || (h = "./index.jsp");
        var i = Site.checkHasMobileOption(u)
          , a = !1;
        if (u = jQuery.parseJSON(u))
            for (var o = 0; o < u.length; o++)
                if (u[o].otherLoginMust) {
                    a = !0;
                    break
                }
        var n = "loginType=1&hasMobile=" + i + "&otherLoginMust=" + a + "&openId=" + encodeURIComponent(Site.qqListener.q_uid);
        a || (n += "&avator=" + encodeURIComponent(Site.qqListener.q_avator) + "&name=" + Site.qqListener.q_name),
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/login_h.jsp?cmd=wafNotCk_otherLoginMember",
            data: n,
            error: function r() {
                Fai.ing(LS.memberLoginError, !0)
            },
            success: function f(e) {
                if ((e = jQuery.parseJSON(e)).success) {
                    Site.logMonitor(6047),
                    $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                    var t = $.cookie("forThirtLoginBuy");
                    if (void 0 !== t && null != t && "" != t) {
                        var i = $.parseJSON(t);
                        if (void 0 !== i && null != i)
                            if ("addCartItem" == i.where)
                                (a = {}).pid = i.pid,
                                a.mid = i.mid,
                                a.url = i.url,
                                a.opList = i.opList,
                                a.count = i.count,
                                a.doWhat = "add",
                                $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                Fai.top.location.reload();
                            else if ("immeBuy" == i.where) {
                                var a;
                                (a = {}).pid = i.pid,
                                a.mid = i.mid,
                                a.url = i.url,
                                a.opList = i.opList,
                                a.count = i.count,
                                a.doWhat = "buy",
                                $.cookie("isNeedAddCartItem", $.toJSON(a)),
                                Fai.top.location.reload()
                            }
                        return void $.cookie("forThirtLoginBuy", null)
                    }
                    if (m.skipUrl && (h = m.skipUrl),
                    !m.isPhotoSlide)
                        return void (Fai.top.location.href = h);
                    for (var o = h.split(";"), n = 0; n < o.length - 1; n++) {
                        if (new RegExp("[^script:]").test(h)) {
                            var r = o[n].split(":")
                              , s = r[1].indexOf("(") + 1
                              , l = r[1].lastIndexOf(")")
                              , d = Array.prototype.slice.call(r[1].substring(s, l).split(","))
                              , c = r[1].substring(0, s - 1)
                              , p = [];
                            Site.photoSlide.returnIndex = function() {
                                delete Site.photoSlide.returnIndex,
                                Fai.top.location.href = "/index.jsp"
                            }
                            ,
                            p = [{
                                name: c,
                                base: window
                            }].concat(d),
                            jzUtils.run.apply(window, p)
                        }
                    }
                } else
                    e.active ? Site.memberInactiveDialog(e.mail, e.memName) : -3 == e.rt ? "undefined" != typeof e.bindOtherAcct && e.bindOtherAcct ? Site.memberOtherBindOrLogin(u, Site.qqListener.q_uid, 1, e.mobileCtNameList, e.signNeenMobile, m) : Site.memberOtherLoginFill(u, Site.qqListener.q_uid, 1, e.mobileCtNameList, e.signNeenMobile, m) : -303 == e.rt ? Fai.ing(LS.memberNoAuth, !0) : Fai.ing(LS.js_argsError, !0)
            }
        })
    }
}
,
Site.memberOtherBindOrLogin = function(e, t, i, a, o, n, r) {
    var s = parseInt(1e4 * Math.random());
    1 == i ? (avatorUrl = Site.qqListener.q_avator,
    loginName = Site.qqListener.q_name) : 2 == i ? (avatorUrl = Site.wbListener.wb_avator,
    avatorSize = 50,
    marginLeft = 165,
    loginName = Site.wbListener.wb_name) : 3 != i && 4 != i && 5 != i || (avatorUrl = Site.wxListener.wx_avator,
    marginLeft = 158,
    avatorSize = 64,
    loginName = Site.wxListener.wx_name);
    var l = ['<div style="width:100%; height:1px; font-size:0; background-color:#e3e2e8; margin-top:14px;"/>', '<div id="bindOrLogin">', '<div style="width:100px; height:100px; margin-top:38px; margin-left:153px; background-image:url(', avatorUrl, '); background-size:contain; border-radius:50%;"/>', '<div style="font-size:14px; font-family:MiscosoftYaHei Regular;color:rgb(102,102,102); text-align:center; margin:25px auto 20px;">', loginName, "</div>", '<div style="text-align:center; margin-top:32px;">', '<a hidefocus="true" class="formBtn" style="width:250px; height:40px; line-height:40px; background:#557ce1; font-size:14px; border-radius:30px;" href="javascript:;" onclick=\'Site.chooseBindAcct();return false;\'>' + LS.memberOtherLgnBindAcct + "</a>", "</div>", '<div style="text-align:center; margin-top:25px;">', '<a hidefocus="true" class="formBtn" style="width:249px; height:39px; border:1px solid #557ce1; line-height:40px; background:#FFFFFF;font-size:14px; border-radius:30px; color:#557ce1;" href="javascript:;" onclick=\'Site.otherLoginNow("' + Fai.encodeHtml(loginName) + '",' + s + "," + $.toJSON(e) + ', "' + t + '", ' + i + ", " + $.toJSON(a) + ", " + o + ", " + $.toJSON(n) + ', "' + r + "\");return false;'>" + LS.memberOtherLgnNow + "</a>", "</div></div>", '<div id="bindAcctFirst" style="display:none;">', '<div style="margin-top:60px;"><span style="padding-right:20px;margin-left:62px;font-size:14px;color:rgb(102,102,102);">' + LS.loginDialogAcct + ' :</span><input type="text" id="bindUser" maxlength="50" style="width:200px;height: 32px;font-size: 12px;color: rgb(99,99,99);border: 1px solid #e3e2e8;text-indent: 6px;" /></div>', '<div style="margin-top:20px;"><span style="padding-right:20px;margin-left:62px;font-size:14px;color:rgb(102,102,102);">' + LS.loginDialogPsw + ' :</span><input type="password"  id="bindPassword" autocomplete="off" maxlength="20" style="width:200px;height: 32px;font-size: 12px;color: rgb(99,99,99);border: 1px solid #e3e2e8;text-indent: 6px;" /></div>', '<div id="oLoginTip" style="text-align:center;padding-top:6px;color:red;"></div>', '<div style="text-align:center; margin-top:58px;">', '<a hidefocus="true" class="formBtn" style="width:250px; height:40px; line-height:40px; background:#557ce1; font-size:14px; border-radius:30px;" href="javascript:;" onclick=\'Site.bindAcctFirst(' + s + "," + i + ',"' + t + '",' + $.toJSON(n) + ',"' + r + "\");return false;'>" + LS.memberOtherLgnBind + "</a>", "</div>", '<div style="text-align:center; margin-top:25px;">', '<a hidefocus="true" class="formBtn" style="width:249px; height:39px; border:1px solid #557ce1; line-height:40px; background:#FFFFFF; font-size:14px; border-radius:30px; color:#557ce1;" href="javascript:;" onclick=\'Site.returnBindOrLogin();return false;\'>' + LS.backingOut + "</a>", "</div></div>"];
    l = l.join("");
    var d = {
        boxId: s,
        boxName: "qqLogin",
        title: LS.memberOtherLgnModeChoice,
        htmlContent: l,
        width: 406,
        height: 475
    };
    Site.popupBox(d)
}
,
Site.chooseBindAcct = function() {
    $("#bindOrLogin").hide(),
    $("#bindAcctFirst").show()
}
,
Site.returnBindOrLogin = function() {
    $("#bindAcctFirst").hide(),
    $("#bindOrLogin").show()
}
,
Site.otherLoginNow = function(e, m, t, i, a, o, n, h, r) {
    Fai.top.$("#popupBox" + m).remove(),
    Fai.top.$("#popupBg" + m).remove();
    var s = "cmd=addWafCk_otherAdd"
      , f = $("#oLoginTip")
      , g = {}
      , l = !1;
    if (t)
        for (var d = 0; d < t.length; d++)
            if (t[d].otherLoginMust) {
                l = !0;
                break
            }
    if (l)
        Site.memberOtherLoginFill(t, i, a, o, n, h);
    else {
        g.name = e,
        1 == a ? (g.qqOpenId = i,
        g.headImgUrl = Site.qqListener.q_avator) : 2 == a ? (g.sinaOpenId = i,
        g.headImgUrl = Site.wbListener.wb_avator) : 3 == a ? (g.wxOpenId = i,
        g.headImgUrl = Site.wxListener.wx_avator) : 4 != a && 5 != a || (g.mobiWxOpenId = i,
        g.headImgUrl = Site.wxListener.wx_avator,
        "undefined" != typeof Site.wxListener.w_unionId && Site.wxListener.w_unionId && (g.wxAppUnionId = Site.wxListener.w_unionId),
        void 0 !== r && r && (g.faiOpenId = r));
        var c = !l;
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?" + s,
            data: "info=" + Fai.encodeUrl($.toJSON(g)) + "&loginType=" + a + "&loginNow=" + c,
            error: function p() {
                f.html(LS.memberSignupRegisterError)
            },
            success: function v(e) {
                var t = jQuery.parseJSON(e);
                if (t.success) {
                    $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                    var i = $.cookie("forThirtLoginBuy");
                    if (void 0 !== i && null != i && "" != i) {
                        var a = $.parseJSON(i);
                        if (void 0 !== a && null != a)
                            if ("addCartItem" == a.where)
                                (o = {}).pid = a.pid,
                                o.mid = a.mid,
                                o.url = a.url,
                                o.opList = a.opList,
                                o.count = a.count,
                                o.doWhat = "add",
                                $.cookie("isNeedAddCartItem", $.toJSON(o)),
                                Fai.top.location.reload();
                            else if ("immeBuy" == a.where) {
                                var o;
                                (o = {}).pid = a.pid,
                                o.mid = a.mid,
                                o.url = a.url,
                                o.opList = a.opList,
                                o.count = a.count,
                                o.doWhat = "buy",
                                $.cookie("isNeedAddCartItem", $.toJSON(o)),
                                Fai.top.location.reload()
                            }
                        return void $.cookie("forThirtLoginBuy", null)
                    }
                    if (t.fromBind)
                        Fai.top.$("#popupBg" + m).remove(),
                        Fai.top.$("#popupBox" + m).remove(),
                        Site.memberInactiveDialog(t.mail, t.memName);
                    else if (t.active)
                        Fai.top.$("#popupBg" + m).remove(),
                        Fai.top.$("#popupBox" + m).remove(),
                        Site.memberActiveDialog(g.email, Fai.encodeUrl(g.acct), function() {
                            Fai.top.location.href = url,
                            Fai.top.event.returnValue = !1
                        });
                    else if (h.skipUrl && (url = h.skipUrl),
                    h.isPhotoSlide)
                        for (var n = url.split(";"), r = 0; r < n.length - 1; r++) {
                            if (new RegExp("[^script:]").test(url)) {
                                var s = n[r].split(":")
                                  , l = s[1].indexOf("(") + 1
                                  , d = s[1].lastIndexOf(")")
                                  , c = Array.prototype.slice.call(s[1].substring(l, d).split(","))
                                  , p = s[1].substring(0, l - 1)
                                  , u = [];
                                Site.photoSlide.returnIndex = function() {
                                    delete Site.photoSlide.returnIndex,
                                    Fai.top.location.href = "/index.jsp"
                                }
                                ,
                                u = [{
                                    name: p,
                                    base: window
                                }].concat(c),
                                jzUtils.run.apply(window, u)
                            }
                        }
                    else
                        Fai.top.location.href = url
                } else
                    -601 == t.rt ? f.html(LS.reGetMobileCode) : -8 == t.rt ? f.html(LS.mobileHasSigned) : -6 == t.rt ? f.html(LS.memberSignupRegisterExisted) : -4 == t.rt ? f.html(LS.memberSignupRegisterLimit) : -3 == t.rt ? f.html(LS.memberDialogNotFound) : t.rt == Site.otherLoginErrno.acctAlreadyBind ? f.html(LS.memberOtherLgnAcctAlreadyBind) : f.html(LS.memberSignupRegisterError)
            }
        })
    }
}
,
Site.bindAcctFirst = function(m, e, t, h, i) {
    var a = "cmd=setWafCk_bindAcct"
      , f = $("#oLoginTip")
      , g = {}
      , o = $("#bindUser").val()
      , n = $("#bindPassword").val();
    if (null == o || "" == o)
        return f.html(LS.memberSignupRegisterAcctEmpty),
        void $("#bindUser").focus();
    if (null == n || "" == n)
        return f.html(LS.memberSignupRegisterPwdEmpty),
        void $("#bindPassword").focus();
    n = $.md5(n),
    g.acct = o,
    g.pwd = n,
    1 == e ? g.qqOpenId = t : 2 == e ? g.sinaOpenId = t : 3 == e ? g.wxOpenId = t : 4 != e && 5 != e || (g.mobiWxOpenId = t,
    "undefined" != typeof Site.wxListener.w_unionId && Site.wxListener.w_unionId && (g.wxAppUnionId = Site.wxListener.w_unionId),
    void 0 !== i && i && (g.faiOpenId = i));
    var v = Fai.getUrlParam(Fai.top.location.href, "url");
    v && !loginMemberSucJumpUrlIllegality || (v = "./index.jsp"),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/member_h.jsp?" + a,
        data: "info=" + Fai.encodeUrl($.toJSON(g)) + "&loginType=" + e,
        error: function r() {
            f.html()
        },
        success: function _(e) {
            var t = jQuery.parseJSON(e);
            if (t.success) {
                $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                var i = $.cookie("forThirtLoginBuy");
                if (void 0 !== i && null != i && "" != i) {
                    var a = $.parseJSON(i);
                    if (void 0 !== a && null != a)
                        if ("addCartItem" == a.where)
                            (o = {}).pid = a.pid,
                            o.mid = a.mid,
                            o.url = a.url,
                            o.opList = a.opList,
                            o.count = a.count,
                            o.doWhat = "add",
                            $.cookie("isNeedAddCartItem", $.toJSON(o)),
                            Fai.top.location.reload();
                        else if ("immeBuy" == a.where) {
                            var o;
                            (o = {}).pid = a.pid,
                            o.mid = a.mid,
                            o.url = a.url,
                            o.opList = a.opList,
                            o.count = a.count,
                            o.doWhat = "buy",
                            $.cookie("isNeedAddCartItem", $.toJSON(o)),
                            Fai.top.location.reload()
                        }
                    return void $.cookie("forThirtLoginBuy", null)
                }
                if (t.fromBind)
                    Fai.top.$("#popupBg" + m).remove(),
                    Fai.top.$("#popupBox" + m).remove(),
                    Site.memberInactiveDialog(t.mail, t.memName);
                else if (t.active)
                    Fai.top.$("#popupBg" + m).remove(),
                    Fai.top.$("#popupBox" + m).remove(),
                    Site.memberActiveDialog(g.email, Fai.encodeUrl(g.acct), function() {
                        Fai.top.location.href = v,
                        Fai.top.event.returnValue = !1
                    });
                else if (h.skipUrl && (v = h.skipUrl),
                h.isPhotoSlide)
                    for (var n = v.split(";"), r = 0; r < n.length - 1; r++) {
                        if (new RegExp("[^script:]").test(v)) {
                            var s = n[r].split(":")
                              , l = s[1].indexOf("(") + 1
                              , d = s[1].lastIndexOf(")")
                              , c = Array.prototype.slice.call(s[1].substring(l, d).split(","))
                              , p = s[1].substring(0, l - 1)
                              , u = [];
                            Site.photoSlide.returnIndex = function() {
                                delete Site.photoSlide.returnIndex,
                                Fai.top.location.href = "/index.jsp"
                            }
                            ,
                            u = [{
                                name: p,
                                base: window
                            }].concat(c),
                            jzUtils.run.apply(window, u)
                        }
                    }
                else
                    Fai.top.location.href = v
            } else
                -601 == t.rt ? f.html(LS.reGetMobileCode) : -8 == t.rt ? f.html(LS.mobileHasSigned) : -6 == t.rt ? f.html(LS.memberSignupRegisterExisted) : -4 == t.rt ? f.html(LS.memberSignupRegisterLimit) : -3 == t.rt ? "密码不正确" == t.msg ? f.html(LS.memberPwdError) : f.html(LS.memberDialogNotFound) : t.rt == Site.otherLoginErrno.acctAlreadyBind ? f.html(LS.memberOtherLgnAcctAlreadyBind) : f.html(LS.memberSignupRegisterError)
        }
    })
}
,
Site.checkHasMobileOption = function(e) {
    var t = !1;
    if (e = jQuery.parseJSON(e))
        for (var i = 0; i < e.length; i++)
            if ("mobile" == e[i].fieldKey && e[i].otherLoginMust) {
                t = !0;
                break
            }
    return t
}
,
Site.memberOtherLoginFill = function(e, t, i, l, a, o) {
    "string" == typeof e && (e = jQuery.parseJSON(e));
    var n = parseInt(1e4 * Math.random())
      , r = ""
      , s = "";
    1 == i ? (r = Site.qqListener.q_avator,
    s = Site.qqListener.q_name) : 2 == i ? (r = Site.wbListener.wb_avator,
    s = Site.wbListener.wb_name) : 3 != i && 4 != i && 5 != i || (r = Site.wxListener.wx_avator,
    s = Site.wxListener.wx_name);
    var d = ['<div style="width:100%; height:1px; font-size:0; background-color:#e3e2e8; margin-top:14px;"/>', '<div style="width:100px; height:100px; margin-top:38px; margin-left:153px; background-image:url(', r, '); background-size:contain;"/>', '<div style="padding:6px 2px;" class="J_memberOtherLoginGetCodeForm">', '<div style="padding:5px 0; text-align:center;">', '<div style="vertical-align:middle;font-size:14px;">', s, "</div>", "</div>", '<table cellpadding="0" cellspacing="0" style="_margin:0 auto; margin-top:25px;">', '<tr><td><input id="openId" type="password" autocomplete="off" disabled style="display:none;"/></td></tr>'];
    $.each(e, function(e, t) {
        var i = t.placeholder ? t.placeholder : "";
        if (t.otherLoginMust) {
            var a, o = "width:200px;";
            if ("mobile" == t.fieldKey) {
                if (o = "width:103px;",
                (a = []).push("<select id='mobileCt' name='mobileCt' style='width:100px;margin-left:5px;height:28px;font-size: 12px;color: rgb(99,99,99);border: 1px solid #e3e2e8;text-indent: 6px;' >"),
                l)
                    for (var n = 0; n < l.length; n++)
                        a.push("<option value='" + l[n].ctName + "'>" + l[n].ctShowName + l[n].ctCode + "</option>");
                a.push("</select>"),
                a.join("")
            }
            var r = [];
            if (r.push('<tr class="bindAcctHidn" style="display:block; margin-top:20px; width:400px;">'),
            r.push('<td style="width:110px;_width:auto;text-align:right; color:rgb(99,99,99);font-size:12px;">' + t.name + "：</td><td>"),
            r.push(a),
            t.must)
                if (1 === t.type) {
                    var s = t.propContent.split("\n");
                    r.push('<select id="' + t.fieldKey + '" name="' + t.name + '" class="userAddItem isCheckUAI" style="' + o + 'height:30px; margin-left:5px;-webkit-border-radius:0;-moz-border-radius:0; border:1px solid #e3e2e8; text-indent:6px;box-sizing:content-box;">'),
                    $(s).each(function(e, t) {
                        r.push("<option value='" + t + "'>" + t + "</option>")
                    }),
                    r.push("</select>"),
                    r.push('<span style="font-size:14px; color:rgb(255,36,46); margin-left:5px;">*</span></td>')
                } else
                    r.push('<input id="' + t.fieldKey + '" type="text" name="' + t.name + '" maxlength="50" placeholder="' + i + '" class="userAddItem isCheckUAI" style="' + o + 'height:30px; margin-left:5px;-webkit-border-radius:0;-moz-border-radius:0; border:1px solid #e3e2e8; text-indent:6px;"/>'),
                    r.push('<span style="font-size:14px; color:rgb(255,36,46); margin-left:5px;">*</span></td>');
            else if (1 === t.type) {
                s = t.propContent.split("\n");
                r.push('<select id="' + t.fieldKey + '" name="' + t.name + '" class="userAddItem" style="' + o + 'height:30px; margin-left:5px;-webkit-border-radius:0;-moz-border-radius:0; border:1px solid #e3e2e8; text-indent:6px;box-sizing:content-box;">'),
                $(s).each(function(e, t) {
                    r.push("<option value='" + t + "'>" + t + "</option>")
                }),
                r.push("</select>")
            } else
                r.push('<input id="' + t.fieldKey + '" type="text" name="' + t.name + '" maxlength="50" placeholder="' + i + '" class="userAddItem " style="' + o + 'height:30px; margin-left:5px;-webkit-border-radius:0;-moz-border-radius:0; border:1px solid #e3e2e8; text-indent:6px;"/>');
            r.push("</tr>"),
            d.push(r.join(""))
        }
    }),
    a && (d.push('<tr class="bindAcctHidn" style="display:block; margin-top:10px; width:400px;">'),
    d.push('<td style="width:110px;_width:auto;text-align:right; color:rgb(99,99,99);font-size:12px;">' + LS.js_memberSignup_captcha + "</td>"),
    d.push('<td><input id="memberSignupCaptcha" type="text" style="width:80px;margin-left:5px;height: 25px;font-size: 12px;color: rgb(99,99,99);border: 1px solid #e3e2e8;text-indent: 6px;" maxlength="4"/><div style="width:81px;height:25px;line-height:25px;float:right;text-align:center;color:red;"><img style="width:100%;height:100%;cursor:pointer;margin-left:10px;margin-top:2px;" alt="" id="memberSignupCaptchaImg" onclick="Site.changeCaptchaImg(this)" title="' + LS.js_msgBoradChageValidateCode + '" src="/validateCode.jsp?' + 1e3 * Math.random() + '"/></div></td>'),
    d.push("</tr>"),
    d.push('<tr class="bindAcctHidn" style="display:block; margin-top:10px; width:400px;">'),
    d.push('<td style="width:110px;_width:auto;text-align:right; color:rgb(99,99,99);font-size:12px;">' + LS.js_mobileMsmCode + "</td>"),
    d.push('<td><input type="text" style="width:80px;margin-left:5px;height: 25px;font-size: 12px;color: rgb(99,99,99);border: 1px solid #e3e2e8;text-indent:6px;" id="messageAuthCode" maxlength="6" /><div style="width:100px;height:25px;line-height:25px;float:right;text-align:center;margin-left:10px;margin-top:1px;" class="memberOtherSignup"><div title="' + LS.js_getMobileMsmCode + '" class="getMobileCdBtn" onclick="Site.getOtherSignMobileCode()">' + LS.js_getMobileMsmCode + "</div></div></td>"),
    d.push("</tr>"));
    1 == i ? LS.memberOtherLgnQQMsg : 2 == i ? LS.memberOtherLgnSinaMsg : 3 != i && 4 != i && 5 != i || LS.memberOtherLgnWXMsg,
    d.push("</table>"),
    d.push('<div id="oLoginTip" style="text-align:center;padding-top:6px;color:red;"></div>'),
    d.push('<div style="text-align:center; margin-top:32px;">'),
    d.push('<a hidefocus="true" class="formBtn" style="width:250px; height:40px; line-height:40px; background:#1779ff; font-size:14px; border-radius:30px;" href="javascript:;" onclick=\'Site.memberOtherLoginSubmit(' + n + ',"' + s + '",' + i + "," + $.toJSON(o) + ");return false;'>" + LS.confirm + "</a>"),
    d.push("</div></div>"),
    d = d.join("");
    var c = {
        boxId: n,
        boxName: "qqLogin",
        title: LS.memberOtherLgnAddTitle,
        htmlContent: d,
        width: 406
    };
    Site.popupBox(c),
    $("#openId").val(t)
}
,
Site.getOtherSignMobileCode = function() {
    if (Fai.top._manageMode)
        Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再获取短信验证码。");
    else {
        var e = Site.checkOtherGetMobileCodeParam();
        if (1 == e.checkResult) {
            var t = e.info.captcha
              , i = e.info.mobile
              , a = "";
            if (Fai.top._encryptType && void 0 !== i && Fai.top._faiEncryptKey && 0 < Fai.top._encryptType) {
                var o = new JSEncrypt;
                o.setPublicKey(Fai.top._faiEncryptKey),
                t = t && o.encrypt(t),
                1 == Fai.top._encryptType ? o = new JSEncrypt1 : 2 == Fai.top._encryptType ? o = new JSEncrypt2 : 3 == Fai.top._encryptType && (o = new JSEncrypt3),
                o.setPublicKey(Fai.top._faiEncryptKey),
                a = o.encrypt(i)
            }
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/member_h.jsp?cmd=wafNotCk_getMobileCode",
                data: "mobile=" + i + "&mobileCt=" + e.info.mobileCt + "&validateCode=" + t + "&mCode=" + a,
                error: function n() {
                    Fai.ing(LS.getMobileCodeErrAf, !0)
                },
                success: function r(e) {
                    var t = jQuery.parseJSON(e);
                    t.success ? (Fai.ing(LS.sendMobileCodeSuc, !0),
                    Site.otherSignMobileCodeCountDown()) : (Site.changeCaptchaImg($(".J_memberOtherLoginGetCodeForm").find("#memberSignupCaptchaImg")[0]),
                    $(".J_memberOtherLoginGetCodeForm").find("#memberSignupCaptcha").val(""),
                    -401 == t.rt ? Fai.ing(LS.memberSignupRegisterCaptchaNotMatch, !0) : -2 == t.rt ? Fai.ing(LS.js_argsError, !0) : 2 == t.rt ? Fai.ing(LS.memberDialogSendMobileCodeErr, !0) : -4 == t.rt || 8 == t.rt ? Fai.ing(LS.getMobileOneMin, !0) : -8 == t.rt ? Fai.ing(LS.getMobileHalfHour, !0) : 3 == t.rt ? Fai.ing(LS.memberDialogMobileMoneyErr, !0) : 9 == t.rt ? Fai.ing(LS.memberDialogSendMobileCodeLimit, !0) : 101 == t.rt ? Fai.ing(LS.mobileSetErr, !0) : -6 == t.rt ? Fai.ing(LS.mobileHasSigned, !0) : 23 == t.rt ? Fai.ing(LS.mobileNationTplErr, !0) : -301 == t.rt ? Fai.ing(LS.smsRanout, !0) : Fai.ing(LS.getMobileRefresh, !0))
                }
            })
        }
    }
}
,
Site.checkOtherGetMobileCodeParam = function() {
    var e = {
        checkResult: !1,
        info: {}
    }
      , t = $(".J_memberOtherLoginGetCodeForm").find("#mobile").val()
      , i = $(".J_memberOtherLoginGetCodeForm").find("#memberSignupCaptcha").val();
    return Fai.isNationMobile(t) ? null == i || "" == i ? Fai.ing(LS.memberSignupRegisterCaptchaEmpty, !0) : (e.checkResult = !0,
    (e.info.mobile = t) && null != t && "" != $.trim(t) ? e.info.mobileCt = $(".J_memberOtherLoginGetCodeForm").find("#mobileCt").val() : e.info.mobileCt = "",
    e.info.captcha = i) : Fai.ing(LS.mobileNumRegular, !0),
    e
}
,
Site.otherSignMobileCodeCountDown = function() {
    var e = $(".getMobileCdBtn")
      , t = e.attr("cTime")
      , i = 60;
    t && null != t ? (t = parseInt(t),
    i = 1800) : t = 0,
    t++,
    e.attr("cTime", t),
    e.attr("s_onclick", e.attr("onclick")),
    e.removeAttr("onclick");
    var a = setInterval(function() {
        i--,
        e.html(LS.reGetMsg + "(" + i + ")"),
        i <= 0 && (e.html(e.attr("title")),
        e.attr("onclick", e.attr("s_onclick")),
        clearInterval(a))
    }, 1e3)
}
,
Site.memberOtherLoginSubmit = function(h, e, t, f) {
    var i = "cmd=addWafCk_otherAdd"
      , g = $("#oLoginTip")
      , v = {}
      , a = $(".J_memberOtherLoginGetCodeForm");
    v.name = e,
    1 == t ? (v.qqOpenId = $("#openId").val(),
    v.headImgUrl = Site.qqListener.q_avator) : 2 == t ? (v.sinaOpenId = $("#openId").val(),
    v.headImgUrl = Site.wbListener.wb_avator) : 3 == t ? (v.wxOpenId = $("#openId").val(),
    v.headImgUrl = Site.wxListener.wx_avator) : 4 == t ? (v.mobiWxOpenId = Site.wxListener.w_uid,
    v.headImgUrl = Site.wxListener.wx_avator,
    "undefined" != typeof Site.wxListener.w_unionId && Site.wxListener.w_unionId && (v.wxAppUnionId = Site.wxListener.w_unionId)) : 5 == t && (v.faiOpenId = Site.wxListener.w_faiOpenId,
    v.headImgUrl = Site.wxListener.wx_avator,
    "undefined" != typeof Site.wxListener.w_unionId && Site.wxListener.w_unionId && (v.wxAppUnionId = Site.wxListener.w_unionId));
    var o = ""
      , n = ""
      , r = 0
      , s = ""
      , l = 0;
    if (a.find(".userAddItem").each(function() {
        if (userAddItemID = $(this).attr("id"),
        n = $(this).val(),
        o = $(this).attr("name"),
        s = $(this).attr("maxlength"),
        (v[userAddItemID] = n).length > s)
            return g.html(Fai.format(LS.site_memberSignupUserAddItemMaxLength, o, s)),
            $(this).focus(),
            !(r = 1);
        if ("mobile" == userAddItemID && 0 < n.length) {
            if (!Fai.isNationMobile(n))
                return g.html(LS.mobileNumRegular),
                !(l = 1);
            v.mobileCt = a.find("#mobileCt").val()
        }
    }),
    1 != l && 1 != r) {
        var d = a.find("#messageAuthCode");
        if (void 0 !== d.attr("maxlength") && null != d.attr("maxlength")) {
            var c = a.find("#memberSignupCaptcha").val();
            if (void 0 === c || null == c || "" == c)
                return g.html(LS.memberInputCaptcha),
                !1;
            var p = d.val();
            if (void 0 === p || null == p || "" == p)
                return g.html(LS.inputMobileCode),
                !1;
            v.messageAuthCode = p
        }
        var u = 0;
        if ($("#popupBoxContent" + h + " .isCheckUAI").each(function() {
            return userAddItemID = $(this).attr("id"),
            n = $(this).val(),
            o = $(this).attr("name"),
            null == n || "" == n ? (g.html(Fai.format(LS.memberSignupUserAddItemIsEmpty, o)),
            $(this).focus(),
            !(u = 1)) : "email" == userAddItemID && 0 < n.length && !Fai.isEmail(n) ? (g.html(Fai.format(LS.memberSignupUserAddItemCorrect, o)),
            $(this).focus(),
            !(u = 1)) : void 0
        }),
        1 != u) {
            g.html(LS.memberSignupRegisterIng);
            var _ = Fai.getUrlParam(Fai.top.location.href, "url");
            _ && !loginMemberSucJumpUrlIllegality || (_ = "./index.jsp"),
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/member_h.jsp?" + i,
                data: "info=" + Fai.encodeUrl($.toJSON(v)) + "&loginType=" + t,
                error: function m() {
                    g.html(LS.memberSignupRegisterError)
                },
                success: function S(e) {
                    var t = jQuery.parseJSON(e);
                    if (t.success) {
                        $("#_TOKEN").attr("value") || $("title").after(e._TOKEN);
                        var i = $.cookie("forThirtLoginBuy");
                        if (void 0 !== i && null != i && "" != i) {
                            var a = $.parseJSON(i);
                            if (void 0 !== a && null != a)
                                if ("addCartItem" == a.where)
                                    (o = {}).pid = a.pid,
                                    o.mid = a.mid,
                                    o.url = a.url,
                                    o.opList = a.opList,
                                    o.count = a.count,
                                    o.doWhat = "add",
                                    $.cookie("isNeedAddCartItem", $.toJSON(o)),
                                    Fai.top.location.reload();
                                else if ("immeBuy" == a.where) {
                                    var o;
                                    (o = {}).pid = a.pid,
                                    o.mid = a.mid,
                                    o.url = a.url,
                                    o.opList = a.opList,
                                    o.count = a.count,
                                    o.doWhat = "buy",
                                    $.cookie("isNeedAddCartItem", $.toJSON(o)),
                                    Fai.top.location.reload()
                                } else if ("payKnowProduct" === a.where) {
                                    var n = $("#J_memberLoginDialogPanel").parents(".formBox");
                                    0 < n.length && n.eq(0).find(".popupBClose").click(),
                                    Fai.top.location.reload()
                                }
                            return void $.cookie("forThirtLoginBuy", null)
                        }
                        if (t.fromBind)
                            Fai.top.$("#popupBg" + h).remove(),
                            Fai.top.$("#popupBox" + h).remove(),
                            Site.memberInactiveDialog(t.mail, t.memName);
                        else if (t.active)
                            Fai.top.$("#popupBg" + h).remove(),
                            Fai.top.$("#popupBox" + h).remove(),
                            Site.memberActiveDialog(v.email, Fai.encodeUrl(t.acct), function() {
                                Fai.top.location.href = _,
                                Fai.top.event.returnValue = !1
                            });
                        else if (f.skipUrl && (_ = f.skipUrl),
                        f.isPhotoSlide)
                            for (var r = _.split(";"), s = 0; s < r.length - 1; s++) {
                                if (new RegExp("[^script:]").test(_)) {
                                    var l = r[s].split(":")
                                      , d = l[1].indexOf("(") + 1
                                      , c = l[1].lastIndexOf(")")
                                      , p = Array.prototype.slice.call(l[1].substring(d, c).split(","))
                                      , u = l[1].substring(0, d - 1)
                                      , m = [];
                                    Site.photoSlide.returnIndex = function() {
                                        delete Site.photoSlide.returnIndex,
                                        Fai.top.location.href = "/index.jsp"
                                    }
                                    ,
                                    m = [{
                                        name: u,
                                        base: window
                                    }].concat(p),
                                    jzUtils.run.apply(window, m)
                                }
                            }
                        else
                            Fai.top.location.href = _
                    } else
                        -601 == t.rt ? g.html(LS.reGetMobileCode) : -8 == t.rt ? g.html(LS.mobileHasSigned) : -6 == t.rt ? g.html(LS.memberSignupRegisterExisted) : -4 == t.rt ? g.html(LS.memberSignupRegisterLimit) : -3 == t.rt ? g.html(LS.memberDialogNotFound) : t.rt == Site.otherLoginErrno.acctAlreadyBind ? g.html(LS.memberOtherLgnAcctAlreadyBind) : g.html(LS.memberSignupRegisterError)
                }
            })
        }
    }
}
,
Site.otherLoginErrno = {
    acctAlreadyBind: 1
},
Site.memberFdPwdStepOne = function(e, t, i) {
    var o = parseInt(1e4 * Math.random())
      , a = $.trim($("#module" + e + " .memberAcct").val())
      , n = ["<div class='memberFdPwdStepOne' style='height:100%;'>", "<div style='width:80px; height:1px; font-size:0; background-color:#44a5ff; margin-left:26px; float:left;' class='J_titleBlueLine'></div>", "<div style='width:250px; height:1px; font-size:0; background-color:#dadada; margin-left:96px;'></div>", "<div class='mem-con' style='margin-top:8px;'>", "<span class='mem-title' style='font-family:微软雅黑; font-size:14px; color:rgb(99,99,99); width:110px;'>", LS.memberDialogFwdAcct, "</span>", "<span class='mem-input'><input type='text' id='macct' name='macct' style='-webkit-border-radius: 0; -moz-border-radius: 0; border:1px solid #e7e7e7; width:168px;height:30px;' class='acctInput' value='", Fai.encodeHtml(a), "'/></div>", "</div>", "<div class='itemLine'>", "<div class='itemBtn'><a hidefocus='true' class='formBtn' style='background:#1779ff;' href='javascript:;' onclick='Site.memberFdPwdStepTwo(", o, ");return false;'>", LS.memberDialogNextStep, "</a></span>", "</div>", "</div>"]
      , r = 372
      , s = 176;
    (t || i) && $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/member_h.jsp?cmd=wafNotCk_checkFindPwd",
        async: !1,
        error: function d() {},
        success: function c(e) {
            if ((e = jQuery.parseJSON(e)).success) {
                var t = e.findPwByMailOpen
                  , i = e.findPwByMobileOpen
                  , a = i && t ? LS.memberDialogPlzEnterBoth : i ? LS.memberDialogPlzEnterMobile : t ? LS.memberDialogPlzEnterMail : "";
                (i || t) && (r = 450,
                s = 350,
                n = ["<div class='wraper'>", "<input type='text' id='acquirerInput' class='findPwInput' placeholder='" + a + "'>", "<input type='text' id='memCodeInput' class='findPwCodeInput' placeholder='" + LS.memberDialogEnterCode + "'>", "<input type='text' id='memCodeSign' style='display: none;' disabled/>", "<div class='acquireCode' onclick='Site.acquireCode(" + o + ", " + i + ", " + t + ");return false;'>" + LS.memberDialogAcquireCode + "</div>", "<div class='itemLine'>", "<div class='itemTitle'></div>", "<div class='itemCtrl'><a data-disabled='true' hidefocus='true' class='formBtn' style='background:#1779ff; margin-left:55px; margin-top:55px;' href='javascript:;' onclick='Site.memberNewFdPwdStepTwo(", o, ");return false;'>", LS.memberDialogNextStep, "</a></div>", "</div>", "</div>"])
            } else
                Fai.ing(LS.js_argsError)
        }
    }),
    n = n.join("");
    var l = {
        boxId: o,
        title: "<span class='J_fidnPwFirstTitle'>" + LS.memberDialogFwdStepOneTitle + "</span>",
        htmlContent: n,
        width: r,
        height: s,
        boxName: "memberFdPwd",
        extClass: "fk-findPw"
    };
    Site.popupBox(l),
    setTimeout(function() {
        var e = Fai.top.$("#popupBox" + o)
          , t = e.find(".J_fidnPwFirstTitle").width();
        e.find(".J_titleBlueLine").css("width", t + 10 + "px")
    }, 200)
}
,
Site.acquireCode = function(t, i, a) {
    var o = Fai.top.$("#popupBox" + t)
      , e = o.find("#acquirerInput").val();
    if (Fai.isNull(e) || !e)
        return !1;
    a && Fai.isEmail(e) ? $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mail_h.jsp?cmd=wafNotCk_sendMemberPwdEmail",
        data: "memName=" + Fai.encodeUrl(e) + "&new=true",
        error: function n() {
            Fai.ing(LS.js_systemError)
        },
        success: function r(e) {
            (e = jQuery.parseJSON(e)).success ? (o.find("#memCodeSign").val(e.emailCodeSign),
            o.find(".formBtn").data("disabled", !1),
            Fai.ing(LS.memberDialogSendMailSucess),
            Site.acquireCodeCountdown(t, 60, i, a)) : e.aliasNotF ? Fai.ing(LS.memberDialogAliasNotFound) : e.notFound ? Fai.ing(LS.memberDialogNotFound) : e.smtpErr ? Fai.ing(LS.smtpErr) : Fai.ing(LS.js_argsError)
        }
    }) : i && Fai.isMobile(e) ? $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/member_h.jsp?cmd=wafNotCk_sendMemberPwdMobileCode",
        data: "memName=" + Fai.encodeUrl(e) + "&new=true",
        error: function n() {
            Fai.ing(LS.js_systemError)
        },
        success: function r(e) {
            (e = jQuery.parseJSON(e)).success ? (o.find("#memCodeSign").val(e.mobileCodeSign),
            o.find(".formBtn").data("disabled", !1),
            Fai.ing(LS.memberDialogSendMobileCode),
            Site.acquireCodeCountdown(t, 60, i, a)) : e.argErr ? Fai.ing(LS.memberDialogSendMobileClose) : e.apiKeyNotFound ? Fai.ing(LS.memberDialogYunPianErr) : e.tplNotFound ? Fai.ing(LS.memberDialogMobileTplErr) : e.notFound ? Fai.ing(LS.memberDialogNotFound) : e.limitOne ? Fai.ing(LS.getMobileOneMin) : e.limitTwo ? Fai.ing(LS.getMobileHalfHour) : e.noMoney ? Fai.ing(LS.memberDialogMobileMoneyErr) : e.mobileErr ? Fai.ing(LS.memberDialogSendMobileCodeErr) : e.sendLimit ? Fai.ing(LS.memberDialogSendMobileCodeLimit) : e.mobileSysErr ? Fai.ing(LS.memberDialogSendMobileSysErr) : e.tplNationErr ? Fai.ing(LS.mobileNationTplErr) : e.systemErr ? Fai.ing(LS.js_systemError) : -301 == e.rt ? Fai.ing(LS.smsRanout) : Fai.ing(LS.js_argsError)
        }
    }) : Fai.isMobile(e) ? Fai.ing(LS.memberDialogPlzEnterMail) : Fai.isEmail(e) ? Fai.ing(LS.memberDialogPlzEnterMobile) : Fai.ing(LS.memberDialogPlzEnterBoth)
}
,
Site.acquireCodeCountdown = function(e, t, i, a) {
    var o = Fai.top.$("#popupBox" + e);
    o.find(".acquireCode").attr("onclick", "");
    var n = setInterval(function() {
        o.find(".acquireCode").attr("onclick", ""),
        o.find(".acquireCode").text(Fai.format(LS.reacquireMemCode, t)),
        t < 0 && (clearInterval(n),
        o.find(".acquireCode").text(LS.memberDialogAcquireCode),
        o.find(".acquireCode").attr("onclick", "Site.acquireCode(" + e + ", " + i + ", " + a + ");return false;")),
        t--
    }, 1e3)
}
,
Site.memberNewFdPwdStepTwo = function(o) {
    var e = Fai.top.$("#popupBox" + o);
    if ($(".formBtn").data("disabled"))
        Fai.ing(LS.memberDialogGetCodeFirst);
    else {
        var t = e.find("#memCodeInput").val();
        if (!Fai.isNull(t) && t) {
            var i = e.find("#memCodeSign").val();
            if (!Fai.isNull(i) && t) {
                var a = ""
                  , n = e.find("#acquirerInput").val();
                if (Fai.isNull(n) || !n)
                    return !1;
                if (Fai.isEmail(n))
                    a = "mail";
                else {
                    if (!Fai.isMobile(n))
                        return !1;
                    a = "mobile"
                }
                var r = "memCode=" + Fai.encodeUrl(t) + "&memCodeSign=" + Fai.encodeUrl(i) + "&acquirer=" + Fai.encodeUrl(n) + "&mode=" + Fai.encodeUrl(a);
                $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/member_h.jsp?cmd=wafNotCk_checkMobileCodeGeneral",
                    data: r,
                    error: function s() {
                        Fai.ing(LS.js_systemError)
                    },
                    success: function l(e) {
                        if ((e = jQuery.parseJSON(e)).success) {
                            Fai.top.$("#popupBg" + o).remove(),
                            Fai.top.$("#popupBox" + o).remove();
                            var t = parseInt(1e4 * Math.random())
                              , i = ["<div class='wraper'>", "<input type='password' id='newPwInput' class='findPwInput' placeholder='" + LS.memberDialogFwd + "'>", "<input type='password' id='assureNewPwInput' style='margin-top: 20px;' class='findPwInput' placeholder='" + LS.memberDialogFwd2 + "'>", "<div class='itemLine'>", "<div class='itemTitle'></div>", "<div class='itemCtrl'><a hidefocus='true' class='formBtn' style='background:#1779ff; margin-left:55px; margin-top:55px;' href='javascript:;' onclick='Site.memberNewFdPwdLastStep(", t, ", ", e.memId, ");return false;'>", LS.memberDialogNextStep, "</a></div>", "</div>", "</div>"];
                            i = i.join("");
                            var a = {
                                boxId: t,
                                title: "<span class='J_fidnPwFirstTitle'>" + LS.memberDialogFwdStepOneTitle + "</span>",
                                htmlContent: i,
                                width: 450,
                                height: 350,
                                boxName: "memberFdPwd",
                                extClass: "fk-findPw"
                            };
                            Site.popupBox(a)
                        } else
                            e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : 1 == e.rt && Fai.ing(LS.memberDialogCodeMailFailure)
                    }
                })
            } else
                Fai.ing(LS.memberDialogGetCodeFirst)
        } else
            Fai.ing(LS.memberInputCaptcha)
    }
}
,
Site.memberNewFdPwdLastStep = function(o, e) {
    var t = $("#newPwInput").val();
    if (!Fai.isNull(t) && t) {
        var i = $("#assureNewPwInput").val();
        if (!Fai.isNull(i) && i)
            if (t === i)
                if (t.length < 4 || 20 < t.length)
                    Fai.ing(Fai.format(LS.memberDialogPwdLimit, 4, 20));
                else {
                    var a = "newPw=" + $.md5(t) + "&memId=" + Fai.encodeUrl(e);
                    $.ajax({
                        type: "post",
                        url: Site.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/member_h.jsp?cmd=setWafCk_setMemberPwdGeneral",
                        data: a,
                        error: function n() {
                            Fai.ing(LS.js_systemError)
                        },
                        success: function r(e) {
                            e = jQuery.parseJSON(e);
                            var t = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp";
                            if (e.success) {
                                Fai.top.$("#popupBg" + o).remove(),
                                Fai.top.$("#popupBox" + o).remove();
                                var i = ["<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:270px;'>", "<div class='sa-icon sa-success animate' style='margin-top: 17px; margin-left: 185px;'>", "<span class='sa-line sa-tip animateSuccessTip'></span>", "<span class='sa-line sa-long animateSuccessLong'></span>", "<div class='sa-placeholder'></div>", "<div class='sa-fix'></div>", "</div>", "<div class='voteSuccessTitle' style='margin-top: 35px; margin-left: 88px;'>" + LS.memberDialogPwdModifySucc + "!</div>", "<div>", "<a class='formBtn' style='background:#1779ff; margin-left:55px; margin-top:55px;' href='" + t + "'>", LS.memberDialogLoginInstantly, "</a>", "</div>", "</div>"];
                                i = i.join("");
                                var a = {
                                    title: "<span class='J_fidnPwFirstTitle'>" + LS.memberDialogFwdStepOneTitle + "</span>",
                                    htmlContent: i,
                                    width: 450,
                                    height: 350,
                                    boxName: "memberFdPwd",
                                    extClass: "fk-findPw"
                                };
                                Site.popupBox(a)
                            } else
                                e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : Fai.ing(LS.js_argsError, !0)
                        }
                    })
                }
            else
                Fai.ing(LS.memberDialogPwdDifToPwd2);
        else
            Fai.ing(LS.memberDialogPleaseEnterPwd2)
    } else
        Fai.ing(LS.memberDialogPleaseEnterPwd)
}
,
Site.memberFdPwdStepTwo = function(f) {
    var g = $.trim($("#macct").val());
    if ("" == g)
        return Fai.ing(LS.memberDialogPleaseEnterAcct, !0),
        void $("#macct").focus();
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/member_h.jsp?cmd=getWafNotCk_getMAcctMail",
        data: "mAcct=" + Fai.encodeUrl(g),
        error: function e() {
            Fai.ing(LS.js_systemError, !1)
        },
        success: function v(e) {
            if ((e = jQuery.parseJSON(e)).success) {
                if (!e.findPwByMobileOpen && e.noMail) {
                    var t = LS.memberDialogNoEmailMsg;
                    return void Site.showModifyPwContMsg(t, f)
                }
                if (!e.findPwByMailOpen && (null == e.mobile || "null" == e.mobile || "" == e.mobile)) {
                    t = LS.memberDialogNoMobile;
                    return void Site.showModifyPwContMsg(t, f)
                }
                if (e.noMail && ("null" == e.mobile || "" == e.mobile)) {
                    t = LS.memberDialogNoMailMobile;
                    return void Site.showModifyPwContMsg(t, f)
                }
                e.noMail && (e.findPwByMailOpen = !1),
                "null" != e.mobile && "" != e.mobile || (e.findPwByMobileOpen = !1),
                Fai.top.$("#popupBg" + f).remove(),
                Fai.top.$("#popupBox" + f).remove();
                var i = parseInt(1e4 * Math.random())
                  , a = ""
                  , o = ""
                  , n = ""
                  , r = "";
                Fai.isIE6() ? (o = "position:relative;",
                n = "top:5px;",
                r = "height:355px") : (o = "position:absolute; top:30px;",
                n = "top:-20px;",
                a = "position:relative;margin-top:-20px;");
                var s = ["<div class='memberFdPwdStepTwo' style='height:90%;", o, "'>", "<div class='J_btBlueLine' style='width:110px; height:1px; font-size:0; background-color:#44a5ff; margin-left:26px; position:absolute; z-index:1;", n, "'></div>", "<div style='width:460px; height:1px; font-size:0; background-color:#dadada; margin-left:26px; position:absolute; ", n, "'></div>"]
                  , l = [];
                e.findPwByMailOpen && (l = e.noMail ? ["<div class='J_fdFwdByMailContent' style='" + r + "'>", "<div class='memberFdPwdTwoMsg' style='color:#636363;font-family:微软雅黑;font-size:14px;font-weight:bold;position:relative;top:90px;left:70px;width:360px;'>", LS.memberShowNoMail + "<br>" + LS.memberDialogConMg, "</div>", "<div class='memberDialogNoNumberTip'></div>", "<div style='margin-top:35px;'><div class='itemTitle2' style='height:34px; width:173px;'></div><a hidefocus='true' style='background: #1779ff; width:166px; height:35px;position:relative;top:170px;' class='formBtn' href='javascript:;' onclick='Site.closeFdPwdBoxById(", i, ");return false;'>", LS.confirm, " </a></div>", "</div>"] : ["<div class='J_fdFwdByMailContent' style='", a, "'>", "<div class='memberFdPwdTwoMsg'>", "<div class='itemStepLine'>", LS.memberDialogFwdOneStep, "<a href='javascript:;' hidefocus='true' style='color:#ff6d00' id='memSendPwdCode' onclick='Site.sendMemberEmailPwdCode();return false;'>", LS.memberDialogClickHere, "</a><span id='menWaitMsg'></span>", Fai.format(LS.memberDialogFwdOneStepThirdMsg, e.mail), "</div>", "<div class='itemStepLine'>", LS.memberDialogFwdTwoStep, "</div>", "<div class='itemStepLine'>", LS.memberDialogFwdThreeStep, "</div>", "</div>", "<div class='titleWrap' style=' margin-top:30px;'><div class='itemTitle2' style=' width:124px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwdMailCode, "</div><input type='text' id='memEmailCode' style='width:284px; height:26px; border: 1px solid #e7e7e7;-webkit-border-radius: 0; -moz-border-radius: 0px;'/></div>", "<div class='titleWrap' style='display:none;'><div class='itemTitle2'></div><input type='text' id='memMailCodeSign' disabled/></div>", "<div class='titleWrap' style='display:none;'><div class='itemTitle2'></div><input type='text' id='macct2' value='", Fai.encodeHtml(g), "' disabled/></div>", "<div class='titleWrap' style=' margin-top:20px;'><div class='itemTitle2' style=' width:124px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwd, "</div><input type='password' id='memPwd' style='width:284px; height:26px; border: 1px solid #e7e7e7;-webkit-border-radius: 0; -moz-border-radius: 0px;'/></div>", "<div class='titleWrap' style=' margin-top:20px;'><div class='itemTitle2' style=' width:124px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwd2, "</div><input type='password' id='memPwd2' style='width:284px; height:26px; border: 1px solid #e7e7e7;-webkit-border-radius: 0; -moz-border-radius: 0px;'/></div>", "<div id='memPwdItemErrorWrap' style='display:none;padding:0 10px; margin-top:10px;text-align:center;'><span style='color:red;height:24px;line-height:24px;font-family:微软雅黑;font-size:14px;' id='memPwdItemError'></span></div>", "<div style='margin-top:35px;'><div class='itemTitle2' style='height:34px; width:173px;'></div><a hidefocus='true' style='background: #1779ff; width:166px; height:35px;' class='formBtn' href='javascript:;' onclick='Site.memberFdPwdStepLast(", i, ",", 1, ");return false;'>", LS.memberDialogNextStep, " </a></div>", "</div>"]);
                var d = [];
                if (e.findPwByMobileOpen) {
                    var c = "display:block;" + r;
                    if (e.findPwByMailOpen && (c = "display:none;" + r),
                    "null" == e.mobile || "" == e.mobile)
                        d = ["<div class='J_fdFwdByMobileContent' style='" + c + "'>", "<div class='memberFdPwdTwoMsg' style ='color:#636363;font-family:微软雅黑;font-size:14px;font-weight:bold;position:relative;top:90px;left:70px;width:360px;'>", LS.memberShowNoMobile + "<br>" + LS.memberDialogConMg, "</div>", "<div class='memberDialogNoNumberTip'></div>", "<div style='margin-top:35px;'><div class='itemTitle2' style='height:34px; width:173px;'></div><a hidefocus='true' style='background: #1779ff; width:166px; height:35px;position:relative;top:170px;' class='formBtn' href='javascript:;' onclick='Site.closeFdPwdBoxById(", i, ");return false;'>", LS.confirm, " </a></div>", "</div>"];
                    else {
                        var p = "";
                        e.findPwByMailOpen && !e.noMail || (p = "<div style='display:none;'><div class='itemTitle2'></div><input type='text' id='macct2' value='" + Fai.encodeHtml(g) + "' disabled/></div>"),
                        d = ["<div class='J_fdFwdByMobileContent' style='", c, a, "'>", "<div class='memberFdPwdTwoMsg'>", "<div class='itemStepLine'>", LS.memberDialogFwdOneStep, "<a href='javascript:;' hidefocus='true' style='color:#ff6d00' id='memSendMobilePwdCode' onclick='Site.sendMemberMobileCode();return false;'>", LS.memberDialogClickHere, "</a><span id='menMbWaitMsg'></span>", Fai.format(LS.memberDialogFwdByMobileOneStep, e.mobile), "</div>", "<div class='itemStepLine'>", LS.memberDialogFwdByMobileSendStep, "</div>", "<div class='itemStepLine'>", LS.memberDialogFwdThreeStep, "</div>", "</div>", "<div style='height:26px; margin-top:30px;'><div class='itemTitle2' style='padding-top:3px; width:124px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.mobileCodeTip + " : &nbsp;", "</div><input type='text' id='memMobileCode' maxlength='6' style='width:284px; height:26px; border: 1px solid #e7e7e7;-webkit-border-radius: 0; -moz-border-radius: 0px;'/></div>", "<div style='display:none;'><div class='itemTitle2'></div><input type='text' id='memMobileCodeSign' disabled/></div>", p, "<div style='height:26px; margin-top:20px;'><div class='itemTitle2' style='padding-top:3px; width:124px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwd, "</div><input type='password' id='memPwdMb' style='width:284px; height:26px; border: 1px solid #e7e7e7;-webkit-border-radius: 0; -moz-border-radius: 0px;'/></div>", "<div style='height:26px; margin-top:20px;'><div class='itemTitle2' style='padding-top:3px; width:124px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwd2, "</div><input type='password' id='memPwdMb2' style='width:284px; height:26px; border: 1px solid #e7e7e7;-webkit-border-radius: 0; -moz-border-radius: 0px;'/></div>", "<div id='memPwdMbItemErrorWrap' style='display:none;padding:0 10px; margin-top:10px;text-align:center;'><span style='color:red;height:24px;line-height:24px;font-family:微软雅黑;font-size:14px;' id='memPwdMbItemError'></span></div>", "<div style='margin-top:35px;'><div class='itemTitle2' style='height:34px; width:173px;'></div><a hidefocus='true' style='background: #1779ff; width:166px; height:35px;' class='formBtn' href='javascript:;' onclick='Site.memberFdPwdStepLast(", i, ",", 2, ");return false;'>", LS.memberDialogNextStep, " </a></div>", "</div>"]
                    }
                }
                Array.prototype.push.apply(s, l),
                Array.prototype.push.apply(s, d),
                s.push("</div>"),
                s = s.join("");
                var u = "";
                if (e.findPwByMailOpen && (u = "<span  class='f-findPwSetHoverBox J_findPwByMailBox' onclick='Site.changeFdPwdShowTab(1, " + i + "," + e.findPwByMailOpen + ")'>" + LS.memberDialogMailTitle + "</span>"),
                e.findPwByMobileOpen) {
                    var m = "";
                    e.findPwByMailOpen && (m = "style='margin-left:30px;'"),
                    u = u + "<span " + m + "  class='f-findPwSetHoverBox J_findPwByMobileBox' onclick='Site.changeFdPwdShowTab(2, " + i + "," + e.findPwByMailOpen + ")'>" + LS.memberDialogMobileTitle + "</span>"
                }
                var h = {
                    boxId: i,
                    title: u,
                    htmlContent: s,
                    width: 510,
                    height: 437,
                    boxName: "memberFdPwd"
                };
                Site.popupBox(h),
                setTimeout(function() {
                    Site.changeFdPwdShowTab(1, i, e.findPwByMailOpen)
                }, 200)
            } else
                e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : Fai.ing(LS.js_argsError, !0)
        }
    })
}
,
Site.memberFdPwdStepLast = function(e, t) {
    void 0 !== t && 2 == t ? Site.memberFdPwdByMobileStepLast(e) : Site.memberFdPwdByMailStepLast(e)
}
,
Site.sendMemberMobileCode = function() {
    if (!$("#memSendMobilePwdCode").data("_disable")) {
        var e = $("#macct2").val();
        "" != e ? ($.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=wafNotCk_sendMemberPwdMobileCode",
            data: "memName=" + Fai.encodeUrl(e),
            error: function t() {
                $("#memSendMobilePwdCode").data("_disable", !1),
                Fai.ing(LS.js_systemError, !1)
            },
            success: function i(e) {
                $("#memSendMobilePwdCode").data("_disable", !1),
                (e = jQuery.parseJSON(e)).success ? ($("#memMobileCodeSign").val(e.mobileCodeSign),
                $("#memPwdMbItemErrorWrap").show(),
                $("#memPwdMbItemError").html(LS.memberDialogSendMobileCode),
                $("#memSendMobilePwdCode").hide(),
                $("#menMbWaitMsg").show(),
                $("#menMbWaitMsg").text(Fai.format(LS.memberDialogCountDown, 60)),
                $("#menMbWaitMsg").data("_time", 60),
                Site.memberMbDisableTimeout("memSendMobilePwdCode")) : e.argErr ? ($("#memPwdMbItemErrorWrap").show(),
                $("#memPwdMbItemError").html(LS.memberDialogSendMobileClose)) : e.apiKeyNotFound ? ($("#memPwdMbItemErrorWrap").show(),
                $("#memPwdMbItemError").html(LS.memberDialogYunPianErr)) : e.tplNotFound ? ($("#memPwdMbItemErrorWrap").show(),
                $("#memPwdMbItemError").html(LS.memberDialogMobileTplErr)) : e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : e.limitOne ? Fai.ing(LS.getMobileOneMin, !0) : e.limitTwo ? Fai.ing(LS.getMobileHalfHour, !0) : e.noMoney ? Fai.ing(LS.memberDialogMobileMoneyErr, !0) : e.mobileErr ? Fai.ing(LS.memberDialogSendMobileCodeErr, !0) : e.sendLimit ? Fai.ing(LS.memberDialogSendMobileCodeLimit, !0) : e.mobileSysErr ? Fai.ing(LS.memberDialogSendMobileSysErr, !0) : e.tplNationErr ? Fai.ing(LS.mobileNationTplErr, !0) : e.systemErr ? Fai.ing(LS.js_systemError, !0) : -301 == e.rt ? Fai.ing(LS.smsRanout, !0) : Fai.ing(LS.js_argsError, !0)
            }
        }),
        $("#memSendMobilePwdCode").data("_disable", !0)) : Fai.ing(LS.memberDialogPleaseEnterAcct, !0)
    }
}
,
Site.memberFdPwdByMobileStepLast = function(a) {
    var e = $("#macct2").val();
    if ("" != e) {
        var t, i = $("#memMobileCode").val(), o = $("#memMobileCodeSign").val(), n = $("#memPwdMb").val(), r = $("#memPwdMb2").val();
        if (o ? i ? 6 != i.length ? t = LS.mobileNumRegular : n ? r ? n != r ? t = LS.memberDialogPwdDifToPwd2 : (n.length < 4 || 20 < n.length) && (t = Fai.format(LS.memberDialogPwdLimit, 4, 20)) : t = LS.memberDialogPleaseEnterPwd2 : t = LS.memberDialogPleaseEnterPwd : t = LS.inputMobileCode : t = LS.memberDialogSendMobileFirst,
        t)
            return $("#memPwdMbItemErrorWrap").show(),
            void $("#memPwdMbItemError").html(t);
        $("#memPwdMbItemErrorWrap").show(),
        $("#memPwdMbItemError").html(LS.memberDialogResetting);
        var s = "memMobileCode=" + Fai.encodeUrl(i) + "&memMobileCodeSign=" + Fai.encodeUrl(o) + "&memPwd=" + $.md5(n) + "&memName=" + Fai.encodeUrl(e);
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=setWafCk_setMemberPwdByMobileCode",
            data: s,
            error: function l() {
                Fai.ing(LS.js_systemError, !1)
            },
            success: function d(e) {
                if ((e = jQuery.parseJSON(e)).success) {
                    Fai.top.$("#popupBg" + a).remove(),
                    Fai.top.$("#popupBox" + a).remove();
                    var t = ["<div style='padding-left:60px;'>", "<div class='alertWarn memberFdPwdLastMsg' style='margin-top:17px;'>", LS.memberDialogReSetPwdSucess, "</div>", "<div style='padding:10px 0 10px 30px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwdAcct, e.macct, "</div>", "<a href='javascript:void(0);' class='formBtn popupBClose' style='margin-left:45px; margin-top:16px; background:#1779ff; width:166px; height:35px;'>", LS.login, "</a>", "</div>"]
                      , i = {
                        htmlContent: t = t.join(""),
                        width: 372,
                        height: 176
                    };
                    Site.popupBox(i)
                } else
                    1 == e.rt ? ($("#memMobileCodeSign").val(""),
                    $("#memPwdMbItemErrorWrap").show(),
                    $("#memPwdMbItemError").html(LS.reGetMobileCode)) : e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : Fai.ing(LS.js_argsError, !0)
            }
        })
    } else
        Fai.ing(LS.memberDialogPleaseEnterAcct, !0)
}
,
Site.sendMemberEmailPwdCode = function() {
    if (!$("#memSendMobilePwdCode").data("_disable")) {
        var e = $("#macct2").val();
        "" != e ? ($.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/mail_h.jsp?cmd=wafNotCk_sendMemberPwdEmail",
            data: "memName=" + Fai.encodeUrl(e),
            error: function t() {
                $("#memSendPwdCode").data("_disable", !1),
                Fai.ing(LS.js_systemError, !1)
            },
            success: function i(e) {
                $("#memSendPwdCode").data("_disable", !1),
                (e = jQuery.parseJSON(e)).success ? ($("#memMailCodeSign").val(e.emailCodeSign),
                $("#memPwdItemErrorWrap").show(),
                $("#memPwdItemError").html(LS.memberDialogSendMailSucess),
                $("#memSendPwdCode").hide(),
                $("#menWaitMsg").show(),
                $("#menWaitMsg").text(Fai.format(LS.memberDialogCountDown, 60)),
                $("#menWaitMsg").data("_time", 60),
                Site.memberDisableTimeout("memSendPwdCode", 1)) : e.aliasNotF ? ($("#memPwdItemErrorWrap").show(),
                $("#memPwdItemError").html(LS.memberDialogAliasNotFound)) : e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : e.smtpErr ? Fai.ing(LS.smtpErr, !0) : Fai.ing(LS.js_argsError, !0)
            }
        }),
        $("#memSendPwdCode").data("_disable", !0)) : Fai.ing(LS.memberDialogPleaseEnterAcct, !0)
    }
}
,
Site.memberFdPwdByMailStepLast = function(a) {
    var e = $("#macct2").val();
    if ("" != e) {
        var t, i = $("#memEmailCode").val(), o = $("#memMailCodeSign").val(), n = $("#memPwd").val(), r = $("#memPwd2").val();
        if (o ? i ? n ? r ? n != r ? t = LS.memberDialogPwdDifToPwd2 : (n.length < 4 || 20 < n.length) && (t = Fai.format(LS.memberDialogPwdLimit, 4, 20)) : t = LS.memberDialogPleaseEnterPwd2 : t = LS.memberDialogPleaseEnterPwd : t = LS.memberDialogPleaseEnterCode : t = LS.memberDialogPleaseSendCode,
        t)
            return $("#memPwdItemErrorWrap").show(),
            void $("#memPwdItemError").html(t);
        $("#memPwdItemErrorWrap").show(),
        $("#memPwdItemError").html(LS.memberDialogResetting);
        var s = "memEmailCode=" + Fai.encodeUrl(i) + "&memMailCodeSign=" + Fai.encodeUrl(o) + "&memPwd=" + $.md5(n) + "&memName=" + Fai.encodeUrl(e);
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=setWafCk_setMemberPwdByCode",
            data: s,
            error: function l() {
                Fai.ing(LS.js_systemError, !1)
            },
            success: function d(e) {
                if ((e = jQuery.parseJSON(e)).success) {
                    Fai.top.$("#popupBg" + a).remove(),
                    Fai.top.$("#popupBox" + a).remove();
                    var t = ["<div style='padding-left:60px;'>", "<div class='alertWarn memberFdPwdLastMsg' style='margin-top:17px;'>", LS.memberDialogReSetPwdSucess, "</div>", "<div style='padding:10px 0 10px 30px; font-family:微软雅黑; font-size:14px; color:rgb(99,99,99);'>", LS.memberDialogFwdAcct, e.macct, "</div>", "<a href='javascript:void(0);' class='formBtn popupBClose' style='margin-left:45px; margin-top:16px; background:#1779ff; width:166px; height:35px;'>", LS.login, "</a>", "</div>"]
                      , i = {
                        htmlContent: t = t.join(""),
                        width: 372,
                        height: 176
                    };
                    Site.popupBox(i)
                } else
                    1 == e.rt ? ($("#memMailCodeSign").val(""),
                    $("#memPwdItemErrorWrap").show(),
                    $("#memPwdItemError").html(LS.memberDialogCodeMailFailure)) : e.notFound ? Fai.ing(LS.memberDialogNotFound, !0) : Fai.ing(LS.js_argsError, !0)
            }
        })
    } else
        Fai.ing(LS.memberDialogPleaseEnterAcct, !0)
}
,
Site.memberInactiveDialog = function(e, t) {
    var i = ["<div class='formPanel'>", "<div class='itemLine2 reActWarn'>", LS.memberDialogAcctInactive, "</div>", "<div class='itemLine2'>", Fai.format(LS.memberDialogShowLoginMail, e), "</div>", "<div class='itemLine2 reActWarn'>", LS.memberDialogNoRevSureEmail, "</div>", "<div class='itemLine2' style='padding-top:0;padding-bottom:0;'>", LS.memberDialogPleaseConfirmYourMail, "<input type='text' id='memEmail' class='memEmailAlterInput' value='", e, "'/><a id='memSendMail' hidefocus='true' onclick='Site.memberSendActiveMail(\"", Fai.encodeHtml(t), "\");' href='javascript:void(0);'>", LS.memberDialogClickReSendMsg, "</a><span id='menWaitMsg'></span></div>", "<div class='itemLine2' id='showOKorErrorMsg' style='color:red;'></div>", "</div>"];
    i = i.join("");
    var a = {
        title: LS.memberDialogTips,
        htmlContent: i,
        width: 465,
        height: 226
    };
    Site.popupBox(a)
}
,
Site.memberActiveDialog = function(e, t, i) {
    var a = ["<div class='formPanel'>", "<div class='itemLine2 reActWarn'>", LS.memberDialogRegSuccess, "</div>", "<div class='itemLine2'>", Fai.format(LS.memberDialogShowLoginMail, e), "</div>", "<div class='itemLine2 reActWarn'>", LS.memberDialogNoRevSureEmail, "</div>", "<div class='itemLine2' style='padding-top:0;padding-bottom:0;'>", LS.memberDialogPleaseConfirmYourMail, "<input type='text' id='memEmail' class='memEmailAlterInput' value='", e, "'/><a id='memSendMail' hidefocus='true' onclick='Site.memberSendActiveMail(\"", Fai.encodeHtml(t), "\");' href='javascript:void(0);'>", LS.memberDialogClickReSendMsg, "</a><span id='menWaitMsg'></span></div>", "<div class='itemLine2' id='showOKorErrorMsg' style='color:red;'></div>", "</div>"];
    a = a.join("");
    var o = {
        title: LS.memberDialogActiveAcctTitle,
        htmlContent: a,
        width: 465,
        height: 226,
        closeFunc: i
    };
    Site.popupBox(o),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mail_h.jsp?cmd=wafNotCk_sendMemberActiveMail",
        data: "memName=" + Fai.encodeUrl(t) + "&memEmail=" + e,
        error: function n() {
            Fai.ing(LS.js_systemError, !1)
        },
        success: function r(e) {
            (e = jQuery.parseJSON(e)).success || 2052 === Fai.top._lcid && -303 === e.rt && Fai.ing(e.msg, !0)
        }
    })
}
,
Site.memberSendActiveMail = function(e) {
    if (!$("#memSendMail").data("_disable")) {
        var t = $.trim($("#memEmail").val());
        Fai.isEmail(t) ? ($.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/mail_h.jsp?cmd=wafNotCk_sendMemberActiveMail",
            data: "memName=" + Fai.encodeUrl(e) + "&memEmail=" + t,
            error: function i() {
                $("#memSendMail").data("_disable", !1),
                Fai.ing(LS.js_systemError, !1)
            },
            success: function a(e) {
                $("#memSendMail").data("_disable", !1),
                (e = jQuery.parseJSON(e)).success ? (Fai.top.$("#showOKorErrorMsg").html(LS.memberDialogOKorErrorMsg),
                Fai.top.$("#memSendMail").hide(),
                Fai.top.$("#menWaitMsg").show(),
                Fai.top.$("#menWaitMsg").text(Fai.format(LS.memberDialogAfterTimeToResend, 60)),
                Fai.top.$("#menWaitMsg").data("_time", 60),
                Site.memberDisableTimeout("memSendMail", 0)) : e.AliaNotF ? ($("#showOKorErrorMsg").html(LS.memberDialogAliasNotFound),
                $("#showOKorErrorMsg").show()) : 2052 === Fai.top._lcid && -303 === e.rt && ($("#showOKorErrorMsg").html(e.msg),
                $("#showOKorErrorMsg").show())
            }
        }),
        $("#memSendMail").data("_disable", !0)) : Fai.ing(LS.memberDialogPleaseSureMail, !0)
    }
}
,
Site.memberDisableTimeout = function(t, i) {
    var a = Fai.top.$("#menWaitMsg")
      , o = parseInt(a.data("_time"));
    0 < o ? (o--,
    setTimeout(function() {
        var e = LS.memberDialogAfterTimeToResend;
        1 == i && (e = LS.memberDialogCountDown),
        a.text(Fai.format(e, o)),
        Site.memberDisableTimeout(t, i)
    }, 1e3),
    $("#menWaitMsg").data("_time", o)) : (Fai.top.$("#" + t).show(),
    a.text("").hide())
}
,
Site.memberMbDisableTimeout = function(t) {
    var i = Fai.top.$("#menMbWaitMsg")
      , a = parseInt(i.data("_time"));
    0 < a ? (a--,
    setTimeout(function() {
        var e = LS.memberDialogCountDown;
        i.text(Fai.format(e, a)),
        Site.memberMbDisableTimeout(t)
    }, 1e3),
    $("#menMbWaitMsg").data("_time", a)) : (Fai.top.$("#" + t).show(),
    i.text("").hide())
}
,
Site.closeFdPwdBoxById = function(e) {
    Fai.top.$("#popupBg" + e).remove(),
    Fai.top.$("#popupBox" + e).remove()
}
,
Site.showModifyPwContMsg = function(e, t) {
    var i = ["<div>", "<div style='padding:8px 26px;text-align:center;height:60px;'>", e, "</div>", "<a href='javascript:void(0);' class='formBtn popupBClose' style='margin-left:128px;'>", LS.confirm, "</a>", "</div>"]
      , a = {
        htmlContent: i = i.join(""),
        width: 378,
        height: 120
    };
    Site.popupBox(a),
    Fai.top.$("#popupBg" + t).remove(),
    Fai.top.$("#popupBox" + t).remove()
}
,
Site.changeFdPwdShowTab = function(e, t, i) {
    if (i || (e = 2),
    1 == e) {
        var a = (o = Fai.top.$("#popupBox" + t)).find(".J_findPwByMailBox").width();
        o.find(".J_findPwByMailBox").css("color", "#44A5FF"),
        o.find(".J_findPwByMobileBox").css("color", ""),
        void 0 !== a && 0 < a && o.find(".J_btBlueLine").css({
            width: a + 10 + "px",
            "margin-left": "26px"
        }),
        o.find(".J_fdFwdByMobileContent").css("display", "none"),
        o.find(".J_fdFwdByMailContent").css({
            display: "block"
        })
    } else if (2 == e) {
        var o;
        (o = Fai.top.$("#popupBox" + t)).find(".J_findPwByMobileBox").css("color", "#44A5FF"),
        o.find(".J_findPwByMailBox").css("color", "");
        a = o.find(".J_findPwByMobileBox").width();
        var n = o.find(".J_findPwByMailBox").width();
        void 0 !== a && 0 < a && (n += n <= 0 ? 26 : 56,
        o.find(".J_btBlueLine").css({
            width: a + 15 + "px",
            "margin-left": n + "px"
        })),
        o.find(".J_fdFwdByMailContent").css("display", "none"),
        o.find(".J_fdFwdByMobileContent").css({
            display: "block"
        })
    }
}
,
Site.initModuleSiteSearch = function(e) {
    var t = $("#module" + e)
      , i = $(t.find("input.g_itext")[0])
      , a = $(t.find(".g_btn")[0]);
    i.keypress(function(e) {
        13 == e.keyCode && 0 < a.length && a[0].click()
    });
    var o = t.find(".searchBox").attr("class")
      , n = t.find(".recommandKeyBox");
    if ("searchBox" == o ? n.css("vertical-align", "7px") : n.css("vertical-align", "11px"),
    Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
        var r = t.find(".fk-newSearchBoxContainer");
        if (r) {
            var s = r.height();
            t.find(".fk-newSearchInput").css({
                "line-height": s + "px",
                height: s + "px"
            })
        }
    }
    var l = JZ.getIsOpenRemoveUrlArg() ? JZ.getUrlHashInCookie() : Fai.top.location.hash
      , d = Fai.getHashParam(l, "skeyword");
    d && "" != d && t.find(".fk-newSearchInput").val(d);
    var c = t.find(".J_newSearchBox")
      , p = t.find(".recommandKeyBox ")
      , u = t.find(".J_dynamicShowTip .linkKeys");
    1 <= u.length && c.length && p.length && c.position().top == p.position().top && (p.css("line-height", c.height() + "px"),
    u.css("margin-top", 0))
}
,
Site.searchInSite = function(e) {
    var t, i, a, o = $("#module" + e);
    i = (t = o.find(".fk-newSearchBox").length ? o.find(".fk-newSearchInput") : o.find("input.g_itext")).val(),
    a = t.attr("_nSL"),
    t.attr("_searching") || ("" != $.trim(i) ? (Fai.isPC() && t.attr("_searching", !0),
    Fai.top.location.href = Site.preprocessUrl({
        path: "",
        oldPath: ""
    }) + "sr.jsp?skeyword=" + Fai.encodeUrl($.trim(i)) + "&nSL=" + a + "&moduleId=" + e) : Fai.ing(LS.enterSearchText, !0))
}
,
Site.searchInSiteByKey = function(e, t, i) {
    var a, o, n = $("#module" + e);
    o = (a = n.find(".fk-newSearchBox").length ? n.find(".fk-newSearchInput") : n.find("input.g_itext")).attr("_nSL"),
    href = Site.preprocessUrl({
        path: "",
        oldPath: ""
    }) + "sr.jsp?skeyword=" + Fai.encodeUrl($.trim(t)) + "&nSL=" + o,
    a.attr("_searching") || (Fai.isPC() && a.attr("_searching", !0),
    Fai.top._manageMode ? Site.redirectUrl(href, "_self", i, 1, 0) : setTimeout(function() {
        Fai.top.location.href = href
    }))
}
,
Site.searchMenu = {},
Site.initSearchDropMenu = function(e, i, t) {
    if (t = t || [],
    !((i = $.parseJSON(i)).length >= Fai.top._siteSeachRangeLength)) {
        var a, o = $("#module" + e).find(".fk-openSearchMenu"), n = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], r = [{
            id: 4,
            name: "site",
            value: t[4] || LS.searchMenuSite,
            enable: !0,
            nSL: []
        }, {
            id: 1,
            name: "product",
            value: t[1] || LS.searchMenuProduct,
            enable: !1,
            nSL: [3, 4, 5, 6, 7, 8, 9, 10, 12]
        }, {
            id: 2,
            name: "article",
            value: t[2] || LS.searchMenuArticle,
            enable: !1,
            nSL: [0, 1, 2, 5, 6, 7, 8, 9, 10, 12]
        }, {
            id: 3,
            name: "gallery",
            value: t[3] || LS.searchMenuPhoto,
            enable: !1,
            nSL: [0, 1, 2, 3, 4, 8, 12]
        }];
        0 < i.length && $.each(i, function(e, t) {
            var i = $.inArray(t, n);
            -1 < i && n.splice(i, 1)
        }),
        $.each(n, function(e, t) {
            0 <= t && t <= 2 ? r[1].enable = !0 : 3 <= t && t <= 4 ? r[2].enable = !0 : 5 <= t && t <= 10 && 8 != t && (r[3].enable = !0)
        }),
        $.each(r, function(e, t) {
            if (t.enable)
                return a = uniqueNslArray(t.nSL.concat(i)),
                o.find(".fk-newSearchInput").attr("_nsl", $.toJSON(a)),
                o.find(".fk-searchMenuWord div").text(t.value),
                o.find(".fk-newSearchSelectMenu").attr("_selectItem", t.id),
                !1
        }),
        Site.searchMenu["module" + e] = new NewSearchMenu(e,r,i),
        Site.searchMenu["module" + e].bindMenuDropEvent()
    }
}
,
NewSearchMenu.prototype.initSearchMenuDom = function(e) {
    var i = [];
    return i.push("<div id='J_newSearchSelectMenu" + this.id + "' class='J_newSearchSelectMenu fk-newSearchSelectMenu" + this.id + "' style='display:none;'>"),
    i.push("<div class='fk-newSearchSelectMenuShow fk-newSearchPanel" + e + "'>"),
    $.each(this.openMenuList, function(e, t) {
        t.enable && i.push("<span class='fk-searchMenuKeyWord J_searchMenuItem" + t.id + " fk-" + t.name + "SearchMenu' _nsl='[" + t.nSL + "]' _val='" + t.id + "'>" + t.value + "</span>\n")
    }),
    i.push("</div>\n"),
    i.push("</div>\n"),
    i.join("")
}
,
NewSearchMenu.prototype.getMenuPanelPosition = function() {
    var e, t, i, a, o, n, r = $("#module" + this.id).find(".fk-openSearchMenu"), s = r.attr("_borderwidth"), l = r.attr("_bordertype");
    return o = 0 == l ? 1 : 1 == l ? 0 : s,
    0 < r.length && (n = r.attr("_type")),
    10 == n && (r = r.find(".fk-newSearchSelectMenu")),
    e = r.offset().left,
    t = r.offset().top,
    i = r.outerHeight(),
    a = 10 == n ? r.width() - o : r.find(".fk-newSearchSelectMenu").width(),
    t -= $(window).scrollTop(),
    {
        left: e -= $(window).scrollLeft(),
        top: t + i,
        width: 1 == n || 8 == n || 3 == n || 5 == n || 2 == n || 9 == n || 7 == n ? ++a : a
    }
}
,
NewSearchMenu.prototype.setMenuPanelPosition = function(e) {
    var t = this.getMenuPanelPosition()
      , i = t.left
      , a = t.top
      , o = t.width
      , n = this.id
      , r = $("#module" + n)
      , s = r.find(".fk-openSearchMenu")
      , l = r.find(".fk-newSearchSelectWrap")
      , d = r.find(".fk-newSearchSelectMenu")
      , c = e.find(".fk-newSearchSelectMenuShow")
      , p = l.css("border-bottom-width").replace("px", "")
      , u = d.css("border-bottom-width").replace("px", "");
    e.length && (r.find(".fk-dynamicSearch").length ? r.find(".fk-newSearchBox7").length ? (a -= 4,
    e.find(".fk-searchMenuKeyWord").css("padding-left", "18px")) : (o -= 2,
    c.css({
        marginTop: "10px",
        padding: "10px 0"
    })) : r.find(".fk-newSearchBox2").length ? a -= parseInt(s.attr("_borderWidth") || 1) : r.find(".fk-newSearchBox9").length ? a -= parseInt(s.attr("_borderWidth") || 3) : r.find(".fk-newSearchBox8").length ? a -= u : r.find(".fk-newSearchBox1").length && (a -= p),
    (r.parent().hasClass("leftForms") || r.parent().hasClass("rightForms") || r.parent().hasClass("middleLeftForms") || r.parent().hasClass("middleRightForms")) && e.find(".fk-searchMenuKeyWord").css("padding-left", "12px"),
    c.width(o + "px"),
    e.css({
        position: "fixed",
        left: i,
        top: a,
        "z-index": 1001
    }))
}
,
NewSearchMenu.prototype.foldSelectMenuPanel = function() {
    var e, t, i, a, o, n, r, s, l, d = this.id, c = $("#module" + d), p = c.find(".fk-openSearchMenu"), u = p.find(".fk-newSearchSelectMenu"), m = p.find(".fk-newSearchBoxContainer").find(".fk-searchMenuSplitLine"), h = this;
    t = $("#J_newSearchSelectMenu" + h.id),
    i = "fold" == u.attr("_status"),
    a = p.attr("_type"),
    o = p.attr("_styleColor"),
    _usethemecolor = p.attr("_usethemecolor"),
    o = 1 == _usethemecolor && Fai.top._useTempThemeColor || o,
    bgColor = p.attr("_bgColor"),
    r = p.attr("_bordercolor"),
    borderWidth = p.attr("_borderwidth"),
    borderType = p.attr("_bordertype"),
    borderStyle = p.attr("_borderstyle"),
    n = u.attr("_selectItem"),
    e = $(this.initSearchMenuDom(a)),
    s = r || o,
    styleName = changeSearchBorderStyle(borderStyle),
    l = borderWidth || (1 == a ? 2 : 1),
    i && (t.length || (2 == a || 7 == a ? fixSelectMenuStyle(a, i, d) : 10 == a && p.css("border-bottom-right-radius", "0"),
    $("body").append(e),
    t = $("#J_newSearchSelectMenu" + h.id),
    h.setMenuPanelPosition(t),
    p.addClass("fk-searchShowMenu"),
    h.bindMenuPanelSpanEvent(),
    t.slideDown("200"),
    u.attr("_status", "unfold").data("inMenu", !1).data("inPanel", !1),
    u.find(".fk-searchMenuImgArrow").removeClass("fk-searchMenuFold").addClass("fk-searchMenuUnfold"),
    m = c.find(".fk-searchShowMenu .fk-searchMenuSplitLine"),
    3 != a && 8 != a && 2 != a && 5 != a && 9 != a && 10 != a && 7 != a || 2 != borderType || (m.css("border-left-style", styleName),
    m.css("border-left-color", s),
    m.css("border-left-width", l + "px")),
    1 != a && 5 != a || 1 == borderType || (m.css("border-left-style", styleName),
    m.css("border-left-color", s),
    m.css("border-left-width", l + "px"),
    t.find(".fk-newSearchSelectMenuShow").css("border-color", s)),
    t.find(".J_searchMenuItem" + n).css("color", o).addClass("J_selectThisKeyWord"),
    t.find(".fk-newSearchSelectMenuShow").css("background-color", bgColor)))
}
,
NewSearchMenu.prototype.unfoldSelectMenuPanel = function() {
    var e, t, i, a, o, n = this.id, r = $("#module" + n).find(".fk-openSearchMenu"), s = (r.find(".fk-newSearchSelectWrap"),
    r.find(".fk-searchMenuSplitLine")), l = r.find(".fk-newSearchSelectMenu");
    r.find(".fk-searchBoxBtn");
    e = $("#J_newSearchSelectMenu" + this.id),
    t = l.attr("_status"),
    i = "fold" == t,
    a = !(!l.data("inPanel") && !l.data("inMenu")),
    o = r.attr("_type"),
    borderWidth = parseInt(r.attr("_borderWidth")),
    borderType = parseInt(r.attr("_borderType")),
    i || a || (l.attr("_status", "fold"),
    l.find(".fk-searchMenuImgArrow").removeClass("fk-searchMenuUnfold").addClass("fk-searchMenuFold"),
    e.slideUp("200", function() {
        e.remove(),
        2 == o || 7 == o ? fixSelectMenuStyle(o, i, n) : 10 == o && r.css("border-bottom-right-radius", "5px"),
        1 != o && 3 != o && 8 != o && 2 != o && 5 != o && 9 != o && 10 != o && 7 != o || (s.css("border-left-color", ""),
        s.css("border-left-width", ""),
        s.css("border-left-style", "")),
        r.removeClass("fk-searchShowMenu")
    }))
}
,
NewSearchMenu.prototype.bindMenuDropEvent = function() {
    var e, t = this.id, i = $("#module" + t).find(".fk-openSearchMenu"), a = (i.find(".fk-newSearchSelectWrap"),
    i.find(".fk-newSearchSelectMenu")), o = (i.find(".fk-searchBoxBtn"),
    this);
    i.attr("_type"),
    parseInt(i.attr("_borderWidth")),
    parseInt(i.attr("_borderType"));
    a.unbind("mouseenter.foldpMenu").bind("mouseenter.foldpMenu", function() {
        Fai.isIE8() || ($("#J_newSearchSelectMenu" + o.id),
        e = a.attr("_status"),
        "fold" == e && o.foldSelectMenuPanel(),
        a.data("inMenu", !0))
    }),
    a.unbind("mouseleave.unfoldMenu").bind("mouseleave.unfoldMenu", function() {
        Fai.isIE8() || (setTimeout(o.unfoldSelectMenuPanel.bind(o), 200),
        a.data("inMenu", !1))
    }),
    Fai.isIE8() && a.unbind("click.unfoldMenu").bind("click.unfoldMenu", function() {
        Fai.ing("下拉选择不能支持当下浏览器，请更新浏览器后再使用。", !1)
    }),
    Fai.top._manageMode ? Fai.top.$(window).unbind("scroll.srcollSc").bind("scroll.srcollSc", function(e) {
        $(".J_newSearchSelectMenu").hide()
    }) : Fai.top.$(window).unbind("scroll.srcollSc").bind("scroll.srcollSc", function(e) {
        $(".J_newSearchSelectMenu").hide()
    })
}
,
NewSearchMenu.prototype.bindMenuPanelSpanEvent = function() {
    var t, i, a, o, n = this, e = n.id, r = $("#module" + e).find(".fk-openSearchMenu"), s = r.find(".fk-newSearchSelectMenu"), l = $("#J_newSearchSelectMenu" + e), d = l.find(".fk-searchMenuKeyWord"), c = r.attr("_type"), p = r.attr("_styleColor"), u = r.attr("_usethemecolor"), m = 4 == c || 6 == c, h = (this.openMenuList,
    this.noSearchList);
    n.unfoldSelectMenuPanel;
    p = 1 == u && Fai.top._useTempThemeColor || p,
    d.hover(function() {
        m && $(this).css("background-color", "#f5f5f5").siblings().css("background-color", ""),
        $(this).css("color", p)
    }, function() {
        m && $(this).css("background-color", "#fff"),
        $(this).hasClass("J_selectThisKeyWord") || $(this).css("color", "")
    }).click(function(e) {
        i = $(this),
        t = i.attr("_val"),
        s.attr("_selectItem", t),
        d.removeClass("J_selectThisKeyWord").css("color", "#7f7f7f"),
        i.addClass("J_selectThisKeyWord").css("color", p),
        s.find(".fk-searchMenuWord div").text(i.text()),
        a = $.parseJSON(i.attr("_nsl")),
        o = $.unique(a.concat(h)),
        r.find(".fk-newSearchInput").attr("_nsl", $.toJSON(o)),
        $(".J_newSearchSelectMenu").hide()
    }),
    l.mouseenter(function(e) {
        s.data("inPanel", !0),
        n.foldSelectMenuPanel()
    }).mouseleave(function(e) {
        s.data("inPanel", !1),
        setTimeout(n.unfoldSelectMenuPanel.bind(n), 200)
    })
}
,
Site.dynamicSearchBox = {},
Site.initDynamicSearchBox = function(e, t) {
    var i = 1 == $("#module" + e).find(".J_newSearchBox").attr("_usethemecolor");
    t = i && Fai.top._useTempThemeColor || t,
    Site.fixDynamicSearchMenu(e),
    Site.dynamicSearchBox["module" + e] = new NewDynamicSearchBox(e,t,i),
    Site.dynamicSearchBox["module" + e].bindSearchBoxEvent()
}
,
Site.fixDynamicSearchMenu = function(e) {
    var t, i = $("#module" + e).find(".fk-dynamicSearch"), a = i.find(".fk-newSearchSelect");
    i.find(".fk-newSearchSelectMenu"),
    i.find(".fk-newSearchBoxContainer");
    i.width(Site.fixCusWidthSearchBox(e, !0)),
    t = a.width(),
    a.data("width", t).css({
        position: "relative",
        left: t + "px"
    })
}
,
NewDynamicSearchBox.prototype.bindSearchBoxEvent = function() {
    var t, i, a, o, n, e = this, r = e.id, s = e.color, l = this._usethemecolor, d = $("#module" + r), c = d.find(".fk-newSearchBox"), p = c.find(".fk-newSearchSelect"), u = c.find(".fk-searchBoxBtn"), m = c.find(".fk-newSearchSelectMenu"), h = m.find(".fk-searchMenuWord"), f = c.find(".fk-newSearchBoxContainer"), g = f.find("input"), v = d.attr("_modulestyle"), _ = c.attr("_type");
    function S() {
        var e, t = RgbatoRgb(c.attr("_borderColor")) || "#ddd";
        o ? (e = {
            left: 0,
            opacity: 1
        },
        p.css("border-color", t),
        u.css("border-color", t)) : e = {
            left: 0,
            opacity: 1
        },
        (i || a) && (m.find(".fk-searchSelectMenuRightBorder").height(h.height()),
        i && u.css("border-bottom-color", ""),
        a && u.css("border-right-color", "") && p.css("border-left-color", "")),
        u.css("background-color", ""),
        m.css("visibility", "visible"),
        f.css("visibility", "visible"),
        p.animate(e, 300, function() {
            $(this).css("left", "0"),
            $(this).css("opacity", "1"),
            g.focus()
        }),
        o && (u.css("border-color", t),
        p.css("border-color", t)),
        g.css("background-color", ""),
        m.css("background-color", ""),
        u.data("unfold", !0).find("span").css("color", s),
        d.find(".J_dynamicShowTip").css("visibility", "visible")
    }
    function b() {
        RgbatoRgb(c.attr("_borderColor"));
        n = p.width(),
        g.focusout(),
        p.animate({
            left: n + "px"
        }, 300, function() {
            $(this).css("left", n + "px"),
            m.css("visibility", "hidden"),
            f.css("visibility", "hidden"),
            i && u.css("border-bottom-color", "#ddd"),
            a && u.css("border-right-color", "#ddd") && p.css("border-left-color", "#ddd")
        }),
        o && (p.css("border-color", "transparent"),
        u.css("border-color", "transparent")),
        m.css("background-color", "transparent"),
        g.css("background-color", "transparent"),
        u.css("background-color", "transparent"),
        u.data("unfold", !1).find("span").css("color", "#C2C2C2"),
        d.find(".J_dynamicShowTip").css("visibility", "hidden")
    }
    i = 4 == _,
    a = 6 == _,
    o = 7 == _,
    u.hover(function() {
        s = l && Fai.top._useTempThemeColor || s,
        u.data("unfold") || $(this).find("span").css(Site.CompatibleColor.textStyle(s))
    }, function() {
        u.data("unfold") || ($(this).find("span").css(Site.CompatibleColor.textStyleEmpty()),
        $(this).find("span").css("color", "#C2C2C2"))
    }).click(function(e) {
        t = u.data("unfold"),
        n = p.data("width"),
        t ? "" == g.val().trim() ? b() : 62 == v ? Site.searchInSite(r) : Site.searchProduct(r) : S()
    }),
    Fai.top == window && $(Fai.top.document.body).bind("click.hideSearchBox", function(e) {
        $(e.target).parents("#module" + r).length || $(e.target).parents("#J_newSearchSelectMenu" + r).length || (t = u.data("unfold")) && b()
    })
}
,
Site.fixCusWidthSearchBox = function(e, t) {
    var i, a = $("#module" + e), o = a.find(".formMiddleContent"), n = a.find(".J_newSearchBox"), r = n.find(".fk-newSearchSelectWrap"), s = n.find(".fk-newSearchSelect"), l = n.find(".fk-newSearchSelectMenu"), d = n.find(".fk-newSearchBoxContainer"), c = n.find(".fk-searchBoxBtn"), p = n.attr("_type"), u = n.attr("_borderwidth"), m = o.innerWidth(), h = a.outerWidth() - m, f = r.outerWidth(!0), g = c.outerWidth(!0);
    if (l.length && (f = l.outerWidth(!0) + d.outerWidth(!0) + s.outerWidth(!0) - s.width()),
    i = f + g,
    u = parseInt(u),
    1 == p || 3 == p || 8 == p ? i += u = u || (1 == p ? 2 : 1) : 2 == p || 5 == p || 9 == p || 10 == p ? i += 2 * (u = u || 1) : 4 == p || 7 == p ? u = u || (7 == p ? 2 : 1) : 6 == p && (u = u || 1),
    t)
        return i;
    m < i && a.width(i + h)
}
,
Site.bindSearchBtnEvent = function(t) {
    var e = $("#module" + t)
      , i = e.find(".fk-newSearchBox").find(".fk-newSearchBoxContainer").find("input")
      , a = e.attr("_modulestyle");
    i.unbind("keyup.searchip").bind("keyup.searchip", function(e) {
        13 === e.keyCode && (inputVal = i.val().trim(),
        "" != inputVal ? 62 == a ? Site.searchInSite(t) : Site.searchProduct(t) : Fai.ing(LS.enterSearchText, !0))
    })
}
,
Site.fixWidthChangeBtn = function(e, t, i) {
    var a, o, n = $("#module" + e), r = n.find(".fk-newSearchBox"), s = n.find(".fk-newSearchSelectWrap"), l = r.find(".fk-searchBoxBtn");
    1 == t ? (a = s.height() + 2 * i,
    l.height(a).find("span").css("line-height", a + "px"),
    r.height(a)) : 3 == t || 8 == t ? (a = s.height(),
    l.height(a).find("span").css("line-height", a + "px"),
    r.height(a)) : 4 == t ? (a = s.outerHeight(),
    r.height(a)) : 6 == t ? (o = Site.fixCusWidthSearchBox(e, !0),
    r.width(o)) : 7 == t && (a = s.outerHeight(),
    r.height(a),
    o = Site.fixCusWidthSearchBox(e, !0),
    r.width(o))
}
,
Site.searchModuleSizeChagne = function(e, t) {
    if (Site.isModule(e, [45, 62])) {
        var i = e.attr("id").replace("module", "")
          , a = Site.isVueStyleGrayTest(i) ? Site.getModuleAttrPattern(i).sbp : Site.getModuleAttrPattern(i).searchBoxPattern
          , o = (a.inputWidth,
        0)
          , n = 0
          , r = e.find(".J_newSearchBox")
          , s = e.find(".fk-newSearchBoxContainer")
          , l = e.find(".fk-searchBoxBtn")
          , d = l.find("span")
          , c = e.find(".fk-searchMenuWord")
          , p = r.attr("_type")
          , u = r.attr("_borderwidth")
          , m = e.data("searchWidth")
          , h = e.data("searchHeight") || r.outerHeight();
        o = e.width() - t.orWidth,
        n = e.height() - t.orHeight,
        0 != o && (m += o,
        a.iw = m,
        e.data("searchWidth", m),
        s.width(m),
        4 == p || 7 == p ? (Site.fixDynamicSearchMenu(i),
        l.data("unfold") && l.trigger("click")) : 6 == p && (Site.fixDynamicSearchMenu(i),
        l.data("unfold") && l.trigger("click"))),
        0 != n && (h += n,
        e.data("searchHeight", h),
        1 == p || 3 == p || 8 == p ? (h -= 2 * (u = u || (1 == p ? 2 : 1)),
        a.ih = h,
        r.height(h),
        s.height(h - 2 * u),
        l.height(h),
        d.css("line-height", h + "px"),
        c.css("line-height", h - 2 * u + "px")) : 2 == p || 5 == p || 9 == p || 10 == p ? (h -= 2 * (u = u || 1),
        a.ih = h,
        h -= 2 * u,
        r.height(h),
        s.height(h),
        l.height(h),
        d.css("line-height", h + "px"),
        c.css("line-height", h + "px")) : 4 != p && 6 != p && 7 != p || (4 == p ? (h -= u = u || 1,
        r.height(h),
        h -= u) : 6 == p ? u = u || 1 : 7 == p && (h -= 2 * (u = u || 2),
        r.height(h),
        h -= 2 * u),
        a.ih = h,
        s.height(h),
        l.height(h),
        d.css("line-height", h + "px"),
        c.css("line-height", h + "px"),
        Site.fixDynamicSearchMenu(i),
        l.data("unfold") && l.trigger("click")))
    }
}
,
Site.initModuleMsgBoardComments = function() {
    function v(e) {
        $(".J_comment_circle").show(),
        e = e || 1,
        $.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/msgBoard_h.jsp",
            data: "cmd=getWafNotCk_getComment&pageNo=" + e,
            success: function g(e) {
                try {
                    e = JSON.parse(e)
                } catch (f) {
                    return void console.log(f)
                }
                var t = e.moduleStyle
                  , i = e.paginationData;
                if (e.success) {
                    var a = Fai.decodeHtml(e.commentHtml || "")
                      , o = []
                      , r = i ? i.curPage : 1
                      , s = i ? i.pageSum : 1
                      , n = r - 2 <= 0 ? 1 : r - 2
                      , l = s <= r + 2 ? s : r + 2;
                    2 < Math.abs(r - 1) && 1 != n && o.push(1),
                    2 < n && o.push("...");
                    for (var d = n; d <= l; d++)
                        o.push(d);
                    l < s - 1 && o.push("..."),
                    2 < Math.abs(r - s) && s != l && o.push(s);
                    var c = document.createDocumentFragment()
                      , p = $("<div></div>");
                    if (p.attr("id", "pagenation15"),
                    1 < s)
                        if (1 === t) {
                            p.addClass("pagenation paginationWrapper"),
                            $pagePre = $("<div></div>"),
                            $pagePre.addClass("pagePrev pageLeft J_pageBtn"),
                            $pagePre.html("<span>上一页</span>"),
                            p.append($pagePre),
                            r <= 1 ? $pagePre.removeClass("pageAllow") : $pagePre.addClass("pageAllow");
                            for (var u = 0; u < o.length; u++)
                                $tempDiv = $("<div></div>"),
                                "..." === o[u] ? ($tempDiv.removeClass("pageAllow"),
                                $tempDiv.addClass("pageEllipsis")) : ($tempDiv.addClass("pageAllow"),
                                $tempDiv.data("page", o[u])),
                                r === o[u] ? ($tempDiv.removeClass("pageAllow"),
                                $tempDiv.addClass("pageNo J_pageSelect fk-pageSelect"),
                                $tempDiv.html("<span>" + o[u] + "</span>")) : ($tempDiv.addClass("pageNo J_pageBtn"),
                                $tempDiv.html("<span style='color: #666'>" + o[u] + "</span>")),
                                p.append($tempDiv);
                            $pageNext = $("<div></div>"),
                            $pageNext.addClass("pageNext pageRight J_pageBtn"),
                            $pageNext.html("<span>下一页</span>"),
                            s <= r ? $pageNext.removeClass("pageAllow") : $pageNext.addClass("pageAllow"),
                            p.append($pageNext)
                        } else if (2 === t) {
                            p.addClass("pagenation_N paginationWrapper"),
                            $pagePre = $("<div></div>"),
                            $pagePre.addClass("J_pageBtn pagePrev_N pageLeft"),
                            r <= 1 ? ($pagePre.addClass("prevHide_model"),
                            $pagePre.removeClass("pageAllow"),
                            $pagePre.html("<div class='fk_pageArrow_ps J_pageArrow_N'></div><span class='unclick' style='margin-left:3px;'>上一页</span>")) : ($pagePre.addClass("prevShow_model"),
                            $pagePre.addClass("pageAllow"),
                            $pagePre.html("<div class='fk_pageArrow_ps J_pageArrow_N'></div><span style='margin-left:3px;'>上一页</span>")),
                            p.append($pagePre);
                            for (u = 0; u < o.length; u++)
                                $tempDiv = $("<div></div>"),
                                "..." === o[u] ? ($tempDiv.removeClass("pageAllow"),
                                $tempDiv.addClass("pageEllipsis")) : $tempDiv.data("page", o[u]),
                                $tempDiv.addClass("pageNo J_pageBtn"),
                                r === o[u] ? ($tempDiv.html("<span class='selected'>" + o[u] + "</span>"),
                                $tempDiv.removeClass("pageAllow")) : ("..." !== o[u] && ($tempDiv.addClass("p_border"),
                                $tempDiv.addClass("pageAllow")),
                                $tempDiv.html("<span>" + o[u] + "</span>")),
                                p.append($tempDiv);
                            $pageNext = $("<div></div>"),
                            $pageNext.addClass("J_pageBtn pageNext_N pageRight"),
                            s <= r ? ($pageNext.addClass("nextHide_model"),
                            $pageNext.removeClass("pageAllow"),
                            $pageNext.html("<span class='unclick'>下一页</span><div class='fk_pageArrow_ns J_pageArrow_N'></div>")) : ($pageNext.addClass("nextShow_model"),
                            $pageNext.addClass("pageAllow"),
                            $pageNext.html("<span>下一页</span><div class='fk_pageArrow_ns J_pageArrow_N'></div>")),
                            p.append($pageNext),
                            p.append("<div class='pageTotal'>共<span>" + s + "</span>页</div>"),
                            p.append("<div class='jumpPageDiv'>到第<input id='jumpPage' type='text' maxlength='10' class='jumpPage'>页<button id='jumpBtn' class='J_pageBtn jumpBtn'>确定</button></div>")
                        }
                    if ($(".paginationWrapper").undelegate(".J_pageBtn", "click", h),
                    $(".paginationWrapper").off("input"),
                    $("#msgAdd .msgItem").remove(),
                    $("#msgAdd .paginationWrapper").remove(),
                    p.delegate(".J_pageBtn", "click", h),
                    c.appendChild(p[0]),
                    $("#msgAdd").append(a).append(c),
                    $(".paginationWrapper").on("input", "#jumpPage", function(e) {
                        var t = Fai.encodeHtml(e.target.value);
                        e.target.value = t.replace(/[^0-9]+/g, "")
                    }),
                    e.commentExtInfo)
                        for (var m in e.commentExtInfo)
                            Site.initModuleMsgBoardItemManage(m, e.commentExtInfo[m]);
                    Site.actionForUECallback({
                        id: 15
                    })
                }
                function h() {
                    var e = $(this)
                      , t = e.hasClass("pageLeft")
                      , i = e.hasClass("pageRight")
                      , a = e.hasClass("jumpBtn")
                      , o = e.data("page")
                      , n = 0;
                    t ? 1 < r && 1 < s && v(r - 1) : i ? r < s && v(r + 1) : o ? o != r && v(o) : a && ((n = (n = Fai.encodeHtml($("#jumpPage").val())).replace(/[^0-9]+/g, "")) != r && 0 < n && n <= s ? v(n) : $("#jumpPage").val(1))
                }
            },
            error: function t() {
                Root.Message.warning({
                    message: "网络繁忙，请刷新后重试",
                    autoHide: !1
                })
            },
            complete: function i() {
                $(".J_comment_circle").hide()
            }
        })
    }
    v()
}
,
Site.getFormatJson = function(e) {
    var t = Site.stringToCode(e);
    return Site.codeToString(t)
}
,
Site.stringToCode = function(e) {
    for (var t = [], i = 0; i < e.length; i++) {
        var a = e[i].charCodeAt();
        20 !== a && 2 !== a && t.push(a)
    }
    return t
}
,
Site.codeToString = function codeToString(e) {
    return String.fromCharCode.apply(String, _toConsumableArray2(e))
}
,
Site.msgBoardShowMsg = function(e) {
    $("#msgAdd .msgTips").show(),
    $("#msgAdd .msgTips").html(e)
}
,
Site.msgBoardAddMsg = function(e, i, t) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行留言。");
    else {
        if (Fai.top.isJuly3FreeUser)
            return Site.logDog(200964, 3),
            Fai.ing("免费版暂不支持此功能"),
            !1;
        if (Site.isLimitSubmitMsg())
            Site.limitSubmitMsgIng("留言板");
        else {
            $msgBoard = $("#msgBoard" + i);
            $msgBoard.find("#reqName").val(),
            $msgBoard.find("#reqPhone").val(),
            $msgBoard.find("#reqEmail").val();
            var a = $msgBoard.find("#reqContent").val()
              , o = $msgBoard.find("#msgBoardCaptcha").val()
              , n = $msgBoard.find(".msgTips").show()
              , r = $msgBoard.find(".J_msgBoardCaptcha")
              , s = 0;
            if ($msgBoard.find("input.msg_isMust").each(function() {
                var e = $(this).attr("id")
                  , t = $(this).attr("name")
                  , i = $(this).val();
                return "" == i || null == i ? (n.html(Fai.format(LS.msgBoardInputIsEmpty, Fai.encodeHtml(t))),
                $msgBoard.find("#" + e).focus(),
                !(s = 1)) : ("reqPhone" != e || Fai.isPhone(i)) && ("reqEmail" != e || Fai.isEmail(i)) ? void 0 : (n.html(Fai.format(LS.msgBoardInputCorrect, Fai.encodeHtml(t))),
                $msgBoard.find("#" + e).focus(),
                !(s = 1))
            }),
            1 == s)
                return !1;
            var l = 0;
            if ($msgBoard.find("input.msg_ipt").each(function() {
                var e = $(this).attr("id")
                  , t = $(this).attr("name")
                  , i = $(this).val()
                  , a = $(this).attr("maxlength");
                return i.length > a ? (n.html(Fai.format(LS.msgBoardInputMaxLength, Fai.encodeHtml(t), a)),
                $msgBoard.find("#" + e).focus(),
                !(l = 1)) : "reqPhone" == e && i.length && !Fai.isPhone(i) ? (n.html(Fai.format(LS.msgBoardInputCorrect, Fai.encodeHtml(t))),
                $msgBoard.find("#" + e).focus(),
                !(l = 1)) : "reqEmail" == e && i.length && !Fai.isEmail(i) ? (n.html(Fai.format(LS.msgBoardInputCorrect, Fai.encodeHtml(t))),
                $msgBoard.find("#" + e).focus(),
                !(l = 1)) : void 0
            }),
            1 == l)
                return !1;
            if (null == a || "" == a)
                return Site.msgBoardShowMsg(LS.msgBoardInputContent),
                void $msgBoard.find("#reqContent").focus();
            var d = 1e4;
            if (a.length > d)
                return Site.msgBoardShowMsg(Fai.format(LS.msgBoardInputContent2, d)),
                void $msgBoard.find("#reqContent").focus();
            if (!r.hasClass("msgBoardCaptchaHide") && (null == o || "" == o))
                return Site.msgBoardShowMsg(LS.msgBoardInputValidateCode),
                void $msgBoard.find("#msgBoardCaptcha").focus();
            Site.msgBoardShowMsg(LS.msgBoardDoing);
            var c = {};
            $msgBoard.find("input.msg_ipt").each(function() {
                var e = $(this).attr("id")
                  , t = $(this).val();
                c[e] = $.trim(t)
            }),
            c.reqContent = a,
            c.memberId = t === undefined ? 0 : t,
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/msgBoard_h.jsp",
                data: "cmd=addWafCk_add&msgBdData=" + Fai.encodeUrl($.toJSON(c)) + "&validateCode=" + Fai.encodeUrl(o) + "&moduleId=" + Fai.encodeUrl(i),
                error: function p() {
                    var e = {
                        htmlContent: Site.getDialogContent(!0, Fai.format(LS.js_systemError)),
                        width: 205,
                        height: 78
                    };
                    Site.popupBox(e),
                    setTimeout(function() {
                        Fai.top.location.reload()
                    }, 3e3)
                },
                success: function u(e) {
                    if ((e = jQuery.parseJSON(e)).success) {
                        var t = {};
                        t = e.autoOpenComm || e.autoOpenComm == undefined ? {
                            htmlContent: Site.getDialogContent(!0, Fai.format(LS.msgBoardSendOkAutoOpen)),
                            width: 205,
                            height: 78
                        } : {
                            htmlContent: Site.getDialogContent(!0, Fai.format(LS.msgBoardSendOk), 500, 500),
                            height: 78
                        },
                        Site.popupBox(t),
                        setTimeout(function() {
                            Fai.top.location.reload()
                        }, 3e3),
                        $msgBoard.find('#msgAdd input[type="text"]').val(""),
                        $msgBoard.find("#reqContent").val("")
                    } else {
                        if (e.isRealDemo)
                            return void Fai.ing(e.msg);
                        1 == e.errno ? Site.msgBoardShowMsg(LS.js_captchaError) : 2 == e.errno ? Site.msgBoardShowMsg(LS.js_argsError) : -4 == e.errno ? Site.msgBoardShowMsg(LS.msgBoardAddCountLimit) : Site.msgBoardShowMsg(e.msg || LS.js_systemError),
                        e.needCode && (Site.msgBoardShowMsg(e.msg, i),
                        r.removeClass("msgBoardCaptchaHide")),
                        e.hasFW && Site.msgBoardShowMsg(e.msg)
                    }
                    Site.changeMsgBoardValidateCode()
                }
            })
        }
    }
}
,
Site.changeMsgBoardValidateCode = function() {
    $("#msgBoardCaptchaImg").attr("src", "/validateCode.jsp?" + 1e3 * Math.random())
}
,
Site.setStarSelect = function(i) {
    _getBackgroundColor = function a(e) {
        for (var t = ""; "html" != e[0].tagName.toLowerCase() && ("rgba(0, 0, 0, 0)" == (t = e.css("background-color")) || "transparent" == t); )
            e = e.parent();
        return t
    }
    ;
    var s = "";
    0 < $(".submitStarList").length && (s = _getBackgroundColor($(".submitStarList"))),
    s = s || "#FFF",
    $("body").on({
        click: function t() {
            if ((i = $(this).index()) < 5) {
                var e = $(this).parent();
                e.attr("star", i + 1),
                _changeSelectStar(i, e)
            }
        },
        hover: function o() {
            var e = $(this).index();
            if (e < 5) {
                var t = $(this).parent();
                _changeSelectStar(e, t)
            }
        },
        mouseleave: function n(e) {
            if (i < 5) {
                var t = $(this).parent();
                _changeSelectStar(i, t)
            }
        }
    }, ".submitStarList li"),
    0 != $(".statisticCommSwap").length && $(".statisticBox .percent span").css({
        "border-color": "transparent " + s + " transparent transparent"
    }),
    _changeSelectStar = function l(e, t) {
        for (var i = $(".submitStarList").hasClass("fk-pdStyle5") || !1, a = 0; a < 5; a++) {
            var o = t.find("li").eq(a);
            a < e + 1 ? e < 2 ? (o.removeClass("select_more"),
            o.addClass("select_less")) : (o.removeClass("select_less"),
            o.addClass("select_more")) : (o.removeClass("select_more"),
            o.removeClass("select_less"))
        }
        var n = ""
          , r = "";
        r = 0 == e ? (n = LS.badComment,
        "#b7b6b6") : 1 == e ? (n = LS.moderateComment,
        "#b7b6b6") : (n = 2 == e ? LS.moderateComment : LS.js_highComment,
        "#ffb600"),
        -1 == e ? t.find("li:last").removeClass("scoreTipHover") : (i || t.find("li:last").css({
            color: r
        }),
        t.find("li:last").html("<em></em><span></span>" + (e + 1) + LS.score + n),
        t.find("li:last").addClass("scoreTipHover")),
        i || t.find("li:last em").css({
            "border-color": "transparent " + r + " transparent transparent"
        }),
        t.find("li:last span").css({
            "border-color": "transparent " + s + " transparent transparent"
        })
    }
}
,
Site.msgSubmitShowMsg = function(e, t) {
    $("#msgSubmit" + t).find("#msgSAdd .msgSTips").show(),
    $("#msgSubmit" + t).find("#msgSAdd .msgSTips").html(e)
}
,
Site.msgSubmitAddMsg = function(e, i, t) {
    if (_isRealDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行留言。");
    else if (Site.isLimitSubmitMsg())
        Site.limitSubmitMsgIng("留言板");
    else {
        if (Fai.top.isJuly3FreeUser)
            return Site.logDog(200964, 3),
            void Fai.ing("免费版暂不支持此功能");
        $msgSubmit = $("#msgSubmit" + i);
        $.trim($msgSubmit.find("#reqName").val()),
        $msgSubmit.find("#reqPhone").val(),
        $msgSubmit.find("#reqEmail").val();
        var a = $msgSubmit.find("#reqContent").val()
          , o = $msgSubmit.find("#msgSubmitCaptcha").val()
          , n = $msgSubmit.find(".msgSTips").show()
          , r = $msgSubmit.find(".J_msgBoardCaptcha")
          , s = 0;
        if ($msgSubmit.find("input.msgSubmit_isMust").each(function() {
            var e = $(this).attr("id")
              , t = $(this).attr("name")
              , i = $(this).val();
            return "" == i || null == i ? (n.html(Fai.format(LS.msgBoardInputIsEmpty, Fai.encodeHtml(t))),
            $msgSubmit.find("#" + e).focus(),
            !(s = 1)) : ("reqPhone" != e || Fai.isPhone(i)) && ("reqEmail" != e || Fai.isEmail(i)) ? void 0 : (n.html(Fai.format(LS.msgBoardInputCorrect, Fai.encodeHtml(t))),
            $msgSubmit.find("#" + e).focus(),
            !(s = 1))
        }),
        1 == s)
            return !1;
        var l = 0;
        if ($msgSubmit.find("input.msgSubmit_ipt").each(function() {
            var e = $(this).attr("id")
              , t = $(this).attr("name")
              , i = $(this).val()
              , a = $(this).attr("maxlength");
            return i.length > a ? (n.html(Fai.format(LS.msgBoardInputMaxLength, Fai.encodeHtml(t), a)),
            $msgSubmit.find("#" + e).focus(),
            !(l = 1)) : "reqPhone" == e && i.length && !Fai.isPhone(i) ? (n.html(Fai.format(LS.msgBoardInputCorrect, Fai.encodeHtml(t))),
            $msgSubmit.find("#" + e).focus(),
            !(l = 1)) : "reqEmail" == e && i.length && !Fai.isEmail(i) ? (n.html(Fai.format(LS.msgBoardInputCorrect, Fai.encodeHtml(t))),
            $msgSubmit.find("#" + e).focus(),
            !(l = 1)) : void 0
        }),
        1 == l)
            return !1;
        if (null == a || "" == a)
            return Site.msgSubmitShowMsg(LS.msgBoardInputContent, i),
            void $msgSubmit.find("#reqContent").focus();
        var d = 1e4;
        if (a.length > d)
            return Site.msgSubmitShowMsg(Fai.format(LS.msgBoardInputContent2, d), i),
            void $msgSubmit.find("#reqContent").focus();
        if (!r.hasClass("msgBoardCaptchaHide") && (null == o || "" == o))
            return Site.msgSubmitShowMsg(LS.msgBoardInputValidateCode, i),
            void $msgSubmit.find("#msgSubmitCaptcha").focus();
        Site.msgSubmitShowMsg(LS.msgBoardDoing, i);
        var c = {};
        $msgSubmit.find("input.msgSubmit_ipt").each(function() {
            var e = $(this).attr("id")
              , t = $(this).val();
            c[e] = $.trim(t)
        }),
        c.reqContent = a,
        c.memberId = t === undefined ? 0 : t,
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/msgBoard_h.jsp",
            data: "cmd=addWafCk_add&msgBdData=" + Fai.encodeUrl($.toJSON(c)) + "&validateCode=" + Fai.encodeUrl(o) + "&vCodeId=" + Fai.encodeUrl(i) + "&moduleId=" + Fai.encodeUrl(i),
            error: function p() {
                var e = {
                    htmlContent: Site.getDialogContent(!0, Fai.format(LS.js_systemError)),
                    width: 205,
                    height: 78
                };
                Site.popupBox(e),
                setTimeout(function() {
                    Fai.top.location.reload()
                }, 3e3)
            },
            success: function u(e) {
                if ((e = jQuery.parseJSON(e)).success) {
                    var t = {};
                    t = e.autoOpenComm || e.autoOpenComm == undefined ? {
                        htmlContent: Site.getDialogContent(!0, Fai.format(LS.msgBoardSendOkAutoOpen)),
                        width: 205,
                        height: 78
                    } : {
                        htmlContent: Site.getDialogContent(!0, Fai.format(LS.msgBoardSendOk), 500, 500),
                        height: 78
                    },
                    Site.popupBox(t),
                    setTimeout(function() {
                        Fai.top.location.reload()
                    }, 3e3),
                    $msgSubmit.find('#msgSAdd input[type="text"]').val(""),
                    $msgSubmit.find("#reqContent").val("")
                } else {
                    if (e.isRealDemo)
                        return void Fai.ing(e.msg);
                    1 == e.errno ? Site.msgSubmitShowMsg(LS.js_captchaError, i) : 2 == e.errno ? Site.msgSubmitShowMsg(LS.js_argsError, i) : -4 == e.errno ? Site.msgSubmitShowMsg(LS.msgBoardAddCountLimit, i) : Site.msgSubmitShowMsg(e.msg || LS.js_systemError, i),
                    e.needCode && (Site.msgSubmitShowMsg(e.msg, i),
                    r.removeClass("msgBoardCaptchaHide")),
                    e.hasFW && Site.msgSubmitShowMsg(e.msg, i)
                }
                Site.changeMsgSubmitValidateCode(i)
            }
        })
    }
}
,
Site.changeMsgSubmitValidateCode = function(e) {
    $("#msgSubmit" + e).find("#msgSubmitCaptchaImg").attr("src", "/validateCode.jsp?" + 1e3 * Math.random() + "&vCodeId=" + e)
}
,
Site.fixMsgSubmitStyle = function(e) {
    var t = parseInt(Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".msgSubmit_overToPoint ").width())
      , i = parseInt(Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".star").outerWidth(!0));
    isNaN(i) && (i = 0);
    var a = parseInt(Fai.top.$("#module" + e).find("#msgSubmit" + e).find(".msgSAdd_N").width())
      , o = parseInt(Fai.top.$("#module" + e).find("#msgSubmit" + e).find(".msgSAdd_N").find(".msgPanel_N").css("margin-right"))
      , n = parseInt(Fai.top.$("#module" + e).find("#msgSubmit" + e).find(".msgSAdd_N").find(".msgPanel_N").width())
      , r = t + 194 + i + o
      , s = 180;
    Fai.top.$("#module" + e).width() <= 400 && (Fai.top.$("#module" + e).width() < 300 && (Fai.top.$("#module" + e).find(".msgSubmit_overToPoint").css("width", "60px"),
    Fai.top.$("#module" + e).find(".msgSubmit_PropBoard").css("width", "56px"),
    Fai.top.$("#module" + e).find(".paramResizeHandleRight").css("left", "56px"),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgAddButton_N").find(".msgSubmit_overToPoint").css({
        width: "5px",
        display: "none"
    }),
    o = parseInt(Fai.top.$("#module" + e).find("#msgSubmit" + e).find(".msgSAdd_N").find(".msgPanel_N").css("margin-right"))),
    Fai.top.$("#module" + e).find("#msgSubmit" + e).css({
        "margin-left": "6px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgAddText_N").css({
        "line-height": "70px",
        height: "70px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgCaptcha_N").find(".validateCode_N").css({
        "float": "none",
        "margin-left": "50px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgCaptcha_N").find("#msgSubmitCaptchaImg").css({
        "margin-bottom": "15px",
        "margin-top": "10px"
    }),
    n = Fai.top.$("#module" + e).width() < 300 ? a - 5 : a - o,
    Fai.top.$("#module" + e).find("#msgSubmit" + e).find(".msgSAdd_N").find(".msgPanel_N").css({
        width: n + "px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: s + "px"
    }));
    var l = Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").length;
    400 < Fai.top.$("#module" + e).width() && (Fai.top.$("#module" + e).find(".msgSAdd").find(".msgAddButton_N").find(".msgSubmit_overToPoint").css({
        display: "inline-block"
    }),
    r <= a && a < 2 * r ? n = a - o : 2 * r <= a && a < 3 * r ? 1 == l ? n = a - o : s = (n = a / 2 - o) - t - i - 13 : 3 * r <= a && (1 == l ? n = a - o : s = 2 == l ? (n = a / 2 - o) - t - i - 50 : (n = a / 3 - o) - t - i - 50),
    Fai.top.$("#module" + e).find("#msgSubmit" + e).find(".msgSAdd_N").find(".msgPanel_N").css({
        width: n + "px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: s + "px"
    }),
    300 < Fai.top.$("#module" + e).width() && Fai.top.$("#module" + e).width() < 650 && Fai.top.$("#module" + e).find(".msgSAdd").find(".m_ibutton").css({
        "float": "left"
    }))
}
,
Site.fixMsgBoardStyle = function(e) {
    var t = parseInt(Fai.top.$("#module" + e).find("#msgBoard" + e).find(".msgSAdd_N").width())
      , i = parseInt(Fai.top.$("#module" + e).find("#msgBoard" + e).find(".msgSAdd_N").find(".msgPanel_N").css("margin-right"))
      , a = parseInt(Fai.top.$("#module" + e).find("#msgBoard" + e).find(".msgSAdd_N").find(".msgPanel_N").width())
      , o = a + i
      , n = 280 + i;
    Fai.top.$("#module" + e).width() <= 400 ? (Fai.top.$("#module" + e).find("#msgBoard" + e).css({
        "margin-left": "6px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".g_itext").css({
        width: "106px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgAddText_N").css({
        "line-height": "70px",
        height: "70px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgBoardPanel").find(".msgTitle_N").find(".msgUser").css({
        "margin-left": "35px",
        "text-align": "center"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgBoardPanel").find(".msgContent").find(".userMsg").css({
        "margin-left": "16px",
        "margin-top": "16px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgBoardPanel").find(".user_level_name").css({
        position: "relative"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgAddButton_N").find(".msgSubmit_overToPoint").css({
        width: "5px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgCaptcha_N").find(".validateCode_N").css({
        "float": "none",
        "margin-left": "50px"
    }),
    Fai.top.$("#module" + e).find(".msgSAdd").find(".msgCaptcha_N").find("#msgBoardCaptchaImg").css({
        "margin-bottom": "15px",
        "margin-top": "10px"
    }),
    Fai.top.$("#module" + e).find("#pagenation" + e).find("div").each(function(e, t) {
        $(this).hasClass("pagePrev_N") || $(this).hasClass("pageNext_N") || $(this).hasClass("J_pageArrow_N") ? $(this).show() : $(this).hide()
    })) : Fai.top.$("#module" + e).find("#pagenation" + e).find("div").each(function(e, t) {
        $(this).show()
    });
    var r = Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").length;
    400 < Fai.top.$("#module" + e).width() && (o <= t && t < 2 * o ? Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "246px"
    }) : 2 * o <= t && t < 3 * n ? 2 < r ? Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "246px"
    }) : 2 == r ? Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "246px"
    }) : 1 == r && Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "246px"
    }) : 3 * n < t && (3 * (i + a) <= t ? 2 < r ? Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "194px"
    }) : 2 == r ? Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "194px"
    }) : 1 == r && Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "246px"
    }) : 2 <= r ? Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "194px"
    }) : 1 == r && Fai.top.$("#module" + e).find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({
        width: "246px"
    })))
}
,
Site.jumpToPage = function(e, t, i) {
    var a = parseInt($(Fai.top.$("#module" + e).find(".pagenation_N").find(".jumpPageDiv").find("#jumpPage")).val());
    isNaN(a) && (a = 1),
    t < a && (a = parseInt(t)),
    0 == a && (a = 1),
    window.location.href = i + "?m" + e + "pageno=" + a + "#module" + e
}
,
Site.jumpToPageByAjax = function(e, t) {
    if (e && t) {
        var i = $(t).siblings(".pagination_jump").find(".pagination_input")
          , a = i.val();
        if (!a)
            return Fai.ing("请输入页数", !0),
            void i.focus();
        if (a != $(t).parent().data("pageno")) {
            var o = decodeURIComponent($(t).data("tempurl") || "")
              , n = decodeURIComponent($(t).data("tempuri") || "")
              , r = o.replace(/\{\{page\}\}/g, a)
              , s = n.replace(/\{\{page\}\}/g, a)
              , l = $('<a class="js_pagination" href="'.concat(r, '" data-href="').concat(s, '"></a>'))[0];
            Site.ajaxClick(l, e)
        }
    }
}
,
Site.handlePaginationKeyUp = function(e) {
    e.value = e.value.replace(/\D/g, "");
    var t = $(e).parent().parent().data("total");
    void 0 !== t && (e.value > t && (e.value = t),
    0 == e.value && "" != e.value && (e.value = 1))
}
,
Site.msgSubmitCusResize = function(e) {
    var t = "#msgSubmit" + e;
    Site.msgComCusResize(e, t),
    Site.textareaResize(e)
}
,
Site.msgSubmitManageTipClose = function(e) {
    Fai.top.$("#module" + e).find(".J_manage_msg_tip").hide();
    var t = Site.addRequestPrefix({
        newPath: '/ajax/module_h.jsp"',
        oldPath: Site.genAjaxUrl('module_h.jsp"')
    })
      , i = [];
    i.push("cmd=setModuleFlag"),
    i.push("&colId=" + Fai.top._colId),
    i.push("&extId=" + Fai.top._extId),
    i.push("&id=" + e),
    i.push("&flag4=true"),
    $.ajax({
        type: "post",
        url: t,
        data: i.join(""),
        error: function a() {},
        success: function o(e) {}
    })
}
,
Site.desMallBuyCount = function(e) {
    var t = $("#cartbuyCount" + e).val()
      , i = 1;
    Fai.isInteger(t) && (i = parseInt(t)),
    i--,
    "" == $("#limitAmountDiv").text() && (i < 2 ? (i = 1,
    $("#buyCountDes" + e).addClass("disableMallJian"),
    $("#buyCountInc" + e).removeClass("disableMallJia")) : 9999998 < i ? (i = 9999999,
    $("#buyCountDes" + e).removeClass("disableMallJian"),
    $("#buyCountInc" + e).addClass("disableMallJia")) : ($("#buyCountDes" + e).removeClass("disableMallJian"),
    $("#buyCountInc" + e).removeClass("disableMallJia"))),
    $("#cartbuyCount" + e).val(i)
}
,
Site.cacheOrderInfo = function(e) {
    localStorage.setItem("orderInfo", e)
}
,
Site.incMallBuyCount = function(e) {
    var t = $("#cartbuyCount" + e).val()
      , i = 0;
    Fai.isInteger(t) && (i = parseInt(t)),
    i++,
    "" == $("#limitAmountDiv").text() && (i < 2 ? (i = 1,
    $("#buyCountDes" + e).addClass("disableMallJian"),
    $("#buyCountInc" + e).removeClass("disableMallJia")) : 9999998 < i ? (i = 9999999,
    $("#buyCountDes" + e).removeClass("disableMallJian"),
    $("#buyCountInc" + e).addClass("disableMallJia")) : ($("#buyCountDes" + e).removeClass("disableMallJian"),
    $("#buyCountInc" + e).removeClass("disableMallJia"))),
    $("#cartbuyCount" + e).val(i)
}
,
Site.mallBuyCountChange = function(e) {
    if ("" == $("#limitAmountDiv").text()) {
        var t = $("#cartbuyCount" + e).val()
          , i = 1;
        Fai.isInteger(t) && (i = parseInt(t)),
        i < 2 ? (i = 1,
        $("#buyCountDes" + e).addClass("disableMallJian"),
        $("#buyCountInc" + e).removeClass("disableMallJia")) : 9999998 < i ? (i = 9999999,
        $("#buyCountDes" + e).removeClass("disableMallJian"),
        $("#buyCountInc" + e).addClass("disableMallJia")) : ($("#buyCountDes" + e).removeClass("disableMallJian"),
        $("#buyCountInc" + e).removeClass("disableMallJia")),
        $("#cartbuyCount" + e).val(i)
    }
}
,
Site.mallBuy = function(e, n, t) {
    var i = Site.preprocessUrl({
        path: i,
        oldPath: i
    }) + "mbuy.jsp?id=" + e;
    if (n && "undefined" != n) {
        var a = $("#module" + n)
          , r = a.find(".optionMsg");
        if (Fai.isNull(a))
            return;
        var s = !0
          , l = [];
        if (i += "&fromDetail=true",
        a.find(".J_productProp .optionItemWrap").each(function() {
            var e = $(this).parent().parent().find(".propName").text();
            if (":" != e.charAt(e.length - 1) && "：" != e.charAt(e.length - 1) || (e = e.substring(0, e.length - 1)),
            1 != $(this).find(".optionItemHover").length) {
                if (r.show(),
                "PdSlide" === n) {
                    var t = $(this).parent().parent().position();
                    $(".fk-slideForProduct .f-propListContent").scrollTop(t.top)
                }
                return r.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(e))),
                s = !1
            }
            var i = $(this).attr("data")
              , a = $(this).find(".optionItemHover").attr("data")
              , o = {};
            o.name = i,
            o.value = parseInt(a),
            l.push(o),
            r.hide()
        }),
        Site.priceCalendar && s) {
            var o = Site.productDetailInfo.ecsOptionList
              , d = ""
              , c = Site.priceCalendar.getSelected();
            $.each(o, function(e, t) {
                1 === t.t && (d = t.n)
            }),
            "" === c || null == c || void 0 === c ? (r.show(),
            r.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(d))),
            s = !1) : (optionData = {
                name: "timeOption"
            },
            optionData.value = c,
            optionData.type = 5,
            l.push(optionData))
        }
        if (!s)
            return !1;
        0 < l.length && (i += "&optionList=" + Fai.encodeUrl($.toJSON(l)))
    }
    t && 0 < t.length && (i += "&" + t),
    window.open(i + "&ram=" + Math.random(), "mallcart").focus(),
    Fai.isIE() ? (window.event.cancelBubble = !0,
    window.event.returnValue = !1) : (event.stopPropagation(),
    event.preventDefault())
}
,
Site.MallAjaxErrno = {
    ok: 0,
    error: 1,
    manager: 2,
    login: 3,
    idNotExist: 4,
    orderSettle: 5,
    noMall: 6,
    toProductDetail: 7,
    orderNotExist: 8,
    networkError: 9,
    outOfMallAmount: 10,
    mallAmountZero: 11,
    mallOptionStop: 12,
    OutOfAllowAmount: 13,
    notAdded: 14,
    payDomainError: 15,
    couponNotFound: 16,
    couponUnavail: 17,
    couponOverTime: 18,
    authMemberNotAllow: 19,
    maxItemList: 20,
    optionOutOfDate: 21,
    ADDR_OVER_SHIPAREA: -1308
},
Site.getDialogHtml = function(e, t) {
    Fai.isInteger(e.rt) || (e.rt = 1);
    var i = parseInt(e.rt)
      , a = 0
      , o = 0
      , n = ""
      , r = LS.goToMallCartStr
      , s = LS.continueShopping
      , l = LS.resultFailMsg
      , d = "resultFailIcon";
    var c, p = Site.getHtmlUrl("mcart"), u = "target='_blank'";
    switch (i) {
    case Site.MallAjaxErrno.ok:
        d = "suc-ico",
        l = LS.resultSuccessMsg,
        "undefined" != typeof e.totalPrice && (a = e.totalPrice),
        "undefined" != typeof e.totalAmount && (o = e.totalAmount),
        "undefiend" != typeof e.choiceCurrencyVal && (n = e.choiceCurrencyVal);
        var m = n + a;
        c = Fai.format(LS.cartDetailInfo, o, m);
        break;
    case Site.MallAjaxErrno.error:
        return Site.getTopWindow().location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "mcart.jsp?msg=2",
        !1;
    case Site.MallAjaxErrno.manager:
        d = "resultFailIcon",
        l = "购买失败。";
        r = "去购物车结算",
        s = "返回";
        c = "当前为管理状态，购买失败。",
        e.success = !0;
        break;
    case Site.MallAjaxErrno.login:
        return !1;
    case Site.MallAjaxErrno.idNotExist:
        return Site.getTopWindow().location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "mcart.jsp?msg=1",
        !1;
    case Site.MallAjaxErrno.orderSettle:
    case Site.MallAjaxErrno.noMall:
        return Site.getTopWindow().location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "mcart.jsp",
        !1;
    case Site.MallAjaxErrno.toProductDetail:
        return Site.getTopWindow().location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "pd.jsp?id=" + productId + "&ram=" + Math.random(),
        !1;
    case Site.MallAjaxErrno.orderNotExist:
        return Site.getTopWindow().location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "mcart.jsp?msg=1",
        !1;
    case Site.MallAjaxErrno.networkError:
        c = LS.networkError;
        break;
    case Site.MallAjaxErrno.outOfMallAmount:
        c = LS.mallAmountOverFlow;
        break;
    case Site.MallAjaxErrno.mallAmountZero:
        c = LS.mallAmountZero;
        break;
    case Site.MallAjaxErrno.mallOptionStop:
        c = LS.mallOptionStop;
        break;
    case Site.MallAjaxErrno.OutOfAllowAmount:
        c = LS.allowAmountOverFlow;
        break;
    case Site.MallAjaxErrno.notAdded:
        c = LS.mallProductNotAdded;
        break;
    case Site.MallAjaxErrno.authMemberNotAllow:
        c = e.data + LS.authLevelBuy;
        break;
    case Site.MallAjaxErrno.maxItemList:
        c = "产品类型数量超过300，请减少产品类型后重试。";
        break;
    default:
        return Site.getTopWindow().location.href.reload(),
        !1
    }
    var h = [];
    e.success && (h = ["<div class='mallCartOperate'>", "<a id='settleAccountsBtn' class='formBtn' " + u + " href='" + p + "' style='width:108px; height:35px; background:#ff6d00;font-size:14px;'>" + r + "</a>", "<a id='dialogContinueShopping' href='javascript:;' class='shopping popupBClose' style='font-size:14px; color:#636363 !important;'>", s, "</a>", "</div>"]);
    var f = "";
    1033 === Site.getTopWindow()._lcid && (f = "letter-spacing:0px;");
    var g = ["<table style='width:100%;height:100%;'>", "<tr>", "<td style='width:50px;'></td>", "<td style='width:280px;'>", "<div class='" + d + " addItemTextTips' style='font-size:14px; color:#636363' >" + l + "</div>", "<div class='cartInfoContent' style='" + f + "' >" + c + "</div>", h.join(""), "</td>", "<td style='width:50px;'></td>", "</tr>", "</table>"];
    return i != Site.MallAjaxErrno.mallAmountZero && i != Site.MallAjaxErrno.OutOfAllowAmount && i != Site.MallAjaxErrno.outOfMallAmount || (g[0] = "<table style='width:100%;height:100%;margin-top:10px;'>"),
    g.join("")
}
;
var loginDialogCache = [];
loginDialogCache.html = "",
loginDialogCache.qqOpen = !1,
loginDialogCache.sinaOpen = !1,
loginDialogCache.wxOpen = !1,
loginDialogCache.newWXOpen = !1,
loginDialogCache.closeOldSiteWX = !1,
loginDialogCache.qqAppId = "",
loginDialogCache.sinaAppKey = "",
loginDialogCache.wxAppKey = "",
loginDialogCache.qqReUri = "",
loginDialogCache.sinaReUri = "",
loginDialogCache.wxReUri = "",
loginDialogCache.displayList,
loginDialogCache.noRemark,
loginDialogCache.REMARK_MAXLEN,
loginDialogCache.extendParam;
var loginDialogLock = !1;
function fixHoverNewsListPicTitleWidth(e, t) {
    var i = $("#module" + e).find(".newsList")
      , a = t.find(".mixNewsStyleTitle");
    if (1 == a.attr("mix")) {
        var o = i.find("td.newsTitle").width() || 0
          , n = i.find(".articlePhotoBox img").width() || 0
          , r = t.find(".mixNewsStyleDate").width() || 0
          , s = parseInt(o) - parseInt(r) - parseInt(n) - 40;
        Fai.isIE6() && (s -= 20),
        a.css({
            width: s + "px"
        })
    }
}
Site.createLoginDialog = function(r, s, l, d, c, p) {
    var u, m, h, f, g, v, _, S, b, x, w, y, C, F, I = "", P = "", k = "", L = "", T = "", M = "", B = "", A = "";
    if (!loginDialogLock)
        if (loginDialogLock = !0,
        null != loginDialogCache && null != loginDialogCache.html && "" != loginDialogCache.html) {
            var e = {
                boxId: parseInt(1e4 * Math.random()),
                boxName: "loginDialog",
                title: "",
                htmlContent: loginDialogCache.html,
                width: 360,
                paddingBottom: 15
            };
            if (Site.popupBox(e),
            loginDialogCache.qqOpen || loginDialogCache.sinaOpen || loginDialogCache.wxOpen) {
                var t = {};
                t.pid = r,
                t.mid = s,
                t.url = l,
                t.opList = c,
                t.count = p,
                t.where = d,
                $.cookie("forThirtLoginBuy", $.toJSON(t))
            }
            loginDialogCache.qqOpen && Site.initQQLogin(loginDialogCache.qqAppId, loginDialogCache.qqReUri, loginDialogCache.displayList, loginDialogCache.noRemark, loginDialogCache.REMARK_MAXLEN, "ld_qqLogin", loginDialogCache.extendParam),
            loginDialogCache.sinaOpen && Site.initWBLogin(loginDialogCache.sinaAppKey, loginDialogCache.sinaReUri, loginDialogCache.displayList, loginDialogCache.noRemark, loginDialogCache.REMARK_MAXLEN, "ld_wbLogin", loginDialogCache.extendParam),
            loginDialogCache.wxOpen && loginDialogCache.newWXOpen || loginDialogCache.wxOpen && loginDialogCache.closeOldSiteWX ? Site.initNewWXLogin(loginDialogCache.displayList, loginDialogCache.noRemark, loginDialogCache.REMARK_MAXLEN, "ld_wxLogin", loginDialogCache.extendParam) : loginDialogCache.wxOpen && !loginDialogCache.closeOldSiteWX && Site.initWXLogin(loginDialogCache.wxAppKey, loginDialogCache.wxReUri, loginDialogCache.displayList, loginDialogCache.noRemark, loginDialogCache.REMARK_MAXLEN, "ld_wxLogin", loginDialogCache.extendParam),
            E(),
            loginDialogLock = !1
        } else
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/site_h.jsp?cmd=getWafNotCk_getMemberLoginMsg",
                error: function i() {
                    Fai.ing("获取登录信息错误,请稍后再试.")
                },
                success: function O(e) {
                    if ((e = jQuery.parseJSON(e)).success) {
                        var t = e.msg;
                        m = t.findPwdOpen,
                        u = t.autoLogin,
                        h = t.qqOpen,
                        f = t.sinaOpen,
                        g = t.wxOpen,
                        v = t.noRemark,
                        _ = t.signUpbyMobile,
                        S = t.signUpbyMail,
                        b = t.proOpen,
                        x = t.showCaptcha,
                        closeOldSiteWX = t.closeOldSiteWX,
                        newWXOpen = t.newWXOpen,
                        t.qqReUrlId,
                        t.sinaReUrlId,
                        t.wxReUrlId,
                        I = t.qqReUri,
                        P = t.sinaReUri,
                        k = t.wxReUri,
                        L = t.qqAppId,
                        T = t.sinaAppKey,
                        M = t.wxAppKey,
                        B = t.registerHtml,
                        A = t.firstRowHtml,
                        w = $.toJSON(t.displayList),
                        y = $.toJSON(t.extendParam),
                        C = t.REMARK_MAXLEN,
                        F = t.ACCT_MAXLEN,
                        loginDialogCache.qqOpen = h,
                        loginDialogCache.sinaOpen = f,
                        loginDialogCache.wxOpen = g,
                        loginDialogCache.qqAppId = L,
                        loginDialogCache.sinaAppKey = T,
                        loginDialogCache.wxAppKey = M,
                        loginDialogCache.qqReUri = I,
                        loginDialogCache.sinaReUri = P,
                        loginDialogCache.wxReUri = k,
                        loginDialogCache.displayList = w,
                        loginDialogCache.noRemark = v,
                        loginDialogCache.REMARK_MAXLEN = C,
                        loginDialogCache.extendParam = y,
                        loginDialogCache.newWXOpen = newWXOpen,
                        loginDialogCache.closeOldSiteWX = closeOldSiteWX;
                        var i = []
                          , a = (i = j(i = D(i = N(i, _, S, u, m, ""), h, f, g), _, S, b, x)).join("");
                        loginDialogCache.html = a;
                        var o = {
                            boxId: parseInt(1e4 * Math.random()),
                            boxName: "loginDialog",
                            title: "",
                            htmlContent: a,
                            width: 360,
                            paddingBottom: 15
                        };
                        if (Site.popupBox(o),
                        h || f || g) {
                            var n = {};
                            n.pid = r,
                            n.mid = s,
                            n.url = l,
                            n.opList = c,
                            n.count = p,
                            n.where = d,
                            $.cookie("forThirtLoginBuy", $.toJSON(n))
                        }
                        h && Site.initQQLogin(L, I, w, v, C, "ld_qqLogin", y),
                        f && Site.initWBLogin(T, P, w, v, C, "ld_wbLogin", y),
                        g && newWXOpen || g && closeOldSiteWX ? Site.initNewWXLogin(w, v, C, "ld_wxLogin", y) : g && !closeOldSiteWX && Site.initWXLogin(M, k, w, v, C, "ld_wxLogin", y),
                        E(_, S),
                        loginDialogLock = !1
                    }
                }
            });
    function N(e, t, i, a, o, n) {
        var r = LS.loginDialogAcct;
        return t ? r = LS.loginDialogAcctMobile : i && (r = LS.loginDialogAcctMail),
        e.push("<div id='J_memberLoginDialogPanel' class='memberLoginDialogPanel'>\n"),
        e.push("<div class='loginAndRegister'>\n"),
        e.push("<div class='login loginDialogSelected'>" + LS.js_memberLogin + "</div>\n"),
        e.push("<div class='register'>" + LS.js_memberReg + "</div>\n"),
        e.push("</div>\n"),
        e.push("<div class='splitLine'></div>\n"),
        e.push("<div class='memberLoginDialogItemList'>\n"),
        e.push("<div id='memberLoginAcct' class='J_memberLoginItem memberLoginDialogItem forAcctLogin'>\n"),
        e.push("<input id='memberAcct' class='generateInput memberAcctInput' type='text' value='" + (null == $.cookie("loginMemberAcct") ? "" : $.cookie("loginMemberAcct")) + "' placeholder='" + r + "' />\n"),
        e.push("</div>\n"),
        e.push("<div id='memberLoginPwd' class='J_memberLoginItem memberLoginDialogItem itemSpace forAcctLogin'>\n"),
        e.push("<input id='memberPwd' class='generateInput memberPwdInput' type='password' placeholder='" + LS.loginDialogPsw + "' onkeydown='if (Fai.isEnterKey(event)){$(\"#J_memberLoginDialogPanel .J_loginButton\").click();}'/>\n"),
        e.push("</div>\n"),
        t && (e.push("<div id='memberLoginAcct' class='J_memberLoginItem memberLoginDialogItem forFastLogin'>\n"),
        e.push("<input id='acquirerInput' class='generateInput memberAcctInput' type='text' placeholder='" + LS.memberDialogPlzEnterMobile + "' />\n"),
        e.push("</div>\n"),
        e.push("<div id='memberLoginPwd' class='J_memberLoginItem memberLoginDialogItem itemSpace forFastLogin'>\n"),
        e.push("<input id='memCodeInput' style='min-width: 0px; width: 45%;' class='generateInput memberPwdInput' placeholder='" + LS.memberDialogEnterCode + "' />\n"),
        _manageMode ? e.push("<div id='acquireCode' style='cursor: pointer; display: inline-block; height: 34px; border: 1px solid #e9e9e9; background: #f7f7f7; text-align: center; padding: 9px 4px; box-sizing: border-box; float: right; position: relative; left: -2px; min-width: 97px;' onclick='Fai.ing(\"您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。\")'>" + LS.memberDialogAcquireCode + "</div>") : e.push("<div id='acquireCode' style='cursor: pointer; display: inline-block; height: 34px; border: 1px solid #e9e9e9; background: #f7f7f7; text-align: center; padding: 9px 4px; box-sizing: border-box; float: right; position: relative; left: -2px; min-width: 97px;' onclick='Site.loginAcquireCode(\"#J_memberLoginDialogPanel\")'>" + LS.memberDialogAcquireCode + "</div>"),
        e.push("<input id='memCodeSign' style='display: none;'>\n"),
        e.push("</div>\n")),
        e.push("<div class='J_memberLoginItem memberCaptcha memberLoginDialogItem'>\n"),
        e.push("<input id='memberLoginCaptcha' class='memberCaptchaInput' type='text' placeholder='" + LS.loginDialogCaptcha + "' />\n"),
        e.push("<img alt='' id='memberCaptchaImg' class='memberCaptchaImg' onclick='Site.changeCaptchaImg(this)' title='" + LS.js_msgBoradChageValidateCode + "'/>\n"),
        e.push("</div>\n"),
        (a || o) && (e.push("<div class='memberLoginDialogItem'>\n"),
        t && (e.push("<span id='mobileFastLoginToggle' class='memberText forAcctLogin' style='cursor: pointer; float: left;' onclick='Site.mobileFastLoginToggle();'>" + LS.mobileFastLogin + "</span>"),
        e.push("<span id='acctLoginToggle' class='memberText forFastLogin' style='cursor: pointer; float: left;' onclick='Site.acctLoginToggle();'>" + LS.loginWithAcct + "</span>")),
        e.push("<div class='signup'>\n"),
        o && e.push("<a hidefocus='true' href='javascript:;' onclick='Site.memberFdPwdStepOne(0 ," + t + "," + i + ");return false;'>" + LS.loginDialogFindPsw + "?</a>\n"),
        e.push("</div>\n"),
        a && (o ? (e.push("<div class='autoLogin'>\n"),
        e.push("<input type='checkbox' value='1' id='memberLoginDialogAutoLogin' /><label for='memberLoginDialogAutoLogin'>" + LS.loginDialogRememberMe + "</label><label class='special' for='memberLoginDialogAutoLogin'>" + LS.loginDialogAutoLogin + "</label>\n")) : (e.push("<div class='autoLogin autoLogin_noFindPwd g_specialClass'>\n"),
        e.push("<input type='checkbox' value='1' id='memberLoginDialogAutoLogin' /><label for='memberLoginDialogAutoLogin'>" + LS.loginDialogRememberMe + "</label><label for='memberLoginDialogAutoLogin'>" + LS.loginDialogAutoLogin + "</label>\n")),
        e.push("</div>\n")),
        e.push("</div>\n")),
        e.push("<div class='memberLoginDialogItem memberLoginDialogItem_Button forAcctLogin'>\n"),
        e.push("<div class=' J_loginButton loginButton loginButton'>\n"),
        e.push("<div class='left'></div>\n"),
        e.push("<div class='middle'>" + LS.js_memberLogin + "</div>\n"),
        e.push("<div class='right'></div>\n"),
        e.push("</div>\n"),
        e.push("</div>\n"),
        t && (e.push("<div class='memberLoginDialogItem memberLoginDialogItem_Button forFastLogin'>\n"),
        e.push("<div class=' J_fastLoginButton loginButton loginButton'>\n"),
        e.push("<div class='left'></div>\n"),
        e.push("<div class='middle'>" + LS.js_memberLogin + "</div>\n"),
        e.push("<div class='right'></div>\n"),
        e.push("</div>\n"),
        e.push("</div>\n")),
        e.push("</div>\n"),
        e
    }
    function D(e, t, i, a) {
        return (t || i || a) && (e.push("<div class='thirdPartyLogin'>\n"),
        e.push("<div class='thirdPartyTips'>" + LS.loginDialogUseThird + "</div>\n"),
        e.push("<div class='thirdPartyGroup'>\n"),
        t && e.push("<a id='ld_qqLogin' href='javascript:;' hidefocus='true' class='thirdPartyItem qq'></a>"),
        i && e.push("<a id='ld_wbLogin' href='javascript:;' hidefocus='true' class='thirdPartyItem sina'></a>"),
        a && (!0 === Fai.top._siteDemo && !0 === Fai.top._oem ? e.push("<a id='ld_wxLogin' href='javascript:;' hidefocus='true' onclick='Fai.ing(\"样板网站无法登录。\", true)' class='thirdPartyItem wx'></a>") : e.push("<a id='ld_wxLogin' href='javascript:;' hidefocus='true' class='thirdPartyItem wx'></a>")),
        e.push("</div>\n"),
        e.push("</div>\n")),
        e.push("</div>\n"),
        e
    }
    function j(e, t, i, a, o) {
        e.push("<div id='J_memberRegisterDialogPanel' class='memberRegisterDialogPanel' style='display:none;'>\n"),
        e.push("<div class='loginAndRegister'>\n"),
        e.push("<div class='login'>" + LS.js_memberLogin + "</div>\n"),
        e.push("<div class='register loginDialogSelected'>" + LS.js_memberReg + "</div>\n"),
        e.push("</div>\n"),
        e.push("<div class='splitLine'></div>\n"),
        e.push("<div class='memberSignupContent' cellpadding='0' cellspacing='0'>\n"),
        e.push(A),
        t && (e.push("<div class='memberSignupItem_captcha " + n + "'>\n"),
        e.push("<div class='itemMiddle' style='float:left;width: 150px;'>\n"),
        e.push("<input id='memberSignupCaptcha' type='text' maxlength='4' placeholder='" + LS.loginDialogCaptcha + "' onkeydown='if (Fai.isEnterKey(event)){$(\"#J_memberRegisterButton\").click();}'/>\n"),
        e.push("</div>\n"),
        e.push("<div class='itemRight'><img alt='' id='memberSignupCaptchaImg' class='memberSignupCaptchaImg' onclick='Site.changeCaptchaImg(this)' title='" + LS.js_msgBoradChageValidateCode + "' src='/validateCode.jsp?" + parseInt(1e3 * Math.random()) + "'/></div>\n"),
        e.push("</div>\n"),
        e.push("<div class='mobileItem itemSpace'>\n"),
        e.push("<div class='itemMiddle'>\n"),
        e.push("<input type='text' id='messageAuthCode' maxlength='6' placeholder='" + LS.loginDialogMsgCode + "' />\n"),
        e.push("</div>\n"),
        e.push("<div class='itemRight'><div title='" + LS.js_getMobileMsmCode + "' class='getMobileCdBtn' onclick='Site.getSignMobileCode(\"J_memberRegisterDialogPanel\",2)'>" + LS.js_getMobileMsmCode + "</div></div>\n"),
        e.push("</div>\n")),
        e.push("<div class='memberSignupItem itemSpace'>\n"),
        e.push("<div class='itemMiddle'>\n"),
        e.push("<input type='password' id='memberSignupPwd' placeholder='" + LS.loginDialogPsw + "' maxlength='" + F + "' />\n"),
        e.push("</div>\n"),
        e.push("<div class='itemRight'>*</div>\n"),
        e.push("</div>\n"),
        e.push("<div class='memberSignupItem itemSpace'>\n"),
        e.push("<div class='itemMiddle'>\n"),
        e.push("<input type='password' id='memberSignupRepwd' placeholder='" + LS.loginDialogConfirmPsw + "' maxlength='" + F + "' />\n"),
        e.push("</div>\n"),
        e.push("<div class='itemRight'>*</div>\n"),
        e.push("</div>\n"),
        e.push(B),
        v && (e.push("<div class='memberSignupItem_remark itemSpace'>\n"),
        e.push("<div class='itemMiddle'>\n"),
        e.push("<textarea id='memberSignupRemark' placeholder='" + LS.loginDialogComment + "' maxlength='" + C + "'></textarea>\n"),
        e.push("</div>\n"),
        e.push("<div class='itemRight'></div>\n"),
        e.push("</div>\n"));
        var n = "J_memberSignupCaptcha memberSignupCaptchaHide";
        o && (n = "J_memberSignupCaptcha"),
        t || (e.push("<div class='memberSignupItem_captcha " + n + "'>\n"),
        e.push("<div class='itemMiddle' style='float:left;width: 150px;'>\n"),
        e.push("<input id='memberSignupCaptcha' type='text' maxlength='4' placeholder='" + LS.loginDialogCaptcha + "' onkeydown='if (Fai.isEnterKey(event)){$(\"#J_memberRegisterButton\").click();}'/>\n"),
        e.push("</div>\n"),
        e.push("<div class='itemRight'><img alt='' id='memberSignupCaptchaImg' class='memberSignupCaptchaImg' onclick='Site.changeCaptchaImg(this)' title='" + LS.js_msgBoradChageValidateCode + "' src='/validateCode.jsp?" + parseInt(1e3 * Math.random()) + "'/></div>\n"),
        e.push("</div>\n")),
        e.push("</div>\n");
        var r = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "mProtocol.jsp";
        return a && (e.push("<div class='memberSignupItem_regInfo'>\n"),
        e.push("<div class='itemMiddle'>\n"),
        e.push("<input type='checkbox' id='memberAgreePro' maxlength='" + C + "' checked /><label for='memberAgreePro'>" + LS.loginDialogReadAndAgree + "</label>\n"),
        e.push("<a hidefocus='true' href='" + r + "' target='_blank'>《" + LS.loginDialogAgreement + "》</a>\n"),
        e.push("</div>\n"),
        e.push("</div>\n")),
        e.push("<div id='J_memberRegisterButton' class='memberSignupItem_signupButton'>\n"),
        e.push("<div class='itemLeft'>&nbsp;</div>\n"),
        e.push("<div class='itemMiddle'>" + LS.js_memberReg + "</div>\n"),
        e.push("<div class='itemRight'>&nbsp;</div>\n"),
        e.push("</div>\n"),
        e.push("</div>\n"),
        e
    }
    function E(e, t) {
        $("#J_memberLoginDialogPanel .J_loginButton").off("click").on("click", function() {
            _manageMode ? Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。") : Site.memberLogin4(r, s, l, d, c, p)
        }),
        $("#J_memberLoginDialogPanel .J_fastLoginButton").off("click").on("click", function() {
            _manageMode ? Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再登录会员。") : Site.fastLogin3(r, s, l, d, c, p)
        }),
        $("#J_memberRegisterButton").off("click").on("click", function() {
            _manageMode ? Fai.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再注册会员。") : Site.memberSignupDialogSubmit("J_memberRegisterDialogPanel", Fai.top.location.href, 2, r, s, l, d, c, p, e, t)
        }),
        $(".loginAndRegister").find(".login").off("click").on("click", function() {
            $("#J_memberLoginDialogPanel").show(),
            $("#J_memberRegisterDialogPanel").hide()
        }),
        $(".loginAndRegister").find(".register").off("click").on("click", function() {
            $("#J_memberLoginDialogPanel").hide(),
            $("#J_memberRegisterDialogPanel").show()
        }),
        $("#J_memberRegisterDialogPanel .memberSignupContent").mCustomScrollbar({
            theme: "greyish-thin",
            scrollSpeed: 10,
            advanced: {
                updateOnContentResize: !0
            },
            axis: "y",
            callbacks: {}
        })
    }
}
,
Site.mallBuying = {},
Site.mallBuy2 = function(n, s, r) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行购买。");
    else {
        "undefined" == typeof Site.mallBuying[n] && (Site.mallBuying[n] = !1);
        var i = !1;
        if ($.each(Site.mallBuying, function(e, t) {
            if (t)
                return !(i = !0)
        }),
        !i) {
            Site.mallBuying[n] = !0;
            var e = "id=" + n;
            if (s && "undefined" != s) {
                var t, l = (t = "PdSlide" === s ? $("#fk-productSlideContent") : $("#module" + s)).find(".optionMsg");
                if (Fai.isNull(t))
                    return void (Site.mallBuying[n] = !1);
                var d = !0
                  , c = [];
                e += "&fromDetail=true";
                var a = $.cookie("isNeedAddCartItem");
                if (void 0 === a || null == a || "" == a) {
                    if (t.find(".J_productProp .optionItemWrap").each(function() {
                        var e = $(this);
                        if (1 != e.find(".optionItemHover").length) {
                            var t = e.parent().parent().find(".propName").text();
                            if (":" != t.charAt(t.length - 1) && "：" != t.charAt(t.length - 1) || (t = t.substring(0, t.length - 1)),
                            l.show(),
                            l.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(t))),
                            "PdSlide" === s) {
                                var i = $(this).parent().parent().position();
                                $(".fk-slideForProduct .f-propListContent").scrollTop(i.top)
                            }
                            return d = !1
                        }
                        var a = e.attr("data")
                          , o = e.attr("type")
                          , n = e.find(".optionItemHover").attr("data")
                          , r = {};
                        r.name = a,
                        r.value = parseInt(n),
                        null != o && (r.type = parseInt(o)),
                        c.push(r),
                        l.hide()
                    }),
                    Site.priceCalendar && d) {
                        var o = Site.productDetailInfo.ecsOptionList
                          , p = ""
                          , u = Site.priceCalendar.getSelected();
                        $.each(o, function(e, t) {
                            1 === t.t && (p = t.n)
                        }),
                        "" === u || null == u || void 0 === u ? (l.show(),
                        l.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(p))),
                        d = !1) : (optionData = {
                            name: "timeOption"
                        },
                        optionData.value = u,
                        optionData.type = 5,
                        c.push(optionData))
                    }
                    if ("null" != Site.optionsStr.oldOptionsStr && Site.optionsStr.oldOptionsStr) {
                        for (var m = Site.optionsStr.oldOptionsStr.split("_"), h = [], f = 0; f < m.length; f++)
                            for (var g = 0; g < c.length; g++)
                                c[g].name == m[f] && h.push(c[g]);
                        c = h
                    }
                    if (!d)
                        return Site.mallBuying[n] = !1;
                    0 < c.length && (e += "&optionList=" + Fai.encodeUrl($.toJSON(c)));
                    var v = $("#cartbuyCount" + s).val()
                      , _ = 1;
                    Fai.isInteger(v) && (_ = parseInt(v)),
                    _ < 1 ? _ = 1 : 9999999 < _ && (_ = 9999999),
                    $("#cartbuyCount" + s).val(_),
                    e += "&amount=" + _
                } else {
                    var S = $.parseJSON(a);
                    void 0 !== (c = Fai.decodeUrl(S.opList)) && "[]" != c && "" != c && (e += "&optionList=" + Fai.encodeUrl(c)),
                    e += "&amount=" + S.count,
                    $.cookie("isNeedAddCartItem", null)
                }
            }
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp?cmd=addWafCk_addCartItem",
                data: e,
                error: function b() {
                    Site.logMonitor(5950, !0);
                    var e = {
                        htmlContent: Site.getDialogHtml({
                            rt: Site.MallAjaxErrno.networkError
                        }, r),
                        width: 382,
                        height: 115
                    };
                    Site.popupBox(e),
                    Site.mallBuying[n] = !1
                },
                success: function d(e) {
                    var t = $.parseJSON(e);
                    if (Site.refreshTopAndRightBarMallCartNum(),
                    t.rt == Site.MallAjaxErrno.login)
                        return Site.logMonitor(5951, !0),
                        Site.createLoginDialog(n, s, r, "addCartItem", Fai.encodeUrl($.toJSON(c)), _),
                        void (Site.mallBuying[n] = !1);
                    var i = Site.getDialogHtml(t);
                    if (Site.mallBuying[n] = !1,
                    i) {
                        var a = {}
                          , o = parseInt(t.rt);
                        o == Site.MallAjaxErrno.mallAmountZero || o == Site.MallAjaxErrno.outOfMallAmount ? (a = {
                            htmlContent: i,
                            width: 240,
                            height: 116,
                            boxName: "mallAmountZero"
                        },
                        Site.logMonitor(5951, !0)) : o == Site.MallAjaxErrno.OutOfAllowAmount ? (a = {
                            htmlContent: i,
                            width: 240,
                            height: 116,
                            boxName: "allowAmountFlow"
                        },
                        Site.logMonitor(5951, !0)) : o == Site.MallAjaxErrno.notAdded ? (a = {
                            htmlContent: i,
                            width: 240,
                            height: 116,
                            boxName: "notAdded"
                        },
                        Site.logMonitor(5951, !0)) : o == Site.MallAjaxErrno.authMemberNotAllow ? (a = {
                            htmlContent: i,
                            width: 240,
                            height: 100,
                            boxName: "authMemberNotAllow"
                        },
                        Site.logMonitor(5951, !0)) : o == Site.MallAjaxErrno.maxItemList ? (a = {
                            htmlContent: i,
                            width: 240,
                            height: 100,
                            boxName: "maxItemList"
                        },
                        Site.logMonitor(5951, !0)) : (a = {
                            htmlContent: i,
                            width: 372,
                            height: 150,
                            boxName: "mallBuy"
                        },
                        o == Site.MallAjaxErrno.error && Site.logMonitor(5950, !0));
                        Site.popupBox(a)
                    }
                }
            }),
            Fai.isIE() ? (window.event.cancelBubble = !0,
            window.event.returnValue = !1) : Fai.isMozilla() || (event.stopPropagation(),
            event.preventDefault())
        }
    }
}
,
Site.initOptionsStr = function() {
    var e = Site.productDetailInfo;
    e && (Site.optionsStr.oldOptionsStr = e.oldOptionsStr)
}
,
Site.optionsStr = {},
Site.mallImmeBuying = !1,
Site.mallImmeBuy = function(i, l) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行立刻购买。");
    else if (!Site.mallImmeBuying) {
        Site.mallImmeBuying = !0;
        var e, t = "id=" + i;
        e = "PdSlide" === l ? $("#fk-productSlideContent") : $("#module" + l);
        var a = $.cookie("isNeedAddCartItem");
        if (void 0 === a || null == a || "" == a) {
            if (l && "undefined" != l) {
                var d = e.find(".optionMsg");
                if (Fai.isNull(e))
                    return;
                var c = !0
                  , p = [];
                if (t += "&fromDetail=true",
                e.find(".J_productProp .optionItemWrap").each(function(e) {
                    var t = $(this);
                    if (1 != t.find(".optionItemHover").length) {
                        var i = t.parent().parent().find(".propName").text();
                        if (":" != i.charAt(i.length - 1) && "：" != i.charAt(i.length - 1) || (i = i.substring(0, i.length - 1)),
                        d.show(),
                        d.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(i))),
                        "PdSlide" === l) {
                            var a = $(this).parent().parent().position();
                            $(".fk-slideForProduct .f-propListContent").scrollTop(a.top)
                        }
                        return c = !1
                    }
                    var o = t.attr("data")
                      , n = t.attr("type")
                      , r = t.find(".optionItemHover").attr("data")
                      , s = {};
                    s.name = o,
                    s.value = parseInt(r),
                    null != n && (s.type = parseInt(n)),
                    p.push(s),
                    d.hide()
                }),
                Site.priceCalendar && c) {
                    var o = Site.productDetailInfo.ecsOptionList
                      , n = ""
                      , r = Site.priceCalendar.getSelected();
                    $.each(o, function(e, t) {
                        1 === t.t && (n = t.n)
                    }),
                    "" === r || null == r || void 0 === r ? (d.show(),
                    d.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(n))),
                    c = !1) : (optionData = {
                        name: "timeOption"
                    },
                    optionData.value = r,
                    optionData.type = 5,
                    p.push(optionData))
                }
                if ("null" != Site.optionsStr.oldOptionsStr && Site.optionsStr.oldOptionsStr) {
                    for (var s = Site.optionsStr.oldOptionsStr.split("_"), u = [], m = 0; m < s.length; m++)
                        for (var h = 0; h < p.length; h++)
                            p[h].name == s[m] && u.push(p[h]);
                    p = u
                }
                if (!c)
                    return Site.mallImmeBuying = !1;
                0 < p.length && (t += "&optionList=" + Fai.encodeUrl($.toJSON(p)))
            }
            var f = $("#cartbuyCount" + l)
              , g = f.val()
              , v = 1;
            Fai.isInteger(g) && (v = parseInt(g)),
            v < 1 ? v = 1 : 9999999 < v && (v = 9999999),
            f.val(v);
            var _ = {
                pid: i,
                amount: v,
                optList: $.toJSON(p)
            };
            t += "&amount=" + v + "&codata=" + $.toJSON(_)
        } else {
            p = [];
            var S = $.parseJSON(a);
            p = Fai.decodeUrl(S.opList),
            l && "undefined" != l && (t += "&fromDetail=true",
            void 0 !== p && "[]" != p && "" != p && (t += "&optionList=" + Fai.encodeUrl(p)));
            _ = {
                pid: S.pid,
                amount: S.count,
                optList: p
            };
            t += "&amount=" + S.count + "&codata=" + $.toJSON(_),
            $.cookie("isNeedAddCartItem", null)
        }
        var b = $("#limitAmountDiv").data("max-amount");
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=addWafCk_addIme",
            data: t,
            error: function x() {
                Site.mallImmeBuying = !1,
                Fai.ing(LS.networkError, !0),
                Site.logMonitor(5948, !0)
            },
            success: function c(e) {
                Site.mallImmeBuying = !1;
                var t = $.parseJSON(e);
                t.rt == Site.MallAjaxErrno.login ? (Site.logMonitor(5949, !0),
                Site.createLoginDialog(i, l, "", "immeBuy", Fai.encodeUrl($.toJSON(p)), v)) : t.rt == Site.MallAjaxErrno.mallAmountZero ? (Fai.ing(LS.oAmountIsZero, !0),
                Site.logMonitor(5949, !0)) : t.rt == Site.MallAjaxErrno.mallOptionStop ? (Fai.ing(LS.mallOptionStop, !0),
                Site.logMonitor(5949, !0)) : t.rt == Site.MallAjaxErrno.outOfMallAmount ? (Fai.ing(LS.outOfMallAmount, !0),
                Site.logMonitor(5949, !0)) : t.rt == Site.MallAjaxErrno.OutOfAllowAmount ? (Fai.ing(Fai.format(LS.allowAmountOverFlow, b), !0),
                Site.logMonitor(5949, !0)) : t.rt == Site.MallAjaxErrno.notAdded ? (Fai.ing(LS.mallProductNotAdded, !0),
                Site.logMonitor(5949, !0)) : t.rt == Site.MallAjaxErrno.authMemberNotAllow ? (Fai.ing(t.data + LS.authLevelBuy, !0),
                Site.logMonitor(5949, !0)) : t.rt == Site.MallAjaxErrno.optionOutOfDate ? (Fai.ing("商品购物选项已更新，请重新下单", !0),
                Site.logMonitor(5949, !0)) : (t.success || Site.logMonitor(5948, !0),
                Fai.top.location.href = Site.getHtmlUrl("mstl") + "?imme")
            }
        }),
        Fai.isIE() ? (window.event.cancelBubble = !0,
        window.event.returnValue = !1) : Fai.isMozilla() || (event.stopPropagation(),
        event.preventDefault())
    }
}
,
Site.desMallCartAmount = function(e, t, i, a, o, n, r, s) {
    var l = Fai.top.$("#module" + e).find(".itemLine" + t)
      , d = l.find(".amountEdit")
      , c = parseInt(d.val())
      , p = l.find(".J_mcart-pdSelect").prop("checked")
      , u = c;
    if (--c < o || c == o ? (c = o,
    $("#buyCountDes" + e + "_" + t).addClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).removeClass("disableMallJia")) : 9999998 < c ? (c = 9999999,
    $("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia")) : ($("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).removeClass("disableMallJia")),
    d.val(c),
    0 != r && s && d.parents(".itemAmount").find(".noStockTip").html(""),
    u != c && p)
        Site.mallCartAmountChange(e, t, i, a, o, n, r, s);
    else {
        var m = parseFloat(l.find(".amountEdit").attr("_itemprice"), 2) * parseInt(l.find(".amountEdit").val());
        m = 2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? Fai.formatPriceEn(m) : m.toFixed(2),
        l.find(".itemTotalText").text(m)
    }
}
,
Site.incMallCartAmount = function(e, t, i, a, o, n, r, s) {
    var l = Fai.top.$("#module" + e).find(".itemLine" + t)
      , d = l.find(".amountEdit")
      , c = parseInt(d.val())
      , p = c
      , u = l.find(".J_mcart-pdSelect").prop("checked");
    if (++c < 2 ? (c = 1,
    $("#buyCountDes" + e + "_" + t).addClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).removeClass("disableMallJia")) : (n < c || c == n) && 0 != n ? (c = n,
    $("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia")) : 9999998 < c ? (c = 9999999,
    $("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia")) : ($("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).removeClass("disableMallJia")),
    d.val(c),
    0 != r && s && d.parents(".itemAmount").find(".noStockTip").html(""),
    p != c && u)
        Site.mallCartAmountChange(e, t, i, a, o, n, r, s);
    else {
        var m = parseFloat(l.find(".amountEdit").attr("_itemprice"), 2) * parseInt(l.find(".amountEdit").val());
        m = 2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? Fai.formatPriceEn(m) : m.toFixed(2),
        l.find(".itemTotalText").text(m)
    }
}
,
Site.mallCartAmountChange = function(e, t, i, a, o, n, r, s) {
    var l = Fai.top.$("#module" + e)
      , d = l.find(".itemLine" + t)
      , c = d.find(".amountEdit")
      , p = c.val()
      , u = 1;
    d.find(".J_mcart-pdSelect").prop("checked");
    Fai.isInteger(p) && (u = parseInt(p)),
    u < o ? (u = o,
    $("#buyCountDes" + e + "_" + t).addClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).removeClass("disableMallJia")) : (n < u || u == n) && 0 != n ? (u = n,
    $("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia")) : r < u && s ? (u = r,
    Fai.ing(LS.mallAmountOverFlow, !0),
    $("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia")) : 9999998 < u ? (u = 9999999,
    $("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia")) : ($("#buyCountDes" + e + "_" + t).removeClass("disableMallJian"),
    $("#buyCountInc" + e + "_" + t).removeClass("disableMallJia")),
    u <= 1 && (u = 1,
    $("#buyCountDes" + e + "_" + t).addClass("disableMallJian")),
    0 == r && s ? (u = 0,
    $("#buyCountInc" + e + "_" + t).addClass("disableMallJia"),
    $("#buyCountDes" + e + "_" + t).addClass("disableMallJian")) : c.parent().find(".noStockTip").html(""),
    c.val(u);
    var m = l.find(".cartMsg");
    isNaN(u) || u <= 0 || 9999999 < u ? m.html(LS.mallCartAmountError) : (l.find(".amountEdit").attr("disabled", !0),
    m.show(),
    0 < l.find(".mallCartNew").length && m.hide(),
    m.html(LS.mallCartUpdating),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=setWafCk_setItem&orderId=" + i,
        data: "itemId=" + a + "&amount=" + u,
        error: function h() {
            l.find(".amountEdit").removeAttr("disabled"),
            m.html(LS.mallCartUpdateError)
        },
        success: function f(e) {
            l.find(".amountEdit").removeAttr("disabled"),
            (e = jQuery.parseJSON(e)).success ? (m.html(LS.mallCartUpdateOk),
            Site.reCountCartMoney(l)) : -3 == e.rt ? m.html(LS.mallCartUpdateNotFound) : -9 == e.rt ? m.html(LS.mallCartUpdateStatusError) : m.html(LS.mallCartUpdateError)
        }
    }))
}
,
Site.reCountCartMoney = function(u) {
    var e = u.find(".cartTotalValue")
      , m = e.attr("choiceCurrencyVal")
      , h = (e.attr("levelDiscount"),
    e.attr("levelName"),
    0)
      , f = 0;
    u.find(".itemListcount").each(function() {
        var i = $.parseJSON($(this).attr("saleInfo"))
          , e = $(this).find(".itemLine");
        if (u.find(".J_mallCart").hasClass("mallCartNew") && (e = $(this).find(".goodsInfoLine")),
        void 0 !== e && null != e && 0 < e.length) {
            var a = 0;
            if (void 0 !== i && null != i && Site.checkSaleProVal(i)) {
                var t = $(this).attr("lineno")
                  , o = i.other.ruleData.d;
                if ("1" == i.other.ruleData.s || "2" == i.other.ruleData.s) {
                    var n = 0;
                    e.each(function() {
                        var e = Site.getEachItemPrice(this)
                          , t = $(this).find(".J_mcart-pdSelect").prop("checked");
                        2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $(this).find(".itemTotalText").text(Fai.formatPriceEn(e)) : $(this).find(".itemTotalText").text(e.toFixed(2)),
                        t && (n += e)
                    });
                    o = i.other.ruleData.d;
                    for (var r = 0, s = 0, l = 0; l < o.length; l++) {
                        var d = parseFloat(o[l].m)
                          , c = parseFloat(o[l].n);
                        d <= 0 && (c = d = 0),
                        d <= n && r < d && (r = d,
                        s = c)
                    }
                    if (h += n,
                    f += n - s,
                    0 < s) {
                        var p = [];
                        p.push("<div class='needPay'>"),
                        p.push(m + (n - s).toFixed(2)),
                        p.push("</div>"),
                        p.push("<div class='itemTotalPay'>"),
                        p.push(m + n.toFixed(2)),
                        p.push("</div>"),
                        $(".J_salePrice_" + t).html(p.join("")),
                        $(".J_salePrice_" + t).css("bottom", "1px"),
                        $(".J_salePrice_" + t).parent(".showRedsalePro").find(".fullReduceCalss").addClass("fullReduceRed").removeClass("fullReduceGray"),
                        $(".J_salePrice_" + t).parent(".showRedsalePro").find(".fullReduceCalssRect").addClass("fullReduceRectRed").removeClass("fullReduceRectGray")
                    } else
                        $(".J_salePrice_" + t).removeAttr("style"),
                        $(".J_salePrice_" + t).html(m + n.toFixed(2)),
                        $(".J_salePrice_" + t).parent(".showRedsalePro").find(".fullReduceCalss").addClass("fullReduceGray").removeClass("fullReduceRed"),
                        $(".J_salePrice_" + t).parent(".showRedsalePro").find(".fullReduceCalssRect").addClass("fullReduceRectGray").removeClass("fullReduceRectRed")
                }
            } else
                e.each(function() {
                    i = $.parseJSON($(this).attr("saleInfo"));
                    var e = $(this).find(".J_mcart-pdSelect").prop("checked")
                      , t = Site.getEachItemPrice(this);
                    e && (a += t,
                    h += t),
                    2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $(this).find(".itemTotalText").text(Fai.formatPriceEn(t)) : $(this).find(".itemTotalText").text(t.toFixed(2))
                });
            f += a
        }
    }),
    Site.refreshTopAndRightBarMallCartNum(),
    2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? u.has("mallCartNew") ? ($(".J_countTotal").html(LS.js_goodsTotalMoney + "<span class='countTotalText'>" + m + Fai.formatPriceEn(h) + "</span>"),
    $(".J_countSave").html("&nbsp;&nbsp;&nbsp;" + LS.js_offsetMoney + "<span class='countSaveText'>" + m + Fai.formatPriceEn(h - f) + "</span>"),
    u.find(".cartTotalValue").html("<span class='currencyValText'>" + m + "</span>" + Fai.formatPriceEn(f))) : ($(".J_countTotal").html(LS.shoppingCartCountMoney + m + Fai.formatPriceEn(h)),
    $(".J_countSave").html("&nbsp;&nbsp;&nbsp;" + LS.js_shoppingCartCountReduce + m + Fai.formatPriceEn(h - f)),
    u.find(".cartTotalValue").html(m + Fai.formatPriceEn(f))) : u.has("mallCartNew") ? ($(".J_countTotal").html(LS.js_goodsTotalMoney + "<span class='countTotalText'>" + m + h.toFixed(2) + "</span>"),
    $(".J_countSave").html("&nbsp;&nbsp;&nbsp;" + LS.js_offsetMoney + "<span class='countSaveText'>" + m + (h - f).toFixed(2) + "</span>"),
    u.find(".cartTotalValue").html("<span class='currencyValText'>" + m + "</span>" + f.toFixed(2))) : ($(".J_countTotal").html(LS.shoppingCartCountMoney + m + h.toFixed(2)),
    $(".J_countSave").html("&nbsp;&nbsp;&nbsp;" + LS.js_shoppingCartCountReduce + m + (h - f).toFixed(2)),
    u.find(".cartTotalValue").html(m + f.toFixed(2)))
}
,
Site.getEachItemPrice = function(e) {
    var t = parseFloat($(e).find(".amountEdit").attr("_itemprice"), 2)
      , i = parseInt($(e).find(".amountEdit").val());
    return isNaN(i) ? parseFloat($(e).find(".itemTotalText").html()) : t * i
}
,
Site.showSaleRedPromotion = function(e, t, i, a, o) {
    if (!(void 0 === e || void 0 === t || null == e || null == t || t < 0)) {
        var n = $(".showRedsalePro").eq(0).width()
          , r = $(".J_fullReduceCalss_" + t).eq(0).width();
        if (Site.checkSaleProVal(e)) {
            var s = e.other.ruleData.d;
            if (0 < s.length) {
                for (var l = "", d = [], c = 0; c < s.length; c++)
                    "undefined" != typeof s[c].m && "undefined" != typeof s[c].n && (0 != c && d.push(LS.comma),
                    2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? d.push(Fai.format(LS.js_salePromotionFullReduce, Fai.formatPriceEn(s[c].m, null, !0), Fai.formatPriceEn(s[c].n, null, !0))) : d.push(Fai.format(LS.js_salePromotionFullReduce, s[c].m, s[c].n)));
                "1" == e.other.ruleData.s ? l = Fai.format(LS.salePromotionSigle, d.join("")) : "2" == e.other.ruleData.s && (l = Fai.format(LS.salePromotionGroup, d.join(""))),
                $(".J_saleWord_" + t).css({
                    left: 45 + r + "px",
                    width: n - 235 - r + "px"
                }).html(l).attr("title", l)
            }
        }
        if (void 0 !== i && void 0 !== a && void 0 !== o && null != i && null != a && null != o)
            if (i == a)
                2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $(".J_salePrice_" + t).html(o + Fai.formatPriceEn(i)) : $(".J_salePrice_" + t).html(o + i.toFixed(2));
            else {
                var p = [];
                2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? (p.push("<div class='needPay'>"),
                p.push(o + Fai.formatPriceEn(i)),
                p.push("</div>"),
                p.push("<div class='itemTotalPay'>"),
                p.push(o + Fai.formatPriceEn(a))) : (p.push("<div class='needPay'>"),
                p.push(o + i.toFixed(2)),
                p.push("</div>"),
                p.push("<div class='itemTotalPay'>"),
                p.push(o + a.toFixed(2))),
                p.push("</div>"),
                $(".J_salePrice_" + t).html(p.join("")),
                $(".J_salePrice_" + t).css("bottom", "1px"),
                $(".J_salePrice_" + t).parent(".showRedsalePro").find(".fullReduceCalss").addClass("fullReduceRed").removeClass("fullReduceGray"),
                $(".J_salePrice_" + t).parent(".showRedsalePro").find(".fullReduceCalssRect").addClass("fullReduceRectRed").removeClass("fullReduceRectGray")
            }
    }
}
,
Site.showCountPrice = function(e, t, i, a, o, n) {
    if (void 0 !== e && void 0 !== t && void 0 !== i && null != e && null != t && null != i) {
        var r, s = t - e;
        if (e = 2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? (s = Fai.formatPriceEn(s),
        t = Fai.formatPriceEn(t),
        Fai.formatPriceEn(e)) : (s = s.toFixed(2),
        t = t.toFixed(2),
        e.toFixed(2)),
        n)
            $(".J_countTotal").html(LS.js_goodsTotalMoney + "<span class='countTotalText'>" + i + t + "</span>"),
            $(".J_countSave").html("&nbsp;&nbsp;&nbsp;" + LS.js_offsetMoney + "<span class='countSaveText'>" + i + s + "</span>"),
            (r = []).push("<span class='cartTotalName'>"),
            r.push(LS.finalPayMoney),
            r.push("</span>"),
            r.push("<span class='cartTotalValue mCart_color' choiceCurrencyVal ='" + i + "' levelDiscount='" + a + "' levelName='" + o + "'  >"),
            r.push("<span class='currencyValText'>" + i + "</span>" + e),
            r.push("</span>"),
            $(".J_countNeedPay").html(r.join(""));
        else
            $(".J_countTotal").html(LS.shoppingCartCountMoney + i + t),
            $(".J_countSave").html("&nbsp;&nbsp;&nbsp;" + LS.js_shoppingCartCountReduce + i + s),
            (r = []).push("<span class='cartTotalName'>"),
            r.push(LS.js_shouldPayMoney),
            r.push("</span>"),
            r.push("<span class='cartTotalValue g_stress' choiceCurrencyVal ='" + i + "' levelDiscount='" + a + "' levelName='" + o + "'  >"),
            r.push(i + e),
            r.push("</span>"),
            $(".J_countNeedPay").html(r.join(""))
    }
}
,
Site.showSaleMemOrRedPrice = function(e, t, i, a, o, n) {
    if (void 0 !== e && null != e) {
        if (Site.checkSaleProVal(e)) {
            var r = e.other.ruleData.d;
            if (0 < r.length) {
                var s, l = "", d = r[0].m;
                "1" == e.other.ruleData.s ? l = 2052 == _lcid || 1028 == _lcid ? Fai.format(LS.salePromotionPdDisCount, d.toFixed(1)) : Fai.format(LS.salePromotionPdDisCount, Fai.formatPriceEn(10 * (10 - d), 1)) : "2" == e.other.ruleData.s && (l = 2052 == _lcid || 1028 == _lcid ? Fai.format(LS.salePromotionPdLapse, o + d.toFixed(2)) : Fai.format(LS.salePromotionPdLapse, o + Fai.formatPriceEn(d))),
                (s = []).push("<div class='saleMemOrRedName'>"),
                s.push("<table cellpadding='0' cellspacing='0'><tr>"),
                s.push("<td>"),
                s.push(LS.salePromotionName),
                s.push("</td>"),
                s.push("<td>"),
                s.push("<div class='saleMemOrJt'>"),
                s.push("</div>"),
                s.push("</td>"),
                s.push("</tr></table>"),
                s.push("</div>"),
                s.push("<div class='saleMemOrRedVal'>"),
                s.push(LS.salePromotionActivity + Fai.encodeHtml(e.name)),
                s.push("<div style='height:3px;'></div>"),
                s.push(l),
                s.push("</div>"),
                $(".J_itemPrice_" + n).filter(":not('.mallCartNew .J_itemPrice_" + n + "')").css("margin-top", "-18px"),
                $(".J_saleMemOrRedPrice_" + n).html(s.join(""))
            }
        }
    } else
        (0 < i && i < 100 || t) && ((s = []).push("<div class='saleMemOrRedName'>"),
        s.push("<table cellpadding='0' cellspacing='0'><tr>"),
        s.push("<td>"),
        s.push(LS.js_memberPrice),
        s.push("</td>"),
        0 < i && i < 100 && (s.push("<td>"),
        s.push("<div class='saleMemOrJt'>"),
        s.push("</div>"),
        s.push("</td>")),
        s.push("</tr></table>"),
        s.push("</div>"),
        s.push("</div>"),
        0 < i && i < 100 && (s.push("<div class='saleMemOrRedVal'>"),
        i = i.toFixed(2),
        s.push(a + Fai.format(LS.salePromotionRedVal, "*" + i + "%")),
        s.push("</div>")),
        $(".J_itemPrice_" + n).filter(":not('.mallCartNew .J_itemPrice_" + n + "')").css("margin-top", "-18px"),
        $(".J_saleMemOrRedPrice_" + n).html(s.join("")))
}
,
Site.checkSaleProVal = function(e) {
    return "undefined" != typeof e.other && "undefined" != typeof e.other.ruleData && "undefined" != typeof e.other.ruleData.s && "undefined" != typeof e.other.ruleData.d && null != e.other.ruleData.d && 0 < e.other.ruleData.d.length
}
,
Site.showSaleMemOrRedValInIE = function(e) {
    0 < e && e < 100 && $(".saleProSignHover").hover(function() {
        $(this).find(".saleMemOrRedName").css("border-bottom-width", "0px"),
        $(this).find(".saleMemOrRedVal").css({
            "background-color": "#ffefe9",
            display: "block"
        }),
        $(this).find(".saleMemOrJt").addClass("saleMemOrJtUp")
    }, function() {
        $(this).find(".saleMemOrRedName").css("border-bottom-width", "1px"),
        $(this).find(".saleMemOrRedVal").css({
            "background-color": "#ffefe9",
            display: "none"
        }),
        $(this).find(".saleMemOrJt").removeClass("saleMemOrJtUp")
    })
}
,
Site.mallCartItemDel = function(e, d, t, i, a, c) {
    var p = Fai.top.$("#module" + e)
      , u = p.find(".cartMsg");
    u.show(),
    0 < p.find(".mallCartNew").length && u.hide(),
    u.html(LS.mallCartUpdating),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=delWafCk_delItem&orderId=" + t,
        data: "itemId=" + i,
        error: function o() {
            u.html(LS.mallCartUpdateError)
        },
        success: function m(e) {
            if ((e = jQuery.parseJSON(e)).success) {
                u.html(LS.mallCartUpdateOk);
                for (var t = p.find(".itemLine" + d), i = t.parent(), a = i.find(".itemLine"), o = a.length, n = 0, r = 0; r < o; r++)
                    if (t.attr("class") == a.eq(r).attr("class")) {
                        n = r;
                        break
                    }
                if (1 < o)
                    if (n == o - 1) {
                        i.find(".separatorLine").eq(n - 1).remove();
                        var s = a.eq(o - 1).find(".J_saleXuXian").attr("style");
                        a.eq(o - 2).find(".J_saleXuXian").attr("style", s)
                    } else
                        p.find(".separatorLine" + d).remove();
                if (t.remove(),
                1 == o) {
                    var l = i.attr("lineno");
                    p.find(".J_saleRemove_" + l).remove()
                }
                setTimeout(function() {
                    p.find(".J_saleTabItem_" + c).length <= 0 && p.find(".J_saleTabRemove_" + c).remove()
                }, 100),
                0 == p.find(".itemLine").length ? Fai.top.location.reload() : Site.reCountCartMoney(p)
            } else
                -3 == e.rt ? u.html(LS.mallCartUpdateNotFound) : -9 == e.rt ? u.html(LS.mallCartUpdateStatusError) : u.html(LS.mallCartUpdateError),
                0 < p.find(".mallCartNew").length && u.hide()
        }
    })
}
,
Site.mallSettle = function(e) {
    var t = $(".J_mcart-pdSelect").not("input:checked")
      , i = $(".J_mcart-pdSelect").filter("input:checked")
      , a = new Array;
    if ($(t).each(function() {
        var e = $(this).attr("itemId");
        a.push(e)
    }),
    $(".J_mallCart .J_Invalid").each(function() {
        var e = $(this).attr("itemid");
        a.push(e)
    }),
    500 < i.length)
        Fai.ing(LS.mcartTooLong);
    else if (i.length) {
        var o = !1;
        if ($(i).each(function() {
            var e = Number($(this).parents(".goodsInfoLine").find(".itemAmount .amountEdit").val())
              , t = Number($(this).attr("_realAmount"))
              , i = $(this).attr("_enableMallAmount");
            if (t < e && "true" == i)
                return !(o = !0)
        }),
        o)
            return void Fai.ing(LS.mallAmountOverFlow);
        Fai.top.location.href = Site.getHtmlUrl("mstl") + (0 < e ? "?id=" + e + "&unCheckedItemIds=" + a : "")
    } else
        Fai.ing(LS.mallSelectSettleItem)
}
,
Site.mallSelectAllShop = function(e, t) {
    var i = $("#module" + e)
      , a = i.find("#selectAll")
      , o = i.find(".J_mcart-pdSelect")
      , n = i.find(".J_mcart-pdSelect:checked")
      , r = o.not("input:checked")
      , s = (o.length,
    "true" == a.attr("diffpd"))
      , l = a.prop("checked")
      , d = 0 < i.find(".J_mcart-pdSelect:checked[pdtype=0]").length
      , c = !1;
    if (s) {
        i.find(".J_mcart-pdSelect:checked[pdtype=1]").length;
        l && !d && (i.find(".J_mcart-pdSelect[pdtype=1]").prop("checked", !0),
        a.prop("checked", !1),
        Fai.ing("卡密产品不能与实物产品一起结算"),
        c = !0),
        l && d ? (i.find(".J_mcart-pdSelect[pdtype=0]").not("input:checked").prop("checked", !0),
        a.prop("checked", !1),
        Fai.ing("实物产品不能与卡密产品一起结算"),
        c = !0) : r = i.find(".J_mcart-pdSelect[pdtype=1]").not("input:checked")
    }
    t ? o.prop("checked", l) : l ? (c || r.click(),
    s ? a.prop("checked", !1) : a.prop("checked", !0)) : (n.click(),
    a.prop("checked", !1)),
    Site.setCheckBoxToFalgDiv(i),
    Site.reCountCartMoney(i)
}
,
Site.mallSelectShop = function(e, t) {
    var i = $("#module" + t)
      , a = i.find(".J_mcart-pdSelect")
      , o = i.find("#selectAll")
      , n = 0 < i.find(".J_mcart-pdSelect:checked[pdtype=0]").length
      , r = 0 < i.find(".J_mcart-pdSelect:checked[pdtype=1]").length
      , s = i.find(".J_mcart-pdSelect[itemid=" + e + "]")
      , l = parseInt(s.attr("pdtype")) || 0;
    if (n && 1 == l || r && 0 == l)
        return n && Fai.ing("卡密产品不能与实物产品一起结算", !0),
        r && Fai.ing("实物产品不能与卡密产品一起结算", !0),
        void s.prop("checked", !1);
    o.prop("checked", !0),
    $.each(a, function(e, t) {
        if (!$(t).prop("checked"))
            return o.prop("checked", !1),
            !1
    }),
    Site.setCheckBoxToFalgDiv(i),
    Site.reCountCartMoney(i)
}
,
Site.mallStlPayMode = function(e, t) {
    var i = Fai.top.$("#module" + e);
    i.find("input[name=mallPay]").val(t),
    2 == t ? i.find(".bankList").show() : i.find(".bankList").hide(),
    3 == t || 4 == t || 5 == t || 6 == t || 7 == t || 8 == t || 9 == t || 10 == t || 11 == t || 12 == t || 13 == t || 51 == t || 52 == t ? (i.find(".payOnlinePanel").show(),
    i.find(".payOnlinePanel input[value='" + t + "']").click(),
    8 !== t && 11 !== t && 13 !== t || $(i.find(".payOnlinePanel input[type='radio']")[0]).click()) : i.find(".payOnlinePanel").hide()
}
,
Site.copyVpdCusCode = function(e) {
    var t = document.createElement("input");
    document.body.appendChild(t),
    t.setAttribute("value", e),
    t.select(),
    document.execCommand("copy") && (document.execCommand("copy"),
    Fai.ing("复制成功", !0)),
    document.body.removeChild(t)
}
,
Site.mallStlCalcTotal = function(e, t) {
    var i = Fai.top.$("#module" + e)
      , a = 0 < i.find(".mallStlNew").length
      , o = 0;
    if (o = a ? parseFloat(i.find(".calTotalItem").attr("pay_price")) : parseFloat(i.find(".cartTotal").attr("pay_price")),
    !isNaN(o)) {
        var n = parseFloat(i.find("input[name=mallShip]:checked").attr("price"));
        if (n = a ? parseFloat(i.find('.mallShipSelect option[name=mallShip][value="' + i.find(".mallShipSelect").val() + '"]').attr("price")) || 0 : parseFloat(i.find("input[name=mallShip]:checked").attr("price")) || 0,
        0 < $("#mallShipTemplate_province").length)
            i.find("input[name=mallShip]:checked").attr({
                provinceCode: $.trim($("#mallShipTemplate_areaBoxInput").attr("area1")),
                cityCode: $.trim($("#mallShipTemplate_areaBoxInput").attr("area2")),
                countyCode: $.trim($("#mallShipTemplate_areaBoxInput").attr("area3")),
                streetCode: $.trim($("#mallShipTemplate_areaBoxInput").attr("area4")),
                isCus: $.trim($("#mallShipTemplate_areaBoxInput").attr("isCus"))
            });
        var r = 0;
        if (0 < $("#offsetMoney").length) {
            var s = $("#offsetMoney").attr("_offsetmoney");
            if (!isNaN(s) && o + n < (r = parseFloat(s)))
                return Fai.ing(Fai.format(LS.integral_maxUse, $("#useItg").attr("_maxuse"), Fai.encodeHtml($("#useItg").attr("__itegName"))), !0),
                $("#useItg").focus(),
                void (2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? i.find(".mallStlTotal .totalValue").text(Fai.formatPriceEn(o + n)) : i.find(".mallStlTotal .totalValue").text((o + n).toFixed(2)))
        }
        var l = 0;
        if (0 < $("#couponOffsetMoney").length) {
            s = $("#couponOffsetMoney").attr("_offsetmoney");
            isNaN(s) || (l = parseInt(s))
        }
        if (o + n < r + l)
            return !1;
        var d = parseInt(i.find("#presentItg").attr("value"));
        if (0 < d) {
            var c = parseInt((o - r - l).toFixed(2) * d);
            c < 0 && (c = 0),
            i.find("#presentItg").text(c)
        }
        2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? (t ? i.find("#shippingMoneyVal").parents(".shippingMoney").hide() : i.find("#shippingMoneyVal").parents(".shippingMoney").show(),
        i.find("#shippingMoneyVal").text(Fai.formatPriceEn(n)).attr("_shipmoney", n),
        i.find(".mallStlTotal .totalValue").text(Fai.formatPriceEn(o + n - r - l))) : (t ? i.find("#shippingMoneyVal").parents(".shippingMoney").hide() : i.find("#shippingMoneyVal").parents(".shippingMoney").show(),
        i.find("#shippingMoneyVal").text(n.toFixed(2)).attr("_shipmoney", n),
        i.find(".mallStlTotal .totalValue").text((o + n - r - l).toFixed(2)))
    }
}
,
Site.mallStlChangeBank = function(e) {
    $("#" + e).attr("checked", !0)
}
,
Site.mallNumeric = function(e) {
    $("#module" + e + " .numeric").numeric({
        decimal: " ",
        negative: !1
    })
}
,
Site.getBackgroundColor = function(e) {
    for (var t = ""; "html" != e[0].tagName.toLowerCase() && ("rgba(0, 0, 0, 0)" == (t = e.css("background-color")) || "transparent" == t); )
        e = e.parent();
    return t
}
,
Site.getMallSubmitData = function(e, v, _, S, b) {
    var x = "";
    if (e.find(".propItemValue").each(function() {
        var e = $(this)
          , t = 1 == e.attr("_required");
        if (e.hasClass("J-pccS") && b) {
            var i = 1 == $("#areaBoxInput").attr("isCus")
              , a = $("#areaBoxInput").attr("area1");
            if (t && (null == a || "" == a))
                return x = LS.mallStlSubmitAddrErr,
                !1;
            var o = $("#areaBoxInput").attr("area2");
            if (t && !i && (null == o || "" == o))
                return x = LS.mallStlSubmitAddrErr,
                !1;
            var n = $("#areaBoxInput").attr("area3")
              , r = $("#areaBoxInput").attr("area4")
              , s = ($("#addrInfo_street"),
            $.trim($("#addrInfo_street").val()));
            if (t && "" === s)
                return x = LS.editStreetAddr,
                !1;
            var l = "";
            if (l = 2052 == Fai.top._lcid || 1028 == Fai.top.lcid ? $("#areaBoxInput").val().replace(/-/g, "") + s : $("#areaBoxInput").val().replace(/-/g, " ") + " " + s,
            0 != S) {
                var d = {};
                d.provinceCode = a,
                d.cityCode = o,
                d.countyCode = n,
                d.streetCode = r,
                d.streetAddr = s,
                _.addr_info = d,
                _.addr = l,
                _.isDefault = 1
            }
            v.addr = l;
            var c = {
                provinceCode: parseInt(a) || -1,
                cityCode: parseInt(o) || -1,
                countyCode: parseInt(n) || -1,
                streetCode: parseInt(r) || -1,
                streetAddr: s || "",
                isCus: i || !1
            };
            v.addrInfo = JSON.stringify(c)
        } else {
            var p, u, m = e.attr("_field"), h = e.attr("printtype");
            if (p = e.find("input").val(),
            1 == t && !p)
                return x = LS.mallStlSubmitInput + e.attr("_prop"),
                !1;
            if (p && 0 < p.length)
                if ("mobile" == h) {
                    if (!Fai.isNationMobile(p))
                        return x = LS.mallStlSubmitInput2 + e.attr("_prop"),
                        !1;
                    u = e.find("select").val()
                } else if ("email" == h) {
                    if (!Fai.isEmail(p))
                        return x = LS.mallStlSubmitInput2 + e.attr("_prop"),
                        !1
                } else if ("identity" == h) {
                    if (!Fai.isCardNo(p))
                        return x = LS.addrInfoInputError + e.attr("_prop"),
                        !1
                } else if ("date" == h) {
                    if ("submit" == e.attr("opera"))
                        p = e.find("input").val();
                    else {
                        var f = {};
                        if (p = e.find("input").val(),
                        f.s = p,
                        0 != e.find(".fk-startTime").length) {
                            var g = e.find(".fk-endTime").val();
                            if (!g)
                                return x = LS.mallStlSubmitInput + e.attr("_prop"),
                                !1;
                            f.e = g
                        }
                        p = JSON.stringify(f)
                    }
                }
            void 0 !== m && (v[m] = p,
            0 != S && b && (_[m] = p,
            "mobile" == m && 0 < p.length && (_.mobileCt = u)),
            "mobile" == m && 0 < p.length && (v.mobileCt = u))
        }
    }),
    "" != x)
        return x;
    if (Site.orderMessageOpen) {
        var t = Fai.decodeHtml($("#orderLeveaMsgIn").val());
        t.length > Site.orderMessageMaxNum && (t = t.substring(0, Site.orderMessageMaxNum)),
        t !== Site.orderLeveaMsgTip ? v.msg = t : v.msg = ""
    } else
        v.msg = "";
    var i = e.find("input[name=mallShip]:checked");
    if (1 === $("#mallShipTemplate_province").length && 1 === i.length) {
        var a = parseInt(i.attr("provinceCode"))
          , o = parseInt(i.attr("cityCode"))
          , n = parseInt(i.attr("countyCode"))
          , r = parseInt(i.attr("streetCode"))
          , s = 1 == i.attr("isCus");
        if (!a || isNaN(a) || !site_cityUtil.isValidProvince(a) && !s)
            return x = LS.mallStlSubmitAddrErr;
        if ((!o || isNaN(o) || !site_cityUtil.isValidCity(o, a)) && !s)
            return x = LS.mallStlSubmitAddrErr;
        isNaN(a) && (a = -1),
        isNaN(o) && (o = -1),
        isNaN(n) && (n = -1),
        isNaN(r) && (r = -1);
        var l = {
            type: parseInt(i.val()),
            templateId: parseInt(i.attr("templateId")),
            provinceCode: a,
            cityCode: o,
            countyCode: n,
            streetCode: r,
            isCus: s,
            streetAddr: $.trim($("#streetAddress").val())
        };
        "" == $.trim($("#streetAddress").val()) && (l.streetAddr = $.trim($("#addrInfo_street").val())),
        v.shipType = l
    } else if (1 === i.length && (v.shipType = parseInt(i.val())),
    !Fai.isNull(top.addr_info)) {
        var d = {
            provinceCode: parseInt(top.addr_info.provinceCode) || -1,
            cityCode: parseInt(top.addr_info.cityCode) || -1,
            countyCode: parseInt(top.addr_info.countyCode) || -1,
            streetCode: parseInt(top.addr_info.streetCode) || -1,
            streetAddr: top.addr_info.streetAddr || "",
            isCus: top.addr_info.isCus || !1
        };
        v.addrInfo = JSON.stringify(d)
    }
    var c = e.find("input[name=mallPay]");
    if (c && 0 != c.length) {
        var p = e.find("input[name=mallPay]:checked");
        1 == p.length && (v.payMode = parseInt(p.val()));
        parseInt(p.val());
        var u = $("#useItg");
        if (0 < u.length) {
            var m = u.val();
            if (Fai.isInteger(m)) {
                var h = parseInt(u.attr("_maxUse"))
                  , f = parseInt(u.attr("_currentitg"))
                  , g = u.attr("_itgname");
                if (f < m)
                    return x = Fai.format(LS.integral_notOverCurrent, Fai.encodeHtml(g), Fai.encodeHtml(g));
                if (h < m)
                    return x = Fai.format(LS.site_integral_notOver, Fai.encodeHtml(g), h);
                if (m < 0)
                    return x = LS.integral_inputInteger;
                v.useItg = parseInt(m)
            } else if (0 != m.length)
                return x = LS.integral_inputInteger
        }
        if (0 < $("#presentItgShow").length && (v.presentItg = !0),
        0 < $("#couponList  input:checked").length) {
            var w = $("#couponList  input:checked").attr("data_id");
            v.cdId = Number(w)
        }
        return x
    }
    Fai.ing(LS.unPaidTips)
}
,
Site.mallOrderSubmiting = !1,
Site.mallImmeSubmit = function(e, t, i, a) {
    if (!Site.mallOrderSubmiting) {
        Site.mallOrderSubmiting = !0;
        var o = {}
          , n = {}
          , r = (e = Fai.top.$("#module" + e)).find(".stlMsg")
          , s = Site.getMallSubmitData(e, o, n, t, i);
        if ("" != s)
            return r.show(),
            r.html(s),
            Site.scrollToDiv(e),
            void (Site.mallOrderSubmiting = !1);
        var l = e.find(".mallStlOpt input");
        if (l.attr("disabled", !0),
        r.show(),
        r.html(LS.mallStlSubmitting),
        Site.scrollToDiv(e),
        0 != t && i) {
            var d = {}
              , c = [];
            c.push(n),
            d.addrInfoList = c,
            $.ajax({
                type: "post",
                url: action = Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=addAddr&id=" + t,
                data: "info=" + Fai.encodeUrl($.toJSON(d)),
                success: function h(e) {},
                error: function f() {}
            })
        }
        if (5 == o.payMode) {
            var p = o.name
              , u = new RegExp("[\\u4E00-\\u9FFF]+","g");
            if (p) {
                if (p.length < 2 && !u.test(p))
                    return r.hide(),
                    Site.scrollToDiv(e),
                    Fai.ing(LS.orderValidRecvName),
                    void l.attr("disabled", !1)
            } else if (0 != t && a) {
                var m = "";
                a.length < 2 && (u.test(p) || (m = "会员")),
                o.name = m + a
            } else
                o.name = "游客"
        }
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=setWafCk_settle&imme",
            data: "data=" + Fai.encodeUrl($.toJSON(o)),
            error: function f() {
                l.removeAttr("disabled"),
                r.html(LS.mallStlSubmitError),
                Site.mallOrderSubmiting = !1,
                Site.logMonitor(5985, !0)
            },
            success: function h(e) {
                l.removeAttr("disabled"),
                (e = jQuery.parseJSON(e)).success ? Fai.top.location.href = Site.getHtmlUrl("mdetail") + "?id=" + e.oid + "#firstSubmit" : (-3 == e.rt ? r.html(LS.mallStlSubmitNotFound) : -9 == e.rt ? r.html(LS.mallStlSubmitStatusError) : e.rt == Site.MallAjaxErrno.mallAmountZero ? r.html(LS.oAmountIsZero) : e.rt == Site.MallAjaxErrno.outOfMallAmount ? r.html(LS.outOfMallAmount) : -11 == e.rt ? r.html(LS.mallAmountOverFlow) : -1308 == e.rt ? r.html(e.msg) : r.html(LS.mallStlSubmitError),
                e.rt == Site.MallAjaxErrno.error ? Site.logMonitor(5985, !0) : Site.logMonitor(5984, !0),
                Site.mallOrderSubmiting = !1)
            }
        })
    }
}
,
Site.mallSubmit = function(e, i, t, a, o, n, r) {
    if (0 != i) {
        var s = {}
          , l = {}
          , d = (e = Fai.top.$("#module" + e)).find(".stlMsg")
          , c = Site.getMallSubmitData(e, s, l, o, n);
        if ("" != c)
            return d.show(),
            d.html(c),
            void Site.scrollToDiv(e);
        var p = e.find(".mallStlOpt input");
        if (p.attr("disabled", !0),
        d.show(),
        d.html(LS.mallStlSubmitting),
        Site.scrollToDiv(e),
        0 != o && n) {
            var u = {}
              , m = [];
            m.push(l),
            u.addrInfoList = m,
            $.ajax({
                type: "post",
                url: action = Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=addAddr&id=" + o,
                data: "info=" + Fai.encodeUrl($.toJSON(u)),
                success: function v(e) {},
                error: function _() {}
            })
        }
        if (5 == s.payMode) {
            var h = s.name
              , f = new RegExp("[\\u4E00-\\u9FFF]+","g");
            if (h) {
                if (h.length < 2 && !f.test(h))
                    return d.hide(),
                    Site.scrollToDiv(e),
                    Fai.ing(LS.orderValidRecvName),
                    void p.attr("disabled", !1)
            } else if (0 != o && r) {
                var g = "";
                r.length < 2 && (f.test(h) || (g = "会员")),
                s.name = g + r
            } else
                s.name = "游客"
        }
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=delWafCk_delItem&orderId=" + i,
            data: "itemIds=" + Fai.encodeUrl($.toJSON(t)),
            error: function _() {
                p.removeAttr("disabled"),
                d.html(LS.mallStlSubmitError)
            },
            success: function v() {
                $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/order_h.jsp?cmd=setWafCk_settle&orderId=" + i,
                    data: "data=" + Fai.encodeUrl($.toJSON(s)),
                    error: function e() {
                        p.removeAttr("disabled"),
                        d.html(LS.mallStlSubmitError)
                    },
                    success: function vYa(e) {
                        p.removeAttr("disabled"),
                        (e = jQuery.parseJSON(e)).success ? $.ajax({
                            type: "post",
                            url: Site.addRequestPrefix({
                                newPath: "/ajax",
                                oldPath: "ajax"
                            }) + "/order_h.jsp?cmd=addWafCk_addAfterShop",
                            data: "data=" + Fai.encodeUrl($.toJSON(a)),
                            error: function t() {
                                p.removeAttr("disabled"),
                                d.html(LS.mallStlSubmitError)
                            },
                            success: function vYa(e) {
                                Fai.top.location.href = Site.getHtmlUrl("mdetail") + "?id=" + i + "#firstSubmit"
                            }
                        }) : -3 == e.rt ? d.html(LS.mallStlSubmitNotFound) : -9 == e.rt ? d.html(LS.mallStlSubmitStatusError) : e.rt == Site.MallAjaxErrno.mallAmountZero ? d.html(Fai.format(LS.oAmountIsZero)) : e.rt == Site.MallAjaxErrno.outOfMallAmount ? d.html(Fai.format(LS.outOfMallAmount)) : e.rt == Site.MallAjaxErrno.OutOfAllowAmount ? d.html(Fai.format(LS.allowAmountOverNameList, Fai.encodeHtml(e.productsName))) : e.rt == Site.MallAjaxErrno.couponOverTime ? d.html(LS.couponOverTime) : e.rt == Site.MallAjaxErrno.couponUnavail ? d.html(LS.couponUnavail) : e.rt == Site.MallAjaxErrno.couponNotFound ? d.html(LS.couponNotFound) : -11 == e.rt ? d.html(LS.mallAmountOverFlow) : d.html(LS.mallStlSubmitError)
                    }
                })
            }
        })
    } else
        Fai.top.location.href = Site.getHtmlUrl("mdetail")
}
,
Site.addrInfo = function(e) {
    top.addr_info = e
}
,
Site.isCalTpl = !0,
Site.initModuleMallAddrInfo = function(d, c, e, p, t) {
    if (null != Site.addrInfoListGlobal && Site.addrInfoListGlobal != [] && (d = Site.addrInfoListGlobal),
    site_cityUtil.initProvinces(p),
    0 == d.length) {
        var i = function i(e) {
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
        }
          , a = "";
        a += "<div class='spaceLine'></div>",
        $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
            a += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
            a += "<div class='group_head'>" + t[0] + "</div>",
            a += "<div class='group_content'>",
            $.each(t[1], function(e, t) {
                a += 2052 == p || 1028 == p ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
            }),
            a += "</div>",
            a += "</div>",
            a += "<div class='spaceLine'></div>"
        }),
        $("#areaBox1 .pv_content").html("").append(a),
        0 < $("#areaBox1").length && $("#areaBox1").css("left", $("#areaBoxInput").position().left + 13),
        $("#areaBoxInput").hide(),
        0 < $(".J_isOldStyle2").length && $("#areaBox1").parents(".propList").css("overflow", "visible"),
        $(document).unbind("click.forAreaBox3").bind("click.forAreaBox3", function() {
            $("#areaBox1").hide(),
            $("#areaBox2").hide()
        }),
        $("#areaBox1,#areaBox2").unbind("click.forAreaBox").bind("click.forAreaBox", function(e) {
            i(e)
        }),
        $("#allArea").change(function() {
            var e = $(this).val();
            if (null == e || "" == e || "os" == e ? $("#areaBoxInput").hide() : $("#areaBoxInput").show(),
            $("#areaBox1, #areaBox2").hide(),
            null != e && "" != e && ($("#areaBoxInput").attr({
                isCn: 0,
                isCus: 0,
                isOs: 0,
                area1: "",
                area2: "",
                area3: "",
                area4: ""
            }),
            "cn" == e ? ($("#areaBoxInput").attr("isCn", 1),
            $("#areaBox1 .pv").click(),
            $("#areaBox1 .city_content").remove(),
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove(),
            $("#areaBox1").show(),
            $("#areaBoxInput").val("")) : "os" == e ? ($("#areaBoxInput").attr("isOs", 1),
            $("#areaBoxInput").attr("area1", 99e4),
            $("#areaBoxInput").attr("area2", 990100),
            $("#areaBoxInput").val($("#areaBox1").find(".group_item[pid='990000']").text())) : ($("#areaBoxInput").attr("isCus", 1),
            $("#areaBoxInput").attr("area1", e),
            $("#areaBox2 .sec_content").html(""),
            $("#areaBox2 .thd_content").html(""),
            $("#areaBox2").show(),
            $("#areaBoxInput").val("")),
            $("#mallShipTemplate_allArea").val(e),
            $("#mallShipTemplate_allArea").change(),
            "cn" != e && "os" != e)) {
                var t = _(e);
                $("#sec_box .sec_content").append(t),
                $("#areaBoxInput").val($("#areaBoxInput").val() + $("#allArea option[value='" + $("#allArea").val() + "']").text()),
                null !== t && t !== undefined && "" !== t || ($("#areaBox2").hide(),
                $(".J-ssq").hide(),
                $("#areaBoxInput").hide())
            }
        }),
        $("#areaBoxInput").unbind("click").bind("click", function(e) {
            "cn" == $("#allArea").val() ? ($("#areaBox1").toggle(),
            $("#areaBox2").hide(),
            $("#province_box").show(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").hide()) : null == $("#allArea").val() || "os" == $("#allArea").val() || ($("#areaBox2").toggle(),
            $("#areaBox1").hide(),
            $("#sec_box").show(),
            $("#thd_box").hide()),
            i(e)
        }),
        $("#areaBox1 .J_areaHead .pv").click(function() {
            $("#province_box").show(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").hide()
        }),
        $("#areaBox1 .J_areaHead .city").click(function() {
            $("#province_box").hide(),
            $("#city_box").show(),
            $("#county_box").hide(),
            $("#street_box").hide()
        }),
        $("#areaBox1 .J_areaHead .county").click(function() {
            $("#province_box").hide(),
            $("#city_box").hide(),
            $("#county_box").show(),
            $("#street_box").hide()
        }),
        $("#areaBox1 .J_areaHead .street").click(function() {
            $("#province_box").hide(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").show()
        }),
        $("#areaBox2 .J_areaHead2 .sec").click(function() {
            $("#sec_box").show(),
            $("#thd_box").hide()
        }),
        $("#areaBox2 .J_areaHead2 .thd").click(function() {
            $("#sec_box").hide(),
            $("#thd_box").show()
        }),
        $("#province_box .group_item").bind("click", function() {
            $("#areaBox1 .city_content").remove(),
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove();
            var e = $(this).attr("pname")
              , t = $(this).attr("pid");
            $("#areaBox1 .J_areaHead .city").click(),
            $("#areaBoxInput").val(""),
            $("#areaBoxInput").val($("#areaBoxInput").val() + e),
            $("#areaBoxInput").removeAttr("lastArea"),
            $("#areaBoxInput").removeAttr("lastAreaType"),
            $("#areaBoxInput").attr("area1", t),
            $("#areaBoxInput").attr("area2", ""),
            $("#areaBoxInput").attr("area3", ""),
            $("#areaBoxInput").attr("area4", ""),
            $("#areaBox1 .city_content").remove();
            var i = h(site_cityUtil.getCities(t))
              , a = $(i).html();
            null !== a && a !== undefined && "" !== a || $("#areaBox1").hide(),
            $("#city_box").append(i),
            $("#mallShipTemplate_province_box .group_item[pid='" + t + "']").click()
        }),
        $("#city_box").delegate(".group_item", "click", function() {
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove();
            var e = $(this).attr("cname")
              , t = $(this).attr("cid");
            $("#areaBox1 .J_areaHead .county").click();
            $("#areaBoxInput").attr("lastArea");
            var i = $("#areaBoxInput").attr("lastAreaType");
            null != i && "" != i && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "city"),
            $("#areaBoxInput").attr("area2", t),
            $("#areaBoxInput").attr("area3", ""),
            $("#areaBoxInput").attr("area4", ""),
            $("#areaBox1 .county_content").remove();
            var a = f(site_cityUtil.getCounty(t))
              , o = $(a).html();
            null !== o && o !== undefined && "" !== o || $("#areaBox1").hide(),
            $("#county_box").append(a),
            $("#mallShipTemplate_city_box .group_item[cid='" + t + "']").click()
        }),
        $("#county_box").delegate(".group_item", "click", function() {
            if ($("#areaBox1 .street_content").remove(),
            t == undefined || e == undefined)
                var e = $(this).attr("cname")
                  , t = $(this).attr("cid");
            $("#areaBoxInput").attr("lastArea");
            var i = $("#areaBoxInput").attr("lastAreaType");
            $("#areaBox1 .J_areaHead .street").click(),
            null == i || "street" != i && "county" != i || $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-", $("#areaBoxInput").val().indexOf("-") + 1))),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "county"),
            $("#areaBoxInput").attr("area3", t),
            $("#areaBoxInput").attr("area4", "");
            var a = g(site_cityUtil.getStreet(t))
              , o = $(a).html();
            null !== o && o !== undefined && "" !== o || $("#areaBox1").hide(),
            $("#street_box").append(a),
            $("#mallShipTemplate_county_box .group_item[cid='" + t + "']").click()
        }),
        $("#street_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#areaBoxInput").attr("lastArea")
              , a = $("#areaBoxInput").attr("lastAreaType");
            null != a && "street" == a && $("#areaBoxInput").val($("#areaBoxInput").val().replace(i, "")),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "street"),
            $("#areaBoxInput").attr("area4", t),
            $("#areaBox1").hide(),
            $("#mallShipTemplate_street_box .group_item[cid='" + t + "']").click()
        }),
        $("#sec_box").delegate(".group_item", "click", function() {
            $("#areaBox2 .thd_content").html("");
            var e = $(this).attr("cname")
              , t = $(this).attr("cid");
            $(".J_areaHead2 .thd").click();
            $("#areaBoxInput").attr("lastArea");
            var i = $("#areaBoxInput").attr("lastAreaType");
            null != i && "" != i && -1 != $("#areaBoxInput").val().indexOf("-") && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "sec"),
            $("#areaBoxInput").attr("area2", t),
            $("#areaBoxInput").attr("area3", "");
            var a = _(t);
            null !== a && a !== undefined && "" !== a || $("#areaBox2").hide(),
            $("#thd_box .thd_content").append(a),
            $("#mallShipTemplate_sec_box .group_item[cid='" + t + "']").click()
        }),
        $("#thd_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#areaBoxInput").attr("lastArea")
              , a = $("#areaBoxInput").attr("lastAreaType");
            null != a && "thd" == a && $("#areaBoxInput").val($("#areaBoxInput").val().replace(i, "")),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e),
            $("#areaBoxInput").attr("lastArea", "-" + e),
            $("#areaBoxInput").attr("lastAreaType", "thd"),
            $("#areaBoxInput").attr("area3", t),
            $("#areaBox2").hide(),
            $("#mallShipTemplate_thd_box .group_item[cid='" + t + "']").click()
        })
    }
    $(".addrMsg_default, .addrMsg").click(function() {
        var e = $(this).attr("_item");
        $(this).find(".selected").show(),
        $(this).parent().find(".addrMsg_default").hasClass("isDefault") ? $(this).parent().find(".addrMsg_default").attr("class", "addrMsg isDefault") : $(this).parent().find(".addrMsg_default").attr("class", "addrMsg notDefault"),
        $(this).hasClass("isDefault") ? $(this).attr("class", "addrMsg_default isDefault") : $(this).attr("class", "addrMsg_default notDefault"),
        $(this).parent().find(".addrMsg_default, .addrMsg").each(function() {
            $(this).attr("_item") != e && $(this).find(".selected").hide()
        });
        var t = d[e];
        if (null != t.addr_info) {
            var i = t.addr_info.isCus;
            if (Site.isCalTpl = !1,
            i)
                setTimeout(function() {
                    t.addr_info.cityCode || t.addr_info.countyCode || (Site.isCalTpl = !0),
                    $("#mallShipTemplate_allArea").val(t.addr_info.provinceCode),
                    $("#mallShipTemplate_allArea").change(),
                    setTimeout(function() {
                        t.addr_info.countyCode || (Site.isCalTpl = !0),
                        $("#mallShipTemplate_areaBox2 .group_item[cid='" + t.addr_info.cityCode + "']").click(),
                        setTimeout(function() {
                            Site.isCalTpl = !0,
                            $("#mallShipTemplate_areaBox2 .group_item[cid='" + t.addr_info.countyCode + "']").click()
                        }, 0)
                    }, 0)
                }, 0),
                $("#streetAddress").val(t.addr_info.streetAddr);
            else {
                var a = "";
                2052 == p || 1028 == p ? (a = site_cityUtil.getInfo(t.addr_info.countyCode).name,
                site_cityUtil.getInfo(t.addr_info.cityCode).name,
                site_cityUtil.getInfo(t.addr_info.provinceCode).name,
                site_cityUtil.getInfo(t.addr_info.streetCode).name) : (a = site_cityUtil.getInfoEn(t.addr_info.countyCode).name,
                site_cityUtil.getInfoEn(t.addr_info.cityCode).name,
                site_cityUtil.getInfoEn(t.addr_info.provinceCode).name,
                site_cityUtil.getInfoEn(t.addr_info.streetCode).name),
                99e4 == t.addr_info.provinceCode ? ($("#mallShipTemplate_areaBoxInput").attr("isOs", 1),
                $("#mallShipTemplate_allArea").val("os")) : ($("#mallShipTemplate_areaBoxInput").attr("isCn", 1),
                $("#mallShipTemplate_allArea").val("cn")),
                $("#mallShipTemplate_allArea").change(),
                $("#mallShipTemplate_areaBoxInput").attr("area1", t.addr_info.provinceCode),
                $("#mallShipTemplate_areaBoxInput").attr("area2", t.addr_info.cityCode),
                $("#mallShipTemplate_areaBoxInput").attr("area3", t.addr_info.countyCode),
                $("#mallShipTemplate_areaBoxInput").attr("area4", t.addr_info.streetCode),
                $("#mallShipTemplate_areaBoxInput").attr("lastArea", "-" + a),
                $("#mallShipTemplate_areaBoxInput").attr("lastAreaType", "county"),
                Site.isCalTpl = !0,
                setTimeout(function() {
                    $("#mallShipTemplate_areaBox1 .group_item[pid='" + t.addr_info.provinceCode + "']").click(),
                    setTimeout(function() {
                        $("#mallShipTemplate_areaBox1 .group_item[cid='" + t.addr_info.cityCode + "']").click(),
                        setTimeout(function() {
                            $("#mallShipTemplate_areaBox1 .group_item[cid='" + t.addr_info.countyCode + "']").click(),
                            setTimeout(function() {
                                $("#mallShipTemplate_areaBox1 .group_item[cid='" + t.addr_info.streetCode + "']").click()
                            }, 0)
                        }, 0)
                    }, 0)
                }, 0),
                $("#streetAddress").val(t.addr_info.streetAddr)
            }
            Site.addrInfo(t.addr_info)
        }
        for (var o = 0; o < c.length; o++)
            if (null != c[o]) {
                var n = c[o].fieldKey
                  , r = t[n]
                  , s = c[o].type
                  , l = c[o].id;
                $(".propList").find(".propItemValue").each(function() {
                    if ($(this).attr("_field") == n)
                        if (9 == s) {
                            var e = r
                              , t = $(this).find("#orderPropDateStart" + l);
                            if (e != undefined) {
                                var i = e.s || "";
                                if (t.val(i),
                                e.e != undefined) {
                                    var a = $(this).find("#orderPropDateStart" + l + "_end");
                                    0 < a.length && a.val(e.e)
                                }
                            }
                            $(this).find("input").val(JSON.stringify(r))
                        } else
                            $(this).find("input").val(r)
                }),
                "mobile" == n && (r = t[n = "mobileCt"],
                $(".propList").find(".propItemValue").each(function() {
                    $(this).attr("_field") == n && $(this).find("input").val(r)
                }))
            }
    });
    for (var o = 0; o < d.length; o++) {
        var n = d[o];
        if (1 == n.isDefault) {
            for (var r = 0; r < c.length; r++)
                if (null != c[r]) {
                    var s = c[r].fieldKey
                      , l = n[s]
                      , u = c[r].type
                      , m = c[r].id;
                    $(".propList").find(".propItemValue").each(function() {
                        if ($(this).attr("_field") == s)
                            if (9 == u) {
                                var e = l
                                  , t = $(this).find("#orderPropDateStart" + m);
                                if (e != undefined) {
                                    var i = e.s || "";
                                    if (t.val(i),
                                    e.e != undefined) {
                                        var a = $(this).find("#orderPropDateStart" + m + "_end");
                                        0 < a.length && a.val(e.e)
                                    }
                                }
                            } else
                                $(this).find("input").val(l)
                    }),
                    "mobile" == s && (l = n[s = "mobileCt"],
                    $(".propList").find(".propItemValue").each(function() {
                        $(this).attr("_field") == s && $(this).find("input").val(l)
                    }))
                }
            null != n.addr_info && $(".addrMsg_default, .addrMsg").each(function() {
                $(this).attr("_item") == o && $(this).click()
            })
        }
    }
    function h(e) {
        var i = "";
        return i += "<div class='city_content'>",
        $.each(e, function(e, t) {
            i += 2052 == p || 1028 == p ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.simpleCityNameStr(site_cityUtil.getInfo(t.id).name) + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.simpleCityNameStrEn(site_cityUtil.getInfoEn(t.id).name) + "</div>"
        }),
        i += "</div>"
    }
    function f(e) {
        var i = "";
        return i += "<div class='county_content'>",
        $.each(e, function(e, t) {
            i += 2052 == p || 1028 == p ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function g(e) {
        var i = "";
        return i += "<div class='street_content'>",
        $.each(e, function(e, t) {
            i += 2052 == p || 1028 == p ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function v(i) {
        var a = [];
        return $.each(t, function(e, t) {
            t.parentId == i && a.push(t)
        }),
        a
    }
    function _(e) {
        if (isNaN(e))
            return "";
        var t = parseInt(e)
          , i = "";
        return $.each(v(t), function(e, t) {
            i += "<div class='group_item' cid='" + t.id + "' cname='" + t.name + "'>" + t.name + "</div>"
        }),
        i
    }
    7 == e ? $(".addrMsg_default, .addrMsg").each(function() {
        $(this).attr("_item") == d.length - 1 && $(this).click()
    }) : 6 != e && $(".addrMsg_default, .addrMsg").each(function() {
        $(this).attr("_item") == e && $(this).click()
    }),
    Fai.isIE6() && (2 < d.length ? $(".addrMsgList").attr("style", "cursor:pointer;height:300px;width:690px;") : $(".addrMsgList").attr("style", "cursor:pointer;height:150px;"))
}
,
Site.SelfRaisingList = [],
Site.initSelfRaisingSelect = function(a, e) {
    Site.SelfRaisingList = a;
    e && Site.clickDelivery(1),
    $(".takingPointSelect").off("change.mstl").on("change.mstl", function(e) {
        var t = $(this)
          , i = t.find("option:selected").attr("value");
        t.attr("value", i),
        $.each(a, function(e, t) {
            if (t.id == i)
                return $(".takingPointWrap").text(t.ais + "(" + t.phone + ")"),
                !0
        })
    })
}
,
Site.clickDelivery = function(e) {
    var t, i, a = $("#priceHold").attr("_totalValue"), o = $("#priceHold").attr("_takingValue");
    if (1 == e)
        $("#finalPay").text(a),
        i = $("#delivery"),
        t = $("#selfRaising"),
        $("#delivetyDiv").show(),
        $("#takingDiv").hide(),
        $("#shipTypeDiv").show(),
        $(".shippingMoney").show();
    else {
        var n = $("#finalPay").text();
        ("" == a || a != n && a != o) && (o = ((a = n) - $("#shippingMoneyVal").text()).toFixed(2)),
        $("#finalPay").text(o),
        i = $("#selfRaising"),
        t = $("#delivery"),
        $("#delivetyDiv").hide(),
        $("#takingDiv").show(),
        $("#shipTypeDiv").hide(),
        $(".shippingMoney").hide()
    }
    $("#priceHold").attr("_totalValue", a),
    $("#priceHold").attr("_takingValue", o),
    t.removeClass("deliveryTypeChecked"),
    t.removeClass("mstl_border"),
    t.css("color", "#999999"),
    t.find(".TitleSelect").hide(),
    i.addClass("deliveryTypeChecked"),
    i.addClass("mstl_border"),
    i.css("color", "#333333"),
    i.find(".TitleSelect").show();
    var r = $("#integralCheckBox");
    0 < r.length && r.prop("checked") && (r.prop("checked", !1),
    $(".integralTitle").removeClass("discountChecked"),
    $(".integralTitle").next().val("").trigger("blur").attr("disabled", "true")),
    Site.recheckItg()
}
,
Site.recheckItg = function() {
    var e = 100 * parseFloat($(".calTotalItem").attr("pay_price")).toFixed(2) || 0
      , t = 100 * parseFloat($("#offsetMoney").attr("_offsetmoney")).toFixed(2) || 0
      , i = 100 * parseFloat($("#couponOffsetMoney").attr("_offsetmoney")).toFixed(2) || 0
      , a = 100 * parseFloat($("#shippingMoneyVal").attr("_shipmoney")).toFixed(2) || 0;
    $("#finalPay");
    $("#selfRaising").hasClass("deliveryTypeChecked") && (a = 0);
    var o = ((e + a - t - i) / 100).toFixed(2)
      , n = {};
    n.order = localStorage.getItem("orderInfo"),
    n.shipPrice = (a / 100).toFixed(2),
    n.couponOff = (i / 100).toFixed(2),
    n.finalPay = o,
    n.total = $.parseJSON(n.order).tempTotalPrice.toFixed(2),
    n.itgOff = (t / 100).toFixed(2),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=wafNotCk_recheckItg",
        async: !1,
        data: n,
        error: function r() {
            Fai.ing(LS.js_systemError, !1)
        },
        success: function s(e) {
            var t = $.parseJSON(e);
            t.success && null != t.rtData.maxUse && "undefined" != typeof t.rtData.maxUse && ($("#useItg").attr("_maxUse", t.rtData.maxUse),
            t.rtData.maxUse < $("#useItg").val() && (Fai.ing(Fai.format(LS.integral_maxUse, t.rtData.maxUse, Fai.encodeHtml($("#useItg").attr("_itgname"))), !0),
            $("#useItg").val(t.rtData.maxUse),
            $("#useItg").blur()))
        }
    })
}
,
Site.changePayModePopup = function(r, t) {
    var e = "g_stress";
    function o(e) {
        return 2 == e ? "bank" : 3 == e ? "tenpay" : 4 == e || 5 == e || 6 == e || 8 == e || 12 == e || 13 == e || 51 == e ? "alipay" : 7 == e ? "paypal" : 9 == e ? "pm" : 10 == e || 11 == e || 52 == e ? "wxpay" : 15 == e ? "despositpay" : void 0
    }
    function s() {
        var t = !0;
        return $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=setWafCk_checkOrder",
            data: "orderId=" + r,
            async: !1,
            dataType: "json",
            error: function e() {
                Fai.ing(LS.mallStlSubmitError)
            },
            success: function i(e) {
                e.success || (t = !1,
                -3 == e.rt ? Fai.ing(LS.mallStlSubmitNotFound) : -9 == e.rt ? Fai.ing(LS.mallStlSubmitStatusError) : e.rt == Site.MallAjaxErrno.mallAmountZero ? Fai.ing(Fai.format(LS.oAmountIsZero)) : e.rt == Site.MallAjaxErrno.outOfMallAmount ? Fai.ing(Fai.format(LS.outOfMallAmount)) : e.rt == Site.MallAjaxErrno.OutOfAllowAmount ? Fai.ing(Fai.format(LS.allowAmountOverNameList, Fai.encodeHtml(e.productsName))) : e.rt == Site.MallAjaxErrno.payDomainError ? Fai.ing(LS.mallPayDomainError) : e.rt == Site.MallAjaxErrno.notAdded ? Fai.ing(LS.mallProductNotAdded) : -1304 == e.rt ? document.location.reload() : Fai.ing(LS.mallStlSubmitError))
            }
        }),
        t
    }
    $("#changePayMode").hasClass("mDetailStyleFlag") && (e = "mDetail_hover_color"),
    $("#changePayMode").hover(function() {
        $("#changePayMode").addClass(e)
    }, function() {
        $("#changePayMode").removeClass(e)
    }),
    $("#changePayMode").on("click", function() {
        var a = [];
        a.push("<div class='payModePop J_payModepop'>"),
        a.push("<div class='p-title'>"),
        a.push(LS.choosePayment),
        a.push("</div>"),
        3 < t.length ? a.push("<div class='p-content1'>") : a.push("<div class='p-content2'>"),
        $.each(t, function(e, t) {
            var i = o(t);
            i && (a.push("<div class='p-payMode J_payMode' _data='" + t + "'>"),
            a.push("<div class='p-payMode-" + i + "'>"),
            a.push("</div>"),
            a.push("</div>"))
        }),
        a.push("</div>"),
        a.push("<div class='p-foot'>"),
        a.push("<div class='payModeBtn' id='payModeBtn'>"),
        a.push(LS.goAndPay),
        a.push("</div>"),
        a.push("</div>"),
        a.push("</div>");
        var e = {};
        3 < t.length ? e.height = 295 : e.height = 250,
        e.width = 500,
        e.htmlContent = a.join("");
        var n = Site.popupBox(e);
        n.find(".J_payMode").on("click", function() {
            $(".J_payModepop").find(".J_payMode").removeClass("selected"),
            $(".J_payModepop").find(".selected1").remove(),
            $(this).addClass("selected"),
            $(this).append("<div class='selected1'></div>")
        }),
        $("#payModeBtn").on("click", function() {
            var a = $(".J_payModepop").find(".selected").attr("_data");
            if (a) {
                isNaN(a) || (a = parseInt(a));
                var e = {};
                e.payMode = a,
                $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/order_h.jsp?cmd=setWafCk_setOrder",
                    data: "id=" + r + "&info=" + $.toJSON(e),
                    dataType: "json",
                    error: function t() {
                        Fai.ing(LS.mallStlSubmitError)
                    },
                    success: function o(e) {
                        if (e.success) {
                            var t = Site.checkOrderPayLimit(r);
                            if ("" != t)
                                return void Fai.ing(t);
                            if (s()) {
                                var i;
                                if (3 == a)
                                    i = "tenpay.jsp?orderId=" + r;
                                else if (4 == a || 5 == a || 6 == a || 12 == a)
                                    i = "alipay.jsp?orderId=" + r;
                                else if (7 == a)
                                    i = "paypal.jsp?orderId=" + r;
                                else {
                                    if (9 != a)
                                        return 10 == a || 51 == a || 52 == a ? (Site.getNativePayUrl(r),
                                        void n.find(".popupBClose").click()) : 15 == a ? (n.find(".popupBClose").click(),
                                        void Site.depositPay(r)) : void Site.getTopWindow().location.reload();
                                    i = "cbpay.jsp?orderId=" + r
                                }
                                Site.getTopWindow().location.href = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + i
                            }
                        } else
                            Fai.ing(e.msg)
                    }
                })
            } else
                Fai.ing(LS.selectPaymentFirst, !0)
        })
    })
}
,
Site.initPayOrder = function(e) {
    new Site.payOrder(e).init()
}
,
Site.payOrder = function(e) {
    this.orderId = e
}
,
function(o) {
    var n, e = Site.payOrder.prototype, t = o(".dtlSubmit"), r = o(".detailMsg");
    function i() {
        t = o(".dtlSubmit"),
        r = o(".detailMsg"),
        t.on("click", function() {
            var e = Site.checkOrderPayLimit(n);
            if ("" != e)
                return r.html(e),
                void r.show();
            if (a(n)) {
                var t = o(this).attr("_href");
                "NATIVE" == t ? Site.getNativePayUrl(n) : "DEPOSIT" == t ? (Site.logDog(200983, 25),
                Site.depositPay(n)) : Site.getTopWindow().location.href = t
            }
        })
    }
    function a() {
        var i = !0;
        return o.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=setWafCk_checkOrder",
            data: "orderId=" + n,
            async: !1,
            dataType: "json",
            error: function e() {
                Fai.ing(LS.mallStlSubmitError)
            },
            success: function a(e) {
                if (!e.success) {
                    if (i = !1,
                    -3 == e.rt)
                        r.html(LS.mallStlSubmitNotFound);
                    else if (-9 == e.rt)
                        r.html(LS.mallStlSubmitStatusError);
                    else if (e.rt == Site.MallAjaxErrno.mallAmountZero)
                        r.html(Fai.format(LS.oAmountIsZero));
                    else if (e.rt == Site.MallAjaxErrno.outOfMallAmount)
                        r.html(Fai.format(LS.outOfMallAmount));
                    else if (e.rt == Site.MallAjaxErrno.OutOfAllowAmount)
                        r.html(Fai.format(LS.allowAmountOverNameList, Fai.encodeHtml(e.productsName)));
                    else if (e.rt == Site.MallAjaxErrno.payDomainError)
                        r.html(LS.mallPayDomainError);
                    else if (e.rt == Site.MallAjaxErrno.notAdded) {
                        r.hide();
                        var t = ["<div class='fk-order-tip formBox' style='width:235px; height:78px; padding:0 0;background-color:#FFF;'>", "<div class='J-close formXSite' style='margin-top:3px;'></div>", "<div class='t-txt' style='margin-top:30px; text-align:center;'>" + LS.mallProductNotAdded + "</div>", "<div>"];
                        tip = o(t.join("")),
                        module.prepend(tip),
                        tip.find(".J-close").click(function() {
                            tip.remove()
                        }),
                        tip.css({
                            top: 20,
                            left: (module.width() - tip.width()) / 2
                        })
                    } else
                        -1304 == e.rt ? document.location.reload() : r.html(LS.mallStlSubmitError);
                    r.show()
                }
            }
        }),
        i
    }
    e.init = function() {
        n = this.orderId,
        i()
    }
}(jQuery),
Site.checkOrderPayLimit = function(e) {
    var t = "";
    return $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=getWafNotCk_checkOrderPayLimit",
        data: "orderId=" + e,
        async: !1,
        dataType: "json",
        error: function i() {
            t = ""
        },
        success: function a(e) {
            t = !e.success && e.isOverTime ? e.msg : !e.success && e.isFaiHost ? e.msg : ""
        }
    }),
    t
}
,
Site.initModuleMallShipTemplate = function(e) {
    var n = (e = e || {}).moduleId
      , o = e.choiceCurrencyVal
      , r = (e.addrInfo,
    e.addrInfoList,
    e.Lcid)
      , t = e.cusAreaList
      , a = e.shipType
      , s = e.pdItemList
      , l = !0;
    site_cityUtil.initProvinces(r);
    var i = "";
    function d(e) {
        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
    }
    function c(e) {
        var i = "";
        return i += "<div class='city_content'>",
        $.each(e, function(e, t) {
            i += 2052 == r || 1028 == r ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.simpleCityNameStr(site_cityUtil.getInfo(t.id).name) + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.simpleCityNameStrEn(site_cityUtil.getInfoEn(t.id).name) + "</div>"
        }),
        i += "</div>"
    }
    function p(e) {
        var i = "";
        return i += "<div class='county_content'>",
        $.each(e, function(e, t) {
            i += 2052 == r || 1028 == r ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function u(e) {
        var i = "";
        return i += "<div class='street_content'>",
        $.each(e, function(e, t) {
            i += 2052 == r || 1028 == r ? "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function m(i) {
        var a = [];
        return $.each(t, function(e, t) {
            t.parentId == i && a.push(t)
        }),
        a
    }
    function h(e) {
        if (isNaN(e))
            return "";
        var t = parseInt(e)
          , i = "";
        return $.each(m(t), function(e, t) {
            i += "<div class='group_item' cid='" + t.id + "' cname='" + t.name + "'>" + t.name + "</div>"
        }),
        i
    }
    i += "<div class='spaceLine'></div>",
    $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
        i += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
        i += "<div class='group_head'>" + t[0] + "</div>",
        i += "<div class='group_content'>",
        $.each(t[1], function(e, t) {
            i += 2052 == r || 1028 == r ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
        }),
        i += "</div>",
        i += "</div>",
        i += "<div class='spaceLine'></div>"
    }),
    $("#mallShipTemplate_areaBox1 .pv_content").html("").append(i),
    0 < $(".J_isOldStyle").length && $("#mallShipTemplate_allArea").parents(".shipList").css("overflow", "visible"),
    $(document).unbind("click.forAreaBox4").bind("click.forAreaBox4", function() {
        $("#mallShipTemplate_areaBox1").hide(),
        $("#mallShipTemplate_areaBox2").hide()
    }),
    $("#mallShipTemplate_areaBox1,#mallShipTemplate_areaBox2").unbind("click.forAreaBox2").bind("click.forAreaBox2", function(e) {
        d(e)
    }),
    $("#mallShipTemplate_allArea").change(function() {
        if (null == $("#mallShipTemplate_allArea").val() || "" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBoxInput").hide(),
        $("#mallShipTemplate_areaBox1").hide(),
        $("#mallShipTemplate_areaBox2").hide()) : $("#mallShipTemplate_areaBoxInput").show(),
        null != $("#mallShipTemplate_allArea").val() && "" != $("#mallShipTemplate_allArea").val() && ($("#mallShipTemplate_areaBoxInput").attr("isCn", 0),
        $("#mallShipTemplate_areaBoxInput").attr("isCus", 0),
        $("#mallShipTemplate_areaBoxInput").attr("isOs", 0),
        $("#mallShipTemplate_areaBoxInput").attr("area1", ""),
        $("#mallShipTemplate_areaBoxInput").attr("area2", ""),
        $("#mallShipTemplate_areaBoxInput").attr("area3", ""),
        $("#mallShipTemplate_areaBoxInput").attr("area4", ""),
        "cn" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBoxInput").attr("isCn", 1),
        $("#mallShipTemplate_areaBox1 .pv").click(),
        $("#mallShipTemplate_areaBox1 .city_content").remove(),
        $("#mallShipTemplate_areaBox1 .county_content").remove(),
        $("#mallShipTemplate_areaBox1 .street_content").remove(),
        $("#mallShipTemplate_areaBoxInput").val("")) : "os" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBoxInput").attr("isOs", 1),
        $("#mallShipTemplate_areaBoxInput").attr("area1", 99e4),
        $("#mallShipTemplate_areaBoxInput").attr("area2", 990100),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBox1").find(".group_item[pid='990000']").text()),
        Site.isCalTpl ? Site.calculateMallShipTpl({
            isStatic: l,
            moduleId: n,
            areaId: "990100",
            choiceCurrencyVal: o,
            pdItemList: s,
            mallStlCalcTotal: Site.mallStlCalcTotal
        }) : Site.mallStlCalcTotal(n)) : ($("#mallShipTemplate_areaBoxInput").attr("isCus", 1),
        $("#mallShipTemplate_areaBoxInput").attr("area1", $("#mallShipTemplate_allArea").val()),
        $("#mallShipTemplate_areaBox2 .sec_content").html(""),
        $("#mallShipTemplate_areaBox2 .thd_content").html(""),
        $("#mallShipTemplate_areaBoxInput").val("")),
        "cn" != $("#mallShipTemplate_allArea").val() && "os" != $("#mallShipTemplate_allArea").val())) {
            var e = h($("#mallShipTemplate_allArea").val());
            $("#mallShipTemplate_sec_box .sec_content").append(e),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + $("#mallShipTemplate_allArea option[value='" + $("#mallShipTemplate_allArea").val() + "']").text());
            var t = $("#mallShipTemplate_allArea").val();
            l = !1,
            Site.isCalTpl ? Site.calculateMallShipTpl({
                isStatic: l,
                moduleId: n,
                areaId: t,
                choiceCurrencyVal: o,
                pdItemList: s,
                mallStlCalcTotal: Site.mallStlCalcTotal
            }) : Site.mallStlCalcTotal(n)
        }
    }),
    $("#mallShipTemplate_areaBoxInput").unbind("click").bind("click", function(e) {
        "cn" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBox1").toggle(),
        $("#mallShipTemplate_areaBox2").hide(),
        $("#mallShipTemplate_province_box").show(),
        $("#mallShipTemplate_city_box").hide(),
        $("#mallShipTemplate_county_box").hide(),
        $("#mallShipTemplate_street_box").hide()) : null == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val() || ($("#mallShipTemplate_areaBox2").toggle(),
        $("#mallShipTemplate_areaBox1").hide(),
        $("#mallShipTemplate_sec_box").show(),
        $("#mallShipTemplate_thd_box").hide()),
        d(e)
    }),
    $("#mallShipTemplate_areaBox1 .J_areaHead .pv").click(function() {
        $("#mallShipTemplate_province_box").show(),
        $("#mallShipTemplate_city_box").hide(),
        $("#mallShipTemplate_county_box").hide(),
        $("#mallShipTemplate_street_box").hide()
    }),
    $("#mallShipTemplate_areaBox1 .J_areaHead .city").click(function() {
        $("#mallShipTemplate_province_box").hide(),
        $("#mallShipTemplate_city_box").show(),
        $("#mallShipTemplate_county_box").hide(),
        $("#mallShipTemplate_street_box").hide()
    }),
    $("#mallShipTemplate_areaBox1 .J_areaHead .county").click(function() {
        $("#mallShipTemplate_province_box").hide(),
        $("#mallShipTemplate_city_box").hide(),
        $("#mallShipTemplate_street_box").hide(),
        $("#mallShipTemplate_county_box").show()
    }),
    $("#mallShipTemplate_areaBox1 .J_areaHead .street").click(function() {
        $("#mallShipTemplate_province_box").hide(),
        $("#mallShipTemplate_city_box").hide(),
        $("#mallShipTemplate_county_box").hide(),
        $("#mallShipTemplate_street_box").show()
    }),
    $("#mallShipTemplate_areaBox2 .J_areaHead2 .sec").click(function() {
        $("#mallShipTemplate_sec_box").show(),
        $("#mallShipTemplate_thd_box").hide()
    }),
    $("#mallShipTemplate_areaBox2 .J_areaHead2 .thd").click(function() {
        $("#mallShipTemplate_sec_box").hide(),
        $("#mallShipTemplate_thd_box").show()
    }),
    $("#mallShipTemplate_province_box .group_item").bind("click", function() {
        $("#mallShipTemplate_areaBox1 .city_content").remove(),
        $("#mallShipTemplate_areaBox1 .county_content").remove(),
        $("#mallShipTemplate_areaBox1 .street_content").remove();
        var e = $(this).attr("pname")
          , t = $(this).attr("pid");
        $("#mallShipTemplate_areaBox1 .J_areaHead .city").click(),
        $("#mallShipTemplate_areaBoxInput").val(""),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + e),
        $("#mallShipTemplate_areaBoxInput").removeAttr("lastArea"),
        $("#mallShipTemplate_areaBoxInput").removeAttr("lastAreaType"),
        $("#mallShipTemplate_areaBoxInput").attr("area1", t),
        $("#mallShipTemplate_areaBoxInput").attr("area2", ""),
        $("#mallShipTemplate_areaBoxInput").attr("area3", ""),
        $("#mallShipTemplate_areaBoxInput").attr("area4", ""),
        $("#mallShipTemplate_areaBox1 .city_content").remove();
        var i = "";
        i = c(2052 == r || 1028 == r ? site_cityUtil.getCities(t) : site_cityUtil.getCitiesEn(t)),
        $("#mallShipTemplate_city_box").append(i),
        $("#template_item_" + a).attr("price", 0),
        Site.mallStlCalcTotal(n)
    }),
    $("#mallShipTemplate_city_box").delegate(".group_item", "click", function() {
        l = "" == $("#mallShipTemplate_allArea").val() || "cn" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val(),
        $("#mallShipTemplate_areaBox1 .county_content").remove(),
        $("#mallShipTemplate_areaBox1 .street_content").remove();
        var e = $(this).attr("cname")
          , t = $(this).attr("cid");
        $("#mallShipTemplate_areaBox1 .J_areaHead .county").click();
        $("#mallShipTemplate_areaBoxInput").attr("lastArea");
        var i = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
        null != i && "" != i && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().substring(0, $("#mallShipTemplate_areaBoxInput").val().indexOf("-"))),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastArea", "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastAreaType", "city"),
        $("#mallShipTemplate_areaBoxInput").attr("area2", t),
        $("#mallShipTemplate_areaBoxInput").attr("area3", ""),
        $("#mallShipTemplate_areaBoxInput").attr("area4", ""),
        $("#mallShipTemplate_areaBox1 .county_content").remove();
        var a = "";
        a = p(2052 == r || 1028 == r ? site_cityUtil.getCounty(t) : site_cityUtil.getCountyEn(t)),
        $("#mallShipTemplate_county_box").append(a),
        Site.isCalTpl ? Site.calculateMallShipTpl({
            isStatic: l,
            moduleId: n,
            areaId: t,
            choiceCurrencyVal: o,
            pdItemList: s,
            mallStlCalcTotal: Site.mallStlCalcTotal
        }) : Site.mallStlCalcTotal(n)
    }),
    $("#mallShipTemplate_county_box").delegate(".group_item", "click", function() {
        $("#mallShipTemplate_areaBox1 .street_content").remove();
        var e = $(this).attr("cname")
          , t = $(this).attr("cid")
          , i = ($("#mallShipTemplate_areaBoxInput").attr("lastArea"),
        $("#mallShipTemplate_areaBoxInput").attr("lastAreaType"));
        $("#mallShipTemplate_areaBox1 .J_areaHead .street").click(),
        null == i || "street" != i && "county" != i || $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().substring(0, $("#mallShipTemplate_areaBoxInput").val().indexOf("-", $("#mallShipTemplate_areaBoxInput").val().indexOf("-") + 1))),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastArea", "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastAreaType", "county"),
        $("#mallShipTemplate_areaBoxInput").attr("area3", t),
        $("#mallShipTemplate_areaBoxInput").attr("area4", "");
        var a = "";
        a = u(2052 == r || 1028 == r ? site_cityUtil.getStreet(t) : site_cityUtil.getStreetEn(t));
        var o = $(a).html();
        null !== o && o !== undefined && "" !== o || $("#mallShipTemplate_areaBox1").hide(),
        $("#mallShipTemplate_street_box").append(a),
        Site.mallStlCalcTotal(n)
    }),
    $("#mallShipTemplate_street_box").delegate(".group_item", "click", function() {
        var e = $(this).attr("cname")
          , t = $(this).attr("cid")
          , i = $("#mallShipTemplate_areaBoxInput").attr("lastArea")
          , a = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
        null != a && "street" == a && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().replace(i, "")),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastArea", "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastAreaType", "street"),
        $("#mallShipTemplate_areaBoxInput").attr("area4", t),
        $("#mallShipTemplate_areaBox1").hide(),
        Site.mallStlCalcTotal(n)
    }),
    $("#mallShipTemplate_sec_box").delegate(".group_item", "click", function() {
        l = "" == $("#mallShipTemplate_allArea").val() || "cn" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val(),
        $("#mallShipTemplate_areaBox2 .thd_content").html("");
        var e = $(this).attr("cname")
          , t = $(this).attr("cid");
        $("#mallShipTemplate_areaBox2 .J_areaHead2 .thd").click();
        $("#mallShipTemplate_areaBoxInput").attr("lastArea");
        var i = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
        null != i && "" != i && -1 != $("#mallShipTemplate_areaBoxInput").val().indexOf("-") && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().substring(0, $("#mallShipTemplate_areaBoxInput").val().indexOf("-"))),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastArea", "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastAreaType", "sec"),
        $("#mallShipTemplate_areaBoxInput").attr("area2", t),
        $("#mallShipTemplate_areaBoxInput").attr("area3", "");
        var a = h(t);
        $("#mallShipTemplate_thd_box .thd_content").append(a),
        Site.isCalTpl ? Site.calculateMallShipTpl({
            isStatic: l,
            moduleId: n,
            areaId: t,
            choiceCurrencyVal: o,
            pdItemList: s,
            mallStlCalcTotal: Site.mallStlCalcTotal
        }) : Site.mallStlCalcTotal(n)
    }),
    $("#mallShipTemplate_thd_box").delegate(".group_item", "click", function() {
        l = "" == $("#mallShipTemplate_allArea").val() || "cn" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val();
        var e = $(this).attr("cname")
          , t = $(this).attr("cid")
          , i = $("#mallShipTemplate_areaBoxInput").attr("lastArea")
          , a = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
        null != a && "thd" == a && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().replace(i, "")),
        $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastArea", "-" + e),
        $("#mallShipTemplate_areaBoxInput").attr("lastAreaType", "thd"),
        $("#mallShipTemplate_areaBoxInput").attr("area3", t),
        $("#mallShipTemplate_areaBox2").hide(),
        Site.isCalTpl ? Site.calculateMallShipTpl({
            isStatic: l,
            moduleId: n,
            areaId: t,
            choiceCurrencyVal: o,
            pdItemList: s,
            mallStlCalcTotal: Site.mallStlCalcTotal
        }) : Site.mallStlCalcTotal(n)
    })
}
,
Site.initPresentIpt = function() {
    var l = $("#useItg");
    0 < l.length && l.bind("blur", function() {
        var e = parseInt(l.attr("_needitg"))
          , t = parseInt(l.val())
          , i = l.attr("_itgname")
          , a = parseInt(l.attr("_maxuse"));
        isNaN(t) && (t = 0);
        var o = $(this).attr("moduleId")
          , n = Fai.top.$("#module" + o)
          , r = parseFloat(n.find(".cartTotal").attr("pay_price"));
        if (!isNaN(r)) {
            if (a < t) {
                Fai.ing(Fai.format(LS.integral_maxUse, a, Fai.encodeHtml(i)), !0),
                l.val(a);
                var s = (a / e).toFixed(2);
                return 2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#offsetMoney").text(Fai.formatPriceEn(s)).attr("_offsetmoney", s) : $("#offsetMoney").text(s).attr("_offsetmoney", s),
                $("#integralInfo").show(),
                void Site.mallStlCalcTotal(o)
            }
            if (t > parseInt(l.attr("_currentItg")))
                return Fai.ing(Fai.format(LS.integral_notOverCurrent, Fai.encodeHtml(i), Fai.encodeHtml(i))),
                void l.focus();
            if (t < 0)
                return Fai.ing(LS.integral_inputInteger),
                void l.focus();
            0 == t ? $("#integralInfo").hide() : $("#integralInfo").show();
            s = (t / e).toFixed(2);
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#offsetMoney").text(Fai.formatPriceEn(s)).attr("_offsetmoney", s) : $("#offsetMoney").text(s).attr("_offsetmoney", s),
            Site.mallStlCalcTotal(o)
        }
    })
}
,
Site.calculateMallShipTpl = function(e) {
    var t = e.isStatic
      , o = e.moduleId
      , i = e.areaId
      , n = e.choiceCurrencyVal || "￥"
      , a = e.pdItemList || []
      , r = e.mallStlCalcTotal || function() {}
    ;
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mall_h.jsp?cmd=getWafNotCk_getMallShipTplPrice",
        data: "itemList=" + Fai.encodeUrl($.toJSON(a)) + "&isCus=" + !t + "&cityCode=" + i,
        error: function s() {
            Fai.ing("系统错误。"),
            Site.logMonitor(5972, !0)
        },
        success: function l(e) {
            var t = $.parseJSON(e);
            if (t.success) {
                var i = t.shipPrice || 0
                  , a = "";
                a = 0 == i ? LS.freeShipping : n + i.toFixed(2),
                $("#template_item_money0").html("").html(a),
                $("#template_item_0").attr("price", i),
                r(o)
            } else
                Fai.ing(t.errMsg),
                Site.logMonitor(5972, !0)
        }
    })
}
,
Site.deductionItem = function(d) {
    $("#itgTitle,#couponTitle").click(function() {
        Fai.isIE6() || Fai.isIE7() ? $(this).next().show() : $(this).next().slideToggle(),
        "+" == $(this).find(".switch-sign").text() ? $(this).find(".switch-sign").text("-") : $(this).find(".switch-sign").text("+")
    });
    var e = Site.getBackgroundColor($(".J-fk-triangle"));
    $(".J-fk-triangle").css("border-color", "transparent transparent " + e + " transparent"),
    $(".couponMsg input:checkbox").click(function() {
        $(this).is(":checked") ? $(this).attr("checked", !1) : $(this).attr("checked", !0)
    }),
    $(".couponMsg tr").click(function() {
        var e = $(this).find("input:checkbox").is(":checked");
        $("#couponList input:checkbox").attr("checked", !1);
        var t = 0;
        if ($(".cp-offsetTip .used-count").text("0"),
        !e) {
            $(".cp-offsetTip .used-count").text("1");
            var i = $(this).find("input:checkbox");
            i.attr("checked", !0),
            t = parseFloat(i.attr("data_saveprice"))
        }
        if (0 < $(".integralMsg").length) {
            var a = $("#useItg")
              , o = parseInt(a.attr("_needitg"))
              , n = parseInt(a.attr("_maxuse"))
              , r = Fai.top.$("#module" + d)
              , s = parseFloat(r.find(".cartTotal").attr("pay_price"));
            if (isNaN(s))
                return;
            var l = Math.floor((s - t) * o);
            l < n ? $(".useItgTip .maxUse").text(l) : $(".useItgTip .maxUse").text(n)
        }
        0 < t ? $("#couponInfo").show() : $("#couponInfo").hide(),
        2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#couponOffsetMoney").text(Fai.formatPriceEn(t)) : $("#couponOffsetMoney").text(t.toFixed(2)),
        $("#couponOffsetMoney").attr("_offsetmoney", t),
        $("#useItg").trigger("blur"),
        Site.mallStlCalcTotal(d)
    }),
    $("#clickShowInput").click(function() {
        $(this).next().show(),
        $(this).remove()
    })
}
,
Site.showBankList = function(e) {
    var t = $("#" + e).attr("value");
    $("#mallPay").attr("value", t)
}
,
Site.initOnlineBankList = function() {
    $("#payOnlinePanel").insertAfter($("#onlineItem")[0])
}
,
Site.depositPay = function(t) {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mall_h.jsp?cmd=wafNotCk_checkDepositAvailability",
        data: "orderId=" + t,
        error: function e() {
            Fai.ing("系统错误。")
        },
        success: function i(e) {
            (e = $.parseJSON(e)).success ? Site.depositPopup(t) : Fai.ing(e.msg)
        }
    })
}
,
Site.getNativePayUrl = function(i) {
    var a = $("#nativeBtn");
    "true" !== a.attr("_sending") ? (a.attr("_sending", "true"),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mall_h.jsp?cmd=getWafNotCk_getNativePayUrl",
        data: "orderId=" + i,
        error: function e() {
            Fai.ing("系统错误。")
        },
        success: function o(e) {
            var t = $.parseJSON(e);
            if (!t.success)
                return a.attr("_sending", "false"),
                void Fai.ing(t.errMsg + "(请联系网站管理员)");
            Site.showPayQRCode(t.url, i, t.payMode)
        }
    })) : Fai.ing("您的操作太频繁，请稍后再试。", !0)
}
,
Site.showPayQRCode = function(e, t, i) {
    var a = "微信"
      , o = "wxGuardImg";
    10 == i ? (e = "/qrCode.jsp?cmd=wxPayQrCode&&url=" + e,
    o = "wxGuardImg") : 51 == i && (a = "支付宝",
    o = "alipayGuardImg");
    var n = parseInt(1e4 * Math.random())
      , r = 580
      , s = 860
      , l = ["<div  id='payQrCodeBox" + n + "' class='popupBg'  style='filter: alpha(opacity=50); opacity:0.5;'></div>", "<div id='payQRCodeDisplay" + n + "' class='webSiteQRCodeDisplay' style='z-index:9032;display:block;width: " + s + "px;height:" + r + "px;left:" + (Fai.top.document.documentElement.clientWidth - s) / 2 + "px;'>", "<div class='wxqrCodeTitileBox'>", "<a hidefocus='true' href='javascript:;' class='cancelBtn' onclick='Site.closeQrcodeDiv(" + n + "," + t + ");return false;'></a>", "<div style='clear:both;'></div>", "</div>", "<div class='wxPayCon'>", "<div class='wxpayQrCodeBox'>", "<div class='wxqrCodeTitile'>" + a + "支付</div>", "<div class='wxpayQrCodeImgBox'>", "<img title='' src='" + e + "' >", "</div>", "<div class='wxpayQrCodeCon'>", "<div class='wxpayQrCodeTips'></div>", "<div class='wxpayQrCodeText'>请使用" + a + "扫一扫</br>扫描二维码支付</div>", "</div>", "</div>", "<div  class=" + o + "></div>", "<div style='clear:both;'></div>", "</div>", "<div class='payFinishedTips'>完成支付5秒后没跳转，请刷新页面。</div>", "</div>"];
    Fai.top.$(l.join("")).appendTo("body");
    var d = (Fai.top.document.documentElement.clientHeight - r) / 2
      , c = $(window).scrollTop();
    $("#payQRCodeDisplay" + n).css("top", d + c),
    $("#nativeBtn").attr("_sending", "false"),
    setInterval("Site.checkOrderStatue(" + t + ")", 2e3)
}
,
Site.closeQrcodeDiv = function(e, t) {
    Fai.top.$("#payQrCodeBox" + e).remove(),
    Fai.top.$("#payQRCodeDisplay" + e).remove(),
    Site.checkOrderStatue(t),
    document.location.reload()
}
,
Site.checkOrderStatue = function(t) {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mall_h.jsp?cmd=getWafNotCk_checkOrderStatue",
        data: "orderId=" + t,
        error: function e() {
            Fai.ing("系统错误。")
        },
        success: function i(e) {
            $.parseJSON(e).success && (Fai.top.location.href = Site.getHtmlUrl("mdetail") + "?id=" + t + "&paySuccessSuc=true")
        }
    })
}
,
Site.mallCartInit = function(e) {
    var i = Fai.top.$("#memberBar");
    if (!(i.length < 1)) {
        var t = i.find("#mallCart_js")
          , a = i.find(".mallCartPanel");
        $(t).find(".mallCartItem").bind("click", function() {
            window.open(Site.getHtmlUrl("mcart"), "_blank")
        }),
        $(a).find(".checkMallCartBtn").bind("click", function() {
            window.open(Site.getHtmlUrl("mcart"), "_blank")
        }),
        Site.refreshTopAndRightBarMallCartNum(),
        13 != e && 14 != e && ($(t).bind("mouseenter", function(e) {
            var t = i.find(".mallCartPanel");
            $(this).attr("_mouseIn", 1),
            $(this).find(".mallCartItem").addClass("mallCartItem_hover"),
            $(t).is(":visible") || Site.refreshTopBarMallCart(this)
        }).bind("mouseleave", function() {
            $(this).attr("_mouseIn", 0),
            setTimeout(function() {
                var e = i.find(".mallCartPanel");
                1 != $(e).attr("_mouseIn") && (Fai.top._memberTopBar_versionTwo ? i.find(".mallCartPanel").stop().slideUp(300, function() {
                    i.find(".mallCartItem").removeClass("mallCartItem_hover")
                }) : (i.find(".mallCartPanel").hide(),
                i.find(".mallCartItem").removeClass("mallCartItem_hover")))
            }, 50)
        }),
        $(a).bind("mouseenter", function() {
            $(this).attr("_mouseIn", 1)
        }).bind("mouseleave", function() {
            $(this).attr("_mouseIn", 0),
            setTimeout(function() {
                var e = Fai.top.$("#memberBar")
                  , t = e.find("#mallCart_js");
                1 != $(t).attr("_mouseIn") && (Fai.top._memberTopBar_versionTwo ? e.find(".mallCartPanel").stop().slideUp(300, function() {
                    e.find(".mallCartItem").removeClass("mallCartItem_hover")
                }) : (e.find(".mallCartPanel").hide(),
                e.find(".mallCartItem").removeClass("mallCartItem_hover")))
            }, 50)
        }))
    }
}
,
Site.refreshTopBarMallCart = function(e) {
    var t = Fai.top.$("#memberBar").find("#mallCart_js")
      , i = Fai.top.$("#memberBar").find("#mallCartList_js")
      , a = Fai.top.$("#memberBar").find(".mallCartPanel");
    if (Fai.top._memberTopBar_versionTwo) {
        var o = $("#memberBarArea").height();
        (r = t.position().left - (a.outerWidth() - t.outerWidth()) / 2) + a.outerWidth() > $(document.body).outerWidth(!0) ? a.addClass("right") : a.removeClass("right"),
        $(a).slideDown(300)
    } else {
        o = $(e).position().top + $(e).height();
        var n = parseInt($(e).css("margin-left"))
          , r = $(e).position().left + n - parseInt($(i).css("width")) - 2 + $(e).width();
        $(a).show()
    }
    if ($(a).css("top", o + "px").css("left", r + "px"),
    $(a).children().before("<div class='mallCartLoad'></div>"),
    Fai.isIE6()) {
        var s = $(a).height();
        $(a).find(".mallCartLoad").css("height", s + "px")
    }
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=getWafNotCk_getTopBarMallCartList",
        data: "",
        success: function l(e) {
            var t = $.parseJSON(e)
              , i = t.topBarProductList;
            if (t.success && 0 < i.length) {
                var a = Fai.top.$("#memberBar").find(".mallCartPanel");
                $(a).removeClass("memberMallCartNoProduct"),
                Site.refreshTopAndRightBarMallCartNum(),
                Site.createTopBarMallCartList(i, t.orderId, t.choiceCurrencyVal)
            } else {
                a = Fai.top.$("#memberBar").find(".mallCartPanel");
                $(a).addClass("memberMallCartNoProduct"),
                Site.refreshTopAndRightBarMallCartNum(),
                $(a).find(".mcProductList").html(LS.memberMallCartNoProduct),
                $(a).find(".checkMallCartBtn").removeClass("checkMallCartBtn_hasPro"),
                $(a).find(".mall_cart_total").remove()
            }
            Fai.top.$("#memberBar").find(".mallCartPanel").find(".mallCartLoad").remove()
        }
    })
}
,
Site.createTopBarMallCartList = function(e, s, l) {
    Fai.top.$("#memberBar").find(".mcProductList").attr("data-orderId", s).html("");
    var d = []
      , t = 0
      , i = 0
      , a = 0;
    for (var o in e)
        t += e[o].amount;
    for (o = 0; o < e.length; o++) {
        var n = (c = e[o]).amount;
        c.isValid && (i += c.price * n)
    }
    var r = [];
    for (var o in r.push("<div class='mall_cart_total'>"),
    r.push("<div>"),
    r.push(Fai.format(LS.shoppingCartCalculatePro, t)),
    r.push("</div>"),
    r.push("<div>"),
    2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? r.push("<span class='sC-priceTotal'>" + LS.shoppingCartCountMoney + "<b>" + l.toString() + Fai.formatPriceEn(i.toFixed(2)) + "</b></span>") : r.push("<span class='sC-priceTotal'>" + LS.shoppingCartCountMoney + "<b>" + l.toString() + i.toFixed(2) + "</b></span>"),
    r.push("</div>"),
    r.push("</div>"),
    d.push("<ul>"),
    d.push("<div style='text-align: left;padding:0 15px;'>" + LS.memberMallCartJoin + "：</div>"),
    e) {
        var c;
        n = (c = e[o]).amount;
        if (5 == a)
            break;
        t -= n,
        u(c),
        a++
    }
    d.push("<li class='mcProductListTip'></li>"),
    Fai.top.$("#memberBar").find(".checkMallCartBtn").css("margin-top", "14px"),
    d.push("</ul>"),
    Fai.top.$("#memberBar").find(".mcProductList").append(d.join("")),
    Fai.top.$("#memberBar").find(".mall_cart_total").remove(),
    Fai.top.$("#memberBar").find(".mcProductList").after(r.join(""));
    var p = [];
    function u(e) {
        var t = c.isValid ? "" : " mcPdInvalid "
          , i = c.inValidType
          , a = [];
        "" != c.picId ? (a.push("<div class='mcProductList_proPic'>"),
        a.push("<img alt='" + Fai.encodeHtml(c.name) + "' src='" + c.picPath + "'>"),
        a.push("</div>")) : a.push("<div class='mcProductList_proNoPic'></div>");
        var o = "";
        "" != t && ("notAdded" == i || "delete" == i ? (o = "title='" + LS.js_notAdded + "'",
        a.push("<div class='invalid'><span class='invalidTip' title='" + LS.js_notAdded + "'>" + LS.js_notAdded + "</span><i class='visible'></i></div>")) : "outOfStock" == i && (o = " title='" + LS.js_invalid + "' ",
        a.push("<div class='invalid'><span class='invalidTip' style='margin-left:0;' title='" + LS.js_invalid + "'>" + LS.js_invalid + "</span><i class='visible'></i></div>")));
        var n = e.amount;
        9999 < e.amount && (n = (n + "").substring(0, 3) + "..."),
        d.push("<li class='mcProductList_pro " + t + "' data-itemId='" + c.id + "'" + o + ">"),
        d.push(a.join("")),
        d.push("<div class='mcProductList_proName' style='width: 95px;'>"),
        d.push("<span title='" + Fai.encodeHtml(c.name) + "' style='width:95px;'>"),
        "" != t && "timedAdded" == i && d.push("<span class='mcTtimedNotAdded'>即将开售</span>"),
        d.push(Fai.encodeHtml(c.name)),
        d.push("</span>"),
        d.push("</div>"),
        d.push("<div class='mcProductList_proDel' style=''><a hidefocus='true' href='javascript:;' "),
        d.push("onclick='Site.delTopBarMallCartItem(" + s + ", " + c.id + ");return false;'>" + LS.memberMallCartDel + "</a>"),
        d.push("</div>"),
        d.push("<div class='mcProductList_proPrice' style='width: 95px;'>");
        var r = c.price.toFixed(2);
        2052 != Fai.top._lcid && 1028 != Fai.top._lcid && (r = Fai.formatPriceEn(c.price)),
        t ? d.push("<span class='s_invalid_price'>" + l.toString() + r + "</span>") : d.push("<span class='s_price'>" + l.toString() + r + "</span>"),
        d.push("<span style='margin-left: 35px;float:right;'>×" + n + "</span>"),
        d.push("</div>"),
        d.push("</li>")
    }
    Fai.top.$("#memberBar").find(".mcProductList .mcPdInvalid").each(function() {
        p.push($(this).prop("outerHTML")),
        $(this).remove()
    }),
    Fai.top.$("#memberBar").find(".mcProductListTip").before(p.join("")),
    Fai.top.$("#memberBar").find(".checkMallCartBtn").addClass("checkMallCartBtn_hasPro")
}
,
Site.delTopBarMallCartItem = function(e, a) {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=delWafCk_delItem",
        data: {
            orderId: e,
            itemId: a,
            isTopBarMallCart: !0
        },
        error: function t(e) {
            $.parseJSON(e).success || Fai.ing("系统繁忙，请稍后重试。", !0)
        },
        success: function o(e) {
            var t = $.parseJSON(e);
            if (t.success) {
                var i = Fai.top.$("#memberBar").find("#mallCart_js");
                $(i).find("[data-itemId=" + a + "]").first().remove(),
                Site.refreshTopBarMallCart(i)
            } else
                -2 == t.rt && Fai.ing("参数错误，请稍后重试。", !0)
        }
    })
}
,
Site.refreshTopAndRightBarMallCartNum = function() {
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=getWafNotCk_getMallCartProductNum",
        data: "",
        success: function s(e) {
            var t = $.parseJSON(e);
            if (t.success && 1 == t.rt) {
                var i = $.trim(t.productAmount)
                  , a = Fai.top.$("#memberBar").find("#mallCart_js");
                0 < a.length && (i = 99 < i ? "99+" : i,
                $(a).find(".mallCart_proNum").text("(" + i + ")"));
                var o = Fai.top.$(".shoppingAmount")
                  , n = Fai.top.$(".shoppingAmountContent");
                0 < i || "99+" == i ? (o.css("display", "block").text(i),
                n.css("display", "block")) : (o.css("display", "none").text(i),
                n.css("display", "none"));
                var r = Fai.top.$("#J_WebRightBar").find("#rbar_cart");
                0 < r.length && ("99+" == i ? $(r).find(".fk-rbar-cartItem-cirNum").text("...") : $(r).find(".fk-rbar-cartItem-cirNum").text(i))
            }
        }
    })
}
,
Site.showContacterExtMsg = function(e) {
    var t = $("#module" + e)
      , i = t.find(".J-head-more")
      , a = t.find(".J-cont-msg-ext")
      , o = t.find(".fk-order-dt").width()
      , n = a.width()
      , r = o - i.position().left;
    i.hover(function() {
        a.css({
            top: i.position().top + i.height() + 14
        }),
        n <= r ? a.css({
            left: i.position().left - 140
        }) : (a.find(".cont-tri").css({
            left: n - 50
        }),
        a.css({
            left: i.position().left - (n - r) - 10
        })),
        a.show()
    }, function() {
        a.hide()
    })
}
,
Site.showOrderNewMoreBox = function(e) {
    var t = $("#module" + e)
      , i = t.find(".J_orderRecvMore")
      , a = t.find(".J_orderNewMoreBox")
      , o = t.find(".J_orderRecvMoreIcon");
    0 != a.find("table tr").length && i.click(function() {
        a.is(":hidden") ? (o.removeClass("orderRecvMoreIconDown"),
        o.addClass("orderRecvMoreIconUp")) : (o.addClass("orderRecvMoreIconDown"),
        o.removeClass("orderRecvMoreIconUp")),
        a.slideToggle()
    })
}
,
Site.initFlowMsg = function(e, t) {
    var l = $("#module" + e);
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/order_h.jsp?cmd=getWafNotCk_flowMsg",
        data: "id=" + t,
        success: function d(e) {
            var t = $.parseJSON(e);
            if (l.find(".J-ajaxLoad").hide(),
            null != t.msgList && 0 !== t.msgList.length && t.success) {
                var i = ""
                  , a = ""
                  , o = [];
                o.push("<ul class='msgFlowList'>");
                var n = 0 < l.find(".mDetailOld").length
                  , r = 0;
                if ($.each(t.msgList, function(e, t) {
                    a = i = "",
                    e === r && (i = " class='mDetail_color lastFlowMsgLine'",
                    n && (i = " class='lastFlowMsgLine g_stress'"),
                    a = " mDetail_bg"),
                    o.push("<li" + i + ">"),
                    o.push("<span class='circleAround'><i class='circlePoint " + a + "'></i></span>"),
                    o.push("<span class='f-time'>" + t.time + "</span>"),
                    o.push("<span>" + t.context + "</span>"),
                    o.push("</li>")
                }),
                o.push("</ul>"),
                l.find(".J-flow-msg").append(o.join("")),
                n) {
                    s = l.find(".lastFlowMsgLine").css("color");
                    l.find(".lastFlowMsgLine .circlePoint").css("background-color", s)
                }
            } else {
                t.success ? l.find(".J-no-msg").show() : (Fai.ing(t.msg, !0),
                l.find(".J-err-msg").show());
                var s = l.find(".mDetail_color").css("color");
                l.find(".noFlowMsgTip").css("color", s)
            }
        }
    })
}
,
Site.initmCenterFlowQuery = function(p) {
    $("#module" + p).find(".J-mallOrder").find(".J-flow").hover(function() {
        var e = $(this)
          , t = e.attr("_oi")
          , i = e.offset().top + e.outerHeight() + 8
          , a = e.offset().left - 100
          , n = $("#m" + p + "-f-" + t);
        if (0 < n.length)
            return n.show(),
            (Fai.isIE6() || Fai.isIE7()) && (i += 10),
            n.css({
                top: i,
                left: a
            }),
            !0;
        var o = e.attr("_fn")
          , r = e.attr("_fnu")
          , s = $(this).attr("_colorStyleType")
          , l = $(this).attr("_colorStyle")
          , d = ["<div id='m", p, "-f-", t, "' class='" + (0 < s ? "g-flow-msg" + l : "g-flow-msg") + " fk-flow g_border J-f-block' style='top:", i, "px;left:", a, "px;'>", "<div class='" + (0 < s ? "g-b-head-ico" + l : "g-b-head-ico") + " b-head-ico'></div>", "<div class='b-head'>", "<span>", o, "</span>", "<span class='head-bill'>", LS.flowBill, r, "</span>", "</div>", "<div class='flow-ajaxLoading J-ajaxLoad'>&nbsp;</div>", "<div class='no-msg J-no-msg'>", LS.flowNoMsg, "</div>", "<div class='flow-msg J-flow-msg'></div>", "</div>"];
        (n = $(d.join(""))).appendTo("body"),
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=getWafNotCk_flowMsg",
            data: "id=" + t,
            success: function c(e) {
                var t = $.parseJSON(e);
                if (n.find(".J-ajaxLoad").hide(),
                null != t.msgList && 0 !== t.msgList.length && t.success) {
                    var i = [];
                    if (i.push("<ul>"),
                    t.msgList.indexOf("http") < 0) {
                        for (var a = 0; a < t.msgList.length; a++) {
                            var o = t.msgList[a];
                            if (firstCls = "",
                            0 === a && (firstCls = " class='g_stress" + (0 < s ? l : "") + "'"),
                            i.push("<li" + firstCls + ">"),
                            i.push("<div>" + o.context + "</div>"),
                            i.push("<div class='f-time'>" + o.time + "</div>"),
                            i.push("</li>"),
                            2 === a)
                                break
                        }
                        i.push("</ul>"),
                        n.find(".J-flow-msg").append(i.join(""))
                    }
                } else
                    n.find(".J-no-msg").show();
                t.success || Fai.ing(t.msg, !0)
            }
        })
    }, function() {
        var e = $(this).attr("_oi");
        $("#m" + p + "-f-" + e).hide()
    })
}
,
Site.initOrderSuc = function(e, t) {
    0 < Fai.top.location.hash.indexOf("firstSubmit") && (Fai.top.location.hash = "paid",
    history.pushState && window.history.pushState({}, "", Site.preprocessUrl({
        path: "mdetail.jsp?id=" + t,
        oldPath: "mdetail.jsp?id=" + t
    })),
    $(".J_payBtn").click())
}
,
Site.initConfirmReceipt = function(l, d) {
    var e = $("#module" + l)
      , c = 0 < e.find(".memberOrderNewPanel").length;
    e.find(".J-con-rpt").click(function() {
        var o = $(this)
          , n = o.parent().parent();
        orderId = o.attr("_oid");
        var e = ["<div class='fk-conRpt' style='margin-top:16px;'>", "<div style='padding:10px; font-family:微软雅黑; font-size:12px; color:rgb(99,99,99);'>", LS.orderConfirmMsg, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' title='", LS.cancel, "' style='margin-right:20px;width:60px; height:26px; line-height:25px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover' title='", LS.orderSure, "' style='width:77px; height:26px; background:#1779ff; line-height:25px; border:0;'>" + LS.orderSure + "</span>", "</div>", "</div>"]
          , r = parseInt(1e4 * Math.random())
          , t = {
            boxId: r,
            title: "",
            htmlContent: e.join(""),
            width: 372,
            height: 150,
            boxName: "confirmReceipt"
        }
          , s = Site.popupBox(t)
          , i = "cmd=setWafCk_setStatus&id=" + orderId + "&status=20&isFromUser=true";
        s.find(".J-rpt-save").on("click", function() {
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp",
                data: i,
                error: function e() {
                    Fai.ing(LS.js_systemError, !1),
                    Site.logMonitor(6020, !0)
                },
                success: function a(e) {
                    var t = $.parseJSON(e)
                      , i = Site.preprocessUrl({
                        path: "",
                        oldPath: ""
                    }) + "oc.jsp";
                    t.success ? (d && (c ? n.find(".oOptTd").append("<a  hidefocus='true' title='" + LS.comment + "' href='" + i + "?id=" + orderId + "' target='_blank'><span class='optIcon opComent'></span></a>") : (n.find(".itemOpt").append("<span title='" + LS.comment + "' class='pd-ct J-pd-ct' _oid='" + orderId + "'></span>"),
                    Site.initPdComment(l))),
                    Fai.ing(LS.orderSureMsg, !0),
                    n.find(".J-status").text(t.msg),
                    n.find(".J-flow").remove(),
                    Fai.top.$("#popupBg" + r).remove(),
                    s.remove(),
                    o.remove()) : (Site.logMonitor(6020, !0),
                    Fai.ing(t.msg, !0))
                }
            })
        })
    })
}
,
Site.initConOrderCancel = function(e, t) {
    var i = $("#module" + e);
    t || i.find(".J-order-cancel").hover(function() {
        $(this).attr("class", "order-cancel-hover")
    }, function() {
        $(this).attr("class", "order-cancel")
    }),
    i.find(".J-order-cancel").click(function() {
        var e = $(this);
        e.parent().parent();
        orderId = e.attr("_oid");
        var t = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", LS.orderRealCancelMsg, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"]
          , i = {
            boxId: parseInt(1e4 * Math.random()),
            title: "",
            htmlContent: t.join(""),
            width: 360
        }
          , a = Site.popupBox(i)
          , o = "cmd=setWafCk_setStatus&id=" + orderId + "&status=25&isFromUser=true";
        a.find(".J-rpt-save").on("click", function() {
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp",
                data: o,
                error: function e() {
                    Fai.ing(LS.js_systemError, !1)
                },
                success: function i(e) {
                    var t = $.parseJSON(e);
                    t.success ? (Fai.ing(LS.orderRealCanceled, !0),
                    setTimeout(function() {
                        document.location.reload()
                    }, 200)) : Fai.ing(t.msg, !0)
                }
            })
        })
    }),
    i.find(".J-order-delete,.J-pd-del").click(function() {
        var e = $(this);
        e.parent().parent();
        orderId = e.attr("_oid");
        var t = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", LS.orderCancelMsg, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"]
          , i = {
            boxId: parseInt(1e4 * Math.random()),
            title: "",
            htmlContent: t.join(""),
            width: 360
        }
          , a = Site.popupBox(i)
          , o = "cmd=delWafCk_memberDeleteOrder&id=" + orderId;
        a.find(".J-rpt-save").on("click", function() {
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp",
                data: o,
                error: function e() {
                    Fai.ing(LS.js_systemError, !1)
                },
                success: function i(e) {
                    var t = $.parseJSON(e);
                    t.success ? (Fai.ing("删除订单成功", !0),
                    setTimeout(function() {
                        document.location.reload()
                    }, 200)) : Fai.ing(t.msg, !0)
                }
            })
        })
    })
}
,
Site.initPdComment = function(e) {
    var a = $("#module" + e);
    a.find(".J-pd-ct").unbind("click").bind("click", function() {
        var e = $(this).attr("_oid")
          , t = a.find(".J-pd-panel" + e)
          , i = t.find(".msgImgList");
        Fai.isIE6() && i.css("display", "none"),
        t.is(":visible") ? t.hide() : (t.show(),
        Fai.isIE6() && setTimeout(function() {
            i.css({
                display: "block"
            });
            var e = i.find("td");
            void 0 !== e && null != e && i.find("td").eq(0).find("div").click()
        }, 20))
    })
}
,
Site.commMenUpAllImgList = null,
Site.setMenCommUpAllImgList = function(e) {
    Site.commMenUpAllImgList = Fai.fkEval("(" + e + ")"),
    (Fai.isIE6() || Fai.isIE7()) && $(".msgBoard_upImg_border").css({
        width: "50px",
        height: "50px"
    })
}
,
Site.siteMenCommImgFileUpload2 = function(e, t, i, a, o) {
    if (Fai.isIE()) {
        var n = i.split(",")
          , r = {
            file_post_name: "Filedata",
            upload_url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/commUpsiteimg_h.jsp",
            button_placeholder_id: t,
            file_size_limit: e + "MB",
            button_image_type: 3,
            file_queue_limit: a,
            button_width: "50px",
            button_height: "50px",
            button_cursor: SWFUpload.CURSOR.HAND,
            button_image_url: _resRoot + "/image/site/msgUpImg/upload1.jpg",
            requeue_on_error: !1,
            post_params: {
                ctrl: "Filedata",
                app: 21,
                type: 0,
                fileUploadLimit: 5,
                isSiteForm: !0
            },
            file_types: n.join(";"),
            file_dialog_complete_handler: function s(e) {
                this._allSuccess = !1,
                this.startUpload()
            },
            file_queue_error_handler: function l(e, t, i) {
                switch (t) {
                case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
                    Fai.ing("文件尺寸过大", !0);
                    break;
                case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:
                    Fai.ing("图片类型错误", !0);
                    break;
                case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
                    Fai.ing("文件数量超过限制", !0);
                    break;
                default:
                    Fai.ing("请重新选择图片上传", !0)
                }
            },
            upload_success_handler: function d(e, t) {
                var i = jQuery.parseJSON(t);
                if (this._allSuccess = i.success,
                this._sysResult = i.msg,
                i.success) {
                    console.log("成功了"),
                    i.tbNum = o;
                    var a = i;
                    a.id,
                    a.name,
                    a.size,
                    a.path,
                    a.pathSmall,
                    a.fileId,
                    a.width,
                    a.height,
                    a.width,
                    a.height,
                    a.type
                } else
                    console.log("失败了")
            },
            upload_error_handler: function c(e, t, i) {
                -280 == t ? Fai.ing(LS.siteFormSubmitFileUploadFileCancle, !1) : -270 == t ? Fai.ing(Fai.format(LS.siteFormSubmitFileUploadFileExist, Fai.encodeHtml(e.name)), !0) : Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
            },
            upload_complete_handler: function p(e) {
                if (e.filestatus == SWFUpload.FILE_STATUS.COMPLETE) {
                    null != a && void 0 !== a || (a = 5);
                    var t = $("#msgBoardAddImgTb" + o).eq(0)
                      , i = t.find("td").length;
                    if (a + 1 <= i)
                        return Fai.ing(LS.siteFormSubmitFileUploadOfMax, !0),
                        void t.find("td").eq(t.find("td").length - 1).css("display", "none");
                    "undefined" == typeof swfObjList && (swfObjList = {}),
                    swfObj = swfObjList[o],
                    setTimeout(function() {
                        swfObj.startUpload()
                    }, swfObj.upload_delay)
                } else
                    e.filestatus == SWFUpload.FILE_STATUS.ERROR && Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
            },
            upload_start_handler: function u(e) {
                Fai.enablePopupWindowBtn(0, "save", !1),
                Fai.ing(LS.siteFormSubmitFileUploadPrepare, !1)
            },
            view_progress: function m(e, t, i, a) {
                Fai.ing(LS.siteFormSubmitFileUploadIng + a + "%", !1)
            }
        };
        "undefined" == typeof swfObjList && (swfObjList = {}),
        swfObjList[o] = SWFUploadCreator.create(r),
        onFileUploadEvent = function h(e, t) {}
    } else
        Site.siteMenCommImgFileUpload2H5(e, t, i, a, o)
}
,
Site.siteMenCommImgFileUpload2H5 = function(e, t, i, p, a) {
    $("#" + t).parent(".uploadImgDiv").css("background-image", "url(" + _resRoot + "/image/site/msgUpImg/upload1.jpg)");
    var o = {
        siteFree: !1,
        updateUrlViewRes: "",
        auto: !0,
        fileTypeExts: i.split(",").join(";"),
        multi: !1,
        fileSizeLimit: 1024 * e * 1024,
        fileSplitSize: 20971520,
        breakPoints: !0,
        saveInfoLocal: !1,
        showUploadedPercent: !1,
        showUploadedSize: !1,
        removeTimeout: 9999999,
        post_params: {
            app: 21,
            type: 0,
            fileUploadLimit: e,
            isSiteForm: !0
        },
        isBurst: !1,
        isDefinedButton: !0,
        buttonText: "",
        uploader: "/ajax/commUpsiteimg_h.jsp?cmd=mobiUpload&_TOKEN=" + $("#_TOKEN").attr("value"),
        onUploadSuccess: function n(e, t) {
            var i = jQuery.parseJSON(t);
            i.success ? (Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(e.name)), !0),
            i.tbNum = a,
            onFileUploadEvent("upload", i)) : Fai.ing(LS.siteFormSubmitFileUploadFile + e.name + "   " + i.msg)
        },
        onUploadError: function r(e, t) {
            Fai.ing("网络繁忙，文件:" + e.name + "上传失败，请稍后重试")
        },
        onSelect: function s() {
            null != p && void 0 !== p || (p = 5);
            var e = $("#msgBoardAddImgTb" + a).eq(0)
              , t = e.find("td").length;
            return !(p + 1 <= t) || (Fai.ing(LS.siteFormSubmitFileUploadOfMax, !0),
            e.find("td").eq(e.find("td").length - 1).css("display", "none"),
            !1)
        },
        onUploadStart: function l(e) {
            $("#progressBody_ " + e.id).remove(),
            $("#progressWrap_" + e.id).remove()
        }
    };
    "undefined" == typeof swfObjList && (swfObjList = {});
    $("#" + t).uploadify(o);
    $("#" + t).find(".uploadify-button").css("width", 50).css("height", 50).css("display", "inline-block"),
    onFileUploadEvent = function u(e, t) {
        if ("upload" == e) {
            var i = t.id
              , a = t.name
              , o = t.size
              , n = t.path
              , r = t.pathSmall
              , s = t.fileId
              , l = (t.width,
            t.height,
            t.width || 0)
              , d = t.height || 0
              , c = t.type || 0;
            Site.productMenCommImgTableCtrl2(n, a, i, o, p, s, t.tbNum, r, l, d, c)
        }
    }
}
,
Site.productMenCommImgTableCtrl2 = function(e, t, i, a, o, n, r, s, l, d, c) {
    var p = $("#pdCommTb" + r).eq(0)
      , u = p.find(".J_td").length - 1
      , m = p.find(".J_td").eq(u);
    m.html(u + "/" + o);
    var h = [];
    h.push("<td class='J_td'>"),
    h.push("<table class='pdCtIconDiv' cellpadding='0' cellspacing='0'>"),
    h.push("<tr>"),
    h.push("<td>"),
    h.push("<img alt='' class='pdCtIcon' src='" + s + "' _name='" + t + "'  _id='" + i + "' _file_size='" + a + "' _file_id='" + n + "' _path='" + e + "'  _smallPath='" + s + "'  _fileWidth='" + l + "'  _fileHeight='" + d + "'  _fileType='" + c + "'/>"),
    h.push("</td>"),
    h.push("</tr>"),
    h.push("</table>"),
    h.push("<span onclick='Site.productMenCommImgDelete2(this," + r + ")' class='delPicIcon'/>"),
    h.push("</td>"),
    m.before(h.join("")),
    o <= u && p.find(".J_td").eq(0).hide()
}
,
Site.productMenCommImgDelete2 = function(e, t) {
    for (var i = $("#pdCommTb" + t).eq(0), a = i.find(".J_td").length, o = 0; o < a; o++)
        if (i.find(".J_td").eq(o).find(".delPicIcon")[0] === e) {
            i.find(".J_td").eq(o).remove();
            break
        }
    a = i.find(".J_td").length - 1;
    var n = i.find(".J_td").eq(a);
    n.html(a - 1 + "/" + n.attr("maxNum")),
    i.find(".J_td").eq(0).show()
}
,
Site.orderPdCommentAddCom2 = function(e, t, p, u) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行评论。");
    else {
        var m = $("#oCommentItem" + t)
          , h = $("#ocArea" + t)
          , f = $.trim(h.val())
          , i = parseInt(h.attr("minlength"))
          , a = parseInt(h.attr("maxlength"));
        if ("string" != typeof f || "" == f)
            return h.focus(),
            void Fai.ing(LS.commentNotEmpty, !0);
        if (f.length < i)
            Fai.ing(Fai.format(LS.commentLenTips, Fai.encodeHtml(i)), !0);
        else if (f.length > a)
            Fai.ing(Fai.format(LS.commentLenTips, Fai.encodeHtml(a)), !0);
        else {
            var o = $("#pdCommTb" + p)
              , g = []
              , v = [];
            if (null != o && void 0 !== o) {
                var n = o.eq(0)
                  , r = n.find("td").length;
                if (1 < r)
                    for (var s = 0; s < r - 1; s++) {
                        var l = n.find(".J_td").eq(s).find(".pdCtIcon");
                        if (null != l && void 0 !== l && 0 < l.length) {
                            var d = {}
                              , c = {}
                              , _ = l.attr("_id")
                              , S = l.attr("_name")
                              , b = l.attr("_path")
                              , x = l.attr("_smallpath")
                              , w = l.attr("_file_size")
                              , y = l.attr("_file_id")
                              , C = Number(l.attr("_fileWidth") || 0)
                              , F = Number(l.attr("_fileHeight") || 0)
                              , I = Number(l.attr("_fileType") || 0);
                            d.imgId = _,
                            d.imgName = S,
                            d.imgSize = w,
                            d.tempFileId = y,
                            d.imgWidth = C,
                            d.imgHeight = F,
                            d.imgType = I,
                            g.push(d),
                            c.path = b,
                            c.smallPath = x,
                            v.push(c)
                        }
                    }
            }
            var P = $(".submitStarList").attr("star");
            P = P || 5;
            var k = {
                oid: e,
                iid: t,
                commImgList: $.toJSON(g),
                comment: f,
                star: P
            };
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp?cmd=addWafCk_addPC",
                data: k,
                error: function L() {
                    Fai.ing(LS.js_systemError)
                },
                success: function T(e) {
                    var t = jQuery.parseJSON(e);
                    if (t.success) {
                        Fai.ing(LS.submitSuccess, !0);
                        var a = t.imgsPathStr;
                        h.remove();
                        var i = m.find(".commentStarLine")
                          , o = m.find(".commentLine")
                          , n = m.find(".commentOptLine");
                        i.remove(),
                        o.remove(),
                        n.css({
                            visibility: "hidden",
                            position: "absolute",
                            "z-index": "-1"
                        });
                        "undefined" != typeof Site.commMenUpAllImgList && null != Site.commMenUpAllImgList ? Site.commMenUpAllImgList.length : Site.commMenUpAllImgList = [];
                        var r = []
                          , s = '<div class="commentLine">';
                        if (s += '<table class="commentTable"><tbody><tr>',
                        s += '<td class="ctTitleTd"></td>',
                        s += '<td class="ctCommentArea">',
                        s += '<div class="ctContent">',
                        s += Fai.encodeHtml(f),
                        s += "</div>",
                        s += "</td>",
                        s += "</tr></tbody></table>",
                        s += "</div>",
                        s += '<div class="commentLine">',
                        s += '<table class="commentTable"><tbody><tr>',
                        s += '<td class="ctTitleTd"></td>',
                        s += '<td><div class="ctOpt J_imgDiv">',
                        s += '<table class="pdCtIconList J_imageTable" border="0" cellspacing="0" cellpadding="0"><tbody><tr>',
                        $.each(g, function(e, t) {
                            s += '<td class="J_td">',
                            s += '<table class="pdCtIconDiv" cellpadding="0" cellspacing="0" onclick="Site.showMenCommImgList(\'' + t.imgId + "_" + p + "_" + e + "','" + a[e].path + "','picGroupId_" + p + "','" + p + "','" + e + "', true)\"><tr><td>",
                            s += '<img id="' + t.imgId + "_" + p + "_" + e + '" class="pdCtIcon" src="' + v[e].smallPath + '"/>',
                            s += "</td></tr></table>",
                            s += "</td>";
                            var i = new Object;
                            i.data = a[e].path,
                            r.push(i)
                        }),
                        s += "</tr></tbody></table>",
                        s += "</div></td>",
                        s += "</tr></tbody></table>",
                        s += "</div>",
                        s += '<div class="commentStarLine"><table class="commentTable"><tr>',
                        s += '<td class="ctTitleTd"></td>',
                        s += "<td>",
                        u) {
                            s += '<div class="lt-ctStarList">';
                            for (var l = 1; l <= 5; l++)
                                s += l <= P ? '<li class="fk-icons-star lt_select_more ctStar"></li>' : '<li class="fk-icons-star lt_no_select ctStar"></li>';
                            s += "</div>"
                        }
                        s += '<div class="ctTime">' + t.ctime + '<span class="commented">[' + LS.commentOK + "]</span></div>",
                        s += "</td>",
                        s += "</tr></table></div>";
                        var d = new Object;
                        d.data = r,
                        Site.commMenUpAllImgList.push(d),
                        m.append(s)
                    } else {
                        var c = "";
                        switch (t.rt) {
                        case 1:
                            c = LS.commentError;
                            break;
                        case 2:
                            c = LS.mallStlSubmitNotFound;
                            break;
                        case 3:
                            c = LS.commentError;
                            break;
                        case 5:
                            c = LS.paramError;
                            break;
                        case 6:
                            return Fai.top.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?url=" + Fai.encodeUrl(Fai.getUrlRoot(top.location.href)) + "&errno=11",
                            !1;
                        case 7:
                            c = LS.commentClosed;
                            break;
                        case 8:
                            c = LS.commentExist;
                            break;
                        case 9:
                            c = LS.commentCountLimit;
                            break;
                        default:
                            c = LS.js_systemError
                        }
                        t.hasFW && (c = t.msg),
                        Fai.ing(c)
                    }
                }
            })
        }
    }
}
,
Site.siteMenCommImgFileUpload = function(e, t, i, p, a) {
    var o = i.split(",")
      , n = {
        file_post_name: "Filedata",
        upload_url: "/ajax/commUpsiteimg_h.jsp",
        button_placeholder_id: t,
        file_size_limit: e + "MB",
        button_image_type: 3,
        file_queue_limit: p,
        button_width: "50px",
        button_height: "50px",
        button_cursor: SWFUpload.CURSOR.HAND,
        button_image_url: _resRoot + "/image/site/msgUpImg/upload1.jpg",
        requeue_on_error: !1,
        post_params: {
            ctrl: "Filedata",
            app: 21,
            type: 0,
            fileUploadLimit: 5,
            isSiteForm: !0
        },
        file_types: o.join(";"),
        file_dialog_complete_handler: function r(e) {
            this._allSuccess = !1,
            this.startUpload()
        },
        file_queue_error_handler: function s(e, t, i) {
            switch (t) {
            case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
                Fai.ing(LS.siteFormSubmitCheckFileSizeErr, !0);
                break;
            case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:
                Fai.ing(LS.siteFormSubmitFileUploadNotAllow, !0);
                break;
            case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
                Fai.ing(Fai.format(LS.siteFormSubmitFileUploadOneTimeNum, p), !0);
                break;
            default:
                Fai.ing(LS.siteFormSubmitFileUploadReSelect, !0)
            }
        },
        upload_success_handler: function l(e, t) {
            var i = jQuery.parseJSON(t);
            this._allSuccess = i.success,
            this._sysResult = i.msg,
            i.success ? (Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(e.name)), !0),
            i.tbNum = a,
            onFileUploadEvent("upload", i)) : Fai.ing(LS.siteFormSubmitFileUploadFile + e.name + "   " + i.msg)
        },
        upload_error_handler: function d(e, t, i) {
            -280 == t ? Fai.ing(LS.siteFormSubmitFileUploadFileCancle, !1) : -270 == t ? Fai.ing(Fai.format(LS.siteFormSubmitFileUploadFileExist, Fai.encodeHtml(e.name)), !0) : Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
        },
        upload_complete_handler: function c(e) {
            if (e.filestatus == SWFUpload.FILE_STATUS.COMPLETE) {
                null != p && void 0 !== p || (p = 5);
                var t = $("#msgBoardAddImgTb" + a).eq(0)
                  , i = t.find("td").length;
                if (p + 1 <= i)
                    return Fai.ing(LS.siteFormSubmitFileUploadOfMax, !0),
                    void t.find("td").eq(t.find("td").length - 1).css("display", "none");
                "undefined" == typeof swfObjList && (swfObjList = {}),
                swfObj = swfObjList[a],
                setTimeout(function() {
                    swfObj.startUpload()
                }, swfObj.upload_delay)
            } else
                e.filestatus == SWFUpload.FILE_STATUS.ERROR && Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
        },
        upload_start_handler: function u(e) {
            Fai.ing(LS.siteFormSubmitFileUploadPrepare, !1)
        },
        view_progress: function m(e, t, i, a) {
            Fai.ing(LS.siteFormSubmitFileUploadIng + a + "%", !1)
        }
    };
    "undefined" == typeof swfObjList && (swfObjList = {}),
    swfObjList[a] = SWFUploadCreator.create(n),
    onFileUploadEvent = function h(e, t) {
        if ("upload" == e) {
            var i = t.id
              , a = t.name
              , o = t.size
              , n = t.path
              , r = t.pathSmall
              , s = t.fileId
              , l = (t.width,
            t.height,
            t.width || 0)
              , d = t.height || 0
              , c = t.type || 0;
            Site.productMenCommImgTableCtrl(n, a, i, o, p, s, t.tbNum, r, l, d, c)
        }
    }
}
,
Site.productMenCommImgTableCtrl = function(e, t, i, a, o, n, r, s, l, d, c) {
    var p = $("#msgBoardAddImgTb" + r).eq(0)
      , u = p.find("td").length
      , m = p.find("td").eq(u - 1);
    m.find(".msgBoard_showImgCount").html(u + "/" + o);
    var h = [];
    Fai.isIE6() || Fai.isIE7() ? (h.push("<td class='msgBoard_upImg_tb_td2' style='border:0px !important;padding-right:3px;'>"),
    h.push("<div class='msgBoard_upImg_border' style='width:50px !important;height:50px !important;margin-left:3px;'>")) : (h.push("<td class='msgBoard_upImg_tb_td2' style='border:0px !important;'>"),
    h.push("<div class='msgBoard_upImg_border'>")),
    h.push("<span onclick='Site.productMenCommImgDelete(this," + r + ")' class='msgBoard_upImgTop_set'/>"),
    Fai.isIE6() || Fai.isIE7() ? h.push("<div><p><img alt='' class='msgBoard_upImg_set' src='" + s + "' _name='" + t + "'  _id='" + i + "' _file_size='" + a + "' _file_id='" + n + "' _path='" + e + "'  _smallPath='" + s + "'  _fileWidth='" + l + "'  _fileHeight='" + d + "'  _fileType='" + c + "'></p></div>") : h.push("<div><p><img alt='' class='msgBoard_upImg_set' src='" + s + "' _name='" + t + "'   _id='" + i + "' _file_size='" + a + "' _file_id='" + n + "'  _path='" + e + "' _smallPath='" + s + "'  _fileWidth='" + l + "'  _fileHeight='" + d + "'  _fileType='" + c + "' style='margin-left:-1px;'></p></div>"),
    h.push("</div>"),
    h.push("</td>"),
    m.before(h.join(""))
}
,
Site.productMenCommImgDelete = function(e, t) {
    for (var i = $("#msgBoardAddImgTb" + t).eq(0), a = i.find("td").length, o = 0; o < a; o++)
        if (i.find("td").eq(o).find(".msgBoard_upImgTop_set")[0] === e) {
            i.find("td").eq(o).remove();
            break
        }
    a = i.find("td").length;
    var n = i.find("td").eq(a - 1);
    n.find(".msgBoard_showImgCount").html(a - 1 + "/" + n.attr("maxNum")),
    a <= n.attr("maxNum") && (Fai.isIE6() || Fai.isIE7() ? n.css({
        display: "block",
        "padding-top": "7px"
    }) : Fai.isIE() ? n.css({
        display: "block",
        "padding-top": "8px"
    }) : n.css({
        display: "block",
        "padding-top": "12px"
    }))
}
,
Site.showMenCommImgList = function(i, e, a, t, o, n) {
    var r = $("#" + a);
    null != r && void 0 !== r && r.remove();
    var s, l = $("#" + i).parentsUntil(".J_imgDiv", ".J_imageTable");
    l.attr("chooseTr", t),
    l.attr("chooseTd", o),
    n ? s = l.find(".J_td") : (s = l.find("td"),
    n = !1),
    s.find(".show_msg_border_rect").remove();
    var d = "<div class='show_msg_border_rect'><div class='show_msg_triangle_down'></div></div>";
    s.eq(o).prepend(d);
    var c = [];
    c.push("<div id='" + a + "' class='show_msg_outer_div'>"),
    Fai.isIE6() || Fai.isIE7() ? (c.push("<span onclick=Site.commShowPicClose('" + a + "','" + i + "') class='msg_close_show_img_icon' style='margin-top:-8px;'/>"),
    c.push("<div class='show_msg_bordered_div' style='width:298px !important; margin-top:-8px;'></div>"),
    c.push("<div class='show_msg_border_div' style='width:299px !important;margin-top:-8px;'>")) : (c.push("<span onclick=Site.commShowPicClose('" + a + "','" + i + "') class='msg_close_show_img_icon'/>"),
    c.push("<div class='show_msg_bordered_div'  style='width:299px;'></div>"),
    c.push("<div class='show_msg_border_div' style='margin-top:-8px;margin-left:1px;'>")),
    c.push("<div><p><img alt='' class='msg_up_show_img_set' src='" + e + "'></p></div>"),
    c.push("</div>"),
    c.push("</div>"),
    l.after(c.join("")),
    setTimeout(function() {
        $("#" + a).hover(function() {
            var e = $("#" + a);
            if (null == e.find("#J_showCommPicMoveSign").attr("class") || void 0 === e.find("#J_showCommPicMoveSign").attr("class")) {
                var t = [];
                t.push("<div id='J_showCommPicMoveSign'>"),
                t.push("<img alt='' class='showCommPicMoveLeftClickArea' onclick=Site.showMenCommImgMove('" + i + "','" + a + "','left'," + n + ")>"),
                t.push("<img alt='' src='" + _resRoot + "/image/site/msgUpImg/mLeft.png' onclick=Site.showMenCommImgMove('" + i + "','" + a + "','left'," + n + ") class='showCommPicMoveLeft'>"),
                t.push("<img alt='' class='showCommPicMoveRightClickArea' onclick=Site.showMenCommImgMove('" + i + "','" + a + "','right'," + n + ")>"),
                t.push("<img alt='' src='" + _resRoot + "/image/site/msgUpImg/mRight.png' onclick=Site.showMenCommImgMove('" + i + "','" + a + "','right'," + n + ") class='showCommPicMoveRight'>"),
                t.push("</div>"),
                e.prepend(t.join(""))
            }
        }, function() {
            var e = $("#" + a);
            Fai.isIE7() ? setTimeout(function() {
                e.find("#J_showCommPicMoveSign").remove()
            }, 500) : e.find("#J_showCommPicMoveSign").remove()
        })
    }, 10)
}
,
Site.showMenCommImgMove = function(e, t, i, a) {
    if (null != e && null != i) {
        var o = $("#" + e).parentsUntil(".J_imgDiv", ".J_imageTable");
        if (currentChooseTr = o.attr("chooseTr"),
        currentChooseTd = o.attr("chooseTd"),
        null != currentChooseTr && null != currentChooseTd && null != Site.commMenUpAllImgList) {
            var n, r = 0;
            a ? n = o.find(".J_td") : (n = o.find("td"),
            a = !1);
            var s = parseInt(n.length);
            if (!(s <= 1)) {
                "left" == i ? r = "0" == currentChooseTd || 0 == currentChooseTd ? s - 1 : parseInt(currentChooseTd) - 1 : "right" == i && (r = parseInt(currentChooseTd) + 1) >= Site.commMenUpAllImgList[currentChooseTr].data.length && (r = 0),
                n.eq(currentChooseTd).find(".show_msg_border_rect").remove();
                var l = "<div class='show_msg_border_rect'><div class='show_msg_triangle_down'></div></div>";
                n.eq(r).prepend(l),
                o.attr("chooseTd", r);
                var d = $("#" + t).find(".msg_up_show_img_set").parent();
                $("#" + t).find(".msg_up_show_img_set").remove(),
                d.append("<img alt='' class='msg_up_show_img_set' src='" + Site.commMenUpAllImgList[currentChooseTr].data[r].data + "'>")
            }
        }
    }
}
,
Site.orderPdCommentAddCom = function(e, t, i, _) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行评论。");
    else {
        var S = $(".J-ct-panel-" + e + "-" + t)
          , a = $("#pc_" + e + "_" + t)
          , b = $.trim(a.val())
          , o = a.attr("minlength");
        if ("string" != typeof b || "" == b)
            return a.focus(),
            void Fai.ing(LS.commentNotEmpty, !0);
        if (b.length < o)
            Fai.ing(Fai.format(LS.commentLenTips, Fai.encodeHtml(o)), !0);
        else {
            var n = $("#msgBoardAddImgTb" + i)
              , x = []
              , w = [];
            if (null != n && void 0 !== n) {
                var r = n.eq(0)
                  , s = r.find("td").length;
                if (1 < s)
                    for (var l = 0; l < s - 1; l++) {
                        var d = r.find("td").eq(l).find(".msgBoard_upImg_set");
                        if (null != d && "undefined" != d) {
                            var c = {}
                              , p = {}
                              , u = d.attr("_id")
                              , m = d.attr("_name")
                              , h = d.attr("_path")
                              , f = d.attr("_smallpath")
                              , g = d.attr("_file_size")
                              , v = d.attr("_file_id")
                              , y = Number(d.attr("_fileWidth") || 0)
                              , C = Number(d.attr("_fileHeight") || 0)
                              , F = Number(d.attr("_fileType") || 0);
                            c.imgId = u,
                            c.imgName = m,
                            c.imgSize = g,
                            c.tempFileId = v,
                            c.imgWidth = y,
                            c.imgHeight = C,
                            c.imgType = F,
                            x.push(c),
                            p.path = h,
                            p.smallPath = f,
                            w.push(p)
                        }
                    }
            }
            var I = $(".submitStarList").attr("star");
            I = I || 5;
            var P = {
                oid: e,
                iid: t,
                commImgList: $.toJSON(x),
                comment: b,
                star: I
            };
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp?cmd=addWafCk_addPC",
                data: P,
                error: function k() {
                    Fai.ing(LS.js_systemError)
                },
                success: function L(e) {
                    var t = jQuery.parseJSON(e);
                    if (t.success) {
                        Fai.ing(LS.submitSuccess, !0);
                        var i = S.find(".g_textarea").parent()
                          , a = S.find(".ct-area3")
                          , o = S.find(".g_ibutton").parent()
                          , n = S.find(".ct-comm-title")
                          , r = S.find(".submitStarList")
                          , s = S.find(".msgBoard_submit_btn").parent();
                        i.remove(),
                        a.css({
                            visibility: "hidden",
                            position: "absolute",
                            "z-index": "-1"
                        }),
                        o.remove(),
                        n.remove(),
                        r.remove(),
                        s.remove();
                        var l = 0;
                        "undefined" != typeof Site.commMenUpAllImgList && null != Site.commMenUpAllImgList ? l = Site.commMenUpAllImgList.length : Site.commMenUpAllImgList = [];
                        var d = [];
                        d.push("<div class='ct-area2'>" + b + "</div>"),
                        d.push("<div  class='msgImgList ct-area3' style='margin-top:-12px;'>"),
                        d.push("<table>"),
                        d.push("<tr style='border:0px !important;'>");
                        var c = [];
                        if ("[]" != x && 0 < x.length && "null" != t.imgsPathStr && x.length == t.imgsPathStr.length)
                            for (var p = 0; p < x.length; p++) {
                                var u = x[p].imgId
                                  , m = t.imgsPathStr[p].path
                                  , h = w[p].smallPath;
                                d.push("<td class='msgBoard_showImg_tb_td' style='border:0px !important;'>"),
                                d.push("<div onclick=Site.showMenCommImgList('" + u + "','" + m + "','picGroupId_" + l + "','" + l + "','" + p + "') class='msgBoard_upImg_border'>"),
                                d.push("<div><p><img alt='' class='msgBoard_upImg_set' id='" + u + "' src='" + h + "'></p></div>"),
                                d.push("</div>"),
                                d.push("</td>");
                                var f = new Object;
                                f.data = m,
                                c.push(f)
                            }
                        if (d.push("</tr>"),
                        d.push("</table>"),
                        d.push("</div>"),
                        d.push("<div class='ct-time'>"),
                        d.push("<span style='margin-right:10px;'>" + t.ctime + "</span>"),
                        d.push("<span class='g_stress'>" + LS.commentOK + "</span>"),
                        d.push("</div>"),
                        _) {
                            d.push("<div class='commStarList comm-star-list'>");
                            for (p = 1; p <= 5; p++)
                                p <= I ? d.push("<li class='fk-icons-star lt_select_more'></li>") : d.push("<li class='fk-icons-star lt_no_select'></li>");
                            d.push("</div>")
                        }
                        var g = new Object;
                        g.data = c,
                        Site.commMenUpAllImgList.push(g),
                        S.append(d.join("")),
                        (Fai.isIE6() || Fai.isIE7()) && setTimeout(function() {
                            $(".msgBoard_upImg_border").css({
                                width: "50px",
                                height: "50px"
                            })
                        }, 50)
                    } else {
                        var v = "";
                        switch (t.rt) {
                        case 1:
                            v = LS.commentError;
                            break;
                        case 2:
                            v = LS.mallStlSubmitNotFound;
                            break;
                        case 3:
                            v = LS.commentError;
                            break;
                        case 5:
                            v = LS.paramError;
                            break;
                        case 6:
                            return Fai.top.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp?url=" + Fai.encodeUrl(Fai.getUrlRoot(top.location.href)) + "&errno=11",
                            !1;
                        case 7:
                            v = LS.commentClosed;
                            break;
                        case 8:
                            v = LS.commentExist;
                            break;
                        case 9:
                            v = LS.commentCountLimit;
                            break;
                        default:
                            v = LS.js_systemError
                        }
                        t.hasFW && (v = t.msg),
                        Fai.ing(v)
                    }
                }
            })
        }
    }
}
,
Site.changeIEMsgInputWidth = function() {
    (isIE = -1 != navigator.userAgent.indexOf("MSIE")) && $("#orderLeveaMsgIn").css({
        height: "17px",
        "line-height": "17px",
        width: "98%"
    })
}
,
Site.orderLeveaMsgTip = "",
Site.orderMessageOpen = !1,
Site.orderMessageMaxNum = 0,
Site.setLisMsgInput = function(e, t, i) {
    Site.orderMessageOpen = t,
    Site.orderLeveaMsgTip = e,
    Site.orderMessageMaxNum = i,
    $(function() {
        $("#orderLeveaMsgIn").focusin(function() {
            $(this).val() === Site.orderLeveaMsgTip && $(this).val(""),
            $(this).css("color", "#333")
        }),
        $("#orderLeveaMsgIn").focusout(function() {
            $(this).css("color", "black"),
            "" == $(this).val() && ($(this).val(Site.orderLeveaMsgTip),
            $(this).css("color", "#b8b8b8"))
        })
    })
}
,
Site.setLisMsgInputInit = function(e) {
    $(function() {
        $("#orderLeveaMsgIn").val(e),
        $("#orderLeveaMsgIn").css("color", "#b8b8b8")
    })
}
,
Site.showBankLeaveMsg = function() {
    $(".bankLeaveMsgNew").hover(function() {
        var e = $(this).offset().top + 23
          , t = $(this).offset().left - 5
          , i = $(this).attr("val")
          , a = "<div class='J_bankLeaveMsg bankLeaveMsgNewPanel' style='top:" + e + "px;left: " + t + "px;'>" + Fai.encodeHtml(i) + "</div>";
        $("body").append(a)
    }, function() {
        $(".J_bankLeaveMsg").remove()
    })
}
,
function(ee) {
    function d(e, t, i) {
        for (var a, o, n, r, s, l = t[e], d = $(".addAddrPopPanel"), c = $("#addrDetail"), p = Fai.top._lcid, u = !1, m = 0; m < i.length; m++)
            if ("addr" != (s = i[m]).fieldKey)
                if (r = d.find("#" + s.fieldKey),
                9 != s.type)
                    0 < r.length && l[s.fieldKey] && (r.val(l[s.fieldKey] || ""),
                    "mobile" == s.fieldKey && $("#mobileCt").val(l.mobileCt));
                else {
                    var h = l[s.fieldKey]
                      , f = d.find("#orderPropDateStart" + s.id);
                    if (h != undefined) {
                        var g = h.s || "";
                        if (f.val(g),
                        h.e != undefined) {
                            var v = d.find("#orderPropDateStart" + s.id + "_end");
                            0 < v.length && v.val(h.e)
                        }
                    }
                }
            else {
                if (l.addr_info.isCus) {
                    var _ = x(l.addr_info.countyCode)
                      , S = x(l.addr_info.cityCode)
                      , b = x(l.addr_info.provinceCode);
                    $("#allArea").val(l.addr_info.provinceCode),
                    $("#allArea").change(),
                    $("#areaBoxInput").attr("lastArea", "-" + _),
                    $("#areaBoxInput").attr("lastAreaType", "thd"),
                    $("#areaBoxInput").val(b + "-" + S + "-" + _),
                    $("#areaBoxInput").attr("isCus", 1),
                    $("#areaBoxInput").attr("area1", l.addr_info.provinceCode),
                    $("#areaBoxInput").attr("area2", l.addr_info.cityCode),
                    $("#areaBoxInput").attr("area3", l.addr_info.countyCode),
                    $("#addrDetail").val(l.addr_info.streetAddr)
                } else {
                    2052 == p || 1028 == p ? (site_cityUtil.getInfo(l.addr_info.countyCode).name,
                    site_cityUtil.getInfo(l.addr_info.cityCode).name,
                    site_cityUtil.getInfo(l.addr_info.provinceCode).name,
                    site_cityUtil.getInfo(l.addr_info.streetCode).name) : (site_cityUtil.getInfoEn(l.addr_info.countyCode).name,
                    site_cityUtil.getInfoEn(l.addr_info.cityCode).name,
                    site_cityUtil.getInfoEn(l.addr_info.provinceCode).name,
                    site_cityUtil.getInfoEn(l.addr_info.streetCode).name),
                    99e4 == l.addr_info.provinceCode ? ($("#areaBoxInput").attr("isOs", 1),
                    $("#allArea").val("os")) : ($("#areaBoxInput").attr("isCn", 1),
                    $("#allArea").val("cn")),
                    $("#allArea").change(),
                    $("#areaBoxInput").attr("area1", l.addr_info.provinceCode),
                    $("#areaBoxInput").attr("area2", l.addr_info.cityCode),
                    $("#areaBoxInput").attr("area3", l.addr_info.countyCode),
                    $("#areaBoxInput").attr("area4", l.addr_info.streetCode),
                    c.val(l.addr_info.streetAddr || ""),
                    setTimeout(function() {
                        $("#areaBox1 .group_item[pid='" + l.addr_info.provinceCode + "']").click(),
                        setTimeout(function() {
                            $("#areaBox1 .group_item[cid='" + l.addr_info.cityCode + "']").click(),
                            setTimeout(function() {
                                $("#areaBox1 .group_item[cid='" + l.addr_info.countyCode + "']").click(),
                                setTimeout(function() {
                                    $("#areaBox1 .group_item[cid='" + l.addr_info.streetCode + "']").click()
                                }, 0)
                            }, 0)
                        }, 0)
                    }, 0),
                    $("#areaBox1").hide()
                }
                u = !0
            }
        u || 1 !== $("#mallShipTemplate_province").length || (2052 != p && 1028 != p || (a = $("#addrInfo_county"),
        o = $("#addrInfo_city"),
        (n = $("#addrInfo_province")).val(l.addr_info.provinceCode),
        n.trigger("change"),
        o.val(l.addr_info.cityCode),
        o.trigger("change"),
        a.val(l.addr_info.countyCode)),
        c.val(l.addr_info.streetAddr || ""))
    }
    function c(e, t, i, a, o, n, r) {
        var s, l, d = "", c = Fai.top._lcid, p = {};
        p.addrInfoList = i,
        site_cityUtil.initProvinces(c);
        var u = {};
        $.each(ee.cusAreaList, function(e, t) {
            null != t.parentId && "" != t.parentId && 0 !== t.parentId || (u[e] = t)
        }),
        2052 != c && 1028 != c || (s = site_cityUtil.getProvince(),
        site_cityUtil.simpleProvinceName(s)),
        l = {
            width: 942
        };
        var m = parseInt($(".mallStlNew").attr("themecolor"))
          , h = isNaN(m) ? "" : "mstlColor" + m;
        l.extClass = "addAddrPopPanel " + h,
        l.title = "<div class='addAddrPanelTitle'>" + r + "</div>",
        d += "<div class='addAddrPanelContent'>";
        for (var f = !1, g = {}, v = [], _ = 0; _ < o.length; _++) {
            var S = (g = o[_]).other
              , b = S.placeholder || "";
            if ("addr" != g.fieldKey) {
                if (d += "<p class='newAddrLine j_newAddrLine'>",
                d += "<label class='itemLabel'>",
                d += "<span title=" + g.name + " class='itemName'>" + g.name + "</span>",
                d += "<i class='mustWrite'>" + (g.required ? "*" : "&nbsp;") + "</i>",
                d += "</label>",
                8 == g.type || 10 == g.type)
                    d += "<input id='" + g.fieldKey + "' type='number' placeholder='" + b + "' class='itemValInput " + g.fieldKey + "' maxLength='11' onkeypress='javascript:return Fai.isNumberKey(event)'  oninput='value=value.replace(/[^0-9]/g,\"\");if(value.length>11)value=value.slice(0,11);'>";
                else if (9 == g.type) {
                    var x = "orderPropDateStart" + g.id;
                    if (S != undefined && S.dateSetting != undefined) {
                        var w = S.dateSetting
                          , y = 1 == w.type;
                        d += "<input type='text' _placeHolder='" + "" + "' class='two-resize " + (y ? "fk-startTime" : "") + " g_itext itemValInput' id='" + x + "' readonly style='width:200px;'/>";
                        var C = {};
                        if (C.id = x,
                        C.dateSetting = w,
                        v.push(C),
                        y) {
                            var F = x + "_end";
                            d += "<span class=''> " + LS.to + " </span>",
                            d += "<span class='fk-endTimeWrap' style='display: inline-block;position:relative;'>",
                            d += "<input type='text' class='fk-endTime g_itext itemValInput' id='" + F + "' style='width: 200px;' readonly />",
                            d += "<span _startId = '" + x + "' id='" + F + "_mask' class='J_endTimeMask fk-endTimeMask' style='width: 200px;position: absolute;height: 42px;left: 0;'></span>",
                            d += "</span>";
                            var I = {};
                            I.id = F,
                            I.dateSetting = w,
                            v.push(I)
                        }
                    }
                } else
                    d += "<input id='" + g.fieldKey + "' class='itemValInput " + g.fieldKey + "' maxLength='50' placeholder='" + b + "'>";
                d += "</p>"
            } else {
                var P = 2052 == c || 1028 == c ? "中国" : "China"
                  , k = 2052 == c || 1028 == c ? "海外" : "Oversea";
                d += "<div class='newAddrLine'><label class='itemLabel'>" + LS.Region + "<i class='mustWrite'>",
                g.required && (d += "*"),
                d += "</i></label>",
                d += "<select id='allArea' class='allArea addrSelectInput'>",
                d += "<option value=''>------</option>",
                ee.isHideCN || (d += "<option value='cn'>" + P + "</option>"),
                ee.isHideOS || (d += "<option value='os'>" + k + "</option>"),
                $.each(u, function(e, t) {
                    d += "<option value='" + u[e].id + "'>" + Fai.encodeHtml(u[e].name) + "</option>"
                }),
                d += "</select>",
                d += "<input type='text' id='areaBoxInput' class='areaBoxInput' class='itemValInput' style='width:295px;' placeholder='------' readOnly='true' isCn isOs isCus area1 area2 area3/>",
                d += "<div id='areaBox1' class='areaBox1 areaBox1New' style='display:none;'>",
                d += "<div id='province_box' class='province_box'>",
                d += "<div class='pv_head J_areaHead'>",
                d += "<div class='pv_pv pv'>" + LS.js_province + "</div>",
                d += "<div class='pv_city city'>" + LS.city + "</div>",
                d += "<div class='pv_county county'>" + LS.js_county + "</div>",
                d += "<div class='pv_street street'>" + LS.street + "</div>",
                d += "</div>",
                d += "<div class='pv_content'>",
                d += "<div class='spaceLine'></div>",
                $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
                    d += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
                    d += "<div class='group_head'>" + t[0] + "</div>",
                    d += "<div class='group_content'>",
                    $.each(t[1], function(e, t) {
                        d += 2052 == c || 1028 == c ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
                    }),
                    d += "</div>",
                    d += "</div>",
                    d += "<div class='spaceLine'></div>"
                }),
                d += "</div>",
                d += "</div>",
                d += "<div id='city_box' class='city_box' style='display:none;'>",
                d += "<div class='city_head J_areaHead'>",
                d += "<div class='city_pv pv'>" + LS.js_province + "</div>",
                d += "<div class='city_city city'>" + LS.city + "</div>",
                d += "<div class='city_county county'>" + LS.js_county + "</div>",
                d += "<div class='city_street street'>" + LS.street + "</div>",
                d += "</div>",
                d += "</div>",
                d += "<div id='county_box' class='county_box' style='display:none;'>",
                d += "<div class='county_head J_areaHead'>",
                d += "<div class='county_pv pv'>" + LS.js_province + "</div>",
                d += "<div class='county_city city'>" + LS.city + "</div>",
                d += "<div class='county_county county'>" + LS.js_county + "</div>",
                d += "<div class='county_street street'>" + LS.street + "</div>",
                d += "</div>",
                d += "</div>",
                d += "<div id='street_box' class='street_box' style='display:none;'>",
                d += "<div class='street_head J_areaHead'>",
                d += "<div class='street_pv pv'>" + LS.js_province + "</div>",
                d += "<div class='street_city city'>" + LS.city + "</div>",
                d += "<div class='street_county county'>" + LS.js_county + "</div>",
                d += "<div class='street_street street'>" + LS.street + "</div>",
                d += "</div>",
                d += "</div>",
                d += "</div>",
                d += "<div id='areaBox2' class='areaBox2 areaBox2New' style='display:none;'>",
                d += "<div id='sec_box' class='sec_box'>",
                d += "<div class='sec_head J_areaHead2'>",
                d += "<div class='sec_sec sec'>" + LS.firstRegion + "</div>",
                d += "<div class='sec_thd thd'>" + LS.secRegion + "</div>",
                d += "</div>",
                d += "<div class='sec_content'></div>",
                d += "</div>",
                d += "<div id='thd_box' class='thd_box' style='display:none;'>",
                d += "<div class='thd_head J_areaHead2'>",
                d += "<div class='thd_sec sec'>" + LS.firstRegion + "</div>",
                d += "<div class='thd_thd thd'>" + LS.secRegion + "</div>",
                d += "</div>",
                d += "<div class='thd_content'></div>",
                d += "</div>",
                d += "</div>",
                d += "</div>",
                d += "<p class='newAddrLine'><label class='itemLabel'>" + LS.addrDetail + "<i class='mustWrite'>" + (g.required ? "*" : "&nbsp;") + "</i></label>",
                d += "<input id='addrDetail' class='addrDetail itemValInput' placeholder='" + LS.addrDetail + "' maxLength='100'></p>",
                f = !0
            }
        }
        if (!f && 1 === $("#mallShipTemplate_province").length) {
            P = 2052 == c || 1028 == c ? "中国" : "China",
            k = 2052 == c || 1028 == c ? "海外" : "Oversea";
            d += "<div class='newAddrLine'><label class='itemLabel'>" + LS.Region + "<i class='mustWrite'>*</i></label>",
            d += "<select id='allArea' class='allArea addrSelectInput'>",
            d += "<option value=''>------</option>",
            ee.isHideCN || (d += "<option value='cn'>" + P + "</option>"),
            ee.isHideOS || (d += "<option value='os'>" + k + "</option>"),
            $.each(u, function(e, t) {
                d += "<option value='" + u[e].id + "'>" + Fai.encodeHtml(u[e].name) + "</option>"
            }),
            d += "</select>",
            d += "<input type='text' id='areaBoxInput' class='itemValInput areaBoxInput' style='width:295px;' placeholder='------' readOnly='true' isCn isOs isCus area1 area2 area3/>",
            d += "<div id='areaBox1' class='areaBox1 areaBox1New' style='display:none;'>",
            d += "<div id='province_box' class='province_box'>",
            d += "<div class='pv_head J_areaHead'>",
            d += "<div class='pv_pv pv'>" + LS.js_province + "</div>",
            d += "<div class='pv_city city'>" + LS.city + "</div>",
            d += "<div class='pv_county county'>" + LS.js_county + "</div>",
            d += "<div class='pv_street street'>" + LS.street + "</div>",
            d += "</div>",
            d += "<div class='pv_content'>",
            d += "<div class='spaceLine'></div>",
            $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
                d += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
                d += "<div class='group_head'>" + t[0] + "</div>",
                d += "<div class='group_content'>",
                $.each(t[1], function(e, t) {
                    d += 2052 == c || 1028 == c ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
                }),
                d += "</div>",
                d += "</div>",
                d += "<div class='spaceLine'></div>"
            }),
            d += "</div>",
            d += "</div>",
            d += "<div id='city_box' class='city_box' style='display:none;'>",
            d += "<div class='city_head J_areaHead'>",
            d += "<div class='city_pv pv'>" + LS.js_province + "</div>",
            d += "<div class='city_city city'>" + LS.city + "</div>",
            d += "<div class='city_county county'>" + LS.js_county + "</div>",
            d += "<div class='city_street street'>" + LS.street + "</div>",
            d += "</div>",
            d += "</div>",
            d += "<div id='county_box' class='county_box' style='display:none;'>",
            d += "<div class='county_head J_areaHead'>",
            d += "<div class='county_pv pv'>" + LS.js_province + "</div>",
            d += "<div class='county_city city'>" + LS.city + "</div>",
            d += "<div class='county_county county'>" + LS.js_county + "</div>",
            d += "<div class='county_street street'>" + LS.street + "</div>",
            d += "</div>",
            d += "</div>",
            d += "<div id='street_box' class='street_box' style='display:none;'>",
            d += "<div class='street_head J_areaHead'>",
            d += "<div class='street_pv pv'>" + LS.js_province + "</div>",
            d += "<div class='street_city city'>" + LS.city + "</div>",
            d += "<div class='street_county county'>" + LS.js_county + "</div>",
            d += "<div class='street_street street'>" + LS.street + "</div>",
            d += "</div>",
            d += "</div>",
            d += "</div>",
            d += "<div id='areaBox2' class='areaBox2 areaBox2New' style='display:none;'>",
            d += "<div id='sec_box' class='sec_box'>",
            d += "<div class='sec_head J_areaHead2'>",
            d += "<div class='sec_sec sec'>" + LS.firstRegion + "</div>",
            d += "<div class='sec_thd thd'>" + LS.secRegion + "</div>",
            d += "</div>",
            d += "<div class='sec_content'></div>",
            d += "</div>",
            d += "<div id='thd_box' class='thd_box' style='display:none;'>",
            d += "<div class='thd_head J_areaHead2'>",
            d += "<div class='thd_sec sec'>" + LS.firstRegion + "</div>",
            d += "<div class='thd_thd thd'>" + LS.secRegion + "</div>",
            d += "</div>",
            d += "<div class='thd_content'></div>",
            d += "</div>",
            d += "</div>",
            d += "</div>",
            d += "<p class='newAddrLine'><label class='itemLabel'></label>",
            d += "<input id='addrDetail' class='addrDetail itemValInput' placeholder='" + LS.addrDetail + "' maxLength='100'></p>"
        }
        function L(e) {
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
        }
        d += "<p class='newAddrLine'><label class='itemLabel'></label><span id='sublimeNewAddr' class='sublimeNewAddr addAddrBtn mstl_bg'>" + LS.confirm + "</span><span id='cancelNewAddr' class='cancelNewAddr addAddrBtn'>" + LS.cancel + "</span></p>",
        d += "</div>",
        l.htmlContent = d,
        ee.popupBox(l),
        0 < $("#areaBoxInput").length && $("#areaBox1,#areaBox2").css("left", $("#areaBoxInput").position().left),
        $("#areaBoxInput").hide(),
        $(document).unbind("click.forAreaBox").bind("click.forAreaBox", function() {
            $("#areaBox1").hide(),
            $("#areaBox2").hide()
        }),
        $("#areaBox1,#areaBox2").unbind("click.forAreaBox").bind("click.forAreaBox", function(e) {
            L(e)
        }),
        $("#allArea").change(function() {
            var e = $(this).val();
            if (null == e || "" == e || "os" == e ? $("#areaBoxInput").hide() : $("#areaBoxInput").show(),
            $("#areaBox1, #areaBox2").hide(),
            null != e && "" != e && ($("#areaBoxInput").attr({
                isCn: 0,
                isCus: 0,
                isOs: 0,
                area1: "",
                area2: "",
                area3: "",
                area4: ""
            }),
            "cn" == e ? ($("#areaBoxInput").attr("isCn", 1),
            $("#areaBox1 .pv").click(),
            $("#areaBox1 .city_content").remove(),
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove(),
            $("#areaBox1").show(),
            $("#areaBoxInput").val("")) : "os" == e ? ($("#areaBoxInput").attr({
                isOs: 1,
                area1: 99e4,
                area2: 990100
            }),
            $("#areaBoxInput").val($("#areaBox1").find(".group_item[pid='990000']").text())) : ($("#areaBoxInput").attr({
                isCus: 1,
                area1: e
            }),
            $("#areaBox2 .sec_content").html(""),
            $("#areaBox2 .thd_content").html(""),
            $("#areaBox2").show(),
            $("#areaBoxInput").val("")),
            "cn" != e && "os" != e)) {
                var t = D($("#allArea").val());
                $("#sec_box .sec_content").append(t),
                $("#areaBoxInput").val($("#areaBoxInput").val() + $("#allArea option[value='" + $("#allArea").val() + "']").text()),
                null !== t && t !== undefined && "" !== t || ($("#areaBox2").hide(),
                $(".J-ssq").hide(),
                $("#areaBoxInput").hide())
            }
        }),
        $("#areaBoxInput").unbind("click").bind("click", function(e) {
            "cn" == $("#allArea").val() ? ($("#areaBox1").toggle(),
            $("#areaBox2").hide(),
            $("#province_box").show(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").hide()) : null == $("#allArea").val() || "os" == $("#allArea").val() || ($("#areaBox2").toggle(),
            $("#areaBox1").hide(),
            $("#sec_box").show(),
            $("#thd_box").hide()),
            L(e)
        }),
        $("#areaBox1 .J_areaHead .pv").click(function() {
            $("#province_box").show(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").hide()
        }),
        $("#areaBox1 .J_areaHead .city").click(function() {
            $("#province_box").hide(),
            $("#city_box").show(),
            $("#county_box").hide(),
            $("#street_box").hide()
        }),
        $("#areaBox1 .J_areaHead .county").click(function() {
            $("#province_box").hide(),
            $("#city_box").hide(),
            $("#county_box").show(),
            $("#street_box").hide()
        }),
        $("#areaBox1 .J_areaHead .street").click(function() {
            $("#province_box").hide(),
            $("#city_box").hide(),
            $("#county_box").hide(),
            $("#street_box").show()
        }),
        $(".J_areaHead2 .sec").click(function() {
            $("#sec_box").show(),
            $("#thd_box").hide()
        }),
        $(".J_areaHead2 .thd").click(function() {
            $("#sec_box").hide(),
            $("#thd_box").show()
        }),
        $("#province_box .group_item").bind("click", function() {
            $("#areaBox1 .city_content").remove(),
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove();
            var e = $(this).attr("pname")
              , t = $(this).attr("pid");
            $("#areaBox1 .J_areaHead .city").click(),
            $("#areaBoxInput").val("").val($("#areaBoxInput").val() + e).removeAttr("lastArea").removeAttr("lastAreaType").attr({
                area1: t,
                area2: "",
                area3: "",
                area4: ""
            }),
            $(".city_content").remove();
            var i = "";
            i = A(2052 == c || 1028 == c ? site_cityUtil.getCities(t) : site_cityUtil.getCitiesEn(t));
            var a = $(i).html();
            null !== a && a !== undefined && "" !== a || $("#areaBox1").hide(),
            $("#city_box").append(i)
        }),
        $("#city_box").delegate(".group_item", "click", function() {
            $("#areaBox1 .county_content").remove(),
            $("#areaBox1 .street_content").remove();
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = site_cityUtil.getCounty(t);
            if (0 != i.length) {
                $("#areaBox1 .J_areaHead .county").click();
                $("#areaBoxInput").attr("lastArea");
                var a = $("#areaBoxInput").attr("lastAreaType");
                null != a && "" != a && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
                $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e).attr({
                    lastArea: "-" + e,
                    lastAreaType: "city",
                    area2: t,
                    area3: "",
                    area4: ""
                }),
                $(".county_content").remove();
                var o = "";
                o = N(2052 == c || 1028 == c ? i : site_cityUtil.getCountyEn(t));
                var n = $(o).html();
                null !== n && n !== undefined && "" !== n || $("#areaBox1").hide(),
                $("#county_box").append(o)
            } else
                B(this, !1, c, t, e)
        }),
        $("#county_box").delegate(".group_item", "click", function() {
            B(this, !0, c)
        }),
        $("#street_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#areaBoxInput").attr("lastArea")
              , a = $("#areaBoxInput").attr("lastAreaType");
            null != a && "street" == a && $("#areaBoxInput").val($("#areaBoxInput").val().replace(i, "")),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "street",
                area4: t
            }),
            $("#areaBox1").hide()
        }),
        $("#sec_box").delegate(".group_item", "click", function() {
            $("#areaBox2 .thd_content").html("");
            var e = $(this).attr("cname")
              , t = $(this).attr("cid");
            $(".J_areaHead2 .thd").click();
            $("#areaBoxInput").attr("lastArea");
            var i = $("#areaBoxInput").attr("lastAreaType");
            null != i && "" != i && -1 != $("#areaBoxInput").val().indexOf("-") && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "sec",
                area2: t,
                area3: ""
            });
            var a = D(t);
            null !== a && a !== undefined && "" !== a || $("#areaBox2").hide(),
            $("#thd_box .thd_content").append(a)
        }),
        $("#thd_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#areaBoxInput").attr("lastArea")
              , a = $("#areaBoxInput").attr("lastAreaType");
            null != a && "thd" == a && $("#areaBoxInput").val($("#areaBoxInput").val().replace(i, "")),
            $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "thd",
                area3: t
            }),
            $("#areaBox2").hide()
        }),
        ee.siteFormTimeBtn(v),
        $(".sublimeNewAddr").off("click.mstl").on("click.mstl", function() {
            j(e, p, t, a, o)
        }),
        $(".cancelNewAddr").off("click.mstl").on("click.mstl", function() {
            $(".popupBClose").click()
        });
        var T = document.body.offsetHeight - $(".addAddrPopPanel.formBox")[0].offsetHeight;
        0 <= T ? T -= T >> 1 : (T = 0,
        $(".formMSG").css("overflow", "scroll").css("height", "100%"),
        $(".formMSG").parents(".addAddrPopPanel").css("height", "100%"));
        var M = document.body.offsetWidth - $(".addAddrPopPanel.formBox")[0].offsetWidth;
        0 <= M ? M -= M >> 1 : M = 0,
        $(".addAddrPopPanel.formBox").css("top", $(document).scrollTop() + T + "px"),
        $(".addAddrPopPanel.formBox").css("left", $(document).scrollLeft() + M + "px")
    }
    function B(e, t, i, a, o) {
        $("#areaBox1 .street_content").remove(),
        a != undefined && o != undefined || (o = $(e).attr("cname"),
        a = $(e).attr("cid")),
        $(".J_areaHead .street").click();
        $("#areaBoxInput").attr("lastArea");
        var n = $("#areaBoxInput").attr("lastAreaType");
        t ? (null == n || "street" != n && "county" != n || $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-", $("#areaBoxInput").val().indexOf("-") + 1))),
        $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + o).attr({
            lastArea: "-" + o,
            lastAreaType: "county",
            area3: a,
            area4: ""
        })) : (null != n && "" != n && $("#areaBoxInput").val($("#areaBoxInput").val().substring(0, $("#areaBoxInput").val().indexOf("-"))),
        $("#areaBoxInput").val($("#areaBoxInput").val() + "-" + o).attr({
            lastArea: "-" + o,
            lastAreaType: "city",
            area2: a,
            area3: "",
            area4: ""
        }));
        var r = "";
        r = p(2052 == i || 1028 == i ? site_cityUtil.getStreet(a) : site_cityUtil.getStreetEn(a));
        var s = $(r).html();
        null !== s && s !== undefined && "" !== s || $("#areaBox1").hide(),
        $("#street_box").append(r)
    }
    function A(e) {
        var i = "";
        return i += "<div class='city_content'>",
        $.each(e, function(e, t) {
            2052 == Fai.top._lcid || 1028 == Fai.top._lcid ? i += "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.simpleCityNameStr(site_cityUtil.getInfo(t.id).name) + "</div>" : i += "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.simpleCityNameStrEn(site_cityUtil.getInfoEn(t.id).name) + "</div>"
        }),
        i += "</div>"
    }
    function N(e) {
        var i = "";
        return i += "<div class='county_content'>",
        $.each(e, function(e, t) {
            2052 == Fai.top._lcid || 1028 == Fai.top._lcid ? i += "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : i += "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function p(e) {
        var i = "";
        return i += "<div class='street_content'>",
        $.each(e, function(e, t) {
            2052 == Fai.top._lcid || 1028 == Fai.top._lcid ? i += "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfo(t.id).name + "'>" + site_cityUtil.getInfo(t.id).name + "</div>" : i += "<div class='group_item' cid='" + t.id + "' cname='" + site_cityUtil.getInfoEn(t.id).name + "'>" + site_cityUtil.getInfoEn(t.id).name + "</div>"
        }),
        i += "</div>"
    }
    function x(i) {
        var a = ""
          , o = !1;
        return $.each(ee.cusAreaList, function(e, t) {
            o || t.id == i && (a = t.name,
            o = !0)
        }),
        a
    }
    function a(i) {
        var a = [];
        return $.each(ee.cusAreaList, function(e, t) {
            t.parentId == i && a.push(t)
        }),
        a
    }
    function D(e) {
        if (isNaN(e))
            return "";
        var t = parseInt(e)
          , i = "";
        return $.each(a(t), function(e, t) {
            i += "<div class='group_item' cid='" + t.id + "' cname='" + t.name + "'>" + t.name + "</div>"
        }),
        i
    }
    function j(h, f, e, t, g) {
        for (var i, a, o, n, r, s, l, d = f.addrInfoList, c = {}, p = -1 == h ? {} : d[h], u = $(".addAddrPopPanel"), v = Fai.top._lcid, m = !1, _ = !1, S = !1, b = "", x = 0; x < g.length; x++)
            if (m = (s = g[x]).required,
            "addr" != s.fieldKey) {
                if (0 < (r = 9 == s.type ? u.find("#orderPropDateStart" + s.id) : u.find("#" + s.fieldKey)).length) {
                    if (b = r.val(),
                    m && "" == b)
                        return Fai.ing(Fai.format(LS.addrInfoInputError, s.name), 1);
                    if ((8 == s.type || 10 == s.type) && (p.mobileCt = $("#mobileCt").val(),
                    !Fai.isNationMobile(b) && m))
                        return Fai.ing(LS.mobileNumRegular);
                    if ((3 == s.type || 12 == s.type) && 0 < b.length && !Fai.isEmail(b))
                        return Fai.ing(Fai.format(LS.addrInfoInputError, s.name), 1);
                    if (11 == s.type && 0 < b.length && !Fai.isCardNo(b))
                        return Fai.ing(Fai.format(LS.addrInfoInputError, s.name), 1);
                    var w = {};
                    if (9 == s.type && 0 < b.length) {
                        w.s = b;
                        var y = u.find("#orderPropDateStart" + s.id + "_end");
                        if (0 < y.length) {
                            var C = y.val();
                            if ("" == C)
                                return Fai.ing(Fai.format(LS.addrInfoInputError, s.name), 1);
                            w.e = C
                        }
                    }
                    9 == s.type ? p[s.fieldKey] = w : p[s.fieldKey] = r.val()
                }
            } else {
                S = m;
                var F = $("#allArea").val();
                if ((null == F || "" == F) && m)
                    return void Fai.ing(LS.selectArea);
                if (c.isCus = "cn" != F && "os" != F,
                n = $("#areaBoxInput").attr("area4"),
                i = $("#areaBoxInput").attr("area3"),
                null == (a = $("#areaBoxInput").attr("area2")) && (a = -1),
                null == i && (i = -1),
                null == n && (n = -1),
                "" == (o = $("#areaBoxInput").attr("area1")) && S)
                    return void Fai.ing(LS.mallStlSubmitAddrErr, 1);
                if ("" == a && S && !c.isCus)
                    return void Fai.ing(LS.mallStlSubmitAddrErr, 1);
                if (c.provinceCode = parseInt(o),
                c.cityCode = parseInt(a),
                c.countyCode = parseInt(i),
                c.streetCode = parseInt(n),
                2052 == Fai.top._lcid || 1028 == Fai.top.lcid ? (l = $("#areaBoxInput").val().replace(/-/g, ""),
                99e4 == c.provinceCode && (l = l.replace($("div[pid='990000']:eq(0)").text() + $("div[pid='990000']:eq(0)").text(), $("div[pid='990000']:eq(0)").text()))) : (l = $("#areaBoxInput").val().replace(/-/g, " ") + " ",
                99e4 == c.provinceCode && (l = l.replace($("div[pid='990000']:eq(0)").text() + " " + $("div[pid='990000']:eq(0)").text(), $("div[pid='990000']:eq(0)").text()))),
                "" == (I = $("#addrDetail")).val() && S)
                    return void Fai.ing(LS.editStreetAddr, 1);
                if (c.streetAddr = I.val(),
                p.addr_info = c,
                p.addr = (l || "") + I.val(),
                m && !p.addr)
                    return Fai.ing(Fai.format(LS.addrInfoInputError, s.name), 1);
                _ = !0
            }
        if (!_ && 1 === $("#mallShipTemplate_province").length) {
            var I, P = $("#allArea").val();
            if (null == P || "" == P)
                return void Fai.ing(LS.selectArea);
            if (c.isCus = "cn" != P && "os" != P,
            n = $("#areaBoxInput").attr("area4"),
            i = $("#areaBoxInput").attr("area3"),
            a = $("#areaBoxInput").attr("area2"),
            null == (o = $("#areaBoxInput").attr("area1")) || "" == o)
                return void Fai.ing(LS.mallStlSubmitAddrErr, 1);
            if ((null == a || "" == a) && !c.isCus)
                return void Fai.ing(LS.mallStlSubmitAddrErr, 1);
            if (c.provinceCode = parseInt(o),
            c.cityCode = parseInt(a),
            c.countyCode = parseInt(i),
            c.streetCode = parseInt(n),
            l = 2052 == Fai.top._lcid || 1028 == Fai.top.lcid ? $("#areaBoxInput").val().replace(/-/g, "") : $("#areaBoxInput").val().replace(/-/g, " ") + " ",
            "" == (I = $("#addrDetail")).val() && S)
                return void Fai.ing(LS.editStreetAddr, 1);
            if (c.streetAddr = I.val(),
            p.addr_info = c,
            p.addr = (l || "") + I.val(),
            !p.addr)
                return Fai.ing(Fai.format(LS.addrInfoInputError, s.name), 1)
        }
        if (-1 == h) {
            0 == t && (p.isDefault = 1),
            d.push(p);
            var k = ee.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=addAddr&id=" + e
        } else
            k = ee.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=editAddr&editItem=" + h + "&id=" + e,
            p = d[h];
        t ? ($(".sublimeNewAddr").off("click.mstl"),
        $.ajax({
            type: "post",
            url: k,
            data: "info=" + Fai.encodeUrl($.toJSON(f)),
            success: function L(e) {
                var t = $.parseJSON(e);
                if (t.success) {
                    var i = -1 < document.location.search.search(/imme/) ? "?imme&" : "?";
                    if (-1 == h)
                        document.location.href = ee.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "mstl.jsp" + i + "opera=add";
                    else {
                        var a = f.addrInfoList[h]
                          , o = $(".j_addrMsg[_item='" + h + "']")
                          , n = a.name
                          , r = a.mobile
                          , s = a.addr;
                        if (n == undefined || "" == n ? o.find(".addrName .msgIcon").removeClass().addClass("msgIcon msgIconOther") : o.find(".addrName .msgIcon").removeClass().addClass("msgIcon msgIconName"),
                        r == undefined || "" == r ? o.find(".addrPhone .msgIcon").removeClass().addClass("msgIcon msgIconOther") : o.find(".addrPhone .msgIcon").removeClass().addClass("msgIcon msgIconPhone"),
                        s == undefined || "" == s ? o.find(".msgAddrText .msgIcon").removeClass().addClass("msgIcon msgIconOther") : o.find(".msgAddrText .msgIcon").removeClass().addClass("msgIcon msgIconAddr"),
                        "" == n || "" == r || "" == s)
                            for (var l = 0; l < g.length; l++) {
                                var d = g[l].fieldKey
                                  , c = (g[l].name,
                                g[l].required,
                                g[l].type)
                                  , p = a[d];
                                if (2 != c && 4 != c && 5 != c && 7 != c && 8 != c) {
                                    if (9 == c) {
                                        var u = p;
                                        u.s != undefined ? (p = u.s,
                                        u.e != undefined && (p += LS.to + u.e)) : p = ""
                                    }
                                    n == undefined || "" == n ? n = p : r == undefined || "" == r ? r = p : s != undefined && "" != s || (s = p)
                                }
                            }
                        if (o.find(".addrName span").text(n),
                        o.find(".addrPhone span").text(r),
                        o.find(".msgAddrText").text(s),
                        (null != a.addr_info || "" != a.addr_info) && o.hasClass("selectedMsg"))
                            if (a.addr_info.isCus)
                                setTimeout(function() {
                                    $("#mallShipTemplate_allArea").val(a.addr_info.provinceCode),
                                    $("#mallShipTemplate_allArea").change(),
                                    setTimeout(function() {
                                        $("#mallShipTemplate_areaBox2 .group_item[cid='" + a.addr_info.cityCode + "']").click(),
                                        setTimeout(function() {
                                            $("#mallShipTemplate_areaBox2 .group_item[cid='" + a.addr_info.countyCode + "']").click()
                                        }, 0)
                                    }, 0)
                                }, 0),
                                $("#streetAddress").val(a.addr_info.streetAddr);
                            else {
                                var m = "";
                                2052 == v || 1028 == v ? (m = site_cityUtil.getInfo(a.addr_info.countyCode).name,
                                site_cityUtil.getInfo(a.addr_info.cityCode).name,
                                site_cityUtil.getInfo(a.addr_info.provinceCode).name) : (m = site_cityUtil.getInfoEn(a.addr_info.countyCode).name,
                                site_cityUtil.getInfoEn(a.addr_info.cityCode).name,
                                site_cityUtil.getInfoEn(a.addr_info.provinceCode).name),
                                99e4 == a.addr_info.provinceCode ? ($("#mallShipTemplate_areaBoxInput").attr("isOs", 1),
                                $("#mallShipTemplate_allArea").val("os").change()) : ($("#mallShipTemplate_areaBoxInput").attr("isCn", 1),
                                $("#mallShipTemplate_allArea").val("cn").change()),
                                $("#mallShipTemplate_areaBoxInput").attr({
                                    area1: a.addr_info.provinceCode,
                                    area2: a.addr_info.cityCode,
                                    area3: a.addr_info.countyCode,
                                    lastArea: "-" + m,
                                    lastAreaType: "county"
                                }),
                                setTimeout(function() {
                                    $("#mallShipTemplate_areaBox1 .group_item[pid='" + a.addr_info.provinceCode + "']").click(),
                                    setTimeout(function() {
                                        $("#mallShipTemplate_areaBox1 .group_item[cid='" + a.addr_info.cityCode + "']").click(),
                                        setTimeout(function() {
                                            $("#mallShipTemplate_areaBox1 .group_item[cid='" + a.addr_info.countyCode + "']").click()
                                        }, 0)
                                    }, 0)
                                }, 0),
                                $("#streetAddress").val(a.addr_info.streetAddr)
                            }
                        $(".addAddrPanelContent").parents(".formMSG").next(".popupBClose").click()
                    }
                } else
                    Fai.ing(t.msg)
            },
            error: function T() {
                Fai.ing(LS.js_systemError)
            }
        })) : M(f)
    }
    function M(e) {
        var t = []
          , i = e.addrInfoList[0];
        t.push("<div class='addrMsg j_addrMsg selectedMsg mstl_border' _item='0'>"),
        t.push("<div class='headerBg'></div>"),
        t.push("<div class='dealAddrHandler'>"),
        t.push("<div class='delAddrBtn vDelAddrBtn mstl_deleteBtn'></div>"),
        t.push("<div class='editAddrBtn mstl_editBtn'></div>"),
        t.push("<div class='setDefaultBtn  vSetDefaultBtn mstl_color'>设为默认</div>"),
        t.push("</div>"),
        t.push("<div class='addrItem addrName'><i class='msgIcon msgIconName'></i>" + (i.name || "") + "</div>"),
        t.push("<div class='addrItem addrPhone'><i class='msgIcon msgIconPhone'></i>" + (i.mobile || "") + "</div>"),
        t.push("<div class='addrItem addrDetial'><i class='msgIcon msgIconAddr'></i><span class='msgAddrText'>" + (i.addr || "") + "</span></div>"),
        t.push("<div class='bottomSelected mstl_selectFlag'></div>"),
        t.push("</div>"),
        $(".addrListWrap").html("").append(t.join("")),
        F(0, e.addrInfoList),
        $(".popupBClose").click()
    }
    function w() {
        var l = $("#useItg");
        l.length < 1 || (0 != parseInt(l.attr("_currentitg")) ? ($(".integralTitle").off("click.mstl").on("click.mstl", function(e) {
            var t = $(this);
            t.hasClass("discountChecked") ? (t.removeClass("discountChecked"),
            t.next().val("").trigger("blur").attr("disabled", "true")) : (t.addClass("discountChecked"),
            t.next().removeAttr("disabled"))
        }),
        l.bind("blur", function() {
            var e = parseInt(l.attr("_needitg"))
              , t = parseInt(l.val())
              , i = l.attr("_itgname")
              , a = parseInt(l.attr("_maxuse"));
            isNaN(t) && (t = 0);
            var o = $(this).attr("moduleId")
              , n = Fai.top.$("#module" + o)
              , r = parseFloat(n.find(".calTotalItem").attr("pay_price"));
            if (!isNaN(r)) {
                if (a < t) {
                    Fai.ing(Fai.format(LS.integral_maxUse, a, Fai.encodeHtml(i)), !0),
                    l.val(a);
                    var s = (a / e).toFixed(2);
                    return 2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#offsetMoney").text(Fai.formatPriceEn(s)) : $("#offsetMoney").text(s),
                    $("#integralInfo").show(),
                    $("#offsetMoney").attr("_offsetmoney", s),
                    C(),
                    void ee.mallStlCalcTotal(o)
                }
                if (t > parseInt(l.attr("_currentItg")))
                    return Fai.ing(Fai.format(LS.integral_notOverCurrent, Fai.encodeHtml(i), Fai.encodeHtml(i))),
                    void l.focus();
                if (t < 0)
                    return Fai.ing(LS.integral_inputInteger),
                    void l.focus();
                s = (t / e).toFixed(2);
                2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#offsetMoney").text(Fai.formatPriceEn(s)) : $("#offsetMoney").text(s),
                $("#offsetMoney").attr("_offsetmoney", s),
                0 < t ? $("#integralInfo").show() : $("#integralInfo").hide(),
                ee.mallStlCalcTotal(o),
                C()
            }
        })) : l.prop("disabled", !0))
    }
    function y(r) {
        var e = $("#couponCheckBox")
          , t = $(".couponShowList");
        e.length < 1 || (1 != t.find("option").length ? ($(".couponTitle").off("click.mstl").on("click.mstl", function(e) {
            var t = $(this);
            t.hasClass("discountChecked") ? (t.removeClass("discountChecked"),
            t.next().val(-1).trigger("change").attr("disabled", "true")) : (t.addClass("discountChecked"),
            t.next().removeAttr("disabled"))
        }),
        t.off("change.mstl").on("change.mstl", function(e) {
            var t = $(this)
              , i = t.find("option:selected")
              , a = ($(this).find("input:checkbox").is(":checked"),
            0);
            -1 != t.val() && (a = parseFloat(i.attr("data_saveprice")));
            var o = parseFloat($(".calTotalItem").attr("pay_price"));
            o < a && (a = o),
            0 < a ? $("#couponInfo").show() : $("#couponInfo").hide(),
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#couponOffsetMoney").text(Fai.formatPriceEn(a)).attr("_offsetmoney", a) : $("#couponOffsetMoney").text(a.toFixed(2)).attr("_offsetmoney", a),
            $("#useItg").trigger("blur"),
            ee.mallStlCalcTotal(r);
            var n = $("#integralCheckBox");
            0 < n.length && n.prop("checked") && (n.prop("checked", !1),
            $(".integralTitle").removeClass("discountChecked"),
            $(".integralTitle").next().val("").trigger("blur").attr("disabled", "true")),
            C()
        })) : e.prop("disabled", !0))
    }
    function C() {
        var e = 100 * parseFloat($(".calTotalItem").attr("pay_price")).toFixed(2) || 0
          , t = 100 * parseFloat($("#offsetMoney").attr("_offsetmoney")).toFixed(2) || 0
          , i = 100 * parseFloat($("#couponOffsetMoney").attr("_offsetmoney")).toFixed(2) || 0
          , a = 100 * parseFloat($("#shippingMoneyVal").attr("_shipmoney")).toFixed(2) || 0
          , o = $("#finalPay");
        $("#selfRaising").hasClass("deliveryTypeChecked") && (a = 0),
        finalPayVal = ((e + a - t - i) / 100).toFixed(2),
        ee.recheckItg(),
        "true" == $("#finalPay").attr("_useCurrencyWithNoDecimal") && (finalPayVal = Math.ceil(finalPayVal).toFixed(2)),
        2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? o.text(Fai.formatPriceEn(finalPayVal)) : o.text(finalPayVal)
    }
    function u() {
        var e = $(".mallShipSelect").find("option:selected");
        if (shippingMoneytext = $(".shippingPay"),
        culshippingMoneyVal = $("#shippingMoneyVal"),
        price = parseFloat(e.attr("price")).toFixed(2),
        2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? (shippingMoneytext.text(Fai.formatPriceEn(price)).attr("_shipmoney", price),
        culshippingMoneyVal.text(Fai.formatPriceEn(price)).attr("_shipmoney", price)) : (shippingMoneytext.text(price).attr("_shipmoney", price),
        culshippingMoneyVal.text(price).attr("_shipmoney", price)),
        $("#shippingMoneyVal").parents(".shippingMoney").show(),
        0 < $("#mallShipTemplate_province").length) {
            var t = $(".mallShipSelect option:selected");
            t.attr("provinceCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area1"))),
            t.attr("cityCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area2"))),
            t.attr("countyCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area3"))),
            t.attr("streetCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area4")))
        }
        C()
    }
    ee.cusAreaList = [],
    ee.isHideCN = !1,
    ee.isHideOS = !1,
    ee.initMstlDomEvent = function(e, t, i, a, o) {
        ee.cusAreaList = t,
        ee.isHideCN = i,
        ee.isHideOS = a;
        var p = e.moduleId
          , r = e.sessionMid
          , u = e.memberId
          , m = e.addrInfoList
          , h = e.orderId
          , f = e.unCheckeditemIdList
          , g = e.unCheckedItemList
          , v = e.isFirstTime
          , _ = e.memberName
          , S = e.imme
          , b = e.newPropList
          , n = e.mobileCtNameList
          , s = e.operaKey
          , l = {};
        l.addrInfoList = m,
        $(".addrListWrap").off("click.mstl").on("click.mstl", ".addrMsg", function(e) {
            var t = $(e.currentTarget)
              , i = parseInt(t.attr("_item"));
            return $(e.target || e.srcElement).hasClass("editAddrBtn") ? (c(i, r, m, u, b, n, o),
            d(i, m, b),
            void e.stopPropagation()) : t.hasClass("j_addrMsg") && !t.hasClass("selectedMsg") ? ($(".selectedMsg").removeClass("selectedMsg mstl_border"),
            t.addClass("selectedMsg mstl_border"),
            void F(i, m)) : void (t.hasClass("addAddrMsgPanel") && c(-1, r, m, u, b, n, o))
        }),
        $(".delAddrBtn").click(function(e) {
            var t = $(this).parent().parent().attr("_item")
              , i = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", LS.conCancelAddrInfo, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"]
              , a = {
                boxId: parseInt(1e4 * Math.random()),
                title: "",
                htmlContent: i.join(""),
                width: 300
            }
              , o = ee.popupBox(a)
              , n = ee.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/memberAdm_h.jsp?cmd=setWafCk_set&id=" + r + "&opera=delAddr";
            o.find(".J-rpt-save").on("click", function() {
                m.splice(t, 1),
                $.ajax({
                    type: "post",
                    url: n,
                    data: "info=" + Fai.encodeUrl($.toJSON(l)),
                    error: function e() {
                        Fai.ing(LS.js_systemError, !1)
                    },
                    success: function a(e) {
                        var t = $.parseJSON(e);
                        if (t.success) {
                            var i = -1 < document.location.search.search(/imme/) ? "?imme" : "";
                            document.location.href = ee.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "mstl.jsp" + i
                        } else
                            Fai.ing(t.msg, !0)
                    }
                })
            }),
            e.stopPropagation()
        }),
        $(".setDefaultBtn").click(function(e) {
            var t = $(this).parent().parent().attr("_item")
              , i = ee.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/memberAdm_h.jsp?cmd=setWafCk_set&id=" + r;
            for (index in m)
                m[index].isDefault = 0;
            m[t].isDefault = 1,
            $.ajax({
                type: "post",
                url: i,
                data: "info=" + Fai.encodeUrl($.toJSON(l)),
                error: function a() {
                    Fai.ing(LS.js_systemError, !1)
                },
                success: function o(e) {
                    var t = $.parseJSON(e);
                    if (t.success) {
                        var i = -1 < document.location.search.search(/imme/) ? "?imme" : "";
                        document.location.href = ee.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "mstl.jsp" + i
                    } else
                        Fai.ing(t.msg, !0)
                }
            }),
            e.stopPropagation()
        }),
        $(".mallShipSelect").off("change.mstl").on("change.mstl", function(e) {
            var t = $(this).find("option:selected")
              , i = $(".shippingPay")
              , a = $("#shippingMoneyVal")
              , o = parseFloat(t.attr("price")).toFixed(2);
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? (i.text(Fai.formatPriceEn(o)).attr("_shipmoney", o),
            a.text(Fai.formatPriceEn(o)).attr("_shipmoney", o)) : (i.text(o).attr("_shipmoney", o),
            a.text(o).attr("_shipmoney", o)),
            C();
            var n = $("#integralCheckBox");
            0 < n.length && n.prop("checked") && (n.prop("checked", !1),
            $(".integralTitle").removeClass("discountChecked"),
            $(".integralTitle").next().val("").trigger("blur").attr("disabled", "true"))
        }).trigger("change.mstl"),
        $(".payListWrap").off("click.mstl").on("click.mstl", ".payItemBox", function(e) {
            var t = $(e.currentTarget);
            t.hasClass("payChecked") || ($(".payChecked").removeClass("payChecked mstl_border mstl_payChecked"),
            t.addClass("payChecked mstl_border mstl_payChecked"),
            t.hasClass("payItemBox2") ? $(".banksMsgWrap").addClass("banksMsgWrapShow") : $(".banksMsgWrap").removeClass("banksMsgWrapShow"))
        }),
        $(".payChecked ").hasClass("payItemBox2") && $(".banksMsgWrap").addClass("banksMsgWrapShow"),
        $(".payItemBox1, .payItemBox2").off("mouseenter.mstl").on("mouseenter.mstl", function() {
            var e = $(this)
              , t = e.find(".payMethod").attr("tips");
            if (t) {
                var i = "<div class='payTipsPanel'>";
                i += "<div class='panelTriOut'>",
                i += "<div class='panelTriIn'></div>",
                i += "</div>",
                i += t,
                i += "</div>",
                e.append(i)
            }
        }).off("mouseleave.mstl").on("mouseleave.mstl", function() {
            var e = $(this).find(".payTipsPanel");
            0 < e.length && e.remove()
        }),
        w(),
        y(p),
        $(".mstlSublimeBtn").off("click.mstl").on("click.mstl", function() {
            ee.logDog(200453, 0);
            var e = Fai.top.$("#module" + p).find(".payItemBox");
            if (e && 0 != e.length) {
                var t = 0 < $(".J_noAddrMsgContent").length
                  , i = !1
                  , a = $(".addrListWrap .selectedMsg").attr("_item");
                if (!t && 0 != $("#delivetyDiv").length && "none" != $("#delivetyDiv").css("display")) {
                    if (!(0 < m.length && null != a))
                        return void Fai.ing(LS.enterConsignee, 1);
                    for (var o = 0; o < b.length; o++) {
                        var n = b[o].fieldKey
                          , r = b[o].name;
                        if ("addr" == n && (i = !0),
                        b[o].required && (null == m[a][n] || "" == m[a][n]))
                            return void Fai.ing(Fai.format(LS.addrInfoInputError, r), 1)
                    }
                    if (i) {
                        var s = m[a].addr_info.isCus || ""
                          , l = m[a].addr_info.provinceCode || ""
                          , d = m[a].addr_info.cityCode || ""
                          , c = m[a].addr_info.countyCode || "";
                        m[a].addr_info.streetCode;
                        if ("" != l && s && "" == x(l))
                            return void Fai.ing(LS.enterCorrectAddress, 1);
                        if ("" != d && s && "" == x(d))
                            return void Fai.ing(LS.enterCorrectAddress, 1);
                        if ("" != c && s && "" == x(c))
                            return void Fai.ing(LS.enterCorrectAddress, 1)
                    }
                }
                I(p, h, f, g, u, v, _, m, S, b)
            } else
                Fai.ing(LS.unPaidTips)
        }),
        7 == s ? $(".addrMsg").each(function() {
            $(this).attr("_item") == m.length - 1 && $(this).click()
        }) : 6 != s && $(".addrMsg").each(function() {
            $(this).attr("_item") == s && $(this).click()
        }),
        0 < $(".selectedMsg").length && F(parseInt($(".selectedMsg").attr("_item")), m),
        ee.placeholder($(".msgforSeller, .integralValInput"))
    }
    ;
    var m = !0;
    function F(e, t) {
        var i = t[e] || (t[0] = {})
          , a = Fai.top._lcid;
        if (!($("#mallShipTemplate_province").length < 1) && null != i.addr_info) {
            var o = i.addr_info.isCus;
            if (m = !1,
            o)
                setTimeout(function() {
                    i.addr_info.cityCode || i.addr_info.countyCode || (m = !0),
                    $("#mallShipTemplate_allArea").val(i.addr_info.provinceCode),
                    $("#mallShipTemplate_allArea").change(),
                    setTimeout(function() {
                        i.addr_info.countyCode || (m = !0),
                        $("#mallShipTemplate_areaBox2 .group_item[cid='" + i.addr_info.cityCode + "']").click(),
                        setTimeout(function() {
                            m = !0,
                            $("#mallShipTemplate_areaBox2 .group_item[cid='" + i.addr_info.countyCode + "']").click()
                        }, 0)
                    }, 0)
                }, 0),
                $("#streetAddress").val(i.addr_info.streetAddr);
            else {
                var n = "";
                2052 == a || 1028 == a ? (n = site_cityUtil.getInfo(i.addr_info.countyCode).name,
                site_cityUtil.getInfo(i.addr_info.cityCode).name,
                site_cityUtil.getInfo(i.addr_info.provinceCode).name) : (n = site_cityUtil.getInfoEn(i.addr_info.countyCode).name,
                site_cityUtil.getInfoEn(i.addr_info.cityCode).name,
                site_cityUtil.getInfoEn(i.addr_info.provinceCode).name),
                99e4 == i.addr_info.provinceCode ? ($("#mallShipTemplate_areaBoxInput").attr("isOs", 1),
                $("#mallShipTemplate_allArea").val("os").change()) : ($("#mallShipTemplate_areaBoxInput").attr("isCn", 1),
                $("#mallShipTemplate_allArea").val("cn").change()),
                $("#mallShipTemplate_areaBoxInput").attr({
                    area1: i.addr_info.provinceCode,
                    area2: i.addr_info.cityCode,
                    area3: i.addr_info.countyCode,
                    area4: i.addr_info.streetCode,
                    lastArea: "-" + n,
                    lastAreaType: "county"
                }),
                m = !0,
                setTimeout(function() {
                    $("#mallShipTemplate_areaBox1 .group_item[pid='" + i.addr_info.provinceCode + "']").click(),
                    setTimeout(function() {
                        $("#mallShipTemplate_areaBox1 .group_item[cid='" + i.addr_info.cityCode + "']").click(),
                        setTimeout(function() {
                            $("#mallShipTemplate_areaBox1 .group_item[cid='" + i.addr_info.countyCode + "']").click(),
                            setTimeout(function() {
                                $("#mallShipTemplate_areaBox1 .group_item[cid='" + i.addr_info.streetCode + "']").click()
                            }, 0)
                        }, 0)
                    }, 0)
                }, 0),
                $("#streetAddress").val(i.addr_info.streetAddr)
            }
        }
    }
    function b(e, t, i, a, o) {
        var n, r, s = $(".selectedMsg"), l = i[parseInt(s.attr("_item"))] || {}, d = l.addr_info, c = Fai.top._lcid, p = {}, u = "", m = !1;
        if (0 != $("#delivetyDiv").length && "none" != $("#delivetyDiv").css("display")) {
            var h = 0 < $(".J_noAddrMsgContent").length;
            if (site_cityUtil.initProvinces(c),
            h) {
                null != i && 0 < i.length && $.each(i, function(e, t) {
                    if (1 == t.isDefault)
                        return l = t,
                        !1
                });
                for (var f = 0; f < o.length; f++) {
                    var g, v = o[f].fieldKey, _ = o[f].name, S = o[f].required, b = o[f].id, x = o[f].type;
                    if (0 != (g = 9 == x ? $(".J_noAddrMsgContent").find("#orderPropDateStart" + b) : $(".J_noAddrMsgContent").find("#" + v)).length) {
                        var w = g.val() || "";
                        if (S && 0 == w.length)
                            return Fai.ing(Fai.format(LS.addrInfoInputError, _), 1),
                            u = Fai.format(LS.addrInfoInputError, _);
                        if ((8 == x || 10 == x) && !Fai.isNationMobile(w) && S)
                            return Fai.ing(LS.mobileNumRegular),
                            u = LS.mobileNumRegular;
                        if ((3 == x || 12 == x) && 0 < w.length && !Fai.isEmail(w))
                            return Fai.ing(Fai.format(LS.addrInfoInputError, _), 1),
                            u = Fai.format(LS.addrInfoInputError, _);
                        if (11 == x && 0 < w.length && !Fai.isCardNo(w))
                            return Fai.ing(Fai.format(LS.addrInfoInputError, _), 1),
                            u = Fai.format(LS.addrInfoInputError, _);
                        if (9 == x) {
                            var y = {};
                            if (0 < w.length) {
                                y.s = w;
                                var C = $(".J_noAddrMsgContent").find("#orderPropDateStart" + b + "_end");
                                if (0 < C.length) {
                                    var F = C.val();
                                    if ("" == F)
                                        return Fai.ing(Fai.format(LS.addrInfoInputError, _), 1),
                                        u = Fai.format(LS.addrInfoInputError, _);
                                    y.e = F
                                }
                                w = JSON.stringify(y)
                            }
                        }
                        l[v] = w,
                        e[v] = w
                    }
                }
            } else
                for (f = 0; f < o.length; f++)
                    if (r = (n = o[f]).fieldKey,
                    x = n.type,
                    "addr" != r)
                        "mobile" == r && (e.mobileCt = l.mobileCt),
                        e[r] = 9 == x ? JSON.stringify(l[r]) : l[r];
                    else {
                        if (!d)
                            return u = LS.mallStlSubmitAddrErr;
                        if (p.isCus = d.isCus,
                        p.provinceCode = parseInt(d.provinceCode),
                        p.cityCode = parseInt(d.cityCode),
                        p.countyCode = parseInt(d.countyCode),
                        p.streetCode = parseInt(d.streetCode),
                        p.streetAddr = d.streetAddr,
                        isNaN(p.cityCode) && (p.cityCode = -1),
                        isNaN(p.countyCode) && (p.countyCode = -1),
                        isNaN(p.streetCode) && (p.streetCode = -1),
                        a && (t.addr_info = p,
                        t.addr = p.streetAddr,
                        t.isDefault = 1,
                        t.name = d.name,
                        t.email = d.email,
                        t.phone = d.phone,
                        t.zip = d.zip),
                        e.addr_info = p,
                        e.addr = p.streetAddr,
                        e.addr = "",
                        p.isCus)
                            e.addr = l.addr;
                        else {
                            if (site_cityUtil.isValidProvince(p.provinceCode) && (e.addr += 2052 == c || 1028 == c ? site_cityUtil.getInfo(p.provinceCode).name : site_cityUtil.getInfoEn(p.provinceCode).name + " "),
                            2052 == c || 1028 == c) {
                                if (990100 != p.cityCode) {
                                    var I = site_cityUtil.getInfo(p.cityCode).name;
                                    if (-1 != p.cityCode && "" == I)
                                        return u = "您的地址已过期，请更新地址后重新提交订单";
                                    e.addr += I
                                }
                            } else if (990100 != p.cityCode) {
                                I = site_cityUtil.getInfoEn(p.cityCode).name;
                                if (-1 != p.cityCode && "" == I)
                                    return u = "您的地址已过期，请更新地址后重新提交订单";
                                e.addr += I + " "
                            }
                            if (2052 == c || 1028 == c) {
                                var P = site_cityUtil.getInfo(p.countyCode).name;
                                if (-1 != p.countyCode && "" == P)
                                    return u = "您的地址已过期，请更新地址后重新提交订单";
                                e.addr += P
                            } else {
                                P = site_cityUtil.getInfoEn(p.countyCode).name;
                                if (-1 != p.countyCode && "" == P)
                                    return u = "您的地址已过期，请更新地址后重新提交订单";
                                e.addr += P + " "
                            }
                            if (2052 == c || 1028 == c) {
                                var k = site_cityUtil.getInfo(p.streetCode).name;
                                if (-1 != p.streetCode && "" == k)
                                    return u = "您的地址已过期，请更新地址后重新提交订单";
                                e.addr += k
                            } else {
                                k = site_cityUtil.getInfoEn(p.streetCode).name;
                                if (-1 != p.streetCode && "" == k)
                                    return u = "您的地址已过期，请更新地址后重新提交订单";
                                e.addr += k + " "
                            }
                            e.addr += p.streetAddr
                        }
                        if ("number" != typeof p.provinceCode || "number" != typeof p.cityCode)
                            return u = LS.mallStlSubmitAddrErr;
                        "number" != typeof p.countyCode && delete p.countyCode,
                        m = !0
                    }
            if (!m && 1 === $("#mallShipTemplate_province").length) {
                if (!d)
                    return u = LS.mallStlSubmitAddrErr;
                if (p.isCus = d.isCus,
                p.provinceCode = parseInt(d.provinceCode),
                p.cityCode = parseInt(d.cityCode),
                p.countyCode = parseInt(d.countyCode),
                p.streetCode = parseInt(d.streetCode),
                p.streetAddr = d.streetAddr,
                isNaN(p.cityCode) && (p.cityCode = -1),
                isNaN(p.countyCode) && (p.countyCode = -1),
                isNaN(p.streetCode) && (p.streetCode = -1),
                a && (t.addr_info = p,
                t.addr = p.streetAddr,
                t.isDefault = 1,
                t.name = d.name,
                t.email = d.email,
                t.phone = d.phone,
                t.zip = d.zip),
                e.addr_info = p,
                e.addr = p.streetAddr,
                e.addr = "",
                p.isCus ? e.addr = l.addr : (site_cityUtil.isValidProvince(p.provinceCode) && (e.addr += 2052 == c || 1028 == c ? site_cityUtil.getInfo(p.provinceCode).name : site_cityUtil.getInfoEn(p.provinceCode).name + " "),
                site_cityUtil.isValidCity(p.cityCode, p.provinceCode) && (e.addr += 2052 == c || 1028 == c ? site_cityUtil.getInfo(p.cityCode).name : site_cityUtil.getInfo(p.cityCode).name + " "),
                e.addr += 2052 == c || 1028 == c ? site_cityUtil.getInfo(p.countyCode).name : site_cityUtil.getInfo(p.countyCode).name + " ",
                e.addr += 2052 == c || 1028 == c ? site_cityUtil.getInfo(p.streetCode).name : site_cityUtil.getInfo(p.streetCode).name + " ",
                e.addr += p.streetAddr),
                "number" != typeof p.provinceCode || "number" != typeof p.cityCode)
                    return u = LS.mallStlSubmitAddrErr;
                "number" != typeof p.countyCode && delete p.countyCode
            }
            var L = $(".mallShipSelect").find("option:checked");
            if (1 === $("#mallShipTemplate_province").length && 1 === L.length) {
                var T = p.provinceCode
                  , M = p.cityCode
                  , B = p.countyCode
                  , A = p.streetCode
                  , N = $.trim(p.streetAddr);
                if (p.isCus) {
                    if (!T || isNaN(T))
                        return u = LS.mallStlSubmitAddrErr;
                    if (!M || isNaN(M))
                        return u = LS.mallStlSubmitAddrErr
                } else {
                    if (!T || isNaN(T) || !site_cityUtil.isValidProvince(T))
                        return u = LS.mallStlSubmitAddrErr;
                    if (!M || isNaN(M) || !site_cityUtil.isValidCity(M, T))
                        return u = LS.mallStlSubmitAddrErr
                }
                isNaN(T) && (T = -1),
                isNaN(M) && (M = -1),
                isNaN(B) && (B = -1),
                isNaN(A) && (A = -1);
                var D = {
                    type: parseInt(L.attr("value")),
                    templateId: parseInt(L.attr("templateId")),
                    streetAddr: N
                };
                D.provinceCode = T,
                D.cityCode = M,
                D.countyCode = B,
                D.streetCode = A,
                D.isCus = p.isCus,
                e.shipType = D
            } else
                1 === L.length && (e.shipType = parseInt(L.attr("value"))),
                Fai.isNull(e.addr_info) || (e.addrInfo = JSON.stringify(e.addr_info))
        } else if (0 != $("#takingDiv").length && "none" != $("#takingDiv").css("display")) {
            var j = $("#selfRaisingMsgName").val()
              , E = $("#selfRaisingMsgPhone").val()
              , O = $("#selfRaisingPoint").attr("value")
              , J = ee.SelfRaisingList;
            if ("" == j)
                return void Fai.ing("请输入自提人姓名。");
            if (e.name = j,
            "" == E)
                return void Fai.ing("请输入自提人手机号码。");
            if (!(7 <= E.length && E.length <= 11 && window.Number(E)))
                return void Fai.ing("请输入7~11位正确的手机号。");
            if (e.mobile = E,
            !(0 < O))
                return void Fai.ing("自提点信息错误，请联系管理员。");
            for (f = 0; f < J.length; f++)
                if (J[f].id == O) {
                    e.addrInfo = '{"srp":' + $.toJSON($.toJSON(J[f])) + "}";
                    break
                }
            e.isTakingPoint = !0
        }
        var R = $(".payChecked");
        1 == R.length && (e.payMode = parseInt(R.attr("_paymode")));
        var U = $(".msgforSeller");
        if (0 < U.length) {
            var H = Fai.decodeHtml(U.val())
              , W = parseInt(U.attr("maxlength"));
            H.length > W && (H = H.substring(0, W));
            var q = U.attr("plcaeholder");
            e.msg = H !== q ? H : ""
        } else
            e.msg = "";
        var z = $("#useItg")
          , V = $("#integralCheckBox");
        if (0 < V.length && V.prop("checked")) {
            var G = z.val();
            if (Fai.isInteger(G)) {
                var Q = parseInt(z.attr("_maxUse"))
                  , Z = parseInt(z.attr("_currentitg"))
                  , K = z.attr("_itgname");
                if (Z < G)
                    return u = Fai.format(LS.integral_notOverCurrent, Fai.encodeHtml(K), Fai.encodeHtml(K));
                if (Q < G)
                    return u = Fai.format(LS.site_integral_notOver, Fai.encodeHtml(K), Q);
                if (G < 0)
                    return u = LS.integral_inputInteger;
                e.useItg = parseInt(G)
            } else if (0 != G.length)
                return u = LS.integral_inputInteger
        }
        0 < $("#presentItgShow").length && (e.presentItg = !0);
        $("#couponCheckBox");
        var Y = $(".couponShowList");
        if (0 < Y.length && -1 != parseInt(Y.val())) {
            var X = Y.find("option:selected").attr("data_id");
            e.cdId = Number(X)
        }
        return u
    }
    function I(a, o, e, n, t, i, r, s, l, d) {
        if (l || 0 != o) {
            var c = {}
              , p = {}
              , u = (a = Fai.top.$("#module" + a)).find(".stlMsg")
              , m = b(c, p, s, i, d);
            if ("" != m)
                return u.show(),
                u.html(m),
                void ee.scrollToDiv(a);
            if (!ee.mallOrderSubmiting) {
                if (ee.mallOrderSubmiting = !0,
                u.show(),
                u.html(LS.mallStlSubmitting),
                ee.scrollToDiv(a),
                0 != t && i && "none" == $("#takingDiv").css("display")) {
                    var h = {};
                    (s = []).push(p),
                    h.addrInfoList = s,
                    $.ajax({
                        type: "post",
                        url: action = ee.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/memberAdm_h.jsp?cmd=setWafCk_set&opera=addAddr&id=" + t,
                        data: "info=" + Fai.encodeUrl($.toJSON(h)),
                        success: function _(e) {},
                        error: function S() {}
                    })
                }
                if (5 == c.payMode) {
                    var f = c.name
                      , g = new RegExp("[\\u4E00-\\u9FFF]+","g");
                    if (f) {
                        if (f.length < 2 && !g.test(f))
                            return u.hide(),
                            ee.scrollToDiv(a),
                            Fai.ing(LS.orderValidRecvName),
                            void (ee.mallOrderSubmiting = !1)
                    } else if (0 != t && r) {
                        var v = "";
                        r.length < 2 && (g.test(f) || (v = "会员")),
                        c.name = v + r
                    } else
                        c.name = "游客"
                }
                l ? $.ajax({
                    type: "post",
                    url: ee.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/order_h.jsp?cmd=setWafCk_settle&imme",
                    data: "data=" + Fai.encodeUrl($.toJSON(c)),
                    error: function S() {
                        ee.mallOrderSubmiting = !1,
                        u.html(LS.mallStlSubmitError)
                    },
                    success: function _(e) {
                        if ((e = jQuery.parseJSON(e)).success)
                            Fai.top.location.href = ee.getHtmlUrl("mdetail") + "?id=" + e.oid + "#firstSubmit";
                        else if (ee.mallOrderSubmiting = !1,
                        -3 == e.rt)
                            u.html(LS.mallStlSubmitNotFound);
                        else if (-9 == e.rt)
                            u.html(LS.mallStlSubmitStatusError);
                        else if (e.rt == ee.MallAjaxErrno.mallAmountZero)
                            u.html(Fai.format(LS.oAmountIsZero));
                        else if (e.rt == ee.MallAjaxErrno.outOfMallAmount)
                            u.html(Fai.format(LS.outOfMallAmount));
                        else if (e.rt == ee.MallAjaxErrno.ADDR_OVER_SHIPAREA)
                            u.html(LS.ADDR_OVER_SHIPAREA);
                        else if (e.rt == ee.MallAjaxErrno.notAdded) {
                            u.hide();
                            var t = ["<div class='fk-order-tip formBox' style='width:235px; height:78px; padding:0 0;background-color:#FFF;'>", "<div class='J-close formXSite' style='margin-top:3px;'></div>", "<div class='t-txt' style='margin-top:30px; text-align:center;'>" + LS.mallProductNotAdded + "</div>", "<div>"];
                            tip = $(t.join("")),
                            a.prepend(tip),
                            tip.find(".J-close").click(function() {
                                tip.remove()
                            }),
                            tip.css({
                                top: 20,
                                left: (a.width() - tip.width()) / 2
                            })
                        } else
                            -11 == e.rt ? u.html(LS.mallAmountOverFlow) : e.rt == ee.MallAjaxErrno.optionOutOfDate ? u.html("该商品购物选项已更新，请重新下单") : e.rt == ee.MallAjaxErrno.mallOptionStop ? u.html(LS.mallOptionStop) : u.html(LS.mallStlSubmitError)
                    }
                }) : $.ajax({
                    type: "post",
                    url: ee.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/order_h.jsp?cmd=delWafCk_delItem&orderId=" + o,
                    data: "itemIds=" + Fai.encodeUrl($.toJSON(e)),
                    error: function S() {
                        ee.mallOrderSubmiting = !1,
                        u.html(LS.mallStlSubmitError)
                    },
                    success: function _() {
                        $.ajax({
                            type: "post",
                            url: ee.addRequestPrefix({
                                newPath: "/ajax",
                                oldPath: "ajax"
                            }) + "/order_h.jsp?cmd=setWafCk_settle&orderId=" + o,
                            data: "data=" + Fai.encodeUrl($.toJSON(c)),
                            error: function e() {
                                ee.mallOrderSubmiting = !1,
                                u.html(LS.mallStlSubmitError)
                            },
                            success: function ekb(e) {
                                if ((e = jQuery.parseJSON(e)).success)
                                    $.ajax({
                                        type: "post",
                                        url: ee.addRequestPrefix({
                                            newPath: "/ajax",
                                            oldPath: "ajax"
                                        }) + "/order_h.jsp?cmd=addWafCk_addAfterShop",
                                        data: "data=" + Fai.encodeUrl($.toJSON(n)),
                                        error: function i() {
                                            ee.mallOrderSubmiting = !1,
                                            u.html(LS.mallStlSubmitError)
                                        },
                                        success: function ekb(e) {
                                            Fai.top.location.href = ee.getHtmlUrl("mdetail") + "?id=" + o + "#firstSubmit"
                                        }
                                    });
                                else if (ee.mallOrderSubmiting = !1,
                                -3 == e.rt)
                                    u.html(LS.mallStlSubmitNotFound);
                                else if (-9 == e.rt)
                                    u.html(LS.mallStlSubmitStatusError);
                                else if (e.rt == ee.MallAjaxErrno.mallAmountZero)
                                    u.html(Fai.format(LS.oAmountIsZero));
                                else if (e.rt == ee.MallAjaxErrno.ADDR_OVER_SHIPAREA)
                                    u.html(LS.ADDR_OVER_SHIPAREA);
                                else if (e.rt == ee.MallAjaxErrno.outOfMallAmount)
                                    u.html(Fai.format(LS.outOfMallAmount));
                                else if (e.rt == ee.MallAjaxErrno.OutOfAllowAmount)
                                    u.html(Fai.format(LS.allowAmountOverNameList, Fai.encodeHtml(e.productsName)));
                                else if (e.rt == ee.MallAjaxErrno.couponOverTime)
                                    u.html(LS.couponOverTime);
                                else if (e.rt == ee.MallAjaxErrno.couponUnavail)
                                    u.html(LS.couponUnavail);
                                else if (e.rt == ee.MallAjaxErrno.couponNotFound)
                                    u.html(LS.couponNotFound);
                                else if (e.rt == ee.MallAjaxErrno.notAdded) {
                                    u.hide();
                                    var t = ["<div class='fk-order-tip formBox' style='width:235px; height:78px; padding:0 0;background-color:#FFF;'>", "<div class='J-close formXSite' style='margin-top:3px;'></div>", "<div class='t-txt' style='margin-top:30px; text-align:center;'>" + LS.mallProductNotAdded + "</div>", "<div>"];
                                    tip = $(t.join("")),
                                    a.prepend(tip),
                                    tip.find(".J-close").click(function() {
                                        tip.remove()
                                    }),
                                    tip.css({
                                        top: 20,
                                        left: (a.width() - tip.width()) / 2
                                    })
                                } else
                                    -11 == e.rt ? u.html(LS.mallAmountOverFlow) : u.html(LS.mallStlSubmitError)
                            }
                        })
                    }
                })
            }
        } else
            Fai.top.location.href = ee.getHtmlUrl("mdetail")
    }
    ee.initModuleMallShipTemplateNew = function(e) {
        var o = (e = e || {}).moduleId
          , n = e.choiceCurrencyVal
          , i = (e.addrInfo,
        e.addrInfoList,
        e.Lcid)
          , a = e.shipType
          , r = e.pdItemList
          , s = !0;
        site_cityUtil.initProvinces(i);
        var l = "";
        function t(e) {
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
        }
        l += "<div class='spaceLine'></div>",
        $.each(site_cityUtil.getAreaGroupsPinYin(), function(e, t) {
            l += "<div class='pv_group' style='" + ("OS" == t[0] ? "display:none;" : "") + "'>",
            l += "<div class='group_head'>" + t[0] + "</div>",
            l += "<div class='group_content'>",
            $.each(t[1], function(e, t) {
                l += 2052 == i || 1028 == i ? "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfo(t).name + "'>" + site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(t).name) + "</div>" : "<div class='group_item' pid='" + t + "' pname='" + site_cityUtil.getInfoEn(t).name + "'>" + site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(t).name) + "</div>"
            }),
            l += "</div>",
            l += "</div>",
            l += "<div class='spaceLine'></div>"
        }),
        $("#mallShipTemplate_areaBox1 .pv_content").html("").append(l),
        $(document).unbind("click.forAreaBox2").bind("click.forAreaBox2", function() {
            $("#mallShipTemplate_areaBox1").hide(),
            $("#mallShipTemplate_areaBox2").hide()
        }),
        $("#mallShipTemplate_areaBox1,#mallShipTemplate_areaBox2").unbind("click.forAreaBox").bind("click.forAreaBox", function(e) {
            t(e)
        }),
        $("#mallShipTemplate_allArea").change(function() {
            if (null == $("#mallShipTemplate_allArea").val() || "" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBoxInput").hide(),
            $("#mallShipTemplate_areaBox1").hide(),
            $("#mallShipTemplate_areaBox2").hide()) : $("#mallShipTemplate_areaBoxInput").show(),
            null != $("#mallShipTemplate_allArea").val() && "" != $("#mallShipTemplate_allArea").val() && ($("#mallShipTemplate_areaBoxInput").attr("isCn", 0),
            $("#mallShipTemplate_areaBoxInput").attr("isCus", 0),
            $("#mallShipTemplate_areaBoxInput").attr("isOs", 0),
            $("#mallShipTemplate_areaBoxInput").attr("area1", ""),
            $("#mallShipTemplate_areaBoxInput").attr("area2", ""),
            $("#mallShipTemplate_areaBoxInput").attr("area3", ""),
            "cn" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBoxInput").attr("isCn", 1),
            $("#mallShipTemplate_areaBox1 .pv").click(),
            $("#mallShipTemplate_areaBox1 .city_content").remove(),
            $("#mallShipTemplate_areaBox1 .county_content").remove(),
            $("#mallShipTemplate_areaBox1 .street_content").remove(),
            $("#mallShipTemplate_areaBoxInput").val("")) : "os" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBoxInput").attr("isOs", 1),
            $("#mallShipTemplate_areaBoxInput").attr("area1", 99e4),
            $("#mallShipTemplate_areaBoxInput").attr("area2", 990100),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBox1").find(".group_item[pid='990000']").text()),
            u()) : ($("#mallShipTemplate_areaBoxInput").attr("isCus", 1),
            $("#mallShipTemplate_areaBoxInput").attr("area1", $("#mallShipTemplate_allArea").val()),
            $("#mallShipTemplate_areaBox2 .sec_content").html(""),
            $("#mallShipTemplate_areaBox2 .thd_content").html(""),
            $("#mallShipTemplate_areaBoxInput").val("")),
            "cn" != $("#mallShipTemplate_allArea").val() && "os" != $("#mallShipTemplate_allArea").val())) {
                var e = D($("#mallShipTemplate_allArea").val());
                $("#mallShipTemplate_sec_box .sec_content").append(e),
                $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + $("#mallShipTemplate_allArea option[value='" + $("#mallShipTemplate_allArea").val() + "']").text());
                var t = $("#mallShipTemplate_allArea").val();
                s = !1,
                m ? ee.calculateMallShipTpl({
                    isStatic: s,
                    moduleId: o,
                    areaId: t,
                    choiceCurrencyVal: n,
                    pdItemList: r,
                    mallStlCalcTotal: u
                }) : u()
            }
        }),
        $("#mallShipTemplate_areaBoxInput").unbind("click").bind("click", function(e) {
            "cn" == $("#mallShipTemplate_allArea").val() ? ($("#mallShipTemplate_areaBox1").toggle(),
            $("#mallShipTemplate_areaBox2").hide(),
            $("#mallShipTemplate_province_box").show(),
            $("#mallShipTemplate_city_box").hide(),
            $("#mallShipTemplate_county_box").hide(),
            $("#mallShipTemplate_street_box").hide()) : null == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val() || ($("#mallShipTemplate_areaBox2").toggle(),
            $("#mallShipTemplate_areaBox1").hide(),
            $("#mallShipTemplate_sec_box").show(),
            $("#mallShipTemplate_thd_box").hide()),
            t(e)
        }),
        $("#mallShipTemplate_areaBox1 .J_areaHead .pv").click(function() {
            $("#mallShipTemplate_province_box").show(),
            $("#mallShipTemplate_city_box").hide(),
            $("#mallShipTemplate_county_box").hide(),
            $("#mallShipTemplate_street_box").hide()
        }),
        $("#mallShipTemplate_areaBox1 .J_areaHead .city").click(function() {
            $("#mallShipTemplate_province_box").hide(),
            $("#mallShipTemplate_city_box").show(),
            $("#mallShipTemplate_county_box").hide(),
            $("#mallShipTemplate_street_box").hide()
        }),
        $("#mallShipTemplate_areaBox1 .J_areaHead .county").click(function() {
            $("#mallShipTemplate_province_box").hide(),
            $("#mallShipTemplate_city_box").hide(),
            $("#mallShipTemplate_street_box").hide(),
            $("#mallShipTemplate_county_box").show()
        }),
        $("#mallShipTemplate_areaBox1 .J_areaHead .street").click(function() {
            $("#mallShipTemplate_province_box").hide(),
            $("#mallShipTemplate_city_box").hide(),
            $("#mallShipTemplate_street_box").show(),
            $("#mallShipTemplate_county_box").hide()
        }),
        $("#mallShipTemplate_areaBox2 .J_areaHead2 .sec").click(function() {
            $("#mallShipTemplate_sec_box").show(),
            $("#mallShipTemplate_thd_box").hide()
        }),
        $("#mallShipTemplate_areaBox2 .J_areaHead2 .thd").click(function() {
            $("#mallShipTemplate_sec_box").hide(),
            $("#mallShipTemplate_thd_box").show()
        }),
        $("#mallShipTemplate_province_box .group_item").bind("click", function() {
            $("#mallShipTemplate_areaBox1 .city_content").remove(),
            $("#mallShipTemplate_areaBox1 .county_content").remove(),
            $("#mallShipTemplate_areaBox1 .street_content").remove();
            var e = $(this).attr("pname")
              , t = $(this).attr("pid");
            $("#mallShipTemplate_areaBox1 .J_areaHead .city").click(),
            $("#mallShipTemplate_areaBoxInput").val("").val($("#mallShipTemplate_areaBoxInput").val() + e).removeAttr("lastArea").removeAttr("lastAreaType").attr({
                area1: t,
                area2: "",
                area3: "",
                area4: ""
            }),
            $("#mallShipTemplate_areaBox1 .city_content").remove();
            var i = A(site_cityUtil.getCities(t));
            null !== $(i).html() && i !== undefined && "" !== i || $("#areaBox1").hide(),
            $("#mallShipTemplate_city_box").append(i),
            $("#template_item_" + a).attr("price", 0),
            u()
        }),
        $("#mallShipTemplate_city_box").delegate(".group_item", "click", function() {
            s = "" == $("#mallShipTemplate_allArea").val() || "cn" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val(),
            $("#mallShipTemplate_areaBox1 .county_content").remove(),
            $("#mallShipTemplate_areaBox1 .street_content").remove();
            var e = $(this).attr("cname")
              , t = $(this).attr("cid");
            $("#mallShipTemplate_areaBox1 .J_areaHead .county").click();
            $("#mallShipTemplate_areaBoxInput").attr("lastArea");
            var i = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
            null != i && "" != i && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().substring(0, $("#mallShipTemplate_areaBoxInput").val().indexOf("-"))),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "city",
                area2: t,
                area3: "",
                area4: ""
            }),
            $("#mallShipTemplate_areaBox1 .county_content").remove();
            var a = N(site_cityUtil.getCounty(t));
            $("#mallShipTemplate_county_box").append(a),
            m ? ee.calculateMallShipTpl({
                isStatic: s,
                moduleId: o,
                areaId: t,
                choiceCurrencyVal: n,
                pdItemList: r,
                mallStlCalcTotal: u
            }) : u()
        }),
        $("#mallShipTemplate_county_box").delegate(".group_item", "click", function() {
            $("#mallShipTemplate_areaBox1 .street_content").remove();
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = ($("#mallShipTemplate_areaBoxInput").attr("lastArea"),
            $("#mallShipTemplate_areaBoxInput").attr("lastAreaType"));
            $("#mallShipTemplate_areaBox1 .J_areaHead .street").click(),
            null == i || "street" != i && "county" != i || $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().substring(0, $("#mallShipTemplate_areaBoxInput").val().indexOf("-", $("#mallShipTemplate_areaBoxInput").val().indexOf("-") + 1))),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "county",
                area3: t,
                area4: ""
            });
            var a = p(site_cityUtil.getStreet(t))
              , o = $(a).html();
            null !== o && o !== undefined && "" !== o || $("#mallShipTemplate_areaBox1").hide(),
            $("#mallShipTemplate_street_box").append(a),
            u()
        }),
        $("#mallShipTemplate_street_box").delegate(".group_item", "click", function() {
            var e = $(this).attr("cname")
              , t = ($(this).attr("cid"),
            $("#mallShipTemplate_areaBoxInput").attr("lastArea"))
              , i = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
            $("#mallShipTemplate_areaBox1 .J_areaHead .street").click(),
            null != i && "street" == i && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().replace(t, "")),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "street",
                area4: ""
            }),
            $("#mallShipTemplate_areaBox1").hide(),
            u()
        }),
        $("#mallShipTemplate_sec_box").delegate(".group_item", "click", function() {
            s = "" == $("#mallShipTemplate_allArea").val() || "cn" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val(),
            $("#mallShipTemplate_areaBox2 .thd_content").html("");
            var e = $(this).attr("cname")
              , t = $(this).attr("cid");
            $("#mallShipTemplate_areaBox2 .J_areaHead2 .thd").click();
            $("#mallShipTemplate_areaBoxInput").attr("lastArea");
            var i = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
            null != i && "" != i && -1 != $("#mallShipTemplate_areaBoxInput").val().indexOf("-") && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().substring(0, $("#mallShipTemplate_areaBoxInput").val().indexOf("-"))),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "sec",
                area2: t,
                area3: ""
            });
            var a = D(t);
            $("#mallShipTemplate_thd_box .thd_content").append(a),
            m ? ee.calculateMallShipTpl({
                isStatic: s,
                moduleId: o,
                areaId: t,
                choiceCurrencyVal: n,
                pdItemList: r,
                mallStlCalcTotal: u
            }) : u()
        }),
        $("#mallShipTemplate_thd_box").delegate(".group_item", "click", function() {
            s = "" == $("#mallShipTemplate_allArea").val() || "cn" == $("#mallShipTemplate_allArea").val() || "os" == $("#mallShipTemplate_allArea").val();
            var e = $(this).attr("cname")
              , t = $(this).attr("cid")
              , i = $("#mallShipTemplate_areaBoxInput").attr("lastArea")
              , a = $("#mallShipTemplate_areaBoxInput").attr("lastAreaType");
            null != a && "thd" == a && $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val().replace(i, "")),
            $("#mallShipTemplate_areaBoxInput").val($("#mallShipTemplate_areaBoxInput").val() + "-" + e).attr({
                lastArea: "-" + e,
                lastAreaType: "thd",
                area3: t
            }),
            $("#mallShipTemplate_areaBox2").hide(),
            m ? ee.calculateMallShipTpl({
                isStatic: s,
                moduleId: o,
                areaId: t,
                choiceCurrencyVal: n,
                pdItemList: r,
                mallStlCalcTotal: u
            }) : u()
        })
    }
    ,
    $(function() {
        $(".J_guaranteeName").hover(function() {
            var e = $(this).offset().top + 30
              , t = $(this).offset().left + 4
              , i = $(this).attr("_explain");
            if (!Fai.isNull(i) && "" != i) {
                var a = "<div class='J_explain tipsPanel' style='top: " + e + "px;left: " + t + "px;'>";
                a += "<div class='panelTriOut'>",
                a += "<div class='panelTriIn'></div>",
                a += "</div>",
                a += Fai.encodeHtml(i),
                a += "</div>",
                $("body").append(a)
            }
        }, function() {
            $(".J_explain").remove()
        })
    })
}(Site),
Site.placeholder = function(e) {
    "placeholder"in document.createElement("input") || e.each(function(e, t) {
        var i = $(this)
          , a = i.attr("placeholder")
          , o = i.position()
          , n = i.outerHeight(!0)
          , r = (i.outerWidth(!0),
        i.css("padding-left"),
        i.css("padding-top"))
          , s = $("<span class='J_wrap-placeholder'></span>").text(a).css({
            display: "inline-block",
            height: n,
            "line-height": n + "px",
            position: "absolute",
            left: o.left,
            top: o.top,
            paddingLeft: 8,
            paddingTop: r,
            color: "#aaa"
        });
        s.appendTo(i.parent()),
        i.on("focusin keyup", function() {
            "" != i.val() ? s.hide() : s.show()
        }),
        s.on("click", function() {
            i.focus()
        }),
        i.siblings(".fk_lowIEPlaceholderStyle").remove()
    })
}
,
Site.mCartsaleItemCk = function(moduleId, e) {
    var module = $("#module" + moduleId)
      , selectAllBox = module.find("#selectAll")
      , diffPd = "true" == selectAllBox.attr("diffpd")
      , hasSelectPpd = 0 < module.find(".J_mcart-pdSelect:checked[pdtype=0]").length
      , hasSelectVpd = 0 < module.find(".J_mcart-pdSelect:checked[pdtype=1]").length
      , input = $(e).prev()
      , pdType = parseInt(input.attr("pdtype")) || 0;
    if (hasSelectPpd && 1 == pdType || hasSelectVpd && 0 == pdType)
        return hasSelectPpd && Fai.ing("实物产品不能与卡密产品一起结算", !0),
        hasSelectVpd && Fai.ing("卡密产品不能与实物产品一起结算", !0),
        void input.prop("checked", !1);
    input.prop("checked") ? input.prop("checked", !1) : input.prop("checked", !0),
    eval($(e).prev().attr("onclick"))
}
,
Site.setCheckBoxToFalgDiv = function(e) {
    e.find(".J_mallCart").hasClass("mallCartNew") && e.find(".mCartCheckDiv").each(function() {
        $(this).prev().prop("checked") ? $(this).addClass("itemLabelChecked mCart_checked") : $(this).removeClass("itemLabelChecked mCart_checked")
    })
}
,
Site.initOrderList = function(e) {
    var t = $("#module" + e);
    t.find(".J_showMorePd").unbind("click").on("click.showOrderItem", function() {
        var e = $(this).attr("_oid")
          , t = $(this).parent().siblings("#hidePdItem" + e);
        $(this).hasClass("J_showing") ? (t.slideUp(),
        $(this).removeClass("J_showing").addClass("J_hidden")) : (t.slideDown(),
        $(this).addClass("J_showing").removeClass("J_hidden")),
        t.css("zoom", 1)
    }),
    t.find(".J_pdName").hover(function() {
        $(this).addClass("g_selected")
    }, function() {
        $(this).removeClass("g_selected")
    })
}
,
Site.refundImgUpload = function(e, p) {
    var t = "*.jpg,*.jpeg,*.bmp,*.gif,*.png,*.ico".split(",")
      , a = 5
      , i = {
        file_post_name: "Filedata",
        upload_url: "/ajax/commUpsiteimg_h.jsp",
        button_placeholder_id: e,
        file_size_limit: "5MB",
        button_image_type: 3,
        file_queue_limit: a,
        button_width: "52px",
        button_height: "52px",
        button_cursor: SWFUpload.CURSOR.HAND,
        button_image_url: _resRoot + "/image/site/msgUpImg/add.png",
        requeue_on_error: !1,
        post_params: {
            ctrl: "Filedata",
            app: 21,
            type: 0,
            fileUploadLimit: 5,
            isSiteForm: !0
        },
        file_types: t.join(";"),
        file_dialog_complete_handler: function o(e) {
            this._allSuccess = !1,
            this.startUpload()
        },
        file_queue_error_handler: function n(e, t, i) {
            switch (t) {
            case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
                Fai.ing(LS.siteFormSubmitCheckFileSizeErr, !0);
                break;
            case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:
                Fai.ing(LS.siteFormSubmitFileUploadNotAllow, !0);
                break;
            case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
                Fai.ing(Fai.format(LS.siteFormSubmitFileUploadOneTimeNum, a), !0);
                break;
            default:
                Fai.ing(LS.siteFormSubmitFileUploadReSelect, !0)
            }
        },
        upload_success_handler: function r(e, t) {
            var i = jQuery.parseJSON(t);
            this._allSuccess = i.success,
            this._sysResult = i.msg,
            i.success ? (Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(e.name)), !0),
            onFileUploadEvent("upload", i)) : Fai.ing(LS.siteFormSubmitFileUploadFile + e.name + "   " + i.msg)
        },
        upload_error_handler: function s(e, t, i) {
            -280 == t ? Fai.ing(LS.siteFormSubmitFileUploadFileCancle, !1) : -270 == t ? Fai.ing(Fai.format(LS.siteFormSubmitFileUploadFileExist, Fai.encodeHtml(e.name)), !0) : Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
        },
        upload_complete_handler: function l(e) {
            if (e.filestatus == SWFUpload.FILE_STATUS.COMPLETE) {
                null != a && void 0 !== a || (a = 5);
                var t = $("#msgBoardAddImgTb").eq(0)
                  , i = t.find("td").length;
                if (a + 1 <= i)
                    return Fai.ing(LS.siteFormSubmitFileUploadOfMax, !0),
                    void t.find("td").eq(t.find("td").length - 1).css("display", "none");
                setTimeout(function() {
                    swfObj.startUpload()
                }, swfObj.upload_delay)
            } else
                e.filestatus == SWFUpload.FILE_STATUS.ERROR && Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
        },
        upload_start_handler: function d(e) {
            Fai.enablePopupWindowBtn(0, "save", !1),
            Fai.ing(LS.siteFormSubmitFileUploadPrepare, !1)
        },
        view_progress: function c(e, t, i, a) {
            Fai.ing(LS.siteFormSubmitFileUploadIng + a + "%", !1)
        }
    };
    swfObj = SWFUploadCreator.create(i),
    onFileUploadEvent = function u(e, t) {
        if ("upload" == e) {
            var i = t.id
              , a = t.name
              , o = t.size
              , n = t.path
              , r = t.pathSmall
              , s = t.fileId
              , l = t.width || 0
              , d = t.height || 0
              , c = t.type || 0;
            p && "function" == typeof p && p(i, a, n, o, s, r, l, d, c)
        }
    }
}
,
Site.refundinit = function(m, h, f) {
    function e(e, t, i, a, o, n, r, s, l) {
        var d = ""
          , c = "";
        c = s < r ? "width: 50px;" : "height: 50px;",
        d += "<div class='J_uploadIconDiv uploadIconDiv' _tmpFileId='" + e + "' _fileSize='" + a + "' _fileName='" + Fai.encodeHtmlJs(t) + "' _fileId='" + o + "'  _fileWidth='" + r + "'  _fileHeight='" + s + "'  _fileType='" + l + "'>",
        d += "<img src='" + n + "' class='uploadImg' style='" + c + " vertical-align: middle;'/>",
        d += "<div class='closeIcon J_closeIcon'></div>",
        d += "</div>",
        $("#refundUploadList").prepend(d);
        var p = $(".J_uploadIconDiv").length;
        $("#picNumCount").html(p),
        5 == p && $("#refundUpload").hide()
    }
    $(".J_refundType").click(function() {
        $(".J_refundType").removeClass("refundSelected"),
        $(this).addClass("refundSelected"),
        1 == $(this).attr("_type") ? ($("#refundHasRecvGood").hide(),
        $("#refundType").removeClass("shortRefund")) : ($("#refundHasRecvGood").show(),
        $("#refundType").addClass("shortRefund"))
    }),
    $(".J_uploadIconDiv").live("mouseover mouseout", function(e) {
        "mouseover" == e.type ? $(this).find(".J_closeIcon").show() : $(this).find(".J_closeIcon").hide()
    }),
    $(".J_closeIcon").live("click", function() {
        $(this).parent().remove(),
        $("#refundUpload").show(),
        $("#picNumCount").html($(".J_uploadIconDiv").length)
    }),
    $("#refundArea").bind("propertychange input", function() {
        var e = $("#refundArea").val()
          , t = e.length;
        t <= 200 ? $("#reasonWordNum").text(t) : $("#refundArea").val(e.substring(0, 200))
    }),
    $("#refundPrice").numeric({
        negative: !1
    }),
    $("#refundPrice").bind("propertychange input", function() {
        var e = parseFloat($(this).val())
          , t = parseFloat($(this).attr("_max"));
        t < e && $("#refundPrice").val(t.toFixed(2))
    }),
    Site.refundImgUpload("refundImgSWFUpload", e);
    var g = !1;
    $("#noRefundCommit").click(function() {
        if (!g) {
            var e = $("#refundTypeContent").find(".refundSelected")
              , t = 0;
            1 == e.length && (t = parseInt(e.attr("_type")));
            var i = $("#refundPrice")
              , a = parseFloat(i.val());
            if (a) {
                var o = parseFloat(i.attr("_max"));
                if (!o || o < a)
                    Fai.ing(LS.refundPriceTooMuchErr, !0);
                else {
                    var n = $.trim($("#refundPhone").val());
                    if (n) {
                        var r = $.trim($("#refundArea").val());
                        if (r)
                            if (200 < r.length)
                                Fai.ing(LS.refundReasonTooLong, !0);
                            else {
                                g = !0;
                                var s = {}
                                  , l = $("#refundHasRecvGood");
                                1 == l.length && l.is(":visible") && ($("#recv").attr("checked") ? s.hasRecvGood = !0 : s.hasRecvGood = !1),
                                s.refundPrice = a,
                                s.refundType = t,
                                s.refundPhone = n,
                                s.refundReason = r;
                                var d = $(".J_uploadIconDiv");
                                if (0 < d.length) {
                                    var c = [];
                                    $.each(d, function(e, t) {
                                        var i = $(t)
                                          , a = i.attr("_fileId");
                                        if (!a)
                                            return !0;
                                        var o = {};
                                        o.ii = a;
                                        var n = i.attr("_tmpFileId");
                                        n && (o["in"] = i.attr("_fileName"),
                                        o.tfi = n,
                                        o.is = i.attr("_fileSize"),
                                        o.iw = Number(i.attr("_fileWidth") || 0),
                                        o.ih = Number(i.attr("_fileHeight") || 0),
                                        o.it = Number(i.attr("_fileType") || 0)),
                                        c.push(o)
                                    }),
                                    0 < c.length && (s.refundImgList = c)
                                }
                                $.ajax({
                                    type: "post",
                                    url: Site.addRequestPrefix({
                                        newPath: "/ajax",
                                        oldPath: "ajax"
                                    }) + "/order_h.jsp?cmd=setWafCk_setOrderNoRefund&orderId=" + m + "&itemId=" + h + "&nowStatus=" + f,
                                    data: "refundInfo=" + Fai.encodeUrl($.toJSON(s)),
                                    error: function p() {
                                        g = !1,
                                        Fai.ing("系统繁忙，请稍后重试。")
                                    },
                                    success: function u(e) {
                                        (e = $.parseJSON(e)).success ? window.location.reload() : (Fai.ing(e.msg, !0),
                                        g = !1)
                                    }
                                })
                            }
                        else
                            Fai.ing(LS.refundEnterReason, !0)
                    } else
                        Fai.ing(LS.refundNeedPhone, !0)
                }
            } else
                Fai.ing(LS.refundPriceErr, !0)
        }
    }),
    $("#sendFlowCommit").click(function() {
        if (!g) {
            var e = $.trim($("#refundFlowCom").val());
            if (e)
                if (30 < e.length)
                    Fai.ing(LS.refundFlowNameTooLong, !0);
                else {
                    var t = $.trim($("#refundFlowID").val());
                    if (t)
                        if (30 < t.length)
                            Fai.ing(LS.refundFlowCodeTooLong, !0);
                        else {
                            var i = $.trim($("#refundPhone").val());
                            if (i)
                                if (30 < i.length)
                                    Fai.ing(LS.refundPhoneTooLong, !0);
                                else {
                                    var a = $.trim($("#refundArea").val());
                                    if (200 < a.length)
                                        Fai.ing(LS.refundFlowDetailTooLong, !0);
                                    else {
                                        g = !0;
                                        var o = {
                                            company: e,
                                            flowId: t,
                                            phone: i,
                                            refundArea: a
                                        }
                                          , n = $(".J_uploadIconDiv");
                                        if (0 < n.length) {
                                            var r = [];
                                            $.each(n, function(e, t) {
                                                var i = $(t)
                                                  , a = $(t).attr("_fileId");
                                                if (!a)
                                                    return !0;
                                                var o = {};
                                                o.ii = a;
                                                var n = i.attr("_tmpFileId");
                                                n && (o["in"] = i.attr("_fileName"),
                                                o.tfi = n,
                                                o.is = i.attr("_fileSize"),
                                                o.iw = Number(i.attr("_fileWidth") || 0),
                                                o.ih = Number(i.attr("_fileHeight") || 0),
                                                o.it = Number(i.attr("_fileType") || 0)),
                                                r.push(o)
                                            }),
                                            0 < r.length && (o.flowImgList = r)
                                        }
                                        $.ajax({
                                            type: "post",
                                            url: Site.addRequestPrefix({
                                                newPath: "/ajax",
                                                oldPath: "ajax"
                                            }) + "/order_h.jsp?cmd=setWafCk_setRefundFlow&orderId=" + m + "&itemId=" + h + "&nowStatus=" + f,
                                            data: "flowInfo=" + Fai.encodeUrl($.toJSON(o)),
                                            error: function s() {
                                                g = !1,
                                                Fai.ing("系统繁忙，请稍后重试。")
                                            },
                                            success: function l(e) {
                                                (e = $.parseJSON(e)).success ? window.location.reload() : (Fai.ing(e.msg, !0),
                                                g = !1)
                                            }
                                        })
                                    }
                                }
                            else
                                Fai.ing(LS.refundNeedPhone, !0)
                        }
                    else
                        Fai.ing(LS.js_refundEnterFlowCode, !0)
                }
            else
                Fai.ing(LS.refundEnterFlowName, !0)
        }
    })
}
,
Site.printRemarkRefund = function(t, i, n) {
    $("#createRefundRemark").click(function() {
        var e = "";
        e += "<div class='remarkContent'>",
        e += "<textarea id='remarkInputArea' class='remarkInputArea' maxlength='200' placeholder='最多输入200字'></textarea>",
        e += "</div>",
        e += "<div class='remarkSubmit' id='remarkSubmit'>" + LS.js_refundSubmit + "</div>";
        var t = "<div class='refundRemarkTitle'>" + LS.refundWantReamrk + "</div>"
          , i = {
            boxId: parseInt(1e4 * Math.random()),
            title: t,
            htmlContent: e,
            width: 580,
            boxName: "remarkInfo",
            extClass: "refundRemarkPopup"
        };
        Site.popupBox(i);
        $("#remarkInputArea").focus()
    });
    var r = !1;
    $("#remarkSubmit").live("click.refundRemark", function() {
        if (!r) {
            var a = $("#remarkInputArea").val();
            0 != $.trim(a).length ? 200 < a.length ? Fai.ing(LS.refundRemarkTooLong) : (r = !0,
            Fai.ing(LS.refundRemarkSubmiting),
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/order_h.jsp?cmd=setWafCk_setRefundRemark",
                data: "orderId=" + t + "&speaker=1&itemId=" + i + "&remark=" + Fai.encodeUrl(a),
                error: function e() {
                    r = !1,
                    Fai.ing("系统繁忙，请稍后重试。")
                },
                success: function o(e) {
                    if ((e = $.parseJSON(e)).success) {
                        Fai.ing(LS.refundRemarkSuccess, !0),
                        $(".refundRemarkPopup").find(".popupBClose").click();
                        var t = $.format.date(new Date(e.remarkTime), "yyyy-MM-dd HH:mm:ss")
                          , i = "";
                        i += "<div class='recordContent'>",
                        i += "<div class='recordLine'>",
                        i += "<div class='recordSenderIcon memberIcon'></div>",
                        i += "<div class='recordSender'>" + n + "</div>",
                        i += "<div class='recordTime'>" + t + "</div>",
                        i += "</div>",
                        i += "<div class='recordDetail'>",
                        i += "<table class='recordDetailTable'>",
                        i += "<tr class='recordDetailLine'>",
                        i += "<td class='recordDetailCusTd' colspan='2'>",
                        i += Fai.encodeHtml(a),
                        i += "</td>",
                        i += "</tr>",
                        i += "</table>",
                        i += "<div class='triangleIco'>◆</div>",
                        i += "</div>",
                        i += "</div>",
                        $("#refundRemarkTitle").after(i)
                    } else
                        Fai.ing(e.msg, !0);
                    r = !1
                }
            })) : Fai.ing(LS.refundRemarkNotEmpty)
        }
    })
}
,
Site.refundPanelEvent = function(i, a, o) {
    $("#closeRefund").click(function() {
        var e = "";
        e += "<div class='refundCloseTips'>" + LS.refundCancelTip + "</div>",
        e += "<div class='refundCloseSubmit' id='closeRefundBtn'>" + LS.refundSure + "</div>";
        var t = {
            boxId: parseInt(1e4 * Math.random()),
            title: "",
            htmlContent: e,
            width: 358,
            boxName: "closeRefundInfo",
            extClass: "closeRefundPopup"
        };
        Site.popupBox(t)
    }),
    $("#closeRefundBtn").live("click.closeRefund", function() {
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=setWafCk_setRefundStatus&type=del&nowStatus=" + o,
            data: "orderId=" + i + "&itemId=" + a,
            error: function e() {
                isSave = !1,
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function t(e) {
                (e = $.parseJSON(e)).success ? window.location.reload() : (Fai.ing(e.msg, !0),
                isSave = !1)
            }
        })
    }),
    $("#editRefund").click(function() {
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=setWafCk_setRefundStatus&type=edit&nowStatus=" + o,
            data: "orderId=" + i + "&itemId=" + a,
            error: function e() {
                isSave = !1,
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function t(e) {
                (e = $.parseJSON(e)).success ? window.location.reload() : (Fai.ing(e.msg, !0),
                isSave = !1)
            }
        })
    }),
    $("#editFlow").click(function() {
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/order_h.jsp?cmd=setWafCk_setRefundStatus&type=editFlow&nowStatus=" + o,
            data: "orderId=" + i + "&itemId=" + a,
            error: function e() {
                isSave = !1,
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function t(e) {
                (e = $.parseJSON(e)).success ? window.location.reload() : (Fai.ing(e.msg, !0),
                isSave = !1)
            }
        })
    })
}
,
Site.remarkImgEvent = function() {
    $(".J_refundPic").click(function() {
        var e = $(this)
          , t = e.parent()
          , i = t.find(".J_refundPic")
          , a = []
          , o = -1
          , n = e.attr("bigImg");
        if ($.each(i, function(e, t) {
            var i = $(t).attr("bigImg");
            i && (a.push(i),
            i == n && (o = e))
        }),
        !(o < 0)) {
            i.hide(),
            t.data("imgList", a),
            t.data("index", o);
            var r = "";
            r += "<div class='picImgViewer J_imgViewer'>",
            1 < i.length && (r += "<div>",
            r += "<div class='picPage left J_page'></div>",
            r += "<div class='picPage right J_page'></div>",
            r += "</div>"),
            r += "<span class='closeIcon J_close'></span>",
            r += "<table cellpadding='0' cellspacing='0' class='picTb'><tr><td>",
            r += "<img class='picImg J_img' src='" + a[o] + "'/>",
            r += "</td></tr></table>",
            r += "</div>",
            e.parent().append(r)
        }
    }),
    $(".J_refundPicContain .J_close").live("click", function() {
        var e = $(this).parents(".J_refundPicContain");
        e.find(".picImgViewer").remove(),
        e.find(".J_refundPic").show()
    }),
    $(".J_refundPicContain .J_page").live("click", function() {
        var e = $(this).parents(".J_refundPicContain")
          , t = e.data("imgList")
          , i = e.data("index")
          , a = t.length;
        a <= 1 || ($(this).hasClass("left") ? i-- : i++,
        i < 0 && (i = a - 1),
        a <= i && (i = 0),
        e.data("index", i),
        e.find(".J_img").attr("src", t[i]))
    })
}
,
Site.showTopBar = function() {
    Fai.top.$("#arrow").hasClass("g_arrow_up") ? (Fai.top.$("#arrow").removeClass("g_arrow_up"),
    Fai.top.$("#topBar").hide()) : (Fai.top.$("#arrow").addClass("g_arrow_up"),
    Fai.top.$("#topBar").show()),
    Site.resetGmainPos()
}
,
Site.showOrHideMailBox = function() {
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "../ajax"
        }) + "/mail_h.jsp?cmd=wafNotCk_showOrHideMailBox",
        data: "",
        success: function a(e) {
            var t = $.parseJSON(e);
            if (t.success) {
                var i = ['<div id="mailInfo" title="进入企业邮箱" class="mailInfo" >', '<a href="' + t.linkAdd + '" target="_blank" onclick="Site.logDog(100038, 14);">', '<div class="mailIco"></div>', "</a>", "</div>"];
                $(".J_beforeMailBox.line").after(i.join("")),
                $(".J_beforeMailBox.line").css("display", "block")
            }
        },
        error: function e() {
            Fai.ing("系统异常，请稍后重试", !0)
        }
    })
}
,
Site.copyWebSite = function() {
    var e = Fai.top.location.href;
    $.browser.msie ? clipboardData.setData("Text", e) : prompt(LS.shareTips, e)
}
,
Site.initModuleFileList = function(e, t) {
    $("#module" + e + " .line table").mouseover(function() {
        $(this).addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_hover")
    }),
    $("#module" + e + " .line.g_item").off("mouseenter.news").on("mouseenter.news", function(e) {
        var t = $(this).find(".file_view_icon");
        t.length && t.css("visibility", "visible")
    }).off("mouseleave.news").on("mouseleave.news", function(e) {
        var t = $(this).find(".file_view_icon");
        t.length && t.css("visibility", "hidden")
    }),
    Site.initContentSplitLine(e, t)
}
,
Site.richMarquee = function(e) {
    var t = {
        direction: "up",
        speed: "normal",
        loop: "infinite",
        moveout: !1,
        isScrolling: !1
    };
    if ($.extend(t, e),
    "normal" == t.speed ? $.extend(t, {
        speed: 28
    }) : "slow" == t.speed ? $.extend(t, {
        speed: 60
    }) : $.extend(t, {
        speed: 13
    }),
    t.id) {
        var i;
        if ($("#module" + t.id).data("restart") && (i = t.id,
        Fai.top.$("#richmarqueeNewParent" + i).after($("#module" + t.id).data("content")),
        Fai.top.$("#richmarqueeNewParent" + i).remove()),
        !$("#module" + t.id).data("content")) {
            var a = Fai.top.$(".formMiddleContent" + t.id).html();
            $("#module" + t.id).data("content", a)
        }
        0 !== $("#module" + t.id).data("_intab") && (Fai.top["richMarqueeInTab" + t.id] = t),
        i = t.id;
        var o = $("#richMarquee" + i)
          , n = o.outerHeight(!0)
          , r = o.outerWidth(!0)
          , s = r > b() ? r : b()
          , l = x()
          , d = t.direction
          , c = 0
          , p = "top"
          , u = t.speed
          , m = "infinite" != t.loop || t.loop <= 0 ? 1 : t.loop
          , h = t.moveout
          , f = t.isScrolling
          , g = 20
          , v = $("<div id='richMarqueeCopy" + i + "' class='richMarquee' style='position:absolute; overflow:hidden; width:" + s + "px; height:" + o.height() + "px ' ></div>")
          , _ = $("<div id='richmarqueeNewParent" + i + "' style='overflow:hidden;width:" + 2 * s + "'></div>");
        s = s < l ? l : s,
        v.width(s),
        S(),
        Fai.stopInterval("rm" + i),
        Fai.addInterval("rm" + i, C, u),
        Fai.startInterval("rm" + i),
        $("#module" + t.id).data("first1") || ($("#module" + t.id).data("first1", !0),
        $("#module" + t.id).data("options", t)),
        Site.restartRichMarquee(t)
    }
    function S() {
        Fai.stopInterval("rm" + i),
        $("#richmarqueeNewParent" + i).length < 1 ? (_.appendTo(o.parent()),
        o.appendTo(_),
        v.appendTo(_),
        (f || h) && $(o.html()).appendTo(v)) : (_ = $("#richmarqueeNewParent" + i),
        o = $("#richMarquee" + i),
        v = $("richMarqueeCopy" + i)),
        p = "up" == d ? (c = n,
        "top") : "down" == d ? (c = 0 - n,
        f && !h && (c = 0),
        "top") : ("left" == d ? c = n : (c = 0 - s,
        f && !h && (c = 0),
        f && h && (c = -s)),
        "left"),
        h ? o.css(p, 0) : o.css(p, c),
        "up" != d && "down" != d || o.css("left", 0),
        "left" != d && "right" != d || o.css("top", 0),
        $("#richmarqueeNewParent" + i).mouseover(function() {
            Fai.stopInterval("rm" + i)
        }).mouseout(function() {
            ("infinite" == m || 0 < m) && Fai.startInterval("rm" + i)
        }),
        w(),
        y(d)
    }
    function b() {
        var e = o.find("img");
        if (0 < e.length) {
            for (var t = e[0].width, i = 0; i < e.length; i++)
                t < e[i].width && (t = e[i].width);
            return t
        }
        return 0
    }
    function x() {
        var e, t = o.children(".richContent").children(), i = 0, a = 0;
        for (e = t.length - 1; 0 <= e; e--)
            i < (a = 0 < t.eq(e).children("table").length ? t.eq(e).children("table").outerWidth() : t.eq(e).outerWidth()) && (i = a);
        return i
    }
    function w() {
        var e = o.find("img");
        $(e).load(function() {
            var e = o.height();
            n != e && (n = e,
            y(d))
        })
    }
    function y(e) {
        "left" != e && "right" != e || (_.css("position", "relative"),
        v.css("top", 0),
        0 != n && _.css("height", n),
        "left" == e ? (v.css("margin-left", g),
        f && !h && (o.css("left", s),
        v.css("left", 2 * s)),
        f && h && v.css("left", s),
        f || h || (o.css("left", r),
        v.css("left", s + r)),
        !f && h && v.css("left", s + r)) : (v.css("left", 0),
        o.css("margin-left", g),
        o.css("width", s + "px"),
        f && !h && (o.css("padding-left", s),
        o.css("padding-right", s),
        _.scrollLeft(2 * s + g)),
        f && h && (o.css("padding-left", s),
        _.scrollLeft(2 * s)),
        f || h || (o.css("padding-right", s + r),
        o.css("padding-left", s + r),
        _.scrollLeft(s + r + g)),
        !f && h && (o.css("padding-right", s + r),
        o.css("padding-left", s + r),
        _.scrollLeft(s + r + g)))),
        "up" != e && "down" != e || (_.css("position", "relative"),
        0 != n && _.css("height", n),
        _.css("width", s),
        v.css("left", 0),
        v.css("height", n),
        o.css("width", s),
        "up" == e ? (v.css("top", 2 * n),
        v.css("margin-top", g),
        f && !h && _.scrollTop(0),
        f && h && (v.css("top", n),
        _.scrollTop(0)),
        f || h || _.scrollTop(0),
        !f && h && _.scrollTop(0)) : (o.css("height", n),
        v.css("top", 0),
        o.css("margin-top", g),
        f && !h && (o.css("padding-top", n),
        o.css("padding-bottom", n),
        _.scrollTop(2 * n + g)),
        f && h && (o.css("padding-top", n),
        _.scrollTop(2 * n)),
        f || h || (o.css("padding-top", 2 * n),
        o.css("padding-bottom", 2 * n),
        _.scrollTop(2 * n + g)),
        !f && h && (o.css("padding-top", 2 * n),
        o.css("padding-bottom", 2 * n),
        _.scrollTop(2 * n + g))))
    }
    function C() {
        var e;
        "left" == d ? (e = _.scrollLeft(),
        e++,
        f && !h && (e == 2 * s + g ? _.scrollLeft(s) : _.scrollLeft(e)),
        f && h && (e == s + g ? _.scrollLeft(0) : _.scrollLeft(e)),
        f || h || (e == s + r + g ? _.scrollLeft(0) : _.scrollLeft(e)),
        !f && h && (e == s + r + g ? _.scrollLeft(0) : _.scrollLeft(e))) : "right" == d ? (e = _.scrollLeft(),
        e--,
        f && !h && (-1 == e ? _.scrollLeft(s + g) : _.scrollLeft(e)),
        f && h && (-1 == e ? _.scrollLeft(s + g) : _.scrollLeft(e)),
        f || h || (-1 == e ? _.scrollLeft(s + r + g) : _.scrollLeft(e)),
        !f && h && (-1 == e ? _.scrollLeft(s + r + g) : _.scrollLeft(e))) : "up" == d ? (e = _.scrollTop(),
        e++,
        f && !h && (e == 2 * _.height() + g ? _.scrollTop(n) : _.scrollTop(e)),
        f && h && (e == _.height() + g ? _.scrollTop(0) : _.scrollTop(e)),
        f || h || (e == 2 * _.height() ? _.scrollTop(0) : _.scrollTop(e)),
        !f && h && (e == 2 * _.height() + g ? _.scrollTop(0) : _.scrollTop(e))) : (e = _.scrollTop(),
        e--,
        f && !h && (-1 == e ? _.scrollTop(n + g) : _.scrollTop(e)),
        f && h && (-1 == e ? _.scrollTop(n + g) : _.scrollTop(e)),
        f || h || (-1 == e ? _.scrollTop(2 * n + g) : _.scrollTop(e)),
        !f && h && (-1 == e ? _.scrollTop(2 * n + g) : _.scrollTop(e)))
    }
}
,
Site.restartRichMarquee = function(e) {
    if (e) {
        var t = $("#module" + e.id);
        t.data("first2") || (t.data("first2", !0),
        28 == e.speed ? e.speed = "normal" : 60 == e.speed ? e.speed = "slow" : e.speed = "fast",
        t.on("Fai_onModuleSizeChange", function() {
            Fai.stopInterval("rm" + e.id),
            t.data("restart", !0),
            Site.richMarquee(e)
        }),
        t.on("Fai_onModuleLayoutChange", function() {
            Fai.stopInterval("rm" + e.id),
            t.data("restart", !0),
            Site.richMarquee(e)
        }))
    }
}
,
Site.fixRichTableBrStyle = function(e) {
    $("#module" + e).find(".richContent table").each(function() {
        $(this).css("clear", "none"),
        $(this).next().css("clear", "none"),
        $(this).wrap("<div style='height:" + ($(this).height() + 2) + "px;'></div>")
    })
}
,
Site.productScroll = function(e) {
    var t = {
        pauseDuration: 3e3,
        showDuration: 600,
        scrollMode: "up"
    }
      , i = $.extend({}, t, e)
      , a = $("#module" + i.moduleId).find(".J_productTextList")
      , o = a.parent()
      , n = a.find(".productTextListTable")
      , r = n.outerHeight()
      , s = "proScroll" + i.moduleId;
    function l() {
        function e() {
            "up" == i.scrollMode ? a.animate({
                top: "-=" + r
            }, i.showDuration, function() {
                var e = a.find(".productTextListTable:first")
                  , t = a.find(".separatorLine:visible").eq(0);
                e.appendTo(a).end().hide().fadeIn(400),
                t.length && t.appendTo(a).end().hide().fadeIn(400),
                a.css({
                    top: 0
                }),
                d()
            }) : a.animate({
                top: "+=" + r
            }, i.showDuration, function() {
                var e = a.find(".productTextListTable:last")
                  , t = a.find(".separatorLine:last");
                t.length && t.insertBefore(a.find(".productTextListTable:first")).end().hide().fadeIn(400),
                e.insertBefore(a.find(".productTextListTable:first")).end().hide().fadeIn(400),
                a.css({
                    top: 0
                }),
                d()
            })
        }
        Fai.addTimeout(s, e, i.pauseDuration),
        Fai.startInterval(s)
    }
    function d() {
        l()
    }
    n.length < 2 || (a.css({
        position: "relative",
        height: a.height() + "px"
    }),
    o.css({
        overflow: "hidden"
    }),
    a.mouseover(function() {
        Fai.stopInterval(s)
    }).mouseout(function() {
        Fai.startInterval(s)
    }),
    l())
}
,
Site.loadProductMarquee = function(n, m, h, f) {
    var e = Fai.top["Product" + n].ieOpt
      , t = Fai.top["Product" + n].tgOpt
      , g = Fai.top["Product" + n].paramLayoutType
      , i = Fai.top["Product" + n].callbackArgs
      , v = Fai.top.$("#module" + n);
    if (!Fai.isNull(v)) {
        v.find(".demo0>div").each(function() {
            $(this).attr("cloneDiv") && $(this).remove()
        });
        var r = v.find(".productMarqueeForm")
          , _ = 0;
        if ((Fai.isIE6() || Fai.isIE7()) && r.each(function() {
            var e = $(this).find(".imgDiv").width();
            $(this).css({
                width: +e + "px"
            })
        }),
        !h && 6 != g && 1 <= r.length) {
            var a = r.first().find(".imgDiv")
              , o = a.width()
              , s = a.height();
            r.each(function() {
                var e = $(this).attr("faiWidth")
                  , t = $(this).attr("faiHeight");
                if (!Fai.isNull(t)) {
                    var i = Fai.Img.calcSize(e, t, o, s, Fai.Img.MODE_SCALE_FILL);
                    i.height > _ && (_ = i.height)
                }
            })
        }
        4 <= e.effType && e.effType < 6 && (6 == g && Site.clearImageEffectContent_product(n, "sixth_ProductPanel"),
        8 == g && Site.clearImageEffectContent_product(n, "eighth_ProductPanel"),
        Site.clearImageEffectContent_product(n, "propDiv"));
        var S = 0
          , b = 0
          , x = 0
          , l = 0
          , w = Site.getFormMiddleContentHeight(v, n);
        r.each(function() {
            var e = $(this);
            if (productBorderType = v.find(".productMarqueeForms").attr("_bordertype"),
            productBorderWidth = parseInt(v.find(".productMarqueeForms").attr("_borderwidth")),
            productBgType = v.find(".productMarqueeForms").attr("_bgtype"),
            img = e.find("img"),
            imgHeight = e.attr("faiHeight"),
            !Fai.isNull(imgHeight)) {
                var t = e.attr("faiWidth")
                  , i = e.find(".imgDiv")
                  , a = i.width();
                !h && 6 != g || (_ = i.height());
                var o = {
                    width: a,
                    height: _
                };
                if (2 == m) {
                    var n = e.attr("faiWidthOr") / e.attr("faiHeightOr");
                    a / _ <= n ? img.css({
                        width: n * _ + "px",
                        height: _ + "px",
                        marginLeft: (a - n * _) / 2 + "px"
                    }) : img.css({
                        width: a + "px",
                        height: a / n + "px",
                        marginLeft: (_ - a / n) / 2 + "px"
                    }),
                    i.css("overflow", "hidden"),
                    (r = i.width()) < o.width && (r = o.width)
                } else if (0 == m) {
                    o = Fai.Img.calcSize(t, imgHeight, a, _, h ? Fai.Img.MODE_SCALE_FILL : Fai.Img.MODE_SCALE_DEFLATE_HEIGHT),
                    (r = i.width()) < o.width && (r = o.width),
                    img.css({
                        width: o.width + "px",
                        height: o.height + "px",
                        marginLeft: "",
                        marginTop: ""
                    })
                } else {
                    var r;
                    "number" != typeof m && m && (o = Fai.Img.calcSize(t, imgHeight, a, _, h ? Fai.Img.MODE_SCALE_FILL : Fai.Img.MODE_SCALE_DEFLATE_HEIGHT)),
                    (r = i.width()) < o.width && (r = o.width),
                    img.css({
                        width: o.width + "px",
                        height: o.height + "px",
                        marginLeft: "",
                        marginTop: ""
                    })
                }
                if (Fai.top._manageMode && (img.data("realWidth", o.width),
                img.data("realHeight", o.height)),
                0 < e.find(".propWordWrapDiv").length)
                    6 == g ? e.find(".propWordWrapDiv").width(.8 * r) : e.find(".propWordWrapDiv").width(r),
                    e.find(".propWordWrapDiv").height("auto");
                else if (0 < e.find(".first_ProductName,.second_ProductName,.third_ProductName,.fourth_ProductName,.fifth_ProductName,.sixth_ProductName").length)
                    6 == g ? e.find(".productName").width(.8 * r) : e.find(".productName").width(r),
                    e.find(".productName").height("auto");
                else {
                    var s = 0;
                    e.find(".productName > a").each(function() {
                        $(this).width() > s && (s = $(this).width())
                    }),
                    r < s && (r = s)
                }
                var l = e.find(".propDiv");
                6 == g ? (l.css("width", .8 * r + "px"),
                e.find(".sixth_ProductName").css("width", "80%")) : l.css("width", r + "px"),
                i.width() != r && i.css("width", r + "px"),
                i.height() != _ && (i.css("height", _ + "px"),
                $.browser.msie && 6 == $.browser.version && i.addClass("wocaie6").removeClass("wocaie6")),
                0 < $(".propWordWrapDiv").length && Site.unifiedAttrVal(v, ".propWordWrapDiv", "height"),
                6 == g && e.find(".sixth_ProductPanel").css({
                    top: "-" + (e.find(".sixth_ProductPanel").height() - 12) + "px",
                    "max-height": _ / 2 + 10
                }),
                e.outerHeight() > b && (0 == f || 1 == f) && (b = e.outerHeight()),
                b < w && (2 == f || 3 == f) && (b = w);
                var d = e.outerWidth(!0);
                e.outerHeight(!0);
                x < d && (x = d),
                S += d;
                var c = $(this).find(".eighth_ProductPanel")
                  , p = c.find(".eighth_Pricepanel")
                  , u = c.find(".fk_rightPiecePanel");
                c.length && (1 == productBorderType ? (p.css("left", "4px"),
                u.css("right", "16px")) : 2 == productBorderType && (p.css("left", 4 + productBorderWidth + "px"),
                u.css("right", 16 + productBorderWidth + "px"),
                c.css("bottom", 84 + productBorderWidth + "px")))
            }
        }),
        1 <= r.length && r.each(function() {
            if (0 < $(this).find(".fifth_mallBuy").length) {
                var e = parseInt($(this).find(".fifth_mallBuy").width()) - 1;
                $(this).find(".fifth_mallBuy").css({
                    "line-height": e + "px"
                })
            }
        }),
        tmpTotalWidth = S;
        var d = v.find(".demo")
          , c = v.find(".demo0");
        if (l = c.height(),
        0 < b && (6 == g ? d.css("height", b + 50 + "px") : d.css("height", b + "px")),
        0 == f || 1 == f) {
            if (c.css("width", S + "px"),
            0 == r.length)
                return;
            var p = d.width();
            if (c.width() <= p)
                return void jzUtils.run({
                    name: "ImageEffect.FUNC.BASIC.Init",
                    callMethod: !0
                }, {
                    moduleId: n,
                    imgEffOption: e,
                    tagetOption: t,
                    callback: Site.createImageEffectContent_product,
                    callbackArgs: i
                })
        }
        if (2 == f || 3 == f) {
            b = d.height();
            if (c.height() <= b)
                return void jzUtils.run({
                    name: "ImageEffect.FUNC.BASIC.Init",
                    callMethod: !0
                }, {
                    moduleId: n,
                    imgEffOption: e,
                    tagetOption: t,
                    callback: Site.createImageEffectContent_product,
                    callbackArgs: i
                })
        }
        if (0 != r.first().outerWidth(!0)) {
            var u = Fai.top.productMarqueelist
              , y = 0
              , C = r.length - 1;
            r.each(function(e, t) {
                if (p < y)
                    return !1;
                var i = $(t).clone().attr("cloneDiv", "true")
                  , a = i.children("div.imgDiv").attr("id");
                if (i.children("div.imgDiv").attr("id", a + "_clone"),
                c.append(i),
                y += i.outerWidth(!0),
                0 !== e || 2 != f && 3 != f || ($(t).css("clear", "both"),
                i.css("clear", "both")),
                (Fai.isIE6() || Fai.isIE7()) && e === C && ($(r[e]).after('<div style="clear:both;"></div>'),
                i.after('<div style="clear:both;"></div>')),
                void 0 !== u)
                    for (e = 0; e < u.length; e++) {
                        var o = u[e];
                        if (o.cloneflag && o.cloneflag == a) {
                            $("#" + o.cloneflag + "_clone").mouseover(function() {
                                var e = Site.addEditLayer(this, o, 6);
                                e && e.mouseover(function() {
                                    Fai.stopInterval("marquee" + n)
                                }).mouseout(function() {
                                    Fai.startInterval("marquee" + n)
                                })
                            }).mouseleave(function() {
                                Site.removeEditLayer(this)
                            });
                            break
                        }
                    }
            });
            var F = S + y;
            if (0 != f && 1 != f || c.css("width", F + "px"),
            0 == f ? (d.scrollLeft(2 * S),
            Fai.addInterval("marquee" + n, k, 35)) : 1 == f ? Fai.addInterval("marquee" + n, P, 35) : 2 == f ? (d.scrollTop(2 * l),
            Fai.addInterval("marquee" + n, L, 35)) : 3 == f && Fai.addInterval("marquee" + n, T, 35),
            d.mouseover(function() {
                Fai.stopInterval("marquee" + n)
            }).mouseleave(function() {
                Fai.startInterval("marquee" + n)
            }),
            setTimeout(function() {
                Fai.startInterval("marquee" + n)
            }, 100),
            v.data("first1") || (v.data("first1", !0),
            v.data("options", {
                id: n,
                scale: m,
                fixHeight: h,
                proMarqueeDirection: f,
                ieOpt: e,
                tgOpt: t,
                callback: Site.createImageEffectContent_product,
                callbackArgs: i
            })),
            v.data("first2") && Fai.top._manageMode) {
                var I = v.data("productOptions");
                Site.initModuleProductListItemManage(I)
            }
            jzUtils.run({
                name: "ImageEffect.FUNC.BASIC.Init",
                callMethod: !0
            }, {
                moduleId: n,
                imgEffOption: e,
                tagetOption: t,
                callback: Site.createImageEffectContent_product,
                callbackArgs: i
            }),
            Site.restartProductMarquee(v)
        }
    }
    function P() {
        var e = d.scrollLeft();
        e++,
        d.scrollLeft(e),
        e == S && d.scrollLeft(0)
    }
    function k() {
        S--,
        d.scrollLeft(S),
        0 == S && (d.scrollLeft(tmpTotalWidth),
        S = tmpTotalWidth)
    }
    function L() {
        var e = d.scrollTop();
        e--,
        d.scrollTop(e),
        0 == e && d.scrollTop(l)
    }
    function T() {
        var e = d.scrollTop();
        e++,
        d.scrollTop(e),
        e == l && d.scrollTop(0)
    }
}
,
Site.restartProductMarquee = function(t) {
    t.data("first2") || (t.data("first2", !0),
    t.on("Fai_onModuleSizeChange", function() {
        var e = t.data("options");
        Fai.stopInterval("marquee" + e.id),
        Site.loadProductMarquee(e.id, e.scale, e.fixHeight, e.proMarqueeDirection, e.ieOpt, e.tgOpt, e.callback, e.callbackArgs)
    }),
    t.on("Fai_onModuleLayoutChange", function() {
        var e = t.data("options");
        Fai.stopInterval("marquee" + e.id),
        Site.loadProductMarquee(e.id, e.scale, e.fixHeight, e.proMarqueeDirection, e.ieOpt, e.tgOpt, e.callback, e.callbackArgs)
    }))
}
,
Site.initModuleProductFilter = function(e, t) {
    if ($("#module" + e + " .productFilterValue").mouseover(function() {
        $(this).addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_hover")
    }),
    t) {
        var i = $("#module" + e).find(".formMiddle" + e).find("table.productFilterContent").find(".productFilterContentCenter").find(".productFilterName");
        $.each(i, function(e, t) {
            var i = $(t);
            i.css("cursor", "pointer"),
            i.click(function() {
                var e = $(this).next();
                e.is(":visible") ? (i.removeClass("productFilterUnfold").addClass("productFilterFold"),
                e.hide()) : (i.removeClass("productFilterFold").addClass("productFilterUnfold"),
                e.show())
            })
        })
    }
}
,
Site.initModuleProductCatalog = function(e, t) {
    if ($("#module" + e + " .productFilterValue").mouseover(function() {
        $(this).addClass("g_tableHover"),
        $(this).find(".productFilterValueCenter").addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_tableHover"),
        $(this).find(".productFilterValueCenter").removeClass("g_hover")
    }),
    t) {
        var i = $("#module" + e).find(".formMiddle" + e).find("table .parentClickedTd")
          , a = $("#module" + e).find(".formMiddle" + e).find("table .parentCatalog a");
        $.each(i, function(e, t) {
            var i = $(t);
            i.css("cursor", "pointer"),
            i.click(function() {
                var e = parseInt($(this).attr("prodId"))
                  , t = $("#prodDiv" + e);
                t.is(":visible") ? ($(this).removeClass("productFilterUnfold").addClass("productFilterFold"),
                t.hide()) : ($(this).removeClass("productFilterFold").addClass("productFilterUnfold"),
                t.show())
            })
        }),
        $.each(a, function(e, t) {
            $(t).click(function(e) {
                e.preventDefault();
                var t = parseInt($(this).attr("prodId"))
                  , i = $("#prodDiv" + t)
                  , a = $("#provId" + t);
                $(this).parent().find(".parentClickedTd");
                i.is(":visible") ? (i.hide(),
                a.removeClass("productFilterUnfold").addClass("productFilterFold")) : (a.removeClass("productFilterFold").addClass("productFilterUnfold"),
                i.show())
            })
        })
    }
}
,
Site.loadProductTextList = function(e) {
    var t = $("#module" + e);
    Fai.isNull(t) || _manageMode || t.find(".productTextListTable").on("mouseenter.manage", function() {
        $(this).addClass("g_hover")
    }).on("mouseleave.manage", function() {
        $(this).removeClass("g_hover")
    })
}
,
Site.loadProductTile = function(e, c, t, i, a, p) {
    var o = $("#module" + e);
    if (!Fai.isNull(o)) {
        var n = o.find(".productList")
          , u = 0
          , m = n.attr("_bordertype")
          , h = parseInt(n.attr("_borderwidth"))
          , f = n.attr("_bgtype")
          , g = 0
          , v = 0
          , _ = 0
          , S = 0
          , r = o.find(".imgDiv").eq(0)
          , s = o.find(".fifth_mallBuy").eq(0);
        if (g = r.width(),
        u = r.height(),
        v = r.outerWidth(),
        _ = r.outerHeight(),
        S = s.width(),
        o.find(".productTileForm").each(function() {
            var e = $(this).attr("faiHeight");
            if (!Fai.isNull(e)) {
                $(this).attr("faiWidth");
                var t = $(this).attr("faiWidthOr")
                  , i = $(this).attr("faiHeightOr")
                  , a = $(this).find(".imgDiv")
                  , o = a.find("img")
                  , n = {
                    width: g,
                    height: u
                };
                if (2 == c) {
                    var r = t / i;
                    g / u <= r ? o.css({
                        width: r * u + "px",
                        height: u + "px",
                        marginLeft: (g - r * u) / 2 + "px",
                        marginTop: ""
                    }) : o.css({
                        width: g + "px",
                        height: g / r + "px",
                        marginTop: (u - g / r) / 2 + "px",
                        marginLeft: ""
                    })
                } else
                    ("number" == typeof c && 0 == c || "number" != typeof c && c) && (n = Fai.Img.calcSize(t, i, g, u, Fai.Img.MODE_SCALE_FILL)),
                    o.css({
                        width: n.width + "px",
                        height: n.height + "px",
                        marginTop: "",
                        marginLeft: ""
                    }),
                    a.css("height", u + "px");
                if (o.css("visibility", "visible"),
                Fai.top._manageMode && (o.data("realWidth", n.width),
                o.data("realHeight", n.height)),
                4 == p || 5 == p || 9 == p)
                    $(this).find(".fifth_mallBuy").css({
                        height: S + "px",
                        "line-height": S + "px"
                    });
                6 == p && $(this).css({
                    "margin-bottom": "54px",
                    overflow: "visible"
                });
                var s = $(this).find(".eighth_ProductPanel");
                if (0 < s.length) {
                    var l = s.find(".eighth_Pricepanel")
                      , d = s.find(".fk_rightPiecePanel");
                    0 == m ? 1 == f && (l.css("left", "15px"),
                    d.css("right", "33px"),
                    s.css("bottom", "36px")) : 1 == m ? (l.css("left", "14px"),
                    d.css("right", "34px"),
                    s.css("bottom", "36px")) : 2 == m && ($(this).width(v),
                    $(this).height(_),
                    1 == f ? (l.css("left", 14 + h + "px"),
                    d.css("right", 36 + h + "px"),
                    s.css("bottom", 36 + h + "px")) : (l.css("left", 4 + h + "px"),
                    d.css("right", 26 + h + "px"),
                    s.css("bottom", 25 + h + "px")))
                }
                p < 6 && $(this).width(v),
                $($(this).find(".propList .productName td")).css("text-align", "unset")
            }
        }),
        4 <= a && a < 6)
            Site.clearImageEffectContent_product(e, "propList");
        else {
            if (-1 == i && 0 == o.find(".productNameWordWrap").length && Site.unifiedAttrVal(o, ".productTileForm", "height"),
            0 < o.find(".productNameWordWrap").length)
                if (o.find(".productNameWordWrap").attr("paramLayoutType", p),
                3 == p) {
                    var l = o.find(".productNameWordWrap")
                      , d = 0;
                    l.each(function() {
                        var e = $(this).outerHeight();
                        e = parseInt(e),
                        d < e && (d = e)
                    }),
                    l.each(function() {
                        $(this).css("height", d + "px")
                    })
                } else
                    Site.unifiedAttrVal(o, ".productNameWordWrap", "height");
            Site.unifiedAttrVal(o, ".productTileForm", "height")
        }
    }
}
,
Site.initProductRestrict = function() {
    var e = Site.productDetailInfo;
    if (e) {
        var i = e.moduleId
          , t = e.limitAmount_mall
          , a = e.minAmount
          , o = e.maxAmount
          , n = e.productRestrictInfo;
        if (t) {
            var r = 0;
            null != n.count && (r = n.count);
            var s = 0;
            s = o - r,
            Fai.fkEval(s) < 0 && (s = -1);
            var l = 1
              , d = -1;
            1 < a && 0 != o ? ($("#limitAmountDiv").text("( " + LS.minAmount + " : " + a + " ; " + LS.maxAmount + " : " + s + " )"),
            l = a,
            d = s) : 1 == a && 0 != o ? ($("#limitAmountDiv").text("( " + LS.maxAmount + " : " + s + " )"),
            d = s) : 1 < a && 0 == o && ($("#limitAmountDiv").text("( " + LS.minAmount + " : " + a + " )"),
            l = a),
            $("#cartbuyCount" + i).val(l).unbind("change").change(function() {
                var e = $("#cartbuyCount" + i).val()
                  , t = 1;
                Fai.isInteger(e) && (t = parseInt(e)),
                t < l || t == l ? (t = l,
                $("#buyCountDes" + i).addClass("disableMallJian"),
                $("#buyCountInc" + i).removeClass("disableMallJia"),
                (d < l || l == d) && -1 != d && $("#buyCountInc" + i).addClass("disableMallJia")) : -1 != d && (d < t || t == d) ? (t = d,
                $("#buyCountInc" + i).addClass("disableMallJia"),
                $("#buyCountDes" + i).removeClass("disableMallJian")) : 9999998 < t ? (t = 9999999,
                $("#buyCountDes" + i).removeClass("disableMallJian"),
                $("#buyCountInc" + i).addClass("disableMallJia")) : ($("#buyCountDes" + i).removeClass("disableMallJian"),
                $("#buyCountInc" + i).removeClass("disableMallJia")),
                $("#cartbuyCount" + i).val(t)
            }),
            $("#cartbuyCount" + i).change(),
            $("#buyCountDes" + i).click(function() {
                var e = $("#cartbuyCount" + i).val()
                  , t = 1;
                Fai.isInteger(e) && (t = parseInt(e)),
                t < l + 1 ? ($("#cartbuyCount" + i).val(l),
                $("#buyCountDes" + i).addClass("disableMallJian")) : $("#buyCountInc" + i).removeClass("disableMallJia")
            }),
            $("#buyCountInc" + i).click(function() {
                var e = $("#cartbuyCount" + i).val()
                  , t = 1;
                Fai.isInteger(e) && (t = parseInt(e)),
                d - 1 < t && -1 != d ? (l < d ? $("#cartbuyCount" + i).val(d) : $("#cartbuyCount" + i).val(l),
                $("#buyCountInc" + i).addClass("disableMallJia")) : $("#buyCountDes" + i).removeClass("disableMallJian")
            })
        }
    }
}
,
Site.wipeOffRunOne = !0,
Site.initProductOptions = function() {
    var e = Site.productDetailInfo;
    if (e) {
        var W, q = e.moduleId, z = e.optionsAmountList, V = e.relateAmount, G = e.realMallPrice, Q = e.limitAmount_options, Z = e.productRestrictInfo, K = e.openPriceCalendar;
        if (void 0 === Z && (Z = {}),
        W = "PdSlide" === q ? $("#fk-productSlideContent") : $("#module" + q),
        !Fai.isNull(W)) {
            var Y = W.find(".J_optionItemWrap")
              , X = []
              , ee = W.find("#realMallAmount").html()
              , te = W.find("#mallAmount").html()
              , ie = W.find("#mallWeight").html();
            V || $.each(z, function(e, t) {
                "undefined" != typeof t.oAmount && delete t.oAmount
            }),
            te <= 0 ? ne(Y.find(".J-item")) : $.each(z, function(e, t) {
                t.oAmount <= 0 && Y.length <= 1 ? ne(Y.find(".J-item[data='" + t.t2 + "']")) : t.oAmount <= 0 && 1 < Y.length && X.push(t.t2)
            }),
            Y.find(".J-item").hover(function() {
                "1" != $(this).attr("isEmptyAmount") && $(this).addClass("g_borderSelected fk-mainBorderColor fk-mainFontColor")
            }, function() {
                "1" != $(this).attr("isEmptyAmount") && ($(this).hasClass("optionItemHover") || $(this).removeClass("g_borderSelected fk-mainBorderColor fk-mainFontColor"))
            }),
            Fai.isIpad() || Y.find(".optionItem img").hover(function() {
                if ("1" != $(this).attr("isEmptyAmount")) {
                    var e = $(this).parent();
                    if (0 === e.find("img").length)
                        return !1;
                    var t = e.find(".J-img-tip");
                    if (0 < t.length)
                        return t.stop(!0, !0).fadeIn(),
                        !1;
                    t = ["<div class='img-tip J-img-tip'>", "<div>", e.find("span").text(), "</div>", "<div class='tip-ico J-ico'></div>", "</div>"],
                    t = $(t.join("")),
                    e.append(t),
                    t.find(".J-ico").css("left", (t.outerWidth() - 11) / 2),
                    t.css("left", -(t.outerWidth() - 38) / 2),
                    t.fadeIn()
                }
            }, function() {
                "1" != $(this).attr("isEmptyAmount") && $(this).parent().find(".J-img-tip").fadeOut()
            });
            $("#cartbuyCount" + q).val();
            var ae = $("#imgDiv" + q)
              , oe = "<div class='J-img-tri img-selected g_borderSelected'></div><div class='J-img-tri op-selected-ico'></div>";
            Y.find(".optionItem").bind("click", function() {
                if ("1" != $(this).find(".J-item").attr("isEmptyAmount")) {
                    var n, e = $(this), t = e.siblings(), i = e.find(".J-item");
                    if (i.hasClass("J-isSelected")) {
                        i.removeClass("optionItemHover g_borderSelected fk-mainBorderColor fk-mainFontColor J-isSelected"),
                        i.parent().find(".J-img-tri").remove(),
                        W.find("#realMallAmount").html(ee),
                        W.find("#mallAmount").html(te),
                        W.find("#mallWeight").html(ie),
                        Q && ($("#limitAmountDiv").text(""),
                        $("#buyCountInc" + q).removeClass("disableMallJia").unbind("click"),
                        $("#buyCountDes" + q).removeClass("disableMallJian").unbind("click"));
                        var r = Y.find(".optionItem:hidden");
                        0 < r.length && (n = "",
                        Y.each(function(e, t) {
                            $(Y[e]).find(".J-item.g_borderSelected").length <= 0 ? n += "x_" : n += $(Y[e]).find(".J-item.g_borderSelected").attr("data") + "_"
                        }),
                        n = n.substring(0, n.length - 1),
                        $.each(r, function() {
                            var i = !1
                              , e = $(this).find(".J-item").attr("data")
                              , t = $(".J_productProp .optionItemWrap").index($(this).parent())
                              , a = n.split("_");
                            a[t] = e;
                            var o = a.join("_");
                            $.each(z, function(e, t) {
                                return !isNaN(t.flag) && 0 == t.flag || (le(o, t.t2) ? !(i = !0) : void 0)
                            }),
                            i && r.show()
                        }))
                    } else
                        i.addClass("optionItemHover g_borderSelected fk-mainBorderColor fk-mainFontColor J-isSelected"),
                        t.find(".J-item").removeClass("optionItemHover g_borderSelected fk-mainBorderColor fk-mainFontColor J-isSelected"),
                        t.find(".J-img-tri").remove(),
                        i.hasClass("J-item-img") && e.append(oe);
                    if (1 < Y.length && V) {
                        var a = 0;
                        if (void 0 === n && (n = "",
                        Y.each(function(e, t) {
                            $(Y[e]).find(".J-item.g_borderSelected").length <= 0 ? n += "x_" : n += $(Y[e]).find(".J-item.g_borderSelected").attr("data") + "_"
                        }),
                        n = n.substring(0, n.length - 1),
                        Site.priceCalendar)) {
                            var o = Site.priceCalendar.getSelected();
                            n += "" === o || null == o || void 0 === o ? "_x" : "_" + o
                        }
                        $.each(z, function(e, t) {
                            le(n, t.t2) && (0 == t.flag || isNaN(t.oAmount) || (a += t.oAmount))
                        }),
                        $("#mallAmount").text(a)
                    }
                    var s = $(".g_borderHover .J_pdImgTable a").attr("href")
                      , l = i.attr("_fk-org");
                    if (l = l || s,
                    0 < ae.length && l) {
                        ae.find("img").attr("src", l);
                        var d = ae.find(".cloud-zoom");
                        ae.attr("faihref", l),
                        0 < d.length && (d.attr("href", l).data("zoom").destroy(),
                        d.CloudZoom({
                            imageWidth: parseInt(i.attr("faiwidth")),
                            imageHeight: parseInt(i.attr("faiheight"))
                        }));
                        var c = $(".imgContainer .bf");
                        1 == c.length && $(c).hide(),
                        1 == $(".imgContainer .productVideo").length && $(".imgContainer .productVideo").remove();
                        var p = W.find(".imgDiv")
                          , u = i.attr("faiWidth")
                          , m = i.attr("faiHeight");
                        if (!Fai.isNull(m)) {
                            var h = p.width()
                              , f = p.height()
                              , g = Fai.Img.calcSize(u, m, h, f, Fai.Img.MODE_SCALE_DEFLATE_FILL);
                            p.find("img").css("width", g.width + "px"),
                            p.find("img").css("height", g.height + "px")
                        }
                    }
                    var v = Y.length
                      , _ = Y.find(".J-item.g_borderSelected");
                    if (v == _.length) {
                        var S, b, x, w, y, C = "";
                        if ($.each(_, function(e, t) {
                            C += $(t).attr("data") + "_"
                        }),
                        C = C.substring(0, C.length - 1),
                        Site.priceCalendar) {
                            if ("" === (o = Site.priceCalendar.getSelected()) || null == o || void 0 === o)
                                return;
                            C += "_" + o
                        }
                        if ($.each(z, function(e, t) {
                            t.t2 == C && (S = isNaN(t.flag) || 0 == t.flag ? ee : "number" == typeof t.oPrice ? t.oPrice.toFixed(2) : t.oPrice,
                            b = t.oAmount,
                            x = t.minAmount,
                            w = t.maxAmount,
                            y = t.w)
                        }),
                        Q) {
                            $("#limitAmountDiv").text("");
                            var F = 0
                              , I = Z.optionsCount;
                            if (null != I && null != I.d)
                                for (var P = 0; P < I.d.length; P++)
                                    I.d[P].t + "_" == C && (F = I.d[P].c);
                            var k = 0;
                            k = w - F,
                            Fai.fkEval(k) < 0 && (k = -1);
                            var L = 1
                              , T = -1;
                            1 < x && 0 != w ? ($("#limitAmountDiv").text("( " + LS.minAmount + " : " + x + " ; " + LS.maxAmount + " : " + k + " )"),
                            L = x,
                            T = k) : 1 == x && 0 != w ? ($("#limitAmountDiv").text("( " + LS.maxAmount + " : " + k + " )"),
                            T = k) : 1 < x && 0 == w && ($("#limitAmountDiv").text("( " + LS.minAmount + " : " + x + " )"),
                            L = x),
                            $("#cartbuyCount" + q).val(L),
                            $("#cartbuyCount" + q).unbind("change"),
                            $("#cartbuyCount" + q).bind("change"),
                            $("#cartbuyCount" + q).change(function() {
                                var e = $("#cartbuyCount" + q).val()
                                  , t = 1;
                                Fai.isInteger(e) && (t = parseInt(e)),
                                t < L || t == L ? (t = L,
                                $("#buyCountDes" + q).addClass("disableMallJian"),
                                $("#buyCountInc" + q).removeClass("disableMallJia"),
                                (T < L || L == T) && -1 != T && $("#buyCountInc" + q).addClass("disableMallJia")) : -1 != T && (T < t || t == T) ? (t = T,
                                $("#buyCountInc" + q).addClass("disableMallJia"),
                                $("#buyCountDes" + q).removeClass("disableMallJian")) : 9999998 < t ? (t = 9999999,
                                $("#buyCountDes" + q).removeClass("disableMallJian"),
                                $("#buyCountInc" + q).addClass("disableMallJia")) : ($("#buyCountDes" + q).removeClass("disableMallJian"),
                                $("#buyCountInc" + q).removeClass("disableMallJia")),
                                $("#cartbuyCount" + q).val(t)
                            }),
                            $("#cartbuyCount" + q).change(),
                            $("#buyCountDes" + q).unbind("click"),
                            $("#buyCountInc" + q).unbind("click"),
                            $("#buyCountDes" + q).click(function() {
                                var e = $("#cartbuyCount" + q).val()
                                  , t = 1;
                                Fai.isInteger(e) && (t = parseInt(e)),
                                t < L + 1 ? ($("#cartbuyCount" + q).val(L),
                                $("#buyCountDes" + q).addClass("disableMallJian")) : $("#buyCountInc" + q).removeClass("disableMallJia")
                            }),
                            $("#buyCountInc" + q).click(function() {
                                var e = $("#cartbuyCount" + q).val()
                                  , t = 1;
                                Fai.isInteger(e) && (t = parseInt(e)),
                                T - 1 < t && -1 != T ? (L < T ? $("#cartbuyCount" + q).val(T) : $("#cartbuyCount" + q).val(L),
                                $("#buyCountInc" + q).addClass("disableMallJia")) : $("#buyCountDes" + q).removeClass("disableMallJian")
                            })
                        }
                        V && $("#mallAmount").text(b),
                        null == S ? (2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#realMallAmount").text(Fai.formatPriceEn(G)) : $("#realMallAmount").text(G),
                        Site.onlyChangeSalePrice(G)) : ($("#realMallAmount").data("banpriceview") || (2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#realMallAmount").text(Fai.formatPriceEn(S)) : $("#realMallAmount").text(S),
                        Site.onlyChangeSalePrice(S)),
                        Fai.isIE10() && (Site.wipeOffRunOne && $(".pd_J .pd_propTable .propName").each(function(e, t) {
                            $(t).removeClass("propName"),
                            setTimeout(function() {
                                $(t).addClass("propName")
                            }, 0)
                        }),
                        Site.wipeOffRunOne = !1)),
                        null != y && $("#mallWeight").text(y)
                    }
                    if (v != _.length && 1 != v && se(),
                    v - 1 <= _.length && 1 != v) {
                        var M = "";
                        $.each(Y, function(e, t) {
                            $(Y[e]).find(".J-item.g_borderSelected").length <= 0 ? M += "x_" : M += $(Y[e]).find(".J-item.g_borderSelected").attr("data") + "_"
                        }),
                        "" != M && (M = M.substring(0, M.length - 1));
                        var B = "";
                        if ($.each(Y, function(e, t) {
                            $(Y[e]).find(".J-item.g_borderSelected").length <= 0 && (B = $(Y[e]))
                        }),
                        "" != B) {
                            var A = B.find(".J-item");
                            $.each(A, function(e, t) {
                                var i = M.replace("x", $(A[e]).attr("data"));
                                0 <= $.inArray(i, X) ? ne(A[e]) : re(A[e])
                            })
                        } else
                            $.each(Y, function(o, e) {
                                var n = $(Y[o]).find(".J-item");
                                $.each(n, function(e, t) {
                                    if (!$(n[e]).hasClass("g_borderSelected")) {
                                        var i = M.split("_");
                                        i[o] = $(n[e]).attr("data");
                                        var a = i.join("_");
                                        0 <= $.inArray(a, X) ? ne(n[e]) : re(n[e])
                                    }
                                })
                            })
                    }
                    0 == _.length && ae.find("img").attr("src", s);
                    var N = []
                      , D = !1;
                    for (P = 0; P < Y.length; P++) {
                        var j = Y.eq("" + P);
                        if (!j.find(".J-item").hasClass("g_borderSelected"))
                            break;
                        N.push(j.find(".J-item.g_borderSelected").attr("data"))
                    }
                    if (N.length <= Y.length && 1 < N.length && !K) {
                        var E = N.length;
                        for (P = 0; P < E && ($.each(z, function(e, t) {
                            var i = t.t2.split("_");
                            if (t.flag == undefined && (t.flag = 1),
                            1 == t.flag && de(i, N))
                                return !(D = !0)
                        }),
                        !D); P++) {
                            var O = Y.eq(N.length - 1).find(".J-item")
                              , J = N.pop();
                            O.each(function() {
                                $(this).attr("data") == J && $(this).parent().hide()
                            }),
                            O.parent().find(".J-img-tri").remove(),
                            O.removeClass("g_borderSelected fk-mainBorderColor fk-mainFontColor optionItemHover J-isSelected")
                        }
                    }
                    var R = Y.index(e.parent());
                    if (!K)
                        for (var U = R; U < N.length; U++) {
                            var H = N.slice(0, U + 1);
                            D = !1;
                            for (P = H.length; P < Y.length; P++) {
                                Y.eq("" + P).find(".optionItem").each(function() {
                                    var a = $(this).find(".J-item").attr("data");
                                    D = !1,
                                    $.each(z, function(e, t) {
                                        var i = t.t2.split("_");
                                        if (t.flag == undefined && (t.flag = 1),
                                        a == i[P] && 1 == t.flag && de(i, H))
                                            return !(D = !0)
                                    }),
                                    D ? $(this).show() : $(this).hide()
                                })
                            }
                        }
                }
            })
        }
    }
    function ne(e) {
        $(e).css({
            "border-style": "dashed",
            color: "#CDCDCD",
            cursor: "not-allowed"
        }).attr("isEmptyAmount", "1")
    }
    function re(e) {
        $(e).css({
            "border-style": "",
            color: "",
            cursor: ""
        }).attr("isEmptyAmount", "")
    }
    function se() {
        $(".optionItemWrap .J-item").css({
            "border-style": "",
            color: "",
            cursor: ""
        }).attr("isEmptyAmount", "")
    }
    function le(e, t) {
        var i = !0
          , a = e.split("_")
          , o = t.split("_");
        return a.length == o.length && ($.each(a, function(e, t) {
            return "x" == a[e] || (a[e] != o[e] ? i = !1 : void 0)
        }),
        i)
    }
    function de(e, t) {
        for (var i = !0, a = 0; a < t.length; a++)
            if (t[a] != e[a]) {
                i = !1;
                break
            }
        return i
    }
}
,
Site.initMbPdCollection = {},
function(n, r) {
    function t(t) {
        n.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/member_h.jsp?cmd=setWafCk_setMemberCollection",
            data: "mid=" + r.sessionMid + "&pid=" + r.pid + "&collection=" + t,
            type: "POST",
            dataType: "json",
            success: function i(e) {
                e.success && a(t ? "suc" : "warn")
            }
        })
    }
    function a(e) {
        var t = {
            height: 72
        };
        "suc" == e ? (t.width = 183,
        t.htmlContent = '<div class="suc-ico addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 29px; padding-left: 39px;">' + LS.sucCollection + "</div>") : "warn" == e ? (t.width = 210,
        t.htmlContent = '<div class="warn-ico addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 29px; padding-left: 39px;">' + LS.cancelCollection + "</div>") : "err" == e && (t.height = 90,
        t.width = 280,
        t.htmlContent = '<div class="resultFailIcon addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 39px; padding-left: 35px;">',
        t.htmlContent += LS.isManagefailCollection + "</div>");
        var i, a = Site.popupBox(t);
        i = Fai.top._isTemplateVersion2 ? {
            "margin-top": "0px",
            right: "9px",
            width: "18px",
            height: "18px",
            "background-position": "-448px -187px"
        } : {
            "margin-top": "9px",
            right: "9px",
            width: "12px",
            height: "12px",
            "background-position": "-1665px -110px"
        },
        a.find(".popupBClose").css(i),
        "err" != e && setTimeout(function() {
            a.find(".popupBClose").click()
        }, 1500)
    }
    function s() {
        n("#pdCollection").on("click", function() {
            var e = parseInt(n(".J_collectTotal").text());
            0 == r.sessionMid ? r._manageMode ? a("err") : (window.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "login.jsp?url=" + Fai.encodeUrl(window.location.href),
            Fai.Cookie.set("collectId", r.pid)) : -1 == n.inArray(r.pid, r.collectionList) ? (n(".J_collectTotal").html(e + 1),
            r.collectionList.push(r.pid),
            n("#pdCollection .pdCollectIcon").addClass("collectionSelect faisco-icons-star3").removeClass("faisco-icons-start2"),
            n(".faisco-icons-star3").css({
                "font-size": "22px",
                "line-height": "22px",
                height: "22px"
            }),
            t(!0)) : -1 != n.inArray(r.pid, r.collectionList) && (n(".J_collectTotal").html(e - 1),
            r.collectionList.splice(n.inArray(r.pid, r.collectionList), 1),
            n("#pdCollection .pdCollectIcon").removeClass("collectionSelect").removeClass("faisco-icons-star3").addClass("faisco-icons-start2"),
            t(!1))
        }).hover(function() {
            n("#pdCollection .collection").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover"),
            n("#pdCollection .pdCollectIcon").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover")
        }, function() {
            n("#pdCollection .collection").addClass("text").removeClass("productOperaTextColor").removeClass("operaTextHover"),
            n("#pdCollection .pdCollectIcon").addClass("text").removeClass("productOperaTextColor").removeClass("operaTextHover")
        })
    }
    function l(e) {
        0 != r.sessionMid && -1 != n.inArray(r.pid, r.collectionList) && (n("#pdCollection .pdCollectIcon").addClass("collectionSelect faisco-icons-star3").removeClass("faisco-icons-start2"),
        n(".faisco-icons-star3").css({
            "font-size": "22px",
            "line-height": "22px",
            height: "22px"
        }))
    }
    r.init = function(e, t, i, a, o) {
        r.sessionMid = e,
        r.collectionList = null == t ? [] : t,
        r.pid = i,
        r._manageMode = a,
        l(o),
        s(),
        0 == n("#_TOKEN").length || a || Fai.Cookie.get("collectId") != i || n("#pdCollection .pdCollectIcon").hasClass("collectionSelect") || n("#pdCollection").click(),
        Fai.Cookie.clear("collectId")
    }
}(jQuery, Site.initMbPdCollection),
Site.getQueryString = function(e) {
    var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)")
      , i = window.location.search.substr(1).match(t);
    return null != i ? unescape(i[2]) : null
}
,
Site.loadProductDetail = function(e, t, i, a) {
    var o, n, r = $("#module" + e), s = 5 == a ? "vertical" : "horizontal", l = "leftIcon" + e, d = "rightIcon" + e;
    if (5 == a && (s = "vertical",
    l = "prePdIcon" + e,
    d = "nextPdIcon" + e),
    !Fai.isNull(r)) {
        var c = r.find(".imgDiv")
          , p = c.attr("faiWidth")
          , u = c.attr("faiHeight");
        if (!Fai.isNull(u)) {
            if (null == t && null == i)
                var m = c.width()
                  , h = c.height();
            else
                m = t,
                h = i;
            var f = Fai.Img.calcSize(p, u, m, h, Fai.Img.MODE_SCALE_DEFLATE_FILL)
              , g = f.height
              , v = f.width;
            n = $("#imgGroup" + e),
            5 == a && (thumbList = n.find(".imgGroupDiv"),
            null == t && null == i && n.height(h),
            thumbList.length * thumbList.outerHeight(!0) <= h ? (r.find("#prePdIcon" + e).hide(),
            r.find("#nextPdIcon" + e).hide(),
            n.find(".J_imgDivsStyle5").css({
                position: "absolute",
                top: "-8px",
                left: "0",
                height: h + "px"
            })) : n.find(".J_imgDivsStyle5").height(h - 2 * n.find("#nextPdIcon" + e).width()));
            var _ = r.find(".imgGroupDiv");
            _.each(function() {
                var o = $(this).attr("faiWidth")
                  , n = $(this).attr("faiHeight");
                if (!Fai.isNull(n)) {
                    var r = Fai.Img.calcSize(o, n, m, h, Fai.Img.MODE_SCALE_DEFLATE_FILL);
                    r.height > g && (g = r.height),
                    r.width > v && (v = r.width);
                    var s = $(this).find("img");
                    $(s).one("load", function() {
                        var e = s.width()
                          , t = s.height();
                        o = s.attr("faiWidth"),
                        n = s.attr("faiHeight");
                        var i = Fai.Img.MODE_SCALE_FILL;
                        if (1 == e && 1 == t) {
                            var a = new Image;
                            a.src = s.data("original"),
                            $(a).on("load", function() {
                                e = a.width,
                                t = a.height,
                                r = Fai.Img.calcSize(e, t, o, n, i),
                                s.css("width", r.width + "px"),
                                s.css("height", r.height + "px"),
                                s.attr("src") != s.data("original") && s.attr("src", s.data("original")),
                                s.css("display", "block")
                            })
                        } else
                            1 == (r = Fai.Img.calcSize(e, t, o, n, i)).width && (r.width = o),
                            1 == r.height && (r.height = n),
                            s.css("width", r.width + "px"),
                            s.css("height", r.height + "px"),
                            s.css("display", "block")
                    })
                }
            });
            var S = c.find("img");
            5 != a && (S.css("width", f.width + "px"),
            S.css("height", f.height + "px")),
            S.css("visibility", "visible"),
            S.css("display", "block"),
            c.data("divWidth", m),
            c.data("divHeight", h),
            null != t && null != i && (c.css("height", i + "px"),
            c.css("width", t + "px")),
            2 == a && ($(".pd_J .imgContainer_J").css("margin", "0px auto").css("float", "none"),
            $(".pd_J .imgContainer_J").parent().css("width", "100%"));
            var b = c.find(".cloud-zoom");
            if (1 == b.length && (b.attr("rel", "adjustX:-4, adjustY:-4, maxWidth:" + m + ", maxHeight:" + g + ',position:"inside"'),
            b.CloudZoom({
                imageHeight: u,
                imageWidth: p
            })),
            1 < _.length) {
                5 != a && (o = n.width() - $("#leftIcon" + e).outerWidth(!0) - $("#rightIcon" + e).outerWidth(!0)),
                $("#imgDivs" + e).width(o);
                var x = 1 == b.length ? "true" : "false";
                Site.multiPhoto($("#imgDivs" + e), $("#imgDiv" + e), {
                    leftIconID: l,
                    rightIconID: d,
                    zoom: x,
                    direction: s
                })
            }
            var w = r.find(".pd_J").width()
              , y = r.find(".imgContainer_J").width()
              , C = r.find(".pdLayoutR_J")
              , F = r.find(".pdAppendLayout_J");
            w - y < 200 && C.appendTo(F)
        }
    }
}
,
Site.fixProductVideo = function(e) {
    $(".imgGroupDiv").hover(function() {
        $(".imgGroupDiv")[0] != this ? $(".bf").hide() : $(".bf").show()
    });
    var t = $($("#imgDivs" + e).find("li")[0]).attr("faiWidth")
      , i = $($("#imgDivs" + e).find("li")[0]).attr("faiHeight")
      , a = $("#imgDiv" + e).width()
      , o = $("#imgDiv" + e).height()
      , n = Fai.Img.calcSize(t, i, a, o, Fai.Img.MODE_SCALE_FILL)
      , r = $("#imgDiv" + e).find("img");
    r.css("width", n.width + "px"),
    r.css("height", n.height + "px")
}
,
Site.productBigPicResponsive = function(e, t, i, a, o) {
    var n, r, s, l, d = $("#module" + e);
    i || d.length < 1 || (r = d.width(),
    l = t ? (r - 260) / 2 : (r + 300) / 3,
    s = Fai.Img.calcSize(a, o, l, l, Fai.Img.MODE_SCALE_FILL),
    (n = d.find("#imgDiv" + e)).css({
        width: l + "px",
        height: l + "px"
    }),
    n.find("img").css({
        width: s.width + "px",
        height: s.height + "px"
    }),
    d.find(".imgContainer_J").width(l + (t ? 130 : 0)),
    d.find("#imgGroup" + e).height(s.height))
}
,
Site.cancelBubble = function(e) {
    (e = window.event || arguments.callee.caller.arguments[0]) && e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
}
,
Site.getProductVideo = function(t, e) {
    var i = window.event || arguments.callee.caller.arguments[0];
    i && i.stopPropagation ? i.stopPropagation() : i.cancelBubble = !0,
    $.ajax({
        type: "get",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/product_h.jsp?cmd=getWafNotCk_getProductVideo&moduleId=" + t + "&productId=" + e,
        error: function a() {
            Fai.ing("服务繁忙，请稍候重试", !1)
        },
        success: function o(e) {
            $("#imgDiv" + t).append(e),
            $(".productVideo").hide(),
            setTimeout(function() {
                $(".productVideo").show()
            }, 500),
            Fai.top.videojs("#new-video-" + t).ready(function() {
                var e = this;
                e.controlBar.volumeMenuButton.hide(),
                e.on("play", function() {
                    $(".vjs-big-play-button").fadeOut()
                }),
                e.on("pause", function() {
                    $(".vjs-big-play-button").fadeIn()
                }),
                e.on("ended", function() {})
            }),
            $(".imgGroupDiv").hover(function() {
                $(".imgGroupDiv")[0] != this && ($(".productVideo").hide(),
                $(".productVideo").remove())
            })
        }
    })
}
,
Site.closeProductVideo = function() {
    $(".productVideo").remove()
}
,
Site.initPdCommentSwitch = function() {
    $(".fk-productParamDetail").text().length || $(".fk-productParamDetail").hide();
    var e = 0;
    0 < document.cookie.length && (cStart = document.cookie.indexOf("tabSwitch="),
    -1 != cStart && (cStart += 10,
    cEnd = document.cookie.indexOf(";", cStart),
    -1 == cEnd && (cEnd = document.cookie.length),
    e = unescape(document.cookie.substring(cStart, cEnd)))),
    /productColId/.test(location.href) && (e = 0),
    $(".tabSwitch").eq(e).click()
}
,
Site.pdSaleRecordPagenation = function(i, a) {
    $("#saleRecordSwitch").on("click", function() {
        0 == $("#saleRecordPanel .tableBody").children().length && Site.loadSaleRecord(i, a, 1)
    }),
    $("body").on({
        hover: function e() {
            $(this).addClass("g_hover")
        },
        mouseleave: function t() {
            $(this).removeClass("g_hover")
        },
        click: function o() {
            var e = $("#saleRecordPanel .pagenation .pageNo").not(":has('.g_border')").text()
              , t = 1;
            t = $(this).parent().hasClass("pagePrev") ? Number(e) - 1 : $(this).parent().hasClass("pageNext") ? Number(e) + 1 : Number($(this).text()),
            Site.loadSaleRecord(i, a, t)
        }
    }, "#saleRecordPanel .pagenation .g_border")
}
,
Site.loadSaleRecord = function(e, o, n) {
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/product_h.jsp?cmd=getWafNotCk_getSaleRecordList",
        data: "pid=" + e + "&pno=" + n,
        type: "post",
        dataType: "json",
        success: function r(e) {
            if (e.success) {
                $(".saleRecordBody tr").remove();
                var a = [];
                if ($.each(e.list, function(e, t) {
                    a.push("<tr class='b_li'>"),
                    a.push("<td class='b_creator'><span class='msgBoard_msgUser_level' style='margin-right:12px;'></span>" + t.createName + "</td>"),
                    o && a.push("<td class='b_optionType'>" + t.optionType + "</td>"),
                    a.push("<td class='b_amount'>" + t.amount + "</td>");
                    var i = new Date(t.paidTime);
                    a.push("<td class='b_paidTime'><span>" + $.format.date(i, "yyyy-MM-dd") + "</span><br><span>" + $.format.date(i, "HH:mm:ss") + "</span></td>"),
                    a.push("</tr>")
                }),
                $(".saleRecordBody .tableBody").html(a.join("")),
                0 != $(".saleRecordFooter .pagenation").length) {
                    var t = [];
                    if (t.push("<div class='pagePrev'>"),
                    1 == n ? t.push("<span>" + LS.prevPager + "</span>") : t.push("<a hidefocus='true' class='g_border' href='javascript:;'><span>" + LS.prevPager + "</span></a>"),
                    t.push("</div>"),
                    1 == n ? t.push("<div class='pageNo'><span>1</span></div>") : t.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>1</span></a></div>"),
                    2 < n - 2) {
                        t.push("<div class='pageEllipsis'><span>...</span></div>");
                        for (var i = n - 2; i < n; i++)
                            t.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + i + "</span></a></div>")
                    } else
                        for (i = 2; i < n; i++)
                            t.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + i + "</span></a></div>");
                    if (1 != n && n != e.totalPage && t.push("<div class='pageNo'><span>" + n + "</span></div>"),
                    n + 2 < e.totalPage - 1) {
                        for (i = n + 1; i <= n + 2; i++)
                            t.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + i + "</span></a></div>");
                        t.push("<div class='pageEllipsis'><span>...</span></div>")
                    } else
                        for (i = n + 1; i <= e.totalPage - 1; i++)
                            t.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + i + "</span></a></div>");
                    n == e.totalPage ? t.push("<div class='pageNo'><span>" + e.totalPage + "</span></div>") : t.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + e.totalPage + "</span></a></div>"),
                    t.push("<div class='pageNext'>"),
                    n == e.totalPage ? t.push("<span>" + LS.nextPager + "</span>") : t.push("<a hidefocus='true' class='g_border' href='javascript:;'><span>" + LS.nextPager + "</span></a>"),
                    t.push("</div>"),
                    $(".saleRecordFooter .pagenation").children().remove(),
                    $(".saleRecordFooter .pagenation").html(t.join(""))
                }
            }
        },
        error: function t() {
            Fai.ing(LS.js_systemError)
        }
    })
}
,
Site.loadPdShareMore = function() {
    if (Fai.isIE6() || Fai.isIE7()) {
        Fai.isIE6() && ($(".productOpera .shareInfo").css({
            top: "20px",
            left: "0"
        }),
        $(".productOpera .pdShareDiv").css({
            position: "relative"
        }),
        $(".pdShare").css({
            "padding-top": "0"
        })),
        Fai.isIE7() && ($(".productOpera .shareInfo").css({
            top: "26px",
            left: "0"
        }),
        $(".productOpera .pdShareDiv").css({
            position: "relative"
        }));
        var e = $(".productOpera .m_shareCtrl a").length;
        e < 7 ? 0 == e ? $(".productOpera .shareInfo").width("75px").height("30px") : $(".productOpera .shareInfo").width(28 * e + "px") : $(".productOpera .shareInfo").width("200px"),
        $(".productOpera .shareInfo").width < 75 && $(".productOpera .shareInfo").width("75px")
    }
    $(".pdShareDiv .pdShare,.pdShareDiv .shareInfo ").hover(function() {
        $(".pdShareDiv .pdShare").children("div").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover")
    }, function() {
        $(".pdShareDiv .pdShare").children("div").addClass("text").removeClass("productOperaTextColor").removeClass("operaTextHover")
    }),
    $(".pdShare .share ,.pdShare .pdShareIcon").hover(function() {
        $(".pdShare .share").addClass("productOperaTextColor").addClass("operaTextHover"),
        $(".pdShare .pdShareIcon").addClass("productOperaTextColor").addClass("operaTextHover")
    }),
    $("body").on({
        hover: function n() {
            $("#pdShare").addClass("pdShareHover"),
            $("#pdShare").css({
                "z-index": "999"
            }),
            $(".shareInfo_J").css({
                "z-index": "998"
            }),
            $(".productOpera .shareInfo").show(),
            $(".shareDown").addClass("shareUp"),
            $(".share").addClass("operaTextHover"),
            (Fai.isIE6() || Fai.isIE7()) && $(".productOpera").css("z-index", "1000")
        },
        mouseleave: function r() {
            $("#pdShare").removeClass("pdShareHover"),
            $("#pdShare").css({
                "z-index": ""
            }),
            $(".shareInfo_J").css({
                "z-index": ""
            }),
            $(".productOpera .shareInfo").hide(),
            $(".shareDown").removeClass("shareUp"),
            $(".share").removeClass("operaTextHover"),
            (Fai.isIE6() || Fai.isIE7()) && $(".productOpera").css("z-index", "")
        }
    }, ".productOpera .pdShare,.productOpera .shareInfo");
    var t = $(".pd_J .pd_t_l_left_J")
      , i = t.find(".imgContainer_J")
      , a = t.find(".shareContainer_J")
      , o = a.find(".shareInfo_J");
    (Fai.isIE6() || Fai.isIE7()) && t.width(i.width()),
    setTimeout(function() {
        var e = a.height()
          , t = o.height()
          , i = o.find(".shareMore_J");
        e + 5 < t ? $(i).click(function() {
            a.hasClass("s_expand") ? (a.removeClass("s_expand"),
            i.find("div").removeClass("s_more_up")) : (a.addClass("s_expand"),
            i.find("div").addClass("s_more_up"))
        }) : i.remove()
    }, 0)
}
,
Site.loadPdSerOnLineMore = function() {
    (Fai.isIE6() || Fai.isIE7()) && (Fai.isIE6() && ($(".productOpera .serOnlineInfo").css({
        top: "22px",
        left: "0"
    }),
    $(".productOpera .pdSerOnlineDiv").css({
        position: "relative"
    }),
    $(".pdSerOnline").css({
        "padding-top": "0"
    })),
    Fai.isIE7() && ($(".productOpera .serOnlineInfo").css({
        top: "28px",
        left: "0"
    }),
    $(".productOpera .pdSerOnlineDiv").css({
        position: "relative"
    }))),
    $(".pdSerOnline,.serOnlineInfo").hover(function() {
        $(".pdSerOnline .pdKefuIcon").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text"),
        $(".pdSerOnline .serOnline").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text")
    }, function() {
        $(".pdSerOnline .pdKefuIcon").addClass("text").removeClass("operaTextHover").removeClass("productOperaTextColor"),
        $(".pdSerOnline .serOnline").addClass("text").removeClass("operaTextHover").removeClass("productOperaTextColor")
    }),
    $(".pdSerOnline .pdKefuIcon,.pdSerOnline .serOnline").hover(function() {
        $(".pdSerOnline .pdKefuIcon").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text"),
        $(".pdSerOnline .serOnline").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text")
    }),
    $("body").on({
        hover: function n() {
            $("#pdSerOnline").addClass("pdSerOnlineHover"),
            $("#pdSerOnline").css({
                "z-index": "999"
            }),
            $(".J_serOnlineInfo").css({
                "z-index": "998"
            }),
            $(".productOpera .serOnlineInfo").show(),
            $(".serOnlineDown").addClass("serOnlineUp"),
            $(".pdSerOnline").addClass("operaTextHover"),
            (Fai.isIE6() || Fai.isIE7()) && $(".productOpera").css("z-index", "1000");
            var i = 0
              , a = 0
              , e = 0
              , o = 0;
            $(".serOnline-list:odd").each(function(e, t) {
                i = i > $(t).width() ? i : $(t).width(),
                o++
            }),
            $(".serOnline-list:even").each(function(e, t) {
                a = a > $(t).width() ? a : $(t).width(),
                o++
            });
            var t = $("#pdSerOnline").width();
            (e = i + a + 27) < t ? ($(".productDetail .serOnline-service").css("width", t + 5 + "px"),
            $(".productDetail .serOnline-list:odd").css("width", i + t - e + 5 + "px")) : ($(".productDetail .serOnline-service").css("width", e + 5 + "px"),
            $(".productDetail .serOnline-list:odd").css("width", i + "px")),
            $(".productDetail .serOnline-list:even").css("width", a + "px"),
            1 < o && $(".productDetail .serOnline-list:even").css("margin-right", "27px")
        },
        mouseleave: function e() {
            $("#pdSerOnline").removeClass("pdSerOnlineHover"),
            $("#pdSerOnline").css({
                "z-index": ""
            }),
            $(".J_serOnlineInfo").css({
                "z-index": ""
            }),
            $(".productOpera .serOnlineInfo").hide(),
            $(".serOnlineDown").removeClass("serOnlineUp"),
            $(".pdSerOnline").removeClass("operaTextHover"),
            (Fai.isIE6() || Fai.isIE7()) && $(".productOpera").css("z-index", "")
        }
    }, ".productOpera .pdSerOnline,.productOpera .serOnlineInfo")
}
,
Site.onlineServiceNameHoverShow = function() {
    var o = $("<div id='fk-seronlineDockTip' class='resizableToShowWidth dockTip' style='border:solid 1px #999999;background:#f9fafb;slineHeight:20px;fontSize:20px;padding:2px 5px;color:black;border-radius:2px;'></div>");
    $(".J_onlineServiceNameHoverShow").mouseover(function(e) {
        var t = this
          , i = $(t).offset().left + 12
          , a = $(t).offset().top + 30;
        o.html($(this).attr("_title")).css({
            left: i || 0,
            top: a || 0
        }).show(),
        $("body").append(o),
        setTimeout(function() {
            o.remove()
        }, 2e3)
    }).mouseout(function() {
        o.remove()
    })
}
,
Site.onlineServiceWaWaIsOnline = function() {
    $(".J_aliWaWa").each(function() {
        var t = this
          , e = $(t).attr("account");
        $(t).siblings(".serOnline-img").addClass("wawaImgOnline"),
        null != e && void 0 !== e && $.ajax({
            type: "post",
            dataType: "json",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/product_h.jsp?cmd=wafNotCk_isAliWaWaOnline&account=" + Fai.encodeUrl(e),
            success: function i(e) {
                null != e.data && (0 == e.data ? ($(t).addClass("serOnlineOffline"),
                $(t).siblings(".serOnline-img").removeClass("wawaImgOnline").addClass("wawaImgOffline")) : $(t).removeClass("serOnlineOffline"))
            }
        })
    }),
    $(".J_taobaoWaWa ").each(function() {
        var t = this
          , e = $(t).attr("account");
        $(t).siblings(".serOnline-img").addClass("wawaImgOnline"),
        null != e && void 0 !== e && $.ajax({
            type: "post",
            dataType: "json",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/product_h.jsp?cmd=wafNotCk_isTaobaoWaWaOnline&account=" + Fai.encodeUrl(e),
            success: function i(e) {
                null != e.data && (0 == e.data ? ($(t).addClass("serOnlineOffline"),
                $(t).siblings(".serOnline-img").removeClass("wawaImgOnline").addClass("wawaImgOffline")) : $(t).removeClass("serOnlineOffline"))
            }
        })
    })
}
,
Site.loadProductSlide = function(e) {
    var t = $(".slide");
    if (!Fai.isNull(t)) {
        var i = t.find(".imgDiv")
          , a = i.attr("faiWidth")
          , o = i.attr("faiHeight")
          , n = i.width()
          , r = i.height()
          , s = t.find(".imgGroupDiv");
        s.each(function() {
            var e = $(this).width()
              , t = $(this).height()
              , i = $(this).find("img")
              , a = i.attr("faiWidth")
              , o = i.attr("faiHeight")
              , n = Fai.Img.calcSize(a, o, e, t, Fai.Img.MODE_SCALE_FILL);
            i.css({
                width: n.width + "px",
                height: n.height + "px",
                display: "block"
            })
        });
        var l = Fai.Img.calcSize(a, o, n, r, Fai.Img.MODE_SCALE_DEFLATE_FILL);
        i.find("img").css({
            width: l.width + "px",
            height: l.height + "px",
            display: "block"
        });
        var d = i.find(".cloud-zoom");
        if (1 == d.length && (d.attr("rel", "adjustX:-4, adjustY:-4, maxWidth:" + n + ", maxHeight:" + r + ',position:"inside"'),
        d.CloudZoom({
            imageHeight: o,
            imageWidth: a
        })),
        1 < s.length) {
            var c = 1 == d.length ? "true" : "false";
            Site.multiPhoto($("#imgDivs" + e), $("#imgDiv" + e), {
                leftIconID: "leftIcon" + e,
                rightIconID: "rightIcon" + e,
                zoom: c
            })
        }
    }
}
,
Site.loadProductPicList = function(e, f, g, t, v) {
    var i = $("#module" + e);
    Fai.isNull(i) || (i.find(".productPicListForm").each(function() {
        var e = $(this).parent(".productList").attr("picwidth")
          , t = $(this).parent(".productList").attr("picheight")
          , i = $(this).attr("faiHeight")
          , a = $(this).parent(".productList").css("width")
          , o = e;
        if (a && "undefined" != a && (o = .5 * parseFloat(a.replace("px", ""))),
        !Fai.isNull(i)) {
            var n = $(this).attr("faiWidth")
              , r = $(this).attr("faiWidthOr")
              , s = $(this).attr("faiHeightOr")
              , l = $(this).find(".imgDiv")
              , d = l.find("img")
              , c = l.find("a")
              , p = (l.find(".flagContainer"),
            {
                width: e,
                height: t
            });
            if (2 == f) {
                var u = r / s;
                e / t <= u ? (n = u * t + "px",
                i = t + "px",
                d.css("width", u * t + "px"),
                d.css("height", t + "px"),
                o < u * t && d.css("marginLeft", (o - u * t) / 2 + "px"),
                c.css("maxWidth", o - 4.5 + "px")) : (i = (n = e) / u,
                d.css("height", e / u + "px"),
                d.css("width", e + "px"),
                d.css("marginTop", (t - e / u) / 2 + "px")),
                l.css("overflow", "hidden"),
                l.css("height", p.height + "px"),
                l.css("width", p.width + "px")
            } else
                "number" == typeof f && 0 == f ? (n = (p = Fai.Img.calcSize($(this).attr("faiWidthOr"), $(this).attr("faiHeightOr"), e, t, Fai.Img.MODE_SCALE_FILL)).width,
                i = p.height,
                d.css("width", p.width + "px"),
                d.css("height", p.height + "px"),
                l.css("height", p.height + "px"),
                d.css({
                    marginTop: "",
                    marginLeft: ""
                }),
                l.css("height", p.height + "px"),
                l.css("width", p.width + "px")) : "number" != typeof f && f ? (g && (e = n,
                t = i),
                p = Fai.Img.calcSize($(this).attr("faiWidthOr"), $(this).attr("faiHeightOr"), e, t, Fai.Img.MODE_SCALE_FILL),
                d.css("width", p.width + "px"),
                d.css("height", p.height + "px"),
                l.css("height", t + "px"),
                d.css({
                    marginTop: "",
                    marginLeft: ""
                })) : (d.css("width", p.width + "px"),
                d.css("height", p.height + "px"),
                d.css({
                    marginTop: "",
                    marginLeft: ""
                }),
                l.css("height", t + "px"),
                l.css("width", e + "px"));
            if ("number" == typeof f || f || g || (l.css("height", "160px"),
            l.css("width", "160px"),
            d.css("width", "160px"),
            d.css("height", "160px"),
            d.css({
                marginTop: "",
                marginLeft: ""
            })),
            (4 == v || 5 == v || 9 == v) && 0 < $(this).find(".fifth_mallBuy").length) {
                var m = $(this).find(".fifth_mallBuy")
                  , h = $(this).find(".fifth_mallBuy").width();
                m.css({
                    "line-height": h + "px",
                    height: h + "px",
                    width: h + "px"
                })
            }
        }
    }),
    Site.initContentSplitLine(e, t))
}
,
Site.loadProductDoublePicList = function(e, g, v, _) {
    var t = $("#module" + e);
    if (!Fai.isNull(t)) {
        var S = 0
          , b = 0;
        t.find(".doubleProduct").each(function() {
            $(this).find(".productDoublePicListForm").each(function() {
                var e = $(this).attr("faiHeight");
                if (!Fai.isNull(e)) {
                    var t = $(this).attr("faiWidth")
                      , i = $(this).find(".imgDiv")
                      , a = i.find("img")
                      , o = $(this).find(".propList")
                      , n = $(this).attr("faiwidthor")
                      , r = $(this).attr("faiheightor");
                    a.css("width", 0),
                    a.css("height", 0);
                    var s = i.width()
                      , l = i.height();
                    if (v) {
                        var d = $(this).attr("newWidth")
                          , c = $(this).attr("newHeight");
                        l = d && c ? (s = d,
                        c) : (s = t,
                        e)
                    }
                    var p = {
                        width: s,
                        height: l
                    };
                    if (2 == g) {
                        var u = n / r;
                        s / l <= u ? (a.css("width", u * l + "px"),
                        a.css("height", l + "px"),
                        a.css("marginLeft", (s - u * l) / 2 + "px")) : (a.css("height", s / u + "px"),
                        a.css("width", s + "px"),
                        a.css("marginTop", (l - s / u) / 2 + "px")),
                        i.css("overflow", "hidden")
                    } else
                        "number" == typeof g && 0 == g ? p = Fai.Img.calcSize($(this).attr("faiWidthOr"), $(this).attr("faiHeightOr"), s, l, Fai.Img.MODE_SCALE_FILL) : "number" != typeof g && g && (p = Fai.Img.calcSize($(this).attr("faiWidthOr"), $(this).attr("faiHeightOr"), s, l, Fai.Img.MODE_SCALE_FILL)),
                        a.css("width", p.width + "px"),
                        a.css("height", p.height + "px"),
                        i.css("height", l + "px"),
                        a.css({
                            marginTop: "",
                            marginLeft: ""
                        });
                    if (Number(l) > Number(b) && (b = Number(l) > Number(o.height()) ? l : o.height(),
                    S = Number(b) + 20 + Number($(this).css("margin-top").replace("px", "")) + Number($(this).css("margin-bottom").replace("px", "")),
                    $(this).parent().css("height", S + "px")),
                    (4 == _ || 5 == _ || 9 == _) && 0 < $(this).find(".fifth_mallBuy").length) {
                        var m = $(this).find(".fifth_mallBuy")
                          , h = $(this).find(".fifth_mallBuy").width();
                        m.css({
                            "line-height": h + "px",
                            width: h + "px",
                            height: h + "px"
                        })
                    }
                    if (2 == _) {
                        var f = $($(this).find(".propList .productName a")).width();
                        $($(this).find(".propList .productName")).width() < f && $($(this).find(".propList .productName")).css("text-align", "left")
                    }
                }
            }),
            b = S = 0
        })
    }
}
,
Site.loadProductHotTextList = function(e, p, u, m) {
    var t = $("#module" + e);
    Fai.isNull(t) || (t.find(".productHotTextListHot").each(function() {
        var e = $(this).attr("faiHeight");
        if (!Fai.isNull(e)) {
            $(this).attr("faiWidth");
            var t = $(this).find(".imgDiv")
              , i = t.width()
              , a = t.height()
              , o = $(this).attr("faiwidthor")
              , n = $(this).attr("faiheightor")
              , r = t.find("img")
              , s = {
                width: i,
                height: a
            };
            if (2 == p) {
                var l = o / n;
                i / a <= l ? r.css({
                    width: l * a + "px",
                    height: a + "px",
                    marginLeft: (i - l * a) / 2 + "px"
                }) : r.css({
                    width: i + "px",
                    height: i / l + "px",
                    marginLeft: (a - i / l) / 2 + "px"
                }),
                u || t.css({
                    height: a + "px",
                    width: a + "px",
                    overflow: "hidden"
                })
            } else
                0 == p && (s = Fai.Img.calcSize($(this).attr("faiWidthOr"), $(this).attr("faiHeightOr"), i, a, Fai.Img.MODE_SCALE_FILL)),
                r.css({
                    width: s.width + "px",
                    height: s.height + "px",
                    marginLeft: "",
                    marginTop: ""
                }),
                u || t.css("height", s.height + "px");
            if ((4 == m || 5 == m || 9 == m) && 0 < $(this).find(".fifth_mallBuy").length) {
                var d = $(this).find(".fifth_mallBuy")
                  , c = $(this).find(".fifth_mallBuy").width();
                d.css({
                    "line-height": c + "px",
                    height: c + "px",
                    width: c + "px"
                })
            }
        }
    }),
    t.find(".productHotTextListTable").each(function() {
        for (var e = $(this).find("tr"), t = 0; t < e.length; ++t) {
            var i = e[t]
              , a = $(i).find("td");
            $(a[1]).css("width", "30%");
            var o = a.length
              , n = 100;
            n -= 30;
            for (var r = 2; r < o; ++r) {
                if (r == a.length - 1)
                    if ($(a[r]).attr("buybtn")) {
                        $(a[r]).css("width", "15%"),
                        n -= 15;
                        break
                    }
                var s = parseInt(n / o);
                $(a[r]).css("width", s + "%")
            }
        }
        $(this).mouseover(function() {
            $(this).addClass("g_hover")
        }).mouseleave(function() {
            $(this).removeClass("g_hover")
        })
    }),
    t.find(".productHotTextListProp").each(function() {
        for (var e = $(this).find("tr"), t = 0; t < e.length; ++t) {
            var i = e[t]
              , a = $(i).find("td");
            $(a[1]).css({
                width: "30%",
                "margin-left": "5px"
            });
            var o = a.length
              , n = 100;
            n -= 30;
            for (var r = 2; r < o; ++r) {
                if (r == a.length - 1)
                    if ($(a[r]).attr("buybtn")) {
                        $(a[r]).css({
                            width: "15%",
                            "margin-right": "5px"
                        }),
                        n -= 15;
                        break
                    }
                var s = parseInt(n / o);
                $(a[r]).css("width", s + "%")
            }
        }
    }))
}
,
Site.unifiedAttrVal = function(e, t, i) {
    var a = e.find(t)
      , o = 0;
    a.each(function() {
        var e = $(this).css(i);
        e = parseInt(e),
        o < e && (o = e)
    }),
    0 !== o && a.each(function() {
        $(this).css(i, o + "px")
    })
}
,
Site.initProductListTopFlag = function(i) {
    function a(e, t, i) {
        var a, o, n = Fai.top["productList" + t.moduleId], r = n && n.data ? n.data.picScale : -1;
        o = e.siblings(".J_productListTopFlag"),
        2 == r || parseInt(e.css("margin-left").replace("px")),
        a = e.position(),
        o.css({
            top: a.top
        })
    }
    $("#" + i.productParent).find("." + i.product).each(function() {
        var e, t = $(this);
        0 < $(this).find(".J_productListTopFlag").length && ((e = $(this).find("img")).is(":visible") ? a(e, i, t) : e.on("load", function() {
            a($(this), i, t)
        }))
    })
}
,
Site.loadProductGallery = function(e) {
    (new Date).getMilliseconds();
    var t, i, a = e.id, o = e.scale, n = (e.cus,
    e.paramLayoutType || ""), p = $("#module" + a), u = p.find("div.product-container"), r = p.find(".product-gallery").attr("_bordertype"), s = parseInt(p.find(".product-gallery").attr("_borderwidth")), l = (p.find(".product-gallery").attr("_bgtype"),
    Fai.top._manageMode ? Site.isVueStyleGrayTest(a) ? Site.getModuleAttrPattern(a).vdl.hnhc : Site.getModuleAttrPattern(a).productList.hnhc : e.heightCorrect);
    if (4 <= e.effType && e.effType < 6 && (6 == n && Site.clearImageEffectContent_product(a, "sixth_ProductPanel"),
    8 == n && Site.clearImageEffectContent_product(a, "eighth_ProductPanel"),
    Site.clearImageEffectContent_product(e.id, "prop-container")),
    0 != u.length) {
        for (var d = $(u[0]).children("div.img-container"), c = d.width(), m = d.height(), h = 0; h < u.length; h++) {
            var f = (Y = (d = $(u[h]).children("div.img-container")).find("img")).attr("fHeight")
              , g = Y.attr("fWidth");
            if (2 == o) {
                var v = Y.attr("fWidthOr") / Y.attr("fHeightOr");
                c / m <= v ? (Y.css("width", v * m + "px"),
                Y.css("height", m + "px"),
                Y.css("marginLeft", (c - v * m) / 2 + "px")) : (Y.css("height", c / v + "px"),
                Y.css("width", c + "px"),
                Y.css("marginTop", (m - c / v) / 2 + "px")),
                d.css("overflow", "hidden")
            } else if (0 == o) {
                var _ = Fai.Img.calcSize(g, f, c, m, Fai.Img.MODE_SCALE_FILL);
                Y.width(_.width),
                Y.height(_.height),
                t = _.width,
                i = _.height,
                Y.css({
                    marginTop: "",
                    marginLeft: ""
                })
            } else
                Y.width(c),
                Y.height(m),
                t = c,
                i = m,
                Y.css({
                    marginTop: "",
                    marginLeft: ""
                });
            Fai.top._manageMode && (Y.data("realWidth", t),
            Y.data("realHeight", i))
        }
        var S = p.find(".gallery-control")
          , b = p.find(".gallery-control-prev")
          , x = p.find(".gallery-control-next")
          , w = b.height()
          , y = b.width()
          , C = u.first()
          , F = C.children("div.img-container")
          , I = F.outerWidth(!0)
          , P = F.outerHeight(!0)
          , k = C.find("div.paramNewStyle")
          , L = 0
          , T = C.find("div.prop-container")
          , M = 0;
        0 < u.find(".fk-productName").length && u.find(".fk-productName").height("auto"),
        0 < T.length && (l ? $.each(T, function(e) {
            $(T[e]).is(":visible") && (M += $(T[e]).outerHeight(!0))
        }) : $.each(T, function(e) {
            M += $(T[e]).outerHeight(!0)
        })),
        0 < k.length && $.each(k, function(e) {
            L += $(k[e]).outerHeight(!0)
        });
        var B = P + M + L;
        u.height(B),
        u.width(I),
        6 == n ? (u.find("div.prop-container").width("100%"),
        u.find(".sixth_ProductName").width("80%")) : u.find("div.prop-container").width(I);
        var A = p.find("div.product-gallery-preview")
          , N = p.find(".fk-productListForm").outerHeight() - p.find(".fk-productListForm").height();
        0 < N && (B += N),
        A.height(B);
        var D = (ae = p.find("div.product-gallery-inner")).outerHeight();
        if (D < w) {
            var j = D - ae.height()
              , E = Math.ceil((w - D) / 2)
              , O = Math.ceil(j / 2) + E;
            ae.css("padding-top", O + "px").css("padding-bottom", O + "px")
        }
        var J = ae.outerHeight() / 2 - w / 2;
        S.css("top", J + "px");
        var R = 1
          , U = b.innerWidth() - y
          , H = p.find("div.formMiddleContent").width() - U - 2 * y
          , W = C.outerWidth(!0)
          , q = C.outerWidth()
          , z = W - q;
        W < H && (R = parseInt(H / W));
        var V = R * W - z;
        A.width(V);
        var G = u.length
          , Q = G % R == 0 ? G / R : Math.floor(G / R) + 1;
        p.find("div.product-gallery-container").width(G * W);
        for (var Z = u.length < R ? u.length : R, K = 0; K < Z; K++) {
            var Y;
            (Y = $(u[K]).find("img")).attr("src") || Y.attr("src", Y.attr("lzurl")),
            Y.show()
        }
        b.addClass("gallery-control-prev-disabled"),
        1 == Q && x.addClass("gallery-control-next-disabled"),
        b.click(function() {
            var e = $(this);
            if (e.hasClass("gallery-control-prev-disabled"))
                return !1;
            var t = e.parent()
              , i = t.find("div.product-gallery-container")
              , a = t.find(".gallery-control-next");
            if (a.hasClass("gallery-control-next-disabled") && a.removeClass("gallery-control-next-disabled"),
            0 == i.position().left || i.is(":animated"))
                return !1;
            var o = p.find(".product-gallery-preview").width() + z;
            i.animate({
                left: "+=" + o + "px"
            }, function() {
                0 == i.position().left && e.addClass("gallery-control-prev-disabled")
            })
        }),
        x.click(function() {
            var e = $(this);
            if (e.hasClass("gallery-control-next-disabled"))
                return !1;
            var t = e.parent()
              , i = t.find("div.product-gallery-container")
              , a = t.find(".gallery-control-prev");
            a.hasClass("gallery-control-prev-disabled") && a.removeClass("gallery-control-prev-disabled");
            var o = p.find(".product-gallery-preview").width() + z
              , n = -(Q - 1) * o;
            if (left_position = parseInt(i.css("left").replace("px")),
            left_position == n || i.is(":animated"))
                return !1;
            if (!e.data("loading_finish"))
                for (var r = Math.abs(left_position) / (W * R) + 1, s = r <= 1 ? 1 * R : r * R, l = s + R > u.length ? u.length : s + R, d = s; d < l; d++) {
                    var c = $(u[d]).find("img");
                    c.attr("src") || c.attr("src", c.attr("lzurl")),
                    c.show()
                }
            i.animate({
                left: "-=" + o + "px"
            }, function() {
                parseInt(i.css("left").replace("px", "")) == n && (e.data("loading_finish", !0),
                e.addClass("gallery-control-next-disabled"))
            })
        })
    } else {
        var X = p.find("div.addNoProTips");
        p.find("div.product-gallery").height(100).html(X)
    }
    if (p.find(".product-container").each(function() {
        var e = $(this).find(".eighth_ProductPanel")
          , t = e.find(".eighth_Pricepanel")
          , i = e.find(".fk_rightPiecePanel");
        e.length && (1 == r ? (t.css("left", "4px"),
        i.css("right", "16px")) : 2 == r && (t.css("left", 4 + s + "px"),
        i.css("right", 16 + s + "px"),
        e.css("bottom", 84 + s + "px")))
    }),
    0 < p.find(".prop-wordwrap-container").length) {
        p.find(".product-container").height("auto");
        var ee = 0
          , te = 0
          , ie = 0;
        p.find(".product-container").each(function() {
            var e = $(this).height();
            te = $(this).outerHeight(),
            ee < e && (ee = e),
            ie < te && (ie = te)
        }),
        p.find(".product-container").each(function() {
            $(this).height(ee)
        }),
        p.find(".product-gallery-preview").height(ie);
        var ae = p.find("div.product-gallery-inner");
        S = p.find(".gallery-control"),
        w = (b = p.find(".gallery-control-prev")).height(),
        J = ae.outerHeight() / 2 - w / 2;
        S.css("top", J + "px")
    }
    if (6 == n) {
        var oe = 0;
        p.find(".product-container").each(function() {
            var e = $(this).outerHeight();
            oe < e && (oe = e)
        }),
        0 == p.find(".prop-wordwrap-container").length ? p.find(".sixth_ProductPanel").css({
            bottom: "40px"
        }) : (p.find(".product-gallery-preview").height(oe + 30),
        p.find(".sixth_ProductPanel").css({
            bottom: ""
        })),
        p.find(".sixth_mallBuy").parent().height("auto")
    }
    if (0 != u.length)
        for (h = 0; h < u.length; h++)
            if (0 < $(u[h]).find(".fifth_mallBuy").length) {
                var ne = $(u[h]).find(".fifth_mallBuy")
                  , re = $(u[h]).find(".fifth_mallBuy").width();
                ne.css({
                    "line-height": re + "px"
                })
            }
    0 < p.find(".prop-wordwrap-container").length && Site.unifiedAttrVal(p, ".prop-wordwrap-container", "height"),
    p.find(".product-container").each(function() {
        var e = $($(this).find(".J_containerPropListInfo .productNameContent")).width();
        $($(this).find(".J_containerPropListInfo .fk-productName")).width() < e && $($(this).find(".J_containerPropListInfo .productNameA .fk-productName")).css("text-align", "left")
    })
}
,
Site.loadProductSmallPic = function($e) {
    var ye = $e.id
      , Ce = ($e.scale,
    $e.cus,
    $e.dataObjs)
      , Fe = $e.bigPicObjs
      , Ie = $e.tmp_allow_marketprice
      , Pe = $e.tmp_allow_price
      , ke = $e.tmp_allow_price_menberLevel
      , e = parseInt($(".productSmallPicForms").attr("_mallbuybtntype"))
      , t = $(".productSmallPicForms").attr("_mallbuybtncolor")
      , i = $e.bookingOpen;
    ke = ke && "title = '" + ke + "'";
    var l = $("#" + ye)
      , Le = $e.paramLayoutType;
    l.on("Fai_onModuleSizeChange", function() {
        Site.smallPicModuleFix(ye)
    }),
    l.on("Fai_onModuleLayoutChange", function() {
        Site.smallPicModuleFix(ye)
    });
    var f = l.find("div.productSmallPicBox")
      , a = l.find(".smallPicUpForms").height()
      , o = l.find(".smallPicDownForms").height();
    l.find(".productSmallPicForms").height(a + o);
    var n = l.find(".productSmallPicForms").width()
      , r = n - 2 * l.find(".smallPic_control").outerWidth(!0) - l.find(".containerLeft").width()
      , s = 150 < r ? r : 150;
    l.find(".containerRight").width(s),
    l.find(".smallPicUpForms").css("width", n + "px"),
    l.find(".smallPicDownForms").css("width", n + "px");
    var d = l.find(".smallPrePic_control").outerWidth(!0);
    l.find(".smallPicDownFormsMid").css("width", n - 2 * d - 20 + "px");
    var c = l.find(".containerLeft").width() + l.find(".containerRight").width();
    l.find(".smallPicUpFormsMid").width(c);
    var p = l.find(".smallPrePicContainer")
      , Te = l.find(".smallPrePicOuter").outerWidth(!0)
      , u = 0;
    Fai.isIE6() && (u = 2),
    p.width(Te * f.length + u);
    p.width();
    var m = l.find(".smallPicUpFormsMid").outerHeight() / 2 - 30;
    l.find(".smallPic_control").css("top", m + "px");
    var h = l.find(".smallPicDownFormsMid").width()
      , Me = f.length
      , Be = Math.floor(h / Te) + 1
      , g = Me % Be == 0 ? Me / Be : Math.floor(Me / Be) + 1;
    1 == g && h < p.width() && (g = 2);
    for (var v = f.length < Be ? f.length : Be, _ = 0; _ < v; _++) {
        var S = $(f[_]).find("img");
        Site.loadProductSmallPicItem(S)
    }
    var Ae = "default"
      , Ne = !0
      , De = !1
      , je = !1
      , Ee = !1
      , Oe = !1
      , Je = "style='cursor:pointer;"
      , Re = ""
      , Ue = ""
      , b = 0;
    switch ((Fai.isIE6() || Fai._isIE7 || i && 8 <= e) && (e = 0),
    e) {
    case 1:
        Ae = "first",
        b = 1,
        Je += "border-radius:5px;height:33px;line-height:33px;";
        break;
    case 2:
        Ae = "second",
        b = 2,
        Je += "border-radius:5px;height:31px;line-height:31px;",
        De = !0;
        break;
    case 3:
        Ae = "third",
        b = 3,
        Je += "border-radius:0px;height:33px;line-height:33px;";
        break;
    case 4:
        Ae = "fourth",
        b = 4,
        Je += "border-radius:0px;height:31px;line-height:31px;",
        De = !0;
        break;
    case 5:
        Ae = "fifth",
        b = 5,
        Je += "border-radius:16px;height:33px;line-height:33px;";
        break;
    case 6:
        Ae = "sixth",
        b = 6,
        Je += "border-radius:16px;height:31px;line-height:31px;",
        De = !0;
        break;
    case 7:
        Ae = "seventh",
        b = 7;
        break;
    case 8:
        Ae = "eight",
        b = 8,
        De = !0;
        break;
    case 9:
        Ae = "nine",
        Je += "border-radius:2px;min-height:46px;min-width:46px;display:table;",
        b = 9,
        Ee = De = !0;
        break;
    case 10:
        Ae = "ten",
        Je += "border-radius:2px;min-height:48px;min-width:48px;",
        b = 10,
        je = !0;
        break;
    case 11:
        Ae = "eleven",
        Je += "min-height:48px;min-width:48px;display:table;",
        b = 11,
        Ee = De = !0;
        break;
    case 12:
        Ae = "twelve",
        Je += "min-height:50px;min-width:50px;",
        b = 12,
        je = !0;
        break;
    case 13:
        Ae = "thirteen",
        Je += "display:table;",
        b = 13,
        Oe = Ee = !0;
        break;
    default:
        Ne = !1
    }
    var He = Ne ? "fk-newMallBuyBtn" : "fk-mallBuy";
    !Ne && i && (He = "fk-mallBuy fk-bookingIcon");
    var We = ""
      , qe = 7 <= b && b <= 13;
    De ? (Je += "background:none;border:1px solid " + t + ";",
    We = "style='color: " + t + ";'") : Oe || (Je += "border:none;background-color: " + t + ";",
    We = "style='color: white;'"),
    je && (Re = "fk-mallBgCar",
    We = "style='color: " + t + ";"),
    Ee && (Ue = "faisco-icons-mallBuyCar",
    We = "style='color: " + t + ";font-size: " + (Oe ? 32 : 30) + "px;display:table-cell;",
    Je += "color: " + t + ";",
    11 == b && (We += "padding-top: 3px;"),
    We += 13 == b ? "vertical-align:bottom;" : "vertical-align:middle;"),
    Oe && (Je += "border:none;background:none;"),
    2 != Le && 3 != Le || (Je += "width:60%;"),
    We += "'",
    Je = Ne ? Je += "'" : "";
    var ze = l.find(".smallPicDownForms .g_imgPrev")
      , Ve = l.find(".smallPicDownForms .g_imgNext")
      , Ge = l.find(".smallPicUpForms .g_control_prev")
      , Qe = l.find(".smallPicUpForms .g_control_next");
    function Ze(e) {
        Site.updateThumbnailForSmallPicForms({
            $module: e,
            listCls: ".smallPicDownForms",
            itemCls: ".smallPrePicOuter"
        })
    }
    function x() {
        var e = $(this);
        if (e.hasClass("smallPic-control-prev-disabled"))
            return !1;
        var t = e.parents(".smallPicDownForms").find(".smallPrePicContainer")
          , i = Math.floor(l.find(".smallPicDownFormsMid").width() / Te) + 1
          , a = e.parents(".smallPicDownForms").find(".g_imgNext");
        a.hasClass("smallPic-control-next-disabled") && a.removeClass("smallPic-control-next-disabled");
        var o = parseInt(t.css("left").replace("px"))
          , n = Math.abs(o) / Te
          , r = 0 < n - i + 1 ? n - i + 1 : 0;
        0 == r && e.addClass("smallPic-control-prev-disabled");
        var s = (n - r) * Te;
        if (t.is(":animated"))
            return !1;
        t.animate({
            left: "+=" + s + "px"
        }),
        Ze(l)
    }
    function w() {
        var e = $(this)
          , t = $("#" + ye);
        if (e.hasClass("smallPic-control-next-disabled"))
            return !1;
        var i = e.parents(".smallPicDownForms").find(".smallPrePicContainer")
          , a = e.parents(".smallPicDownForms").find(".g_imgPrev")
          , o = Math.floor(t.find(".smallPicDownFormsMid").width() / Te) + 1;
        a.hasClass("smallPic-control-prev-disabled") && a.removeClass("smallPic-control-prev-disabled");
        var n, r, s, l = (o - 1) * Te, d = parseInt(i.css("left").replace("px")), c = Math.abs(d) / Te, p = Me - 1 < c + o - 1 ? Me - 1 : c + o - 1, u = t.find(".smallPicDownFormsMid").width();
        if (i.is(":animated"))
            return !1;
        Me - 1 <= p ? ((s = Me - 1) - (r = c) + 1) * Te <= u && (n = !0,
        e.addClass("smallPic-control-next-disabled")) : s = (r = p) + o - 1;
        for (var m = r; m <= s; m++) {
            var h = $(f[m]).find("img");
            Site.loadProductSmallPicItem(h)
        }
        n || i.animate({
            left: "-=" + l + "px"
        }),
        Ze(t)
    }
    function y() {
        if ($(this).hasClass("bigPic-control-prev-disabled"))
            return !1;
        var e = $("#" + ye)
          , t = e.find(".smallPicDownForms").find(".smallPrePicContainer")
          , i = Math.floor(e.find(".smallPicDownFormsMid").width() / Te) + 1
          , a = e.data("positionLeft")
          , o = Math.abs(a) / Te
          , n = Me - 1 < o + i - 1 ? Me - 1 : o + i - 1
          , r = e.find(".smallPrePicSelected").parent()
          , s = r.index();
        if (o <= s && s <= n ? s == o && (a += Te) : (a = -(s - 1) * Te,
        t.css("left", "0px")),
        t.is(":animated"))
            return !1;
        $(".img_ProductPhoto_LR_Border").remove(),
        $(".img_ProductPhoto_TB_Border").remove(),
        $(".editLayer").remove();
        var l = r.prev().find("div.productSmallPicBox");
        e.find("div.containerLeft").attr("productId", l.attr("proid")).attr("productName", l.find("img").attr("productname")).attr("topClassName", l.find("img").attr("classname")).attr("topSwitch", l.find("img").attr("topswitch")).attr("id", "containerLeft_ProdsmallPic" + l.attr("proid")),
        t.animate({
            left: a + "px"
        }, function() {
            r.prev().find("div.productSmallPicBox").click()
        })
    }
    function C() {
        if ($(this).hasClass("bigPic-control-next-disabled"))
            return !1;
        var e = $("#" + ye)
          , t = $(".smallPicDownForms").find(".smallPrePicContainer")
          , i = Math.floor(e.find(".smallPicDownFormsMid").width() / Te) + 1
          , a = e.data("positionLeft")
          , o = Math.abs(a) / Te
          , n = Me - 1 < o + i - 1 ? Me - 1 : o + i - 1
          , r = e.find(".smallPrePicSelected").parent()
          , s = r.index();
        if (o <= s && s <= n ? s == n && (a -= 2 * Te) : (a = -(s - 1) * Te,
        t.css("left", "0px")),
        t.is(":animated"))
            return !1;
        $(".img_ProductPhoto_LR_Border").remove(),
        $(".img_ProductPhoto_TB_Border").remove(),
        $(".editLayer").remove();
        var l = r.next().find("div.productSmallPicBox");
        e.find("div.containerLeft").attr("productId", l.attr("proid")).attr("productName", l.find("img").attr("productname")).attr("topClassName", l.find("img").attr("classname")).attr("topSwitch", l.find("img").attr("topswitch")).attr("id", "containerLeft_ProdsmallPic" + l.attr("proid")),
        t.animate({
            left: a + "px"
        }, function() {
            r.next().find("div.productSmallPicBox").click()
        })
    }
    function F() {
        var e = $(this).find("img");
        Site.loadProductSmallPicItem($(this).parent().next().find("img")),
        Site.loadProductSmallPicItem(e);
        var t = $("#" + ye)
          , i = t.find(".smallPicUpFormsMid .containerLeft img");
        t.find(".containerRight").children().remove();
        var a = $e.scale
          , o = $(this).parent();
        o.siblings(".smallPrePicOuter").find("div.productSmallPicBox").removeClass("smallPrePicSelected"),
        $(this).addClass("smallPrePicSelected"),
        o.siblings(".smallPrePicOuter").removeClass("smallPrePicOuterClick").removeClass("g_borderSelected"),
        o.addClass("smallPrePicOuterClick").addClass("g_borderSelected"),
        t.find("#bigImgDetail").remove(),
        t.find(".smallPic_td").append(i);
        var n = $(this).attr("proid")
          , r = Fe[n].bigPicThumbPath
          , s = Fe[n].bWidth
          , l = Fe[n].bHeight
          , d = t.find(".containerLeft").width()
          , c = t.find(".containerLeft").height();
        if (0 == a) {
            var p = Fai.Img.calcSize(s, l, d, c, Fai.Img.MODE_SCALE_FILL);
            i.width(p.width),
            i.height(p.height)
        } else
            i.css("width", d).css("height", c);
        (N = []).push("<div class='loadingImg' style='width:" + d + "px;height:" + c + "px;'>"),
        N.push("<table cellspacing='0' cellpadding='0' class='loadingImgTable' style='width:" + d + "px;height:" + c + "px;'><tbody><tr><td class='loadingImgTd'>"),
        N.push("<div class='ajaxLoading2' style='margin:0 auto;'></div>"),
        N.push("</td></tr></tbody></table>"),
        N.push("</div>"),
        t.find(".smallPic_td").append(N.join("")),
        i.attr("src") == r && i.attr("src", ""),
        i.attr("src", r),
        i.css("margin", "auto");
        var u = e.attr("alt");
        i.attr("alt", u),
        t.find(".containerLeft").height(t.find(".containerLeft").height()),
        t.find(".containerLeft").css("overflow", "hidden");
        var m = $(this).find("img")
          , h = m.attr("ifcenter")
          , f = m.attr("ifshowname")
          , g = m.attr("ifwordwrap")
          , v = m.attr("ifmallbtn")
          , _ = m.attr("aAttribute")
          , S = (m.attr("click"),
        m.attr("btntext"))
          , b = m.attr("topswitch")
          , x = m.attr("salepromotionopen");
        x = "false" !== x;
        var w = m.attr("joincoupon");
        w = "false" !== w;
        var y = m.attr("couponFlagClass")
          , C = m.attr("saletype")
          , F = m.attr("tempm")
          , I = m.attr("temps")
          , P = m.attr("tempn")
          , k = m.attr("backgroundcolor")
          , L = m.attr("recordmarketpriceallow")
          , T = m.attr("recordmallpriceallow");
        L = "false" !== L,
        T = "false" !== T,
        _manageMode && ("off" != b || $e.productSelect ? t.find(".J_productListTopFlag").text("").removeClass("f-productListTopFlag") : t.find(".J_productListTopFlag").text("置顶").addClass("f-productListTopFlag")),
        x ? 1 == C ? 1 == I ? t.find(".J_productListTopPromotion").text(Fai.format(LS.js_salePromotionDisCount, F)).css({
            "padding-left": "5px",
            "padding-right": "5px",
            background: k
        }) : t.find(".J_productListTopPromotion").text(Fai.format(LS.salePromotionLapse, F)).css({
            "padding-left": "5px",
            "padding-right": "5px",
            background: k
        }) : 2 == C && t.find(".J_productListTopPromotion").text(Fai.format(LS.js_salePromotionFullReduce, F, P)).css({
            "padding-left": "5px",
            "padding-right": "5px",
            background: k
        }) : t.find(".J_productListTopPromotion").text("").attr("style", "padding :0;"),
        je ? S = "&nbsp;" : Ee && (S = ""),
        i.wrap("<a id='bigImgDetail' " + _ + "></a>"),
        Fe[n].knowPdLabel && t.find("#bigImgDetail").append(Fe[n].knowPdLabel);
        var M = "text-align:center"
          , B = "margin:0 auto;";
        "false" == h && (M = "text-align:left",
        B = "margin-left:0;"),
        2 == Le && (M = "text-align:center"),
        3 != Le && 4 != Le && 5 != Le && 9 != Le || (M = "text-align:left");
        var A = "word-break:normal;white-space:normal;overflow:visible;text-overflow:clip";
        "false" == g && (A = "white-space:nowrap;overflow:hidden;text-overflow:ellipsis");
        var N = []
          , D = t.find(".containerRight").width();
        if (N.push("<div class='productParamContainer' style='width:" + D + "px;" + B + (4 == Le || 9 == Le ? "position:absolute;bottom:10px;" : "") + "'>"),
        "true" == f) {
            var j = ""
              , E = "style='width:" + (D - 20) + "px;" + A + ";'";
            if (2 == Le ? j = "second_ProductName" : 3 == Le ? j = "third_ProductName" : 4 == Le || 9 == Le ? j = "fourth_ProductName" : 5 == Le ? j = "fifth_ProductName fk_paramNewStyle5 " : E = "style='width:" + (D - 20) + "px;margin:auto;" + M + ";margin-top:20px;margin-bottom:8px;" + A + ";'",
            w) {
                var O = "";
                2052 != Fai.top._lcid && 1028 != Fai.top._lcid && "faisco-icons-S000188",
                1 == Le && (O = "style='margin-top:-2px'"),
                2 != Le && 4 != Le && 9 != Le || (O = "style='margin-top:0px'"),
                N.push("<a " + _ + " title='" + $(this).find("img").attr("productname") + "' style='text-decoration:none;position:relative;'><div class='" + j + " fk-productName' " + E + "><span class='productNameCoupon " + y + "'" + O + "></span><span class='productNameContent'>" + Fai.encodeHtml($(this).find("img").attr("productname")) + "</span></div></a>")
            } else
                N.push("<a " + _ + " title='" + $(this).find("img").attr("productname") + "' style='text-decoration:none;'><div class='" + j + " fk-productName' " + E + "><span class='productNameContent' style='margin-left:0;'>" + Fai.encodeHtml($(this).find("img").attr("productname")) + "</span></div></a>");
            2 == Le && N.push("<div class='dotted'></div>")
        }
        for (var J = Ce[n], R = (Ce.lcid.lcid,
        Ce.lcid._isLogin,
        ""), U = "", H = !1, W = !1, q = "", z = "", V = "", G = "", Q = !1, Z = !1, K = 0; K < J.length; K++) {
            var Y = J[K]
              , X = Y.vip
              , ee = Y.name
              , te = Y.value
              , ie = Y.type
              , ae = Y.title;
            allow = Y.allow;
            var oe = z = ""
              , ne = ae ? "title = " + ae : "";
            if (12 == ie) {
                if (2 == Le || 3 == Le || 4 == Le || 5 == Le || 9 == Le) {
                    W = !0,
                    U = te;
                    continue
                }
                oe = "g_minor mallMarketPrice fk-prop-marketprice"
            }
            if (11 == ie && X && (V = ee,
            z = " g_stress"),
            11 == ie) {
                if (2 == Le || 3 == Le || 4 == Le || 5 == Le || 9 == Le) {
                    H = !0,
                    R = te;
                    continue
                }
                oe = x && 2 != C ? " g_minor mallMarketPrice fk-prop-marketprice" : " g_stress mallPrice fk-prop-price"
            }
            T && 12 == ie && 2 != C && x || L && !T && x && -1 == ie && 2 != C || !L && 11 == ie && x && 2 != C || (L || T || -1 != ie) && (-1 != ie || 2 != Le && 3 != Le && 4 != Le && 5 != Le && 9 != Le ? (17 == ie ? oe = " fk-prop-sales" : 13 == ie ? oe = " fk-prop-amount" : -1 == ie ? oe = " g_stress mallPrice fk-prop-price" : 11 != ie && 12 != ie && (oe = " fk-prop-other"),
            N.push("<div class='" + (5 == Le ? "fk_paramNewStyle5" : "") + "' style='" + (2 == Le || 3 == Le ? "color:#767676;" : "") + " margin:auto;height:20px;line-height:20px;padding: 5px 0;width:" + (D - 20) + "px;" + M + ";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;'>"),
            ($e.propNameShow || 11 == ie && X) && N.push("<span class='fk-prop-name" + z + "'>" + ee + "：</span>"),
            N.push("<span class='" + oe + "' " + ne + ">" + te + "</span>"),
            N.push("</div>")) : (Q = !0,
            G = te,
            Z = allow))
        }
        if ((2 == Le || 3 == Le) && (H || W)) {
            if (N.push("<div class='g_stress fk_productSmallPicPiece second_Pricepanel' style='" + (3 == Le ? "text-align:left;" : "text-align:center;") + "'>"),
            Q && Z && (N.push("<span class='fk-prop-price-other'>" + G.slice(0, 1) + "</span>"),
            N.push("<span class='second_Price fk-prop-price'>" + G.slice(1).split(".")[0] + "<span class='fk-prop-price-other priceDecimal'>." + G.slice(1).split(".")[1] + "</span></span>")),
            H) {
                var re = "second_Price fk-prop-price"
                  , se = " fk-prop-price-other"
                  , le = "fk-prop-price-other priceDecimal";
                x && 2 != C && (le = se = re = " second_Marketprice fk-prop-marketprice"),
                Pe ? ("会员价" == V ? N.push("<span class='fk-prop-name g_stress'>" + V + "：</span>") : "VIP" == V && N.push("<div class='vip-show-dashed g_borderSelected g_stress'>VIP</div>"),
                N.push("<span class='" + se + "'>" + R.slice(0, 1) + "</span>"),
                N.push("<span class='" + re + "'>" + R.slice(1).split(".")[0] + "<span class='" + le + "'>." + R.slice(1).split(".")[1] + "</span></span>")) : (N.push("<span class='fk-prop-price second_Price' style='margin:0;'>价格：</span>\n"),
                N.push("<span class='propValue' " + ke + ">" + R + "</span>\n"))
            }
            !W || 2 != C && x || Ie && N.push("<span class='second_Marketprice fk-prop-marketprice'>" + U.slice(0, 1) + U.slice(1) + "</span>"),
            N.push("</div>")
        }
        if (4 == Le || 9 == Le) {
            if (q = qe ? "fk_fifth_mallBuy" : "fk_fourth_mallBuy",
            N.push("<div style='width: 100%; display: inline-block;text-align:left; margin-left:10px; padding-top:6px;'>"),
            N.push("<div style='width:" + (H && Pe ? "55%" : "100%") + ";display:inline-block;'>"),
            H && Pe && (N.push("<div style='display:inline-block; width:auto;'>"),
            "会员价" == V ? N.push("<span class='fk-prop-name g_stress'>" + V + "：</span>") : "VIP" == V && N.push("<div class='vip-show-dashed g_borderSelected g_stress'>VIP</div>"),
            N.push("</div>")),
            N.push("<div class='g_stress fk_productSmallPicPiece fourth_Pricepanel' style='display:inline;'>"),
            Q && Z && (N.push("<span class='fk-prop-price-other'>" + G.slice(0, 1) + "</span>"),
            N.push("<span class='fourth_Price fk-prop-price'>" + G.slice(1).split(".")[0] + "<span class='fk-prop-price-other priceDecimal'>." + G.slice(1).split(".")[1] + "</span></span>")),
            H) {
                var de = "fourth_Price fk-prop-price";
                se = "fk-prop-price-other",
                le = "fk-prop-price-other priceDecimal";
                x && 2 != C && (se = de = "fourth_Marketprice fk-prop-marketprice",
                le = " fourth_Marketprice fk-prop-marketprice"),
                Pe ? (N.push("<span class='" + se + "'>" + R.slice(0, 1) + "</span>"),
                N.push("<span class='" + de + "'>" + R.slice(1).split(".")[0] + "<span class='" + le + "'>." + R.slice(1).split(".")[1] + "</span></span>")) : (N.push("<span class='fk-prop-price fourth_Price' style='margin:0;'>价格：</span>\n"),
                N.push("<span class='propValue' " + ke + ">" + R + "</span>\n"))
            }
            !W || 2 != C && x || Ie && N.push("<span class='fourth_Marketprice fk-prop-marketprice'>" + U.slice(0, 1) + U.slice(1) + "</span>"),
            N.push("</div>"),
            N.push("</div>"),
            "true" == v && (qe ? N.push("<div style='position:absolute; display: inline-block; width: 30%; right:0;" + (Oe ? "bottom:6px;" : "bottom:12px;") + M + ";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;'>") : N.push("<div style='position:absolute; display: inline-block; width: 40%; bottom:6px; " + (De ? "right:2px;" : "right:0;overflow:hidden;") + " height:29px;line-height:29px;padding: 5px 0;" + M + ";text-overflow:ellipsis;white-space:nowrap;'>"),
            N.push("<a hidefocus='true' class='" + q + " " + He + " fk-" + Ae + "BtnStyle " + Re + "' " + _ + " " + Je + ">\n"),
            N.push("<span " + We + " class='" + Ue + "' >" + S + "</span>\n"),
            N.push("</a>"),
            N.push("</div>")),
            N.push("</div>")
        }
        5 == Le && (q = qe || !Ne ? "fk_fifth_mallBuy" : "fk_fourth_mallBuy",
        N.push("<div class='fk_mallbuy5' style='width: 100%; display: inline-block; position:relative; height:" + (H && Pe ? "auto" : "60px") + ";'>"),
        N.push("<div style='width:" + (H && Pe && "会员价" == V ? "80%" : "100%") + ";text-align:left;padding-left:10px;display:inline-block;'>"),
        H && Pe && "会员价" == V && (N.push("<div style='width:auto;margin-bottom:3px;text-align:left;display:inline-block;'>"),
        N.push("<span class='fk-prop-name g_stress'>" + V + "：</span></div>")),
        N.push("<div class='g_stress fk_productSmallPicPiece fifth_Pricepanel' style='display:inline;'>"),
        H && (Pe ? (N.push("<span class='fk-prop-price-other'>" + R.slice(0, 1) + "</span>"),
        N.push("<span class='fifth_Price fk-prop-price'>" + R.slice(1).split(".")[0] + "<span class='fk-prop-price-other priceDecimal'>." + R.slice(1).split(".")[1] + "</span></span>")) : (N.push("<span class='fk-prop-price fifth_Price' style='margin:0;'>价格：</span>\n"),
        N.push("<span class='propValue'" + ke + ">" + R + "</span>\n"))),
        W && Ie && N.push("<span class='fifth_Marketprice fk-prop-marketprice'>" + U.slice(0, 1) + U.slice(1) + "</span>"),
        N.push("</div>"),
        N.push("</div>"),
        "true" == v && (qe || !Ne ? N.push("<div style='position:absolute; display: inline-block; width: 30%; right:0;" + (Oe ? "bottom:2px;" : "bottom:8px;") + M + ";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;'>") : N.push("<div style='position:absolute; display: inline-block; width: 40%; bottom:6px; " + (De ? "right:2px;" : "right:0;overflow:hidden;") + " height:29px;line-height:29px;padding: 5px 0;" + M + ";text-overflow:ellipsis;white-space:nowrap;'>"),
        N.push("<a hidefocus='true' class='" + q + " " + He + " fk-" + Ae + "BtnStyle " + Re + "' " + _ + " " + Je + ">\n"),
        N.push("<span " + We + " class='" + Ue + "' >" + S + "</span>\n"),
        N.push("</a>"),
        N.push("</div>")),
        N.push("</div>")),
        "true" == v && 4 != Le && 5 != Le && 9 != Le && (3 == Le && (q = "fk_third_mallBuy"),
        1 == Le && (N.push("<div style='margin-left:9px;height: auto;padding: 5px 0;width:" + (D - 20) + "px;" + M + ";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;'>"),
        N.push("<a hidefocus='true' class='fk_first_mallBuy " + He + " " + Ae + "BtnStyle' " + _ + " " + Je + ">\n"),
        N.push("<span " + We + ">" + S + "</span>\n"),
        N.push("</a>")),
        2 != Le && 1 != Le && (N.push("<div style='margin-left:9px;height:36px;line-height:36px;padding: 5px 0;width:" + (D - 20) + "px;" + M + ";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;'>"),
        N.push("<a hidefocus='true' class='" + q + " " + He + " " + Ae + "BtnStyle' " + _ + " " + Je + ">"),
        N.push("<span " + We + ">" + S + "</span>\n"),
        N.push("</a>")),
        N.push("</div>")),
        "true" == v && 2 == Le && (2 == Le && (q = "fk_second_mallBuy"),
        N.push("<div style='display: inline-block; bottom: 0; position: absolute;'>"),
        N.push("<div style='margin-left:9px;height:36px;line-height:36px;padding: 5px 0;width:" + (D - 20) + "px;" + M + ";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;'>"),
        N.push("<a hidefocus='true' class='" + q + " " + +He + " " + Ae + "BtnStyle' " + _ + " " + Je + ">"),
        N.push("<span " + We + ">" + S + "</span>\n"),
        N.push("</a>"),
        N.push("</div>")),
        N.push("</div>"),
        t.find(".containerRight").append(N.join(""));
        var ce = t.find(".smallPrePicSelected").parent().index();
        Ge.removeClass("bigPic-control-prev-disabled"),
        Qe.removeClass("bigPic-control-next-disabled"),
        ze.removeClass("smallPic-control-prev-disabled"),
        Ve.removeClass("smallPic-control-next-disabled");
        var pe = t.find(".smallPicDownForms").find(".smallPrePicContainer")
          , ue = parseInt(pe.css("left").replace("px"))
          , me = Math.abs(ue) / Te
          , he = t.find(".smallPicDownFormsMid").width();
        if (0 == ce && (Ge.addClass("bigPic-control-prev-disabled"),
        0 == ue && ze.addClass("smallPic-control-prev-disabled")),
        ce == Me - 1 && (Qe.addClass("bigPic-control-next-disabled"),
        (Me - 1 - me + 1) * Te <= he && (Me - Be - 1) * Te <= ue && Ve.addClass("smallPic-control-next-disabled")),
        t.data("positionLeft", ue),
        t.find("div.containerLeft").attr("productId", n).attr("productName", e.attr("productname")).attr("topClassName", e.attr("classname")).attr("topSwitch", e.attr("topswitch")).attr("id", "containerLeft_ProdsmallPic" + n),
        5 == Le || 4 == Le || 9 == Le) {
            var fe = $(".fk_fifth_mallBuy")
              , ge = $(".fk_fifth_mallBuy").width();
            fe.css({
                "line-height": ge + "px",
                height: ge + "px"
            });
            var ve = $(".fk_paramNewStyle5")
              , _e = $(".fk_mallbuy5").height()
              , Se = $(".smallPicUpFormsMid").find(".containerRight").height()
              , be = 0
              , xe = 0;
            $.each(ve, function(e) {
                xe += $(ve[e]).outerHeight(!0)
            }),
            be = Se - xe - _e,
            $(".fk_mallbuy5").css({
                "margin-top": be + "px"
            })
        }
        var we = t.find(".containerRight .productParamContainer .productNameContent").width();
        t.find(".containerRight .productParamContainer .fk-productName").width() < we && t.find(".containerRight .productParamContainer .fk-productName").css("text-align", "left"),
        Ze(t)
    }
    ze.addClass("smallPic-control-prev-disabled"),
    1 == g && Ve.addClass("smallPic-control-next-disabled"),
    Ge.addClass("bigPic-control-prev-disabled"),
    1 == Me && Qe.addClass("bigPic-control-next-disabled"),
    l.find(".smallPicUpForms").mouseover(function() {
        $(".smallPic_control").css("display", "block")
    }).mouseleave(function() {
        $(".smallPic_control").css("display", "none")
    }),
    f.mouseover(function() {
        $(this).parent().addClass("smallPrePicOuterHover").addClass("g_border").addClass("g_borderHover")
    }),
    f.mouseleave(function() {
        $(this).parent().removeClass("smallPrePicOuterHover").removeClass("g_borderHover").removeClass("g_border")
    }),
    l.find(".smallPicUpFormsMid").mouseenter(function() {
        var e = $(this).parents(".form").attr("id");
        1 == _manageMode && Site.initModuleProductSmallPicItemManage(e, $e.productSelect, $e.isOpenImgEff)
    }).mouseleave(function() {
        var e = $(this).parents(".form").find("div.containerLeft");
        1 == _manageMode && ($e.isOpenImgEff ? Site.removeEditLayer(e) : Site.removeEditLayer(e, null, 106))
    }),
    ze.click(x),
    Ve.click(w),
    Ge.click(y),
    Qe.click(C),
    f.click(F),
    f.eq(0).click(),
    Ze(l)
}
,
Site.fixProductMallPosition = function(e, t, i) {
    t = t || "",
    i = i || "";
    var a = $("#module" + e).find("." + t)
      , o = $("#module" + e).find(".productListForms")
      , n = o.length ? o.attr("_mallbuybtntype") : -1
      , r = !1;
    4 == i || 9 == i ? 6 < n && (r = !0) : 5 == i && (6 < n || 0 == n) && (r = !0),
    a.each(function() {
        $(this).height(),
        $(this).find(".propList").find(".propDiv");
        var e = $(this).width() / 2;
        $(this).find(".propList").find(".fifth_ProductName a").width();
        2 != i && 3 != i && 5 != i && 9 != i && !r || (0 < $(this).find(".propList").find(".paramNewStyle").length && $(this).find(".propList").find(".paramNewStyle").css({
            "margin-top": "40px"
        }),
        0 < $(this).find(".imgDiv").length && ($(".productPicListForm").attr("faiwidth") < e && $(this).find(".imgDiv").css({
            width: "50%"
        }),
        $(this).find(".imgDiv").find("td").css({
            "vertical-align": "middle"
        })),
        0 < $(this).find(".propList").length && $(this).find(".propList").css({
            "vertical-align": "middle"
        }))
    })
}
,
Site.removeProductSmallPicMask = function(e) {
    $("#module" + e).find(".loadingImg").remove()
}
,
Site.loadProductSmallPicItem = function(e) {
    e.attr("src") || e.attr("src", e.attr("lzurl"));
    var t = parseInt(e.attr("sWidth"))
      , i = parseInt(e.attr("sHeight"))
      , a = i < t ? "width" : "height";
    71 < (i < t ? t : i) ? e.css(a, 71) : e.css("width", t).css("height", i),
    e.show()
}
,
Site.smallPicModuleFix = function(e) {
    var t = $("#" + e)
      , i = t.find("div.productSmallPicBox")
      , a = t.find(".productSmallPicForms").width()
      , o = a - 2 * t.find(".smallPic_control").outerWidth(!0) - t.find(".containerLeft").width()
      , n = 150 < o ? o : 150;
    t.find(".containerRight").width(n),
    t.find(".smallPicUpForms").css("width", a + "px"),
    t.find(".smallPicDownForms").css("width", a + "px");
    var r = t.find(".smallPrePic_control").outerWidth(!0);
    t.find(".smallPicDownFormsMid").css("width", a - 2 * r - 20 + "px");
    var s = t.find(".containerLeft").width() + t.find(".containerRight").width();
    $(".smallPicUpFormsMid").width(s);
    var l = t.find(".smallPrePicContainer")
      , d = $(".smallPrePicOuter").outerWidth(!0)
      , c = 0;
    Fai.isIE6() && (c = 2),
    l.width(d * i.length + c);
    l.width();
    var p = t.find(".smallPicDownFormsMid").width()
      , u = i.length
      , m = Math.floor(p / d) + 1
      , h = u % m == 0 ? u / m : Math.floor(u / m) + 1;
    1 == h && p < l.width() && (h = 2);
    var f = t.find(".smallPicDownForms .g_imgPrev")
      , g = t.find(".smallPicDownForms .g_imgNext");
    t.find(".smallPicUpForms .g_control_prev"),
    t.find(".smallPicUpForms .g_control_next");
    1 == h && (f.addClass("smallPic-control-prev-disabled"),
    g.addClass("smallPic-control-next-disabled"));
    for (var v = i.length < m ? i.length : m, _ = 0; _ < v; _++) {
        var S = $(i[_]).find("img");
        S.attr("src") || Site.loadProductSmallPicItem(S)
    }
    t.find(".smallPrePicSelected").click()
}
,
Site.productInfoSwitchClick = function(e, t) {
    var i, a, o = 1, n = 1, r = !Fai.top._isTemplateVersion2 && t ? " selected fk_productDetailBorderSelect" : " selected g_borderSelected fk_productDetailBorderSelect";
    (a = $("#pdInfoSwitchTable")).find(".tabSwitch").removeClass("selected g_borderSelected fk-mainBorderColor fk-mainFontColor fk_productDetailBorderSelect"),
    a.find(".tabSwitch div").removeClass("pdNoBottomBorder"),
    a.find(".J_tabTitleWrap").removeClass("f-tabTitleWrap f-tabTitleWrap2"),
    t ? (n = o = 0,
    $("#pdInfoSwitchTable .J_paramBorder").show()) : ($("#pdInfoSwitchTable .tabSwitch:last").css({
        "border-right-width": o + "px"
    }),
    $("#pdInfoSwitchTable .tabSwitch").css({
        "border-left-width": n + "px"
    }));
    var s = 0;
    "comm" == e ? (i = $("#accComSwitch"),
    $("#msgBoardCaptchaImg").attr({
        src: "/validateCode.jsp?" + 1e3 * Math.random()
    }),
    i.addClass(r),
    $(".selected div").addClass("pdNoBottomBorder"),
    t && i.addClass("fk-mainBorderColor fk-mainFontColor"),
    $("#detailedDesc").hide(),
    $("#saleRecordPanel").hide(),
    $("#productCatalogDesc").hide(),
    $("#accumulativeComment").show(),
    $("#cusTab5").hide(),
    $("#cusTab6").hide(),
    $("#cusTab7").hide(),
    $("#cusTab8").hide(),
    t ? (i.prev(".J_paramBorder ").hide(),
    i.next(".J_paramBorder ").hide(),
    0 == i.index(".tabSwitch") ? i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap2") : i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap")) : i.next().css({
        "border-left-width": "0"
    }),
    $("#pdInfoSwitchTable .tabSwitch").each(function(e) {
        if ("accComSwitch" == $(this).attr("id"))
            return s = e,
            !0
    })) : "detail" == e ? ((i = $("#detDescSwitch")).addClass(r),
    $(".selected div").addClass("pdNoBottomBorder"),
    t && i.addClass("fk-mainBorderColor fk-mainFontColor"),
    $("#accumulativeComment").hide(),
    $("#saleRecordPanel").hide(),
    $("#detailedDesc").show(),
    $("#productCatalogDesc").hide(),
    $("#cusTab5").hide(),
    $("#cusTab6").hide(),
    $("#cusTab7").hide(),
    $("#cusTab8").hide(),
    t ? (i.prev(".J_paramBorder ").hide(),
    i.next(".J_paramBorder ").hide(),
    0 == i.index(".tabSwitch") ? i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap2") : i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap")) : i.next().css({
        "border-left-width": "0"
    }),
    $("#pdInfoSwitchTable .tabSwitch").each(function(e) {
        if ("detDescSwitch" == $(this).attr("id"))
            return s = e,
            !0
    })) : "sale" == e ? ((i = $("#saleRecordSwitch")).addClass(r),
    $(".selected div").addClass("pdNoBottomBorder"),
    t && i.addClass("fk-mainBorderColor fk-mainFontColor"),
    $("#accumulativeComment").hide(),
    $("#detailedDesc").hide(),
    $("#saleRecordPanel").show(),
    $("#productCatalogDesc").hide(),
    $("#cusTab5").hide(),
    $("#cusTab6").hide(),
    $("#cusTab7").hide(),
    $("#cusTab8").hide(),
    t ? (i.prev(".J_paramBorder ").hide(),
    i.next(".J_paramBorder ").hide(),
    0 == i.index(".tabSwitch") ? i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap2") : i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap")) : i.next().css({
        "border-left-width": "0"
    }),
    $("#pdInfoSwitchTable .tabSwitch").each(function(e) {
        if ("saleRecordSwitch" == $(this).attr("id"))
            return s = e,
            !0
    })) : "catalog" == e ? ((i = $("#productCatalogSwitch")).addClass(r),
    $(".selected div").addClass("pdNoBottomBorder"),
    t && i.addClass("fk-mainBorderColor fk-mainFontColor"),
    $("#accumulativeComment").hide(),
    $("#detailedDesc").hide(),
    $("#saleRecordPanel").hide(),
    $("#productCatalogDesc").show(),
    $("#cusTab5").hide(),
    $("#cusTab6").hide(),
    $("#cusTab7").hide(),
    $("#cusTab8").hide(),
    t ? (i.prev(".J_paramBorder ").hide(),
    i.next(".J_paramBorder ").hide(),
    0 == i.index(".tabSwitch") ? i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap2") : i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap")) : i.next().css({
        "border-left-width": "0"
    }),
    $("#pdInfoSwitchTable .tabSwitch").each(function(e) {
        if ("productCatalogSwitch" == $(this).attr("id"))
            return s = e,
            !0
    })) : ((i = $("#" + e)).addClass(r),
    $(".selected div").addClass("pdNoBottomBorder"),
    t && i.addClass("fk-mainBorderColor fk-mainFontColor"),
    $("#accumulativeComment").hide(),
    $("#saleRecordPanel").hide(),
    $("#detailedDesc").hide(),
    $("#productCatalogDesc").hide(),
    $("#cusTab5").hide(),
    $("#cusTab6").hide(),
    $("#cusTab7").hide(),
    $("#cusTab8").hide(),
    $("#" + e.substring(6)).show(),
    t ? (i.prev(".J_paramBorder ").hide(),
    i.next(".J_paramBorder ").hide(),
    0 == i.index(".tabSwitch") ? i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap2") : i.find(".J_tabTitleWrap").addClass("f-tabTitleWrap")) : i.next().css({
        "border-left-width": "0"
    }),
    $("#pdInfoSwitchTable .tabSwitch").each(function(e) {
        if ("flag" == $(this).attr("id"))
            return s = e,
            !0
    })),
    document.cookie = "tabSwitch=" + s
}
,
Site.initModuleProductComment = function(a, h, e) {
    function f(e) {
        $(".J_comment_circle").show(),
        $.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax/productComment_h.jsp",
                oldPath: Site.genAjaxUrl("productComment_h.jsp")
            }),
            data: {
                cmd: "getWafNotCk_getPc",
                moduleId: h,
                productId: a,
                pageNo: e
            },
            success: function m(e) {
                try {
                    e = JSON.parse(e)
                } catch (u) {
                    return void console.log(u)
                }
                if (e.success) {
                    var t = Fai.decodeHtml(e.commentHtml);
                    $(".pagenation").children().each(function(e, t) {
                        $(t).off("click")
                    }),
                    $("#productCommAndPagenation").empty().append(t);
                    var i = []
                      , a = e.paginationData ? e.paginationData.curPage : 1
                      , o = e.paginationData ? e.paginationData.pageSum : 1
                      , n = a - 2 <= 0 ? 1 : a - 2
                      , r = o <= a + 2 ? o : a + 2;
                    2 < Math.abs(a - 1) && 1 != n && i.push(1),
                    2 < n && i.push("...");
                    for (var s = n; s <= r; s++)
                        i.push(s);
                    r < o - 1 && i.push("..."),
                    2 < Math.abs(a - o) && o != r && i.push(o);
                    var l = document.createDocumentFragment()
                      , d = $("<div></div>");
                    if (d.attr("id", "pagenation" + h),
                    d.addClass("pagenation"),
                    1 < o) {
                        $pagePre = $("<div></div>"),
                        $pagePre.addClass("pagePrev"),
                        $pagePre.html("<span>上一页</span>"),
                        $pagePre.on("click", function() {
                            1 < a && 1 < o && f(a - 1)
                        }),
                        d.append($pagePre);
                        for (var c = 0; c < i.length; c++)
                            $tempDiv = $("<div></div>"),
                            "..." === i[c] ? $tempDiv.css({
                                cursor: "auto"
                            }) : function(e) {
                                $tempDiv.on("click", function() {
                                    i[e] != a && f(i[e])
                                })
                            }(c),
                            a === i[c] ? ($tempDiv.html("<span>" + i[c] + "</span>"),
                            $tempDiv.addClass("pageNo J_pageSelect fk-pageSelect")) : ($tempDiv.html("<i>" + i[c] + "</i>"),
                            $tempDiv.addClass("pageNo pageNoOther")),
                            d.append($tempDiv);
                        $pageNext = $("<div></div>"),
                        $pageNext.addClass("pageNext"),
                        $pageNext.html("<span>下一页</span>"),
                        $pageNext.on("click", function() {
                            a < o && f(a + 1)
                        }),
                        d.append($pageNext)
                    }
                    if (l.appendChild(d[0]),
                    $("#productCommAndPagenation").append(l),
                    e.commentExtInfo)
                        for (var p in e.commentExtInfo)
                            Site.initModuleProductCommentItemManage(p, e.commentExtInfo[p])
                } else
                    Site.logMonitor(5930, !0)
            },
            error: function t() {
                Site.logMonitor(5930, !0),
                Root.Message.warning({
                    message: "网络繁忙，请刷新后重试",
                    autoHide: !1
                })
            },
            complete: function i() {
                $(".J_comment_circle").hide()
            }
        })
    }
    f(e = e || 1)
}
,
Site.initModuleProductCommentItemManage = function(e, t) {
    Fai.top.$("#" + e).mouseover(function() {
        Site.addEditLayer(e, t, 1)
    }).mouseleave(function() {
        Site.removeEditLayer(e)
    })
}
,
Site.siteCommImgFileUpload = function(e, t, i, c, p) {
    if (Fai.isIE()) {
        var a = i.split(",")
          , o = {
            file_post_name: "Filedata",
            upload_url: "/ajax/commUpsiteimg_h.jsp",
            button_placeholder_id: t,
            file_size_limit: e + "MB",
            button_image_type: 3,
            file_queue_limit: c,
            button_width: "50px",
            button_height: "50px",
            button_cursor: SWFUpload.CURSOR.HAND,
            button_image_url: _resRoot + "/image/site/msgUpImg/upload1.jpg",
            requeue_on_error: !1,
            post_params: {
                ctrl: "Filedata",
                app: 21,
                type: 0,
                fileUploadLimit: 5,
                isSiteForm: !0
            },
            file_types: a.join(";"),
            file_dialog_complete_handler: function n(e) {
                this._allSuccess = !1,
                this.startUpload()
            },
            file_queue_error_handler: function r(e, t, i) {
                switch (t) {
                case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
                    Fai.ing(LS.siteFormSubmitCheckFileSizeErr, !0);
                    break;
                case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:
                    Fai.ing(LS.siteFormSubmitFileUploadNotAllow, !0);
                    break;
                case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
                    Fai.ing(Fai.format(LS.siteFormSubmitFileUploadOneTimeNum, c), !0);
                    break;
                default:
                    Fai.ing(LS.siteFormSubmitFileUploadReSelect, !0)
                }
            },
            upload_success_handler: function s(e, t) {
                var i = jQuery.parseJSON(t);
                this._allSuccess = i.success,
                this._sysResult = i.msg,
                i.success ? (Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(e.name)), !0),
                onFileUploadEvent("upload", i)) : Fai.ing(LS.siteFormSubmitFileUploadFile + e.name + "   " + i.msg)
            },
            upload_error_handler: function l(e, t, i) {
                -280 == t ? Fai.ing(LS.siteFormSubmitFileUploadFileCancle, !1) : -270 == t ? Fai.ing(Fai.format(LS.siteFormSubmitFileUploadFileExist, Fai.encodeHtml(e.name)), !0) : Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
            },
            upload_complete_handler: function d(e) {
                if (e.filestatus == SWFUpload.FILE_STATUS.COMPLETE) {
                    null != c && void 0 !== c || (c = 5);
                    var t = $("#msgBoardAddImgTb").eq(0)
                      , i = t.find("td").length;
                    if (c + 1 <= i)
                        return Fai.ing(LS.siteFormSubmitFileUploadOfMax, !0),
                        void t.find("td").eq(t.find("td").length - 1).css("display", "none");
                    setTimeout(function() {
                        swfObj.startUpload()
                    }, swfObj.upload_delay)
                } else
                    e.filestatus == SWFUpload.FILE_STATUS.ERROR && Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSvrBusy, Fai.encodeHtml(e.name)))
            },
            upload_start_handler: function u(e) {
                Fai.enablePopupWindowBtn(0, "save", !1),
                Fai.ing(LS.siteFormSubmitFileUploadPrepare, !1)
            },
            view_progress: function m(e, t, i, a) {
                Fai.ing(LS.siteFormSubmitFileUploadIng + a + "%", !1)
            }
        };
        p && (o.button_image_url = _resRoot + "/image/site/msgUpImg/add.png",
        $(".f-upCommImgName").css("margin-top", 0)),
        swfObj = SWFUploadCreator.create(o),
        onFileUploadEvent = function h(e, t) {
            if ("upload" == e) {
                var i = t.id
                  , a = t.name
                  , o = t.size
                  , n = (t.path,
                t.pathSmall)
                  , r = t.fileId
                  , s = (t.width,
                t.height,
                t.width || 0)
                  , l = t.height || 0
                  , d = t.type || 0;
                Site.productCommImgTableCtrl(n, a, i, o, c, r, p, s, l, d)
            }
        }
    } else
        Site.siteCommImgFileUploadH5(e, t, i, c, p)
}
,
Site.siteCommImgFileUploadH5 = function(e, t, i, c, p) {
    var a = {
        siteFree: !1,
        updateUrlViewRes: "",
        auto: !0,
        fileTypeExts: i.split(",").join(";"),
        multi: !1,
        fileSizeLimit: 1024 * e * 1024,
        fileSplitSize: 20971520,
        breakPoints: !0,
        saveInfoLocal: !1,
        showUploadedPercent: !1,
        showUploadedSize: !1,
        removeTimeout: 9999999,
        post_params: {
            app: 21,
            type: 0,
            fileUploadLimit: e,
            isSiteForm: !0
        },
        isBurst: !1,
        isDefinedButton: !0,
        buttonText: "",
        uploader: "/ajax/commUpsiteimg_h.jsp?cmd=mobiUpload&_TOKEN=" + $("#_TOKEN").attr("value"),
        onUploadSuccess: function o(e, t) {
            var i = jQuery.parseJSON(t);
            i.success ? (onFileUploadEvent("upload", i),
            setTimeout(function() {
                Fai.ing(LS.fileUploadSuccess, !0)
            }, 2e3)) : Fai.ing("文件:" + e.name + "，" + i.msg)
        },
        onUploadError: function n(e, t) {
            $("#progressBody_ " + e.id).remove(),
            $("#progressWrap_" + e.id).remove(),
            Fai.ing("网络繁忙，文件:" + e.name + "上传失败，请稍后重试")
        },
        onSelect: function r() {
            null != c && void 0 !== c || (c = 5);
            var e = $("#msgBoardAddImgTb").eq(0)
              , t = e.find("td").length;
            return !(c + 1 <= t) || (Fai.ing(LS.siteFormSubmitFileUploadOfMax, !0),
            e.find("td").eq(e.find("td").length - 1).css("display", "none"),
            !1)
        },
        onUploadStart: function s(e) {
            $("#progressBody_ " + e.id).remove(),
            $("#progressWrap_" + e.id).remove()
        }
    };
    $("#" + t).uploadify(a);
    p && $("#comm-img-swfu-placeholder .uploadify-button").css("background-image", "url(" + _resRoot + "/image/site/msgUpImg/add.png)"),
    onFileUploadEvent = function u(e, t) {
        if ("upload" == e) {
            var i = t.id
              , a = t.name
              , o = t.size
              , n = (t.path,
            t.pathSmall)
              , r = t.fileId
              , s = (t.width,
            t.height,
            t.width || 0)
              , l = t.height || 0
              , d = t.type || 0;
            Site.productCommImgTableCtrl(n, a, i, o, c, r, p, s, l, d)
        }
    }
}
,
Site.commUpAllImgList = null,
Site.setCommUpAllImgList = function(e) {
    Site.commUpAllImgList = Fai.fkEval("(" + e + ")"),
    (Fai.isIE6() || Fai.isIE7()) && $(".msgBoard_upImg_border").css({
        width: "50px",
        height: "50px"
    }),
    $(function() {
        setTimeout(function() {
            var e = $(".J_countRecSize");
            if (void 0 !== e && null != e)
                for (var t = 0; t < e.length; t++) {
                    var i = e[t]
                      , a = i.getBoundingClientRect().right
                      , o = $(i).parent().parent().parent().parent().find(".msgBoard_msgUser_level");
                    if (void 0 !== o && null != o && null != o.width()) {
                        var n = o[0].getBoundingClientRect().left - a - 5;
                        o.css("margin-left", "-" + n + "px")
                    }
                }
        }, 200)
    })
}
,
Site.productCommImgTableCtrl = function(e, t, i, a, o, n, r, s, l, d) {
    var c = $("#msgBoardAddImgTb").eq(0)
      , p = c.find("td").length
      , u = c.find("td").eq(p - 1)
      , m = p + "/" + o;
    r && (m = Fai.format(LS.canUpLoadFile, o - p)),
    u.find(".msgBoard_showImgCount").html(m);
    var h = ["<td class='msgBoard_upImg_tb_td2'>"];
    Fai.isIE6() || Fai.isIE7() ? h.push("<div class='msgBoard_upImg_border' style='width:50px !important;height:50px !important;'>") : h.push("<div class='msgBoard_upImg_border'>"),
    h.push("<span onclick='Site.productCommImgDelete(this)' class='msgBoard_upImgTop_set'/>"),
    h.push("<div><p><img alt='' class='msgBoard_upImg_set' src='" + e + "' _name='" + t + "' _id='" + i + "' _file_size='" + a + "' _file_id='" + n + "'  _fileWidth='" + s + "'  _fileHeight='" + l + "'  _fileType='" + d + "' " + (Fai.isIE6() || Fai.isIE7() ? "" : "style='margin-left:-1px;'") + "></p></div>"),
    h.push("</div>"),
    h.push("</td>"),
    u.before(h.join(""))
}
,
Site.productCommImgDelete = function(e) {
    for (var t = $("#msgBoardAddImgTb").eq(0), i = t.find("td").length, a = 0; a < i; a++)
        if (t.find("td").eq(a).find(".msgBoard_upImgTop_set")[0] === e) {
            t.find("td").eq(a).remove();
            break
        }
    i = t.find("td").length;
    var o = t.find("td").eq(i - 1);
    o.find(".msgBoard_showImgCount").html(i - 1 + "/" + o.attr("maxNum")),
    i <= o.attr("maxNum") && (Fai.isIE6() || Fai.isIE7() ? o.css({
        display: "block",
        "padding-top": "7px"
    }) : Fai.isIE() ? o.css({
        display: "block",
        "padding-top": "8px"
    }) : o.css({
        display: "block",
        "padding-top": "10px"
    }))
}
,
Site.showCommImgList = function(i, e, a, t, o, n) {
    var r = $("#" + a)
      , s = "number" == typeof n && 5 == n;
    null != r && void 0 !== r && r.remove();
    var l = $("#" + i).parent().parent().parent().parent().parent().parent().parent();
    l.attr("chooseTr", t),
    l.attr("chooseTd", o);
    var d = l.find("td");
    d.find(".show_msg_border_rect").remove();
    var c = "<div class='show_msg_border_rect'><div class='show_msg_triangle_down'></div></div>";
    d.eq(o).prepend(c);
    var p = [];
    function u() {
        var e = $("#" + a);
        if (null == e.find("#J_showCommPicMoveSign").attr("class") || void 0 === e.find("#J_showCommPicMoveSign").attr("class")) {
            var t = [];
            t.push("<div id='J_showCommPicMoveSign'>"),
            t.push("<img alt='' class='showCommPicMoveLeftClickArea' onclick=Site.showCommImgMove('" + i + "','" + a + "','left')>"),
            t.push("<img alt='' src='" + _resRoot + "/image/site/msgUpImg/mLeft.png' onclick=Site.showCommImgMove('" + i + "','" + a + "','left') class='showCommPicMoveLeft'>"),
            t.push("<img alt='' class='showCommPicMoveRightClickArea' onclick=Site.showCommImgMove('" + i + "','" + a + "','right')>"),
            t.push("<img alt='' src='" + _resRoot + "/image/site/msgUpImg/mRight.png' onclick=Site.showCommImgMove('" + i + "','" + a + "','right') class='showCommPicMoveRight'>"),
            t.push("</div>"),
            e.prepend(t.join(""))
        }
    }
    function m() {
        var e = $("#" + a);
        if (null == e.find("#J_showCommPicMoveSign").attr("class") || void 0 === e.find("#J_showCommPicMoveSign").attr("class")) {
            var t = [];
            t.push("<div id='J_showCommPicMoveSign' class='fk-commPicAreaPage'>"),
            t.push("<div class='f-pageLeft' onclick=\"Site.showCommImgMove('" + i + "','" + a + "','left');\"></div>"),
            t.push("<div class='f-pageRight' onclick=\"Site.showCommImgMove('" + i + "','" + a + "','right')\";></div>"),
            t.push("</div>"),
            e.prepend(t.join(""))
        }
    }
    p.push("<div id='" + a + "' class='show_msg_outer_div'>"),
    p.push("<span onclick=Site.commShowPicClose('" + a + "','" + i + "'," + s + ") class='msg_close_show_img_icon'/>"),
    Fai.isIE6() || Fai.isIE7() ? (p.push("<div class='show_msg_bordered_div' style='width:298px !important;'></div>"),
    p.push("<div class='show_msg_border_div' style='width:299px !important;'>")) : (p.push("<div class='show_msg_bordered_div' style='width:299px;'></div>"),
    p.push("<div class='show_msg_border_div' style='margin-left:1px;'>")),
    p.push("<div><p><img alt='' class='msg_up_show_img_set' src='" + e + "'></p></div>"),
    p.push("</div>"),
    p.push("</div>"),
    l.after(p.join("")),
    s ? (l.hide(),
    m()) : setTimeout(function() {
        $("#" + a).hover(function() {
            u()
        }, function() {
            var e = $("#" + a);
            Fai.isIE7() ? setTimeout(function() {
                e.find("#J_showCommPicMoveSign").remove()
            }, 500) : e.find("#J_showCommPicMoveSign").remove()
        })
    }, 10)
}
,
Site.showCommImgMove = function(e, t, i) {
    if (null != e && null != i) {
        for (var a = $("#" + e), o = a.parent().parent().parent().parent().parent().parent().parent(), n = $("#" + t), r = o.find("img"), s = 0, l = r.length; s < l && a[0] !== r[s]; s++)
            ;
        "left" === i ? --s < 0 && (s = r.length - 1) : "right" === i && ++s >= r.length && (s = 0);
        var d = $(r[s]).attr("src");
        n.find(".msg_up_show_img_set").attr("src", d.slice(0, d.lastIndexOf("!")) + d.slice(d.lastIndexOf("."))),
        n.find(".f-pageRight").attr("onclick", 'Site.showCommImgMove("' + r[s].id + '", "' + t + '", "right")'),
        n.find(".f-pageLeft").attr("onclick", 'Site.showCommImgMove("' + r[s].id + '", "' + t + '", "left")')
    }
}
,
Site.commShowPicClose = function(e, t, i) {
    var a, o = $("#" + e);
    null != o && void 0 !== o && o.remove();
    var n = $("#" + t);
    i ? (a = n.parentsUntil(".J_msgImgList").last(":table")).show() : a = n.parent().parent().parent().parent().parent().parent().parent(),
    a.find("td").find(".show_msg_border_rect").remove()
}
,
Site.productCommentAddCom = function(e) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行评论。");
    else if (Site.isLimitSubmitMsg())
        Site.limitSubmitMsgIng("产品评论");
    else if (_manageMode && "string" == typeof e && "5" == e)
        Fai.ing("当前为管理状态，您不能提交评论。");
    else {
        var t = $.trim($("#productCommentCreator").val())
          , i = ($("#productCommentCreator").attr("minlength"),
        $("#productCommentInput").val())
          , a = $("#productCommentInput").attr("minlength")
          , o = $("#validateCodeInput").val()
          , n = $("#productCommentInput").attr("productId")
          , r = $("#submitTips").attr("isDefaultTips");
        if ("string" != typeof r || "true" != r)
            if ("string" == typeof t)
                if ("string" == typeof i && "" != i)
                    if (i.length < a)
                        $("#submitTips").text(Fai.format(LS.commentLenTips, Fai.encodeHtml(a))).show();
                    else if ("string" == typeof o && "" != o) {
                        var s = $("#msgBoardAddImgTb")
                          , l = [];
                        if (null != s && void 0 !== s) {
                            var d = s.eq(0)
                              , c = d.find("td").length;
                            if (1 < c)
                                for (var p = 0; p < c - 1; p++) {
                                    var u = d.find("td").eq(p).find(".msgBoard_upImg_set");
                                    if (null != u && "undefined" != u) {
                                        var m = {};
                                        imgId = u.attr("_id"),
                                        imgName = u.attr("_name"),
                                        imgSize = u.attr("_file_size"),
                                        tempFileId = u.attr("_file_id");
                                        var h = Number(u.attr("_fileWidth") || 0)
                                          , f = Number(u.attr("_fileHeight") || 0)
                                          , g = Number(u.attr("_fileType") || 0);
                                        m.imgId = imgId,
                                        m.imgName = imgName,
                                        m.imgSize = imgSize,
                                        m.tempFileId = tempFileId,
                                        m.imgWidth = h,
                                        m.imgHeight = f,
                                        m.imgType = g,
                                        l.push(m)
                                    }
                                }
                        }
                        var v = $(".submitStarList").attr("star");
                        v = v || 5;
                        var _ = {
                            validateCode: o,
                            productId: n,
                            creator: t,
                            commImgList: $.toJSON(l),
                            comment: i,
                            star: v
                        }
                          , S = Site.addRequestPrefix({
                            newPath: "/ajax/productComment_h.jsp?cmd=addWafCk_submitPC",
                            oldPath: Site.genAjaxUrl("productComment_h.jsp?cmd=addWafCk_submitPC")
                        });
                        $("#submitTips").text(LS.siteFormSubmitIng).show(),
                        $.ajax({
                            type: "POST",
                            url: S,
                            data: _,
                            error: function b() {
                                Fai.ing(LS.js_systemError),
                                $("#msgBoardCaptchaImg").click(),
                                Site.logMonitor(5931, !0)
                            },
                            success: function x(e) {
                                var t = jQuery.parseJSON(e)
                                  , i = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + "login.jsp";
                                switch (t && t.success || $("#msgBoardCaptchaImg").click(),
                                t.logMonitor && Site.logMonitor(5931, !0),
                                Fai.removeBg(),
                                t.msg) {
                                case 1:
                                    $("#submitTips").text(LS.js_captchaError).show();
                                    break;
                                case 2:
                                    $("#submitTips").text(LS.creatorError).show();
                                    break;
                                case 3:
                                    $("#submitTips").text(LS.commentError).show();
                                    break;
                                case 4:
                                    Fai.top.location.reload(),
                                    t.autoOpenComm || t.autoOpenComm == undefined ? $("#submitTips").text(LS.commentSuccess).show() : $("#submitTips").text(LS.commentSuccessNeedReview).show();
                                    break;
                                case 5:
                                    $("#submitTips").text(LS.paramError).show();
                                    break;
                                case 6:
                                    $("#submitTips").html(Fai.format(LS.commentOnlyMember, '<a href="' + i + "?url=" + Fai.encodeUrl(window.location.href) + '">' + Fai.encodeHtml(LS.login) + "</a>")).show();
                                    break;
                                case 7:
                                    $("#submitTips").text(LS.commentClosed).show();
                                    break;
                                case 8:
                                    $("#submitTips").text(LS.commentSubmitError).show();
                                    break;
                                case 9:
                                    $("#submitTips").text(LS.commentCountLimit).show()
                                }
                                t.hasFW && $("#submitTips").text(t.msg).show()
                            }
                        })
                    } else
                        $("#submitTips").text(LS.memberInputCaptcha).show();
                else
                    $("#submitTips").text(LS.commentNotEmpty).show();
            else
                $("#submitTips").text(LS.creatorTips).show();
        else
            $("#submitTips").show()
    }
}
,
Site.showProductQRCode = function(e, t) {
    var i = ["<div id='productQRCodeDisplay' class='webSiteQRCodeDisplay'>", "<img title='' src='/qrCode.jsp?cmd=mobiDetailQR&&id=", e, "&lcid=", t, "&t=2' >", "<span>", LS.productORCodeMsg, "</span>", "</div>"];
    Fai.top.$(i.join("")).appendTo("body"),
    $("#productQrCode").mouseenter(function(e) {
        $("#productQRCodeDisplay").css({
            top: $(this).offset().top + "px",
            left: $(this).offset().left + 24 + "px"
        }),
        $("#productQRCodeDisplay").show()
    }).mouseleave(function(e) {
        $("#productQRCodeDisplay").hide()
    })
}
,
Site.initPriceCalendar = function(e) {
    var t = Site.productDetailInfo;
    if (t) {
        var i, P = t.moduleId, k = t.optionsAmountList, L = t.relateAmount, T = t.realMallPrice, M = t.limitAmount_options, B = t.productRestrictInfo;
        if (void 0 === B && (B = {}),
        i = "PdSlide" === P ? $("#fk-productSlideContent") : $("#module" + P),
        !Fai.isNull(i)) {
            var A = []
              , N = i.find(".J_optionItemWrap")
              , a = (i.find("#realMallAmount").html(),
            i.find("#mallAmount").html(),
            i.find("#mallWeight").html(),
            0 < i.find("#mallAmount").length)
              , D = !1;
            if (1 != e && 4 != e && 5 != e || (D = !0),
            D) {
                var o = "<div class='calendar' id='priceCalendar' style='width: " + $(".imgContainer").width() + "px;'></div>";
                0 < $(".shareContainer").length ? $(".shareContainer").after(o) : 0 < $(".productOpera").length ? $(".productOpera").after(o) : $(".imgContainer").after(o)
            } else {
                var j = $(".priceCalendarTrigger")
                  , n = $(".priceCalendarIcon")
                  , r = Fai.format(LS.site_memberSignupUserAddItemIsEmpty2, "");
                r = r.substr(0, r.length - 1),
                j.html("<span class='placeholder'>" + r + "</span>"),
                $(".priceCalendarLayer").on("click", function(e) {
                    e.stopPropagation(),
                    e.preventDefault(),
                    $(".priceCalendarBg").slideToggle(),
                    $(".priceCalendarLayer").hide()
                }),
                j.on("click", function() {
                    $(".priceCalendarBg").slideToggle(),
                    $(".priceCalendarLayer").show()
                }),
                n.on("click", function() {
                    $(".priceCalendarBg").slideToggle(),
                    $(".priceCalendarLayer").show()
                })
            }
            Site.priceCalendar = epctrl.init("Calendar", {
                el: "#priceCalendar",
                priceCalendar: !0,
                openAmount: a,
                mallOptions: t,
                height: "390px"
            }),
            Site.priceCalendar.on("dayClick", function(e) {
                if ($selected = $(e.tdEl),
                !$selected.hasClass("ep-calendar-disabled")) {
                    var i, t = e.date;
                    if (L) {
                        var a = 0;
                        void 0 === i && (i = "",
                        N.each(function(e, t) {
                            $(N[e]).find(".J-item.g_borderSelected").length <= 0 ? i += "x_" : i += $(N[e]).find(".J-item.g_borderSelected").attr("data") + "_"
                        }),
                        i += t),
                        $.each(k, function(e, t) {
                            R(i, t.t2) && (0 == t.flag || isNaN(t.oAmount) || (a += t.oAmount))
                        }),
                        $("#mallAmount").text(a)
                    }
                    var o = N.length
                      , n = N.find(".J-item.g_borderSelected");
                    if (o == n.length) {
                        var r, s, l, d, c, p = "";
                        if ($.each(n, function(e, t) {
                            p += $(t).attr("data") + "_"
                        }),
                        p += t,
                        $.each(k, function(e, t) {
                            t.t2 == p && (r = "number" == typeof t.oPrice ? t.oPrice.toFixed(2) : t.oPrice,
                            s = t.oAmount,
                            l = t.minAmount,
                            d = t.maxAmount,
                            c = t.w)
                        }),
                        M) {
                            $("#limitAmountDiv").text("");
                            var u = 0
                              , m = B.optionsCount;
                            if (null != m && null != m.d)
                                for (var h = 0; h < m.d.length; h++)
                                    m.d[h].t + "_" == p && (u = m.d[h].c);
                            var f = 0;
                            f = d - u,
                            Fai.fkEval(f) < 0 && (f = -1);
                            var g = 1
                              , v = -1;
                            1 < l && 0 != d ? ($("#limitAmountDiv").text("( " + LS.minAmount + " : " + l + " ; " + LS.maxAmount + " : " + f + " )"),
                            g = l,
                            v = f) : 1 == l && 0 != d ? ($("#limitAmountDiv").text("( " + LS.maxAmount + " : " + f + " )"),
                            v = f) : 1 < l && 0 == d && ($("#limitAmountDiv").text("( " + LS.minAmount + " : " + l + " )"),
                            g = l),
                            $("#cartbuyCount" + P).val(g),
                            $("#cartbuyCount" + P).unbind("change"),
                            $("#cartbuyCount" + P).bind("change"),
                            $("#cartbuyCount" + P).change(function() {
                                var e = $("#cartbuyCount" + P).val()
                                  , t = 1;
                                Fai.isInteger(e) && (t = parseInt(e)),
                                t < g || t == g ? (t = g,
                                $("#buyCountDes" + P).addClass("disableMallJian"),
                                $("#buyCountInc" + P).removeClass("disableMallJia"),
                                (v < g || g == v) && -1 != v && $("#buyCountInc" + P).addClass("disableMallJia")) : -1 != v && (v < t || t == v) ? (t = v,
                                $("#buyCountInc" + P).addClass("disableMallJia"),
                                $("#buyCountDes" + P).removeClass("disableMallJian")) : 9999998 < t ? (t = 9999999,
                                $("#buyCountDes" + P).removeClass("disableMallJian"),
                                $("#buyCountInc" + P).addClass("disableMallJia")) : ($("#buyCountDes" + P).removeClass("disableMallJian"),
                                $("#buyCountInc" + P).removeClass("disableMallJia")),
                                $("#cartbuyCount" + P).val(t)
                            }),
                            $("#cartbuyCount" + P).change(),
                            $("#buyCountDes" + P).unbind("click"),
                            $("#buyCountInc" + P).unbind("click"),
                            $("#buyCountDes" + P).click(function() {
                                var e = $("#cartbuyCount" + P).val()
                                  , t = 1;
                                Fai.isInteger(e) && (t = parseInt(e)),
                                t < g + 1 ? ($("#cartbuyCount" + P).val(g),
                                $("#buyCountDes" + P).addClass("disableMallJian")) : $("#buyCountInc" + P).removeClass("disableMallJia")
                            }),
                            $("#buyCountInc" + P).click(function() {
                                var e = $("#cartbuyCount" + P).val()
                                  , t = 1;
                                Fai.isInteger(e) && (t = parseInt(e)),
                                v - 1 < t && -1 != v ? (g < v ? $("#cartbuyCount" + P).val(v) : $("#cartbuyCount" + P).val(g),
                                $("#buyCountInc" + P).addClass("disableMallJia")) : $("#buyCountDes" + P).removeClass("disableMallJian")
                            })
                        }
                        L && $("#mallAmount").text(s),
                        null == r ? (2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#realMallAmount").text(Fai.formatPriceEn(T)) : $("#realMallAmount").text(T),
                        Site.onlyChangeSalePrice(T)) : (2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#realMallAmount").text(Fai.formatPriceEn(r)) : $("#realMallAmount").text(r),
                        Site.onlyChangeSalePrice(r),
                        Fai.isIE10() && (Site.wipeOffRunOne && $(".pd_J .pd_propTable .propName").each(function(e, t) {
                            $(t).removeClass("propName"),
                            setTimeout(function() {
                                $(t).addClass("propName")
                            }, 0)
                        }),
                        Site.wipeOffRunOne = !1)),
                        null != c && $("#mallWeight").text(c)
                    }
                    if (o != n.length && 1 != o && E(),
                    o - 1 <= n.length && 1 != o) {
                        var _ = "";
                        $.each(N, function(e, t) {
                            $(N[e]).find(".J-item.g_borderSelected").length <= 0 ? _ += "x_" : _ += $(N[e]).find(".J-item.g_borderSelected").attr("data") + "_"
                        }),
                        "" != _ && (_ += t);
                        var S = "";
                        if ($.each(N, function(e, t) {
                            $(N[e]).find(".J-item.g_borderSelected").length <= 0 && (S = $(N[e]))
                        }),
                        "" != S) {
                            var b = S.find(".J-item");
                            $.each(b, function(e, t) {
                                var i = _.replace("x", $(b[e]).attr("data"));
                                0 <= $.inArray(i, A) ? O(b[e]) : J(b[e])
                            })
                        } else
                            $.each(N, function(o, e) {
                                var n = $(N[o]).find(".J-item");
                                $.each(n, function(e, t) {
                                    if (!$(n[e]).hasClass("g_borderSelected")) {
                                        var i = _.split("_");
                                        i[o] = $(n[e]).attr("data");
                                        var a = i.join("_");
                                        0 <= $.inArray(a, A) ? O(n[e]) : J(n[e])
                                    }
                                })
                            })
                    }
                    var x = []
                      , w = !1;
                    for (h = 0; h < N.length; h++) {
                        var y = N.eq("" + h);
                        if (!y.find(".J-item").hasClass("g_borderSelected"))
                            break;
                        x.push(y.find(".J-item.g_borderSelected").attr("data"))
                    }
                    if (x.length <= N.length && 1 < x.length) {
                        var C = x.length;
                        for (h = 0; h < C && ($.each(k, function(e, t) {
                            var i = t.t2.split("_");
                            if (t.flag == undefined && (t.flag = 1),
                            1 == t.flag && U(i, x))
                                return !(w = !0)
                        }),
                        !w); h++) {
                            var F = N.eq(x.length - 1).find(".J-item")
                              , I = x.pop();
                            F.each(function() {
                                $(this).attr("data") == I && $(this).parent().hide()
                            }),
                            F.parent().find(".J-img-tri").remove(),
                            F.removeClass("g_borderSelected fk-mainBorderColor fk-mainFontColor optionItemHover J-isSelected")
                        }
                    }
                    D || ($(".priceCalendarBg").slideToggle(),
                    $(".priceCalendarLayer").hide(),
                    j.html(t))
                }
            })
        }
    }
    function E() {
        $(".optionItemWrap .J-item").css({
            "border-style": "",
            color: "",
            cursor: ""
        }).attr("isEmptyAmount", "")
    }
    function O(e) {
        $(e).css({
            "border-style": "dashed",
            color: "#CDCDCD",
            cursor: "not-allowed"
        }).attr("isEmptyAmount", "1")
    }
    function J(e) {
        $(e).css({
            "border-style": "",
            color: "",
            cursor: ""
        }).attr("isEmptyAmount", "")
    }
    function R(e, t) {
        var i = !0
          , a = e.split("_")
          , o = t.split("_");
        return a.length == o.length && ($.each(a, function(e, t) {
            return "x" == a[e] || (a[e] != o[e] ? i = !1 : void 0)
        }),
        i)
    }
    function U(e, t) {
        for (var i = !0, a = 0; a < t.length; a++)
            if (t[a] != e[a]) {
                i = !1;
                break
            }
        return i
    }
}
,
Site.initRepPropValueOfURL = function() {
    var a = new RegExp("https?|ftp|file://");
    function o(e) {
        return e.replace(/((https?|ftp|file):\/\/[-a-zA-Z0-9+&@#\/%?=~_|!:,.;]*)/g, '<a href="$1" target="_blank">$1</a>')
    }
    $(".pd_J .propValue").each(function(e, t) {
        var i = $(this).text();
        a.test(i) && $(this).html(o(i))
    })
}
,
Site.salePromotionDetail = {
    salePromotionParam: "",
    showType: "2",
    styleType: "1",
    saleCountTimeInterval: {}
},
Site.initSalePromotion = function(e, t) {
    Site.salePromotionDetail.salePromotionParam = e,
    Site.salePromotionDetail.styleType = t
}
,
Site.onlyChangeSalePrice = function(e) {
    if (e = parseFloat(e),
    !isNaN(e)) {
        var t = Site.salePromotionDetail.salePromotionParam;
        if (void 0 !== t && null != t && "" != t && "1" == t.saleType) {
            var i = parseFloat(t.other.ruleData.d[0].m);
            "1" == t.other.ruleData.s ? e *= i / 10 : e -= i,
            e < 0 && (e = 0),
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $(".J_realMallAmount").html(Fai.formatPriceEn(e)) : $(".J_realMallAmount").html(e.toFixed(2))
        }
    }
}
,
Site.showCouponDetail = function(e, t, i, a, o, n) {
    if (Site.couponBgColor = a,
    e != undefined && 0 != e.length && 0 != t) {
        var r = $(".J_saleFullReduce").find(".propName").attr("style") || ""
          , s = [];
        s.push("<tr>"),
        s.push("<td valign='top' class='propName g_minor' style='" + r + "'>" + Fai.format(LS.preferential) + "：</td>"),
        s.push("<td>");
        var l = 1
          , d = Site.isNeedShowMore(t, e);
        if (0 != d) {
            for (var c = 0; c < e.length; c++) {
                var p = e[c]
                  , u = p.flag
                  , m = Fai.checkBit(u, 2)
                  , h = !0
                  , f = !1;
                if (0 != p.id && p.state) {
                    if (null != i && 0 != i.length)
                        for (var g = 0; g < i.length; g++) {
                            var v = i[g];
                            p.id == v.couponId && (h = !1)
                        }
                    var _ = n;
                    if (h || (_ = "couponFlag_Gray"),
                    2052 != Fai.top._lcid && 1028 != Fai.top._lcid && (_ += "En"),
                    m) {
                        var S = p.other.productIdList;
                        for (g = 0; g < S.length; g++)
                            t == S[g] && (f = !0)
                    } else
                        f = !0;
                    if (f) {
                        if (s.push("<div class='pdDetailCouponItem'>"),
                        s.push("<span class='pdCouponFlag " + _ + "' bg_id = '" + a + "' coupon_id='" + p.id + "'></span>"),
                        s.push("<span class='pdDetailcouponMessage'>" + p.savePrice + "元优惠券，" + p.useCondition + "</span>"),
                        2 == l && 2 < d) {
                            Site.couponListInfo = e,
                            Site.memCouponList = i,
                            s.push("<span class='pdDetailcouponMore g_stress' id='pdDetailcouponMore' onclick='Site.couponShowMore(event," + o + "," + t + ")'>" + LS.more + "</span>"),
                            s.push("</div>");
                            break
                        }
                        l++,
                        s.push("</div>")
                    }
                }
            }
            s.push("</td>"),
            s.push("</tr>");
            var b = $(".J_saleFullReduce")
              , x = $(".J_saleFullReduce_sub");
            0 < b.length && x.length < 1 && $(b[b.length - 1]).after(s.join("")),
            Site.isShowMore = !1,
            Site.initMallCoupon(o)
        }
    }
}
,
Site.isNeedShowMore = function(e, t) {
    for (var i = 0, a = 0; a < t.length; a++) {
        var o = t[a];
        if (0 != o.id && o.state) {
            var n = o.flag;
            if (Fai.checkBit(n, 2))
                for (var r = o.other.productIdList, s = 0; s < r.length; s++)
                    e == r[s] && i++;
            else
                i++
        }
    }
    return i
}
,
Site.couponShowMore = function(e, t, i) {
    if (!Site.isShowMore) {
        e || event;
        var a = 2052 == Fai.top._lcid || 1028 == Fai.top._lcid
          , o = Site.couponListInfo
          , n = Site.memCouponList
          , r = Site.couponBgColor
          , s = [];
        s.push("<div class='couponShowMore'>");
        for (var l = [], d = 0; d < o.length; d++) {
            var c = o[d];
            if (0 != c.id && c.state) {
                var p = c.flag
                  , u = !1;
                if (Fai.checkBit(p, 2))
                    for (var m = c.other.productIdList, h = 0; h < m.length; h++)
                        i == m[h] && (u = !0);
                else
                    u = !0;
                if (u) {
                    var f = !0
                      , g = "立即领取"
                      , v = "";
                    if (a || (g = "Receive",
                    v = "style='padding-top: 15px;'"),
                    null != n && 0 != n.length)
                        for (h = 0; h < n.length; h++) {
                            var _ = n[h];
                            c.id == _.couponId && (f = !1)
                        }
                    f || (g = "去使用",
                    v = "style='padding-top: 13px;'",
                    a || (g = "Go to use")),
                    l.push("<div class='coupon_new couponItem' received='" + !f + "' id='coupon" + c.id + "' bg_id = '" + r + "' coupon_id='" + c.id + "' couponName='" + c.couponName + "'>"),
                    l.push("<span class='couponBackground faisco-icons-S000186' style ='opacity:0.75; color:" + Fai.top._majorColorData + ";'></span>"),
                    l.push("<div class='coupon_content_new'>"),
                    l.push("<div class='couponLeftInfo'>"),
                    l.push("<div class='couponTopInfo'>"),
                    l.push("<div class='priceContainer'><span class='priceSign'>" + Fai.top._choiceCurrencyVal + "</span><span class='savePrice'>" + c.savePrice + "</span></div>"),
                    l.push("<div class='conditionContainer'>"),
                    l.push("<div class='useCondition'>" + c.useCondition + "</div>"),
                    l.push("<div class='validTime'>" + c.validity + "</div>"),
                    l.push("</div>"),
                    l.push("</div>"),
                    l.push("<div class='couponBottomInfo'><div class='couponName'>" + c.couponName + "</div></div>"),
                    l.push("</div>"),
                    l.push("<div class='couponRightInfo'>"),
                    a ? l.push("<div class='couponReceive' " + v + ">" + g + "</div>") : l.push("<div class='couponReceiveEn' " + v + ">" + g + "</div>"),
                    l.push("</div>"),
                    l.push("</div>"),
                    l.push("</div>")
                }
            }
        }
        s.push(l.join("")),
        s.push("</div>");
        var S = function S() {
            Site.isShowMore = !1
        };
        a || (popWinTitle = "Receive Coupon");
        var b = Fai.top.Fai.popupWindowVersionTwo.createPopupWindow({
            closeFunc: S,
            title: LS.receiveCoupon,
            divContent: s.join(""),
            width: 365,
            height: 600,
            displayBg: !1,
            version: 2
        }).getPopupWindowId();
        Site.isShowMore = !0,
        $(".couponShowMore").mCustomScrollbar({
            mouseWheel: !0,
            theme: "fk-gray",
            scrollbarPosition: "outside",
            advanced: {
                updateOnContentResize: !0
            },
            axis: "y"
        }),
        Site.initMallCoupon(t, b)
    }
}
,
Site.showSalePromotionDl = function(e, t) {
    if ("2" == Site.salePromotionDetail.showType && void 0 !== e && null != e && "" != e) {
        var i = $("#realMallAmount").css("color");
        void 0 !== i && null != i && "" != i || (i = "#FC4643");
        var a = $(".J_saleFullReduce").find(".propName").attr("style") || ""
          , o = []
          , n = "f-saleValue";
        if ("1" == e.saleType) {
            var r = ""
              , s = parseFloat(e.other.ruleData.d[0].m)
              , l = $(".J_saleFullReduce").find(".propName").html()
              , d = $("#realMallAmount").html()
              , c = (d = d.replace(/\,/g, "")).indexOf("~");
            0 < c ? (priceNumber = parseFloat(d.substring(0, c)),
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid && (d = Fai.formatPriceEn(d.split("~")[0]) + "~" + Fai.formatPriceEn(d.split("~")[1]))) : (priceNumber = parseFloat(d),
            d = parseFloat(d).toFixed(2),
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid && (d = Fai.formatPriceEn(d))),
            isNaN(priceNumber) && (priceNumber = 0);
            var p = 0
              , u = $("#realMallAmount").attr("curval");
            p = "1" == e.other.ruleData.s ? (r = 2052 == _lcid || 1028 == _lcid ? Fai.format(LS.js_salePromotionDisCount, s) : Fai.format(LS.js_salePromotionDisCount, Fai.formatPriceEn(10 * (10 - s), null, !0)),
            priceNumber * (s / 10)) : (r = 2052 == _lcid || 1028 == _lcid ? Fai.format(LS.salePromotionLapse, s) : Fai.format(LS.salePromotionLapse, Fai.formatPriceEn(s, null, !0)),
            priceNumber - s),
            (isNaN(p) || p < 0) && (p = 0),
            2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? $("#realMallAmount").html(Fai.formatPriceEn(p)) : $("#realMallAmount").html(p.toFixed(2)),
            $("#realMallAmount").addClass("J_realMallAmount"),
            $("#realMallAmount").removeAttr("id"),
            $(".J_saleFullReduce").addClass("J_salePromotionRemove");
            var m = [];
            4 == t ? $(".J_saleFullReduce").find(".propName").html(LS.js_promotionPrice + "：") : $(".J_saleFullReduce").find(".propName").html(LS.js_promotionPrice + LS.colon),
            m.push("<tr>"),
            m.push("<td valign='top' class='propName g_minor' style='" + a + "'>"),
            m.push(l),
            m.push("</td>"),
            m.push("<td valign='top' class='propValue g_minor mallMarketPrice realMallAmount'>"),
            m.push("<span>"),
            m.push(u),
            m.push("</span>"),
            m.push("<span curval='" + u + "' id='realMallAmount' class='mallPrice'>"),
            m.push(d),
            m.push("</span>"),
            m.push("</td>"),
            m.push("</tr>"),
            $(".J_saleFullReduce").before(m.join(""));
            var h = "";
            1 != t && 2 != t && 3 != t || !Fai.isIE6() || (h = "padding-bottom:10px; margin:0px; line-height:25px;"),
            o.push("<td class='saleHoverDefault showSaleReducePrice J_salePromotionRemove' style='" + h + "'>"),
            o.push("<table border='0' cellspacing='0' cellpadding='0'><tr>"),
            o.push("<td style='vertical-align: bottom;padding:0;margin:0;'>"),
            o.push("<div  style='width: 0; height: 0; border-bottom: 5px solid " + i + "; border-left: 5px solid transparent;' class='J_changeSaleCrBb'>"),
            o.push("</div>"),
            o.push("</td>"),
            o.push("<td class='f-SaleReduce'>"),
            o.push("<div style='font-size:12px; background-color:" + i + "; padding:0px 3px; word-wrap: normal; height:20px; line-height:20px;'  class='J_changeSaleCrBd' title='" + e.name + "'>"),
            o.push(r),
            o.push("</div>"),
            o.push("</td>"),
            o.push("</tr></table>"),
            o.push("</td>"),
            $(".J_realMallAmount").parent().after(o.join(""))
        } else {
            if ("undefined" == typeof e.other.ruleData.d.length)
                return;
            if (o.push("<tr class='J_salePromotionRemove fk-changeSaleCrW saleFullCutPding'>"),
            4 == t ? (o.push("<td valign='top' class='propName g_minor' style='" + a + "'>"),
            o.push(LS.salePromotionName),
            o.push("：</td>")) : (o.push("<td valign='top' class='propName g_minor' style='" + a + "'>"),
            o.push(LS.salePromotionName + LS.colon),
            o.push("</td>")),
            o.push("<td valign='top' class='saleHoverDefault propValue J_changeSaleCrW' colSpan=2 style='color:" + i + ";'  title='" + e.name + "' >"),
            5 != t)
                for (var f = 0; f < e.other.ruleData.d.length; f++)
                    0 < f ? o.push("<div class='saleFullReMgTop'>") : o.push("<div>"),
                    o.push("<span class='saleFullReBg J_changeSaleCrBd' style='margin:0;background-color:" + i + ";'>"),
                    o.push(Fai.format(LS.salePromotionOnlyFullReduce)),
                    o.push("</span>"),
                    o.push("<span style='margin:0; margin-left:8px;'>"),
                    2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? o.push(Fai.format(LS.js_salePromotionFullReduce, Fai.formatPriceEn(e.other.ruleData.d[f].m, null, !0), Fai.formatPriceEn(e.other.ruleData.d[f].n, null, !0))) : o.push(Fai.format(LS.js_salePromotionFullReduce, e.other.ruleData.d[f].m, e.other.ruleData.d[f].n)),
                    o.push("</span>"),
                    o.push("</div>");
            else {
                o.push("<div>");
                for (f = 0; f < e.other.ruleData.d.length; f++)
                    n = 0 == f ? "" : "f-saleValue",
                    o.push("<span class='saleFullReBg J_changeSaleCrBd fk-mainBgColor " + n + "'>"),
                    o.push(Fai.format(LS.salePromotionOnlyFull)),
                    o.push("</span>"),
                    o.push("<span class='f-saleDiscount'>"),
                    2052 != Fai.top._lcid && 1028 != Fai.top._lcid ? o.push(Fai.format(LS.js_salePromotionFullReduce, Fai.formatPriceEn(e.other.ruleData.d[f].m, null, !0), Fai.formatPriceEn(e.other.ruleData.d[f].n, null, !0))) : o.push(Fai.format(LS.js_salePromotionFullReduce, e.other.ruleData.d[f].m, e.other.ruleData.d[f].n)),
                    o.push("</span>");
                o.push("</div>")
            }
            o.push("</td>"),
            o.push("</tr>"),
            $(".J_saleFullReduce").after(o.join(""))
        }
    }
}
,
Site.changeSaleColor = function() {
    var e = Site.getTopWindow().$(".J_realMallAmount").css("color");
    void 0 !== e && null != e && "" != e || void 0 !== (e = Site.getTopWindow().$("#realMallAmount").css("color")) && null != e && "" != e || (e = "#FC4643"),
    Site.getTopWindow().$(".J_changeSaleCrBb").css("border-bottom-color", e),
    Site.getTopWindow().$(".J_changeSaleCrW").css("color", e),
    Site.getTopWindow().$(".J_changeSaleCrBd").css("background-color", e)
}
,
Site.saleCountTimeInterval = {},
Site.showSaleTimeCountDown = function(o, n, h) {
    $.ajax({
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mall_h.jsp?cmd=getWafNotCk_getSystemTime",
        success: function r(e) {
            if ((e = $.parseJSON(e)).success) {
                var t = e.now || 0
                  , i = 0
                  , d = 0
                  , c = 0;
                0 < o - (t /= 1e3) ? (i = o - t,
                d = n - o,
                c = 1) : 0 < n - t && (i = o - t,
                d = n - t,
                c = 2);
                var p = ""
                  , a = LS.salePromotionBegin
                  , u = LS.salePromotionEnd
                  , m = 0;
                Site.salePromotionDetail.showType = c,
                m = 1 == c ? (p = a,
                i) : (p = u,
                d),
                clearInterval(Site.salePromotionDetail.saleCountTimeInterval),
                Site.salePromotionDetail.saleCountTimeInterval = setInterval(function() {
                    var e = parseInt(m / 86400)
                      , t = parseInt(m / 3600) - 24 * e
                      , i = parseInt(m / 60) - 24 * e * 60 - 60 * t
                      , a = parseInt(m % 60);
                    2052 != _lcid && 1028 != _lcid && (t < 10 && (t = "0" + t),
                    i < 10 && (i = "0" + i),
                    a < 10 && (a = "0" + a)),
                    m--;
                    var o = Fai.format(p, e, t, i, a);
                    if (2 == h || 3 == h) {
                        var n = o.indexOf(":");
                        if (n < 0 && (n = o.indexOf("：")),
                        0 < n) {
                            var r = o.substring(0, n + 1)
                              , s = o.substring(n + 1, o.length);
                            $(".showSaleTimeNameClass").html(r),
                            $(".showSaleTimeClass").html(s)
                        } else
                            $(".showSaleTimeClass").html(Fai.format(p, e, t, i, a))
                    } else
                        $(".showSaleTimeClass").text(o);
                    if (m < 0)
                        if (1 == c)
                            m = d,
                            p = u,
                            c = 2,
                            Site.salePromotionDetail.showType = 2,
                            Site.showSalePromotionDl(Site.salePromotionDetail.salePromotionParam, Site.salePromotionDetail.styleType);
                        else {
                            clearInterval(Site.salePromotionDetail.saleCountTimeInterval),
                            Site.salePromotionDetail.showType = 1;
                            var l = $(".J_realMallAmount").attr("style");
                            $(".realMallAmount").removeClass("g_minor mallMarketPrice"),
                            $(".realMallAmount").addClass("g_stress mallPriceBig"),
                            $(".realMallAmount").attr("style", l),
                            $(".J_salePromotionRemove").remove()
                        }
                }, 1e3)
            }
        }
    })
}
,
Site.initModuleProductMallGroups = function(F, I, P, n) {
    var k = $("#module" + F);
    k.find(".pd_mall_G_J .p_m_cotainer_J");
    function e() {
        k.find(".pd_mall_G_J").menuAim({
            rowSelector: " .p_m_cotainer_J",
            activate: t,
            deactivate: i,
            exitActRow: function e() {
                return !0
            }
        })
    }
    function t(e) {
        var t = $(e);
        t.find(".p_m_cotainerR_J").removeClass("p_m_more"),
        t.find(".p_m_value_J").addClass("g_stress"),
        t.addClass("bold p_m_hover g_border");
        var i = t.attr("_id")
          , a = I[i];
        if (null == a || 0 === a.list.length)
            return !0;
        var o = L(a)
          , n = {
            that: t,
            moduleId: F,
            clsStr: "pd_m_panel " + (1 === P || 2 === P ? "pd_m_jd" : "pd_m_yhd"),
            idStr: "group" + i + "Panel",
            contentStr: o.join("")
        };
        panel = Site.moduleSubPanel(n);
        var r = k.find(".formBanner")
          , s = 0;
        0 < r.length && r.is(":visible") && (s = r.outerHeight());
        var l = k.find(".formMiddleRight").outerWidth();
        Fai.isIE8() && (l = 0);
        var d = k.find(".formMiddleCenter").width()
          , c = k.find(".pd_mall_G_J").width()
          , p = k.offset().top + s
          , u = k.offset().left + k.outerWidth() - (d - c) / 2 - 2 - l;
        if (panel.css({
            top: p,
            left: u
        }).show(),
        Fai.isIE6()) {
            var m = panel.find(".p_m_body_J").outerWidth();
            panel.width(m)
        }
        var h = 0
          , f = 0
          , g = t.outerHeight() - t.innerHeight();
        if (m_border = parseInt((k.outerHeight() - k.innerHeight()) / 2),
        oFormMiddle = k.find(".formMiddle"),
        m_content_innerPaddingTopStr = oFormMiddle.find(".formMiddleContent").css("margin-top"),
        m_content_innerPaddingTop = parseInt(m_content_innerPaddingTopStr.replace("px", "")),
        2 === P) {
            var v = 20
              , _ = t.outerHeight()
              , S = panel.outerHeight()
              , b = $(window).height() - (t.offset().top - $(window).scrollTop())
              , x = 0;
            b < S && (x = S - b + v),
            x > t.position().top && (x = t.position().top),
            _ < S && S < x + _ && (x = S - b);
            oFormMiddle.height();
            var w = parseInt((oFormMiddle.outerHeight() - oFormMiddle.innerHeight()) / 2);
            p += t.position().top - x + m_border + w + m_content_innerPaddingTop,
            panel.css({
                top: p
            }),
            f = x + g / 2,
            h = S < _ ? S - 4 : t.outerHeight() - g
        } else {
            var y = k.find(".formMiddleContent").offset().top - k.find(".formMiddleCenter").offset().top
              , C = t.position().top + t.outerHeight() + y;
            if (panel.outerHeight() - 5 < C)
                panel.find(".p_m_body_J").height(C);
            f = t.position().top + g / 2 + m_border + m_content_innerPaddingTop,
            h = t.outerHeight() - g
        }
        $(panel).find(".p_m_cover_J").css({
            top: f,
            height: h
        }),
        $(".J_paddingMarginWrap").css("z-index", -1)
    }
    function i(e) {
        var t = $(e);
        Fai.top.$(".g_m_s_J").each(function() {
            var e = $(this);
            1 == e.length && e.remove()
        }),
        t.removeClass("bold p_m_hover g_border"),
        t.find(".p_m_value_J").removeClass("g_stress"),
        1 == t.attr("_chd") && t.find(".p_m_cotainerR_J").addClass("p_m_more"),
        $(".J_paddingMarginWrap").css("z-index", "")
    }
    function L(i) {
        var a = [];
        a.push("<div class='p_m_cover p_m_cover_J'></div>"),
        a.push("<div class='" + (i.hasGrand ? "p_m_body2" : "p_m_body") + " g_border p_m_body_J'>");
        var o = "";
        return 1 === n && (o = "target='_blank'"),
        i.hasGrand ? 1 === P || 2 === P ? $.each(i.list, function(e, t) {
            1 !== n && _manageMode && (o = "onclick=\"Site.redirectUrl('" + t._href + "', '_self', event, 1, 0);return false;\""),
            a.push("<dl>"),
            a.push("<dt><a class='g_stress' href='" + t._href + "' " + o + ">" + Fai.encodeHtml(t.name) + "</a></dt>"),
            a.push("<dd>"),
            $.each(t.children, function(e, t) {
                1 !== n && _manageMode && (o = "onclick=\"Site.redirectUrl('" + t._href + "', '_self', event, 1, 0);return false;\""),
                a.push("<a href='" + t._href + "' " + o + " title='" + Fai.encodeHtml(t.name) + "'>" + Fai.encodeHtml(t.name) + "</a>")
            }),
            a.push("</dd>"),
            a.push("</dl>"),
            a.push("<div class='p_m_sep'></div>")
        }) : $.each(i.list, function(e, t) {
            1 !== n && _manageMode && (o = "onclick=\"Site.redirectUrl('" + t._href + "', '_self', event, 1, 0);return false;\""),
            a.push("<dl>"),
            a.push("<dt><a class='g_stress' href='" + t._href + "' " + o + ">" + Fai.encodeHtml(t.name) + "</a></dt>"),
            $.each(t.children, function(e, t) {
                1 !== n && _manageMode && (o = "onclick=\"Site.redirectUrl('" + t._href + "', '_self', event, 1, 0);return false;\""),
                a.push("<dd><a href='" + t._href + "' " + o + " title='" + Fai.encodeHtml(t.name) + "'>" + Fai.encodeHtml(t.name) + "</a></dd>")
            }),
            a.push("</dl>"),
            (e + 1) % 3 != 0 && e + 1 != i.list.length || a.push("<div class='p_m_sep'></div>")
        }) : $.each(i.list, function(e, t) {
            1 !== n && _manageMode && (o = "onclick=\"Site.redirectUrl('" + t._href + "', '_self', event, 1, 0);return false;\""),
            a.push("<a class='p_m_line g_stress' href='" + t._href + "' " + o + ">" + Fai.encodeHtml(t.name) + "</a>")
        }),
        a.push("</div>"),
        a
    }
    "function" == typeof k.find(".pd_mall_G_J").menuAim && e()
}
,
Site.createImageEffectContent_product = function(e, _, S, b) {
    if (b) {
        var x = {
            fwc: _.wordType ? _.fullmaskWordColor : "#fff",
            fwr: _.wordType ? _.fullmaskWordResize : 12,
            fws: _.wordType ? _.fullmaskWordStyle : "微软雅黑"
        }
          , w = $(e).find(".imageEffects")
          , y = $(e).attr("id");
        if (void 0 === y) {
            var t = $(w).parents("." + S.targetParent).attr("productid");
            y = S.targetParent + t
        }
        var C = 5 == _.effType ? .75 * $(e).height() * .5 : .5 * $(w).height()
          , F = $(w).width()
          , I = "";
        i(),
        a(),
        o()
    }
    function i() {
        var e = []
          , t = ""
          , i = !1
          , a = 0
          , o = ""
          , n = ""
          , r = "<div class='props'><div class='propList g_specialClass' style='" + (n += S.productTextCenter ? "text-align: center;" : "text-align: left;") + "'></div><div class='propBuy'></div></div>";
        for (var s in $(w).append(r),
        "productMarqueeForm" == S.targetParent && (y = y.replace("_clone", "")),
        b)
            if (b[s][y] != undefined) {
                e = jQuery.parseJSON(b[s][y]),
                t = b[s].productName,
                I = b[s].productBuyBtnText,
                i = b[s].hasDiscount,
                a = b[s].tmpPropPrice,
                o = b[s].tmpPropName;
                break
            }
        var l = $(w).find(".props .propList");
        if (S.productNameShow && $(l).append("<a href='javascript:;' onclick='return false;' class='fk_imgEffProductName imgEffPropName " + (S.productNameWordWrap ? "" : "noNameWrap") + "'>" + t + "</a>"),
        0 < e.length)
            for (var s in e) {
                var d = e[s]
                  , c = d.propName
                  , p = d.propValue
                  , u = d.type || -1
                  , m = d.allowed
                  , h = !1
                  , f = "";
                if (11 == u && i && (c = o,
                p = a,
                h = !0,
                f = " g_stress"),
                c = S.propNameShow || h ? "<span class='propName" + f + " fk-prop-name'>" + c + "：</span>" : "",
                !($(l).height() < C)) {
                    var g = $(l).children().last();
                    if ($(g).width() < F) {
                        var v = $(l).children().last().html();
                        $(l).children().last().html(v + "...")
                    }
                    break
                }
                11 != u && 12 != u || !m ? tempStr = c + "<span class='fk-prop-other'>" + p + "</span>" : (p = 12 == u ? "<span class='effect_second_Marketprice fk-prop-marketprice'>" + Fai.top._choiceCurrencyVal + p + "</span>" : "<span class='propValue  g_stress mallPrice fk-prop-price'>" + Fai.top._choiceCurrencyVal + p + "</span>",
                tempStr = c + p),
                $(l).append("<p class='prop'>" + tempStr + "</p>")
            }
        _.wordType && $(w).find(".imgEffPropName").css({
            color: x.fwc,
            "font-size": x.fwr + "px",
            "font-family": x.fws
        }),
        $(w).find(".prop").css({
            color: x.fwc,
            "font-size": x.fwr + "px",
            "font-family": x.fws
        })
    }
    function a() {
        if (S.mallShowBuy || S.bookingBtnShow) {
            var e = "<span>" + I + "</span>";
            $(w).find(".props .propBuy").append(e)
        } else
            $(w).find(".props .propBuy").remove()
    }
    function o() {
        $(w).find(".propBuy").bind("mouseenter", function() {
            $(this).addClass("propBuy_hover")
        }).bind("mouseleave", function() {
            $(this).removeClass("propBuy_hover")
        }),
        (Fai.isIE6() || Fai.isIE7()) && $(w).find(".propBuy").bind("click", function() {
            var e = $(this).attr("data-click");
            0 < e.length && Fai.fkEval(e)
        })
    }
}
,
Site.clearImageEffectContent_product = function(e, t) {
    $("#module" + e).find("." + t).remove(),
    0 < $("#module" + e).find(".mallPanel").length && $("#module" + e).find(".mallPanel").remove()
}
,
Site.bindImageEffectCusEvent_product = function(e, o) {
    var t = $(e).find(".imageEffects");
    $(t).css("cursor", "pointer"),
    $(t).bind("click", function() {
        var e = $(this).parents("." + o.targetParent).find("a");
        if (!Fai.isNull(e)) {
            var t = $(e).attr("href")
              , i = $(e).attr("onclick")
              , a = $(e).attr("target");
            void 0 !== i ? Fai.fkEval(i) : 0 < t.length && window.open(t, a)
        }
    })
}
,
Site.initModuleProductResultPropFilter = function(e) {
    var t = $("#module" + e)
      , i = t.find(".fp_list_J")
      , a = i.find(".fp_block_J");
    if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
        var o = i.find(".block_head_J").outerWidth();
        i.find(".block_body_J").width(i.width() - o)
    }
    $.each(a, function(e, t) {
        var i = (t = $(t)).find(".block_head_J")
          , a = t.find(".block_body_J")
          , o = i.outerHeight();
        if (blockBodyH = a.outerHeight(),
        blockBodyH > o + 10)
            return a.attr("_h", blockBodyH),
            void $(t).find(".block_tail_J .more_btn_J").text(LS.js_productResultMore);
        $(t).find(".block_tail_J").remove()
    }),
    t.find(".fp_list_J .block_tail_J").off("click.showMore").on("click.showMore", function() {
        var e = $(this)
          , t = e.parent()
          , i = t.find(".block_body_J")
          , a = e.find(".more_btn_J")
          , o = e.find(".more_down");
        o.hasClass("more_up") ? (t.removeAttr("style"),
        a.text(LS.js_productResultMore),
        o.removeClass("more_up")) : (t.height(i.attr("_h")),
        a.text(LS.productResultColl),
        o.addClass("more_up"))
    }),
    $("#conds_body_sel").change(function() {
        window.location.href = $(this).val()
    }),
    Fai.top._manageMode && $("#pf_tips").hover(function() {
        var e = $(this);
        tipImgW = e.width(),
        tipTop = e.offset().top,
        tipLeft = e.offset().left,
        str = "<div id='pf_tips_Msg' class='pf_tips_Msg g_tip'>" + e.attr("_tipVal") + "</div>",
        Fai.top.$(str).appendTo("body");
        var t = $("#pf_tips_Msg");
        t.offset({
            top: tipTop - t.outerHeight() - 10,
            left: tipLeft
        })
    }, function() {
        $("#pf_tips_Msg").remove()
    })
}
,
Site.productResultPropFilterSearch = function(i) {
    $("#searchButton").click(function() {
        var e = $("#searchCondInput").val();
        (e = Fai.encodeUrl($.trim(e))) || (Fai.top.location.href = Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "pr.jsp?pfc=" + Fai.encodeUrl($.toJSON(i))),
        Fai.top.location.href = i ? Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "pr.jsp?keywordCond=" + e + "&pfc=" + Fai.encodeUrl($.toJSON(i)) : Site.preprocessUrl({
            path: "",
            oldPath: ""
        }) + "pr.jsp?keywordCond=" + e
    }),
    $("#searchCondInput").keydown(function(e) {
        if (13 == e.keyCode) {
            var t = $("#searchCondInput").val();
            (t = Fai.encodeUrl($.trim(t))) || (Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "pr.jsp?pfc=" + Fai.encodeUrl($.toJSON(i))),
            Fai.top.location.href = i ? Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "pr.jsp?keywordCond=" + t + "&pfc=" + Fai.encodeUrl($.toJSON(i)) : Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "pr.jsp?keywordCond=" + t
        }
    })
}
,
Site.productResultPriceCondFilter = function(c) {
    var i = !1;
    $("#sort_priceMin").bind("focus", function() {
        $("#sort_priceMin").removeClass("sort_priceArea").addClass("sort_priceAreaCheck g_borderSelected"),
        $("#sort_submit").show(),
        $("#prSort_item2").addClass("sort_select2"),
        i = !0
    }),
    $("#sort_priceMax").bind("focus", function() {
        $("#sort_priceMax").removeClass("sort_priceArea").addClass("sort_priceAreaCheck g_borderSelected"),
        $("#sort_submit").show(),
        $("#prSort_item2").addClass("sort_select2"),
        i = !0
    }),
    $("#sort_submit").bind("click", function() {
        var e = $("#sort_priceMin").val()
          , t = $("#sort_priceMax").val();
        if (e || t) {
            var i = parseInt(e)
              , a = parseInt(t);
            if (isNaN(i) && "" != e)
                $("#sort_priceMin").removeClass("sort_priceArea").addClass("sort_priceAreaCheck g_borderSelected");
            else if (isNaN(a) && "" != t)
                $("#sort_priceMax").removeClass("sort_priceArea").addClass("sort_priceAreaCheck g_borderSelected");
            else {
                if (a < i) {
                    var o = t;
                    t = e,
                    e = o,
                    o = a,
                    a = i,
                    i = o
                }
                if (!(c = c || {}).props) {
                    var n = [];
                    c.props = n
                }
                var r = c.props
                  , s = !1
                  , l = "";
                if (l += e ? i : "0," + a,
                e && t && (l += "," + a),
                l = "[" + l + "]",
                $.each(r, function(e, t) {
                    11 == t.k && (t.v = l,
                    s = !0)
                }),
                !s) {
                    var d = {
                        k: 11
                    };
                    d.v = l,
                    r.push(d)
                }
                Fai.top.location.href = Site.preprocessUrl({
                    path: "",
                    oldPath: ""
                }) + "pr.jsp?pfc=" + Fai.encodeUrl($.toJSON(c))
            }
        }
    }),
    $("#sort_priceMin").bind("blur", function() {
        i = !1;
        var e = $.trim($("#sort_priceMin").val())
          , t = parseInt(e);
        "" != e && isNaN(t) ? $("#sort_priceMin").val("") : ($("#sort_priceMin").removeClass("sort_priceAreaCheck g_borderSelected").addClass("sort_priceArea"),
        setTimeout(function() {
            i || ($("#sort_submit").hide(),
            $("#prSort_item2").removeClass("sort_select2"))
        }, 250))
    }),
    $("#sort_priceMax").bind("blur", function() {
        i = !1;
        var e = $.trim($("#sort_priceMax").val())
          , t = parseInt(e);
        "" != e && isNaN(t) ? $("#sort_priceMax").val("") : ($("#sort_priceMax").removeClass("sort_priceAreaCheck g_borderSelected").addClass("sort_priceArea"),
        setTimeout(function() {
            i || ($("#sort_submit").hide(),
            $("#prSort_item2").removeClass("sort_select2"))
        }, 250))
    })
}
,
Site.initPdPagenation = function(e) {
    $("#pagenation" + e).on("click.product", ".pageNo", function() {
        $(this).addClass("fk-select")
    })
}
,
Site.setProductStatify = function(e, t, i) {
    var a, o, n, r = $("#module" + e);
    if (!(r.find(".J_proSatifySum").length < 1)) {
        var s = "J_select"
          , l = "J_noSelect fk-noSelect";
        if ((Fai.isIE6() || Fai.isIE7()) && (s = "lt_select_more",
        l = "lt_no_select"),
        0 < (a = r.find(".J_pdCommStarList")).length) {
            o = a.find(".J_proStar"),
            t = Math.round(t);
            for (var d = 0; d < t; d++)
                o.eq(d).addClass(s);
            for (d = t; d <= 5; d++)
                o.eq(d).addClass(l);
            a.attr("star", t)
        }
        0 < (n = r.find(".J_commNum")).length && n.text(i)
    }
}
,
Site.initProDetailStyle = function(e, t) {
    var i, a, o, n, r, s, l, d, c, p, u, m, h = $("#module" + e), f = h.find(".formBanner" + e), g = h.find(".J_productDetail").width(), v = h.find(".pdTableLayout").width(), _ = !1;
    h.removeClass("fk-proDetaliModuleStyle"),
    f.removeClass("fk-proDetailBannerStyle"),
    5 == t && (h.addClass("fk-proDetaliModuleStyle"),
    f.addClass("fk-proDetailBannerStyle"),
    g < v && (o = h.find(".pdLayoutR_J"),
    n = h.find(".pd_t_l_left_J"),
    0 < (a = $("#imgGroup" + e)).length && (_ = !0),
    (r = (g - 280) / 23) < 20 && (r = 20),
    (i = h.find(".J_saleFullReduce")).find("#realMallAmount").css({
        "font-size": r + "px",
        "line-height": r + "px"
    }),
    i.find(".propName").css("line-height", i.find(".J_mallPrice").height() + "px"),
    s = (g - 320) / 21,
    o.find(".J_pdDetailBorder").css("margin", "0 0 0 " + (0 < s ? s : 0) + "px"),
    _ && (m = $("#imgDiv" + e).outerWidth(!0),
    d = g / 46,
    a.css("margin-right", d + "px"),
    u = a.outerWidth(!0),
    n.find(".imgContainer_J").css({
        "margin-right": d + "px",
        width: u + m
    }),
    l = n.find(".J_productOpera"),
    c = parseInt(a.outerWidth(!0)),
    l.css("left", (0 < c ? c : 0) + "px"),
    n.find("#prevAndNextDiv").css("margin-left", (0 < c ? c : 0) + "px")),
    (p = g - n.outerWidth(!0)) <= 0 && (p = "100%"),
    h.find(".J_productTitle").width(p),
    o.find(".propValue:not('.J_mallPrice')").width(g - n.outerWidth(!0) - o.find(".propName:last").outerWidth(!0) - o.find(".propColon:last").outerWidth(!0) - 3))),
    Site.switchJump()
}
,
Site.initProDetailPage = function(e, t, i) {
    if ($("#singleProductpagenation" + e).find("a").hover(function() {
        $(this).addClass("g_hover")
    }, function() {
        $(this).removeClass("g_hover")
    }),
    t) {
        var a = !1;
        0 < $("#imgGroup" + e).length && (a = !0),
        a && $("#prevAndNextDiv").addClass("fk-pd5PageStyle"),
        i || $("#prevAndNextDiv").width($("#imgDiv" + e).width())
    }
}
,
function(s, m, h) {
    var f = []
      , g = 0
      , d = 0
      , c = 0
      , v = 1
      , _ = 10
      , S = []
      , b = ""
      , x = {}
      , w = !1
      , l = function l(e) {
        var n = e.pageNo
          , r = e.pageSize;
        return new Promise(function(a, t) {
            $.ajax({
                type: "get",
                url: m.addRequestPrefix({
                    newPath: "/ajax/product_h.jsp?cmd=getWafNotCk_getKnowProductList",
                    oldPath: m.genAjaxUrl("product_h.jsp?cmd=getWafNotCk_getKnowProductList")
                }),
                data: {
                    pageNo: n,
                    pageSize: r,
                    needUrl: !0,
                    idList: $.toJSON(S)
                },
                error: function i(e) {
                    s.ing("服务繁忙，请稍候重试", !1),
                    t(e)
                },
                success: function o(e) {
                    var i = []
                      , t = JSON.parse(e);
                    t.success && (t.list.forEach(function(e) {
                        var t = {};
                        switch (t.id = e.id,
                        t.name = e.name,
                        t.payContentType = e.other.pkp.payContentType,
                        e.other.pkp.payContentType) {
                        case 0:
                            t.productName = "视频";
                            break;
                        case 1:
                            t.productName = "图文";
                            break;
                        case 3:
                            t.productName = "音频";
                            break;
                        default:
                            t.productName = "视频"
                        }
                        t.aid = e.aid,
                        t.url = e.url,
                        i.push(t)
                    }),
                    a(i))
                }
            })
        }
        )
    }
      , r = function r(e, t) {
        var o = ""
          , n = /\/cn\//.test(location.href) ? "/cn" : "";
        e.forEach(function(e) {
            var t = ""
              , i = e.url.includes("?") ? "&" : "?"
              , a = "";
            e.pdReqArgs && (a = JZ.createUrlArgsOnclickStr(e.pdReqArgs)),
            e.id === c && (t = "product_active"),
            o += "<li>\n\t\t\t\t\t\t<a target='_self' href='".concat(n).concat(e.url).concat(i, "productColId=").concat(d, "' class='product_catalog_link ").concat(t, "' ").concat(a, ">\n\t\t\t\t\t\t\t<div class='product_name--box'>\n\t\t\t\t\t\t\t\t<span class='product_name--mask fk-mainBgColor'></span>\n\t\t\t\t\t\t\t\t<span class='product_name--text fk-mainColor'>").concat(e.productName, "</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span class='catalog_name'>").concat(e.name, "</span>\n\t\t\t\t\t\t\t<span class='catalog_btn--study fk-mainBgColor'>立即学习</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>")
        }),
        $(t).append(o)
    }
      , n = function n(e, t) {
        S.length && (S.length > _ && !f[t - 1] && f.push(e),
        S.length <= _ && f.push.apply(f, _toConsumableArray2(e)))
    }
      , y = function y(e, t) {
        e && setTimeout(function() {
            e.find(t).off("mouseenter.productCatalog").on("mouseenter.productCatalog", function() {
                $(this).find(".catalog_name").addClass("fk-mainColor")
            }),
            e.find(t).off("mouseleave.productCatalog").on("mouseleave.productCatalog", function() {
                $(this).find(".catalog_name").removeClass("fk-mainColor")
            })
        }, 500)
    }
      , C = function C(t) {
        var i = 1 < arguments.length && arguments[1] !== h ? arguments[1] : 1;
        return l({
            pageNo: i,
            pageSize: _
        }).then(function(e) {
            e.length && (n(e, i),
            Array.isArray(f[0]) ? r(f[0], t) : r(f, t))
        })
    }
      , p = function p(e) {
        var t = e.productList
          , i = e.productColId
          , a = e.currentProductId
          , o = e.pageSize
          , n = e.isBuyProduct
          , r = e.productColUrl
          , s = e.productColUrlArg;
        if (o != h && (_ = o),
        t != h) {
            var l = (S = _toConsumableArray2(t)).length % _;
            c = a,
            g = 0 === l ? S.length / _ : (S.length - l) / _ + 1
        }
        i != h && (d = i),
        n != h && (w = n),
        "" != r && (b = r),
        "" != s && (x = s)
    }
      , F = function F(e) {
        var t = e.productCatalogContainer
          , i = e.productCatalogNode
          , a = e.hoverItem
          , o = v + 1;
        l({
            pageNo: o,
            pageSize: _
        }).then(function(e) {
            e.length && (n(e, o),
            f[v] && (r(f[v], i, c),
            y(t, a),
            v++))
        })
    };
    m.initKnowProductConstan = function(e, t) {
        p({
            productList: e,
            productColId: t,
            currentProductId: 2 < arguments.length && arguments[2] !== h ? arguments[2] : 0,
            pageSize: 3 < arguments.length && arguments[3] !== h ? arguments[3] : 10,
            isBuyProduct: 4 < arguments.length && arguments[4] !== h ? arguments[4] : h,
            productColUrl: 5 < arguments.length && arguments[5] !== h ? arguments[5] : "",
            productColUrlArg: 6 < arguments.length && arguments[6] !== h ? arguments[6] : {}
        })
    }
    ,
    m.initProductColumnCatalog = function() {
        var e = 0 < arguments.length && arguments[0] !== h ? arguments[0] : 1;
        try {
            if (!S.length)
                return;
            var t = $("#productCatalogDesc")
              , i = 60
              , a = ".fk-productCatalogList"
              , o = ".fk-productCatalogList li"
              , n = document.body.clientHeight;
            if (C(a, e),
            $(".fk_trial_pd_wrap").length && $(".fk_trial_pd_wrap").remove(),
            S.length > _ && t.length) {
                var r = m.throttle(function(e) {
                    t.find("li:last-of-type")[0].getBoundingClientRect().y <= n - i && v < g && F({
                        productCatalogContainer: t,
                        productCatalogNode: a,
                        hoverItem: o
                    })
                }, 50);
                v < g && setTimeout(function() {
                    $(document).off("scroll.productCatalog").on("scroll.productCatalog", r)
                }, 200)
            }
            y(t, o)
        } catch (s) {
            console.log(s)
        }
    }
    ,
    m.initProductColumnCatalogPop = function(e) {
        var t = 1 < arguments.length && arguments[1] !== h ? arguments[1] : 1;
        try {
            var a = ".product_catalog_list"
              , i = /\/cn\//.test(location.href) ? "/cn" : ""
              , o = ".product_catalog_list li"
              , n = 50
              , r = w ? "" : 'style="display:none;"'
              , s = w ? 'style="display:none;"' : ""
              , l = w ? "返回专栏" : "前往购买"
              , d = w ? "" : " product_trial_btn"
              , c = "";
            JZ.getIsOpenRemoveUrlArg() && (c = JZ.createUrlArgsOnclickStr(x)),
            m.popupWindow({
                title: "课程目录",
                width: 700,
                height: 600,
                divContent: '<div id="productCatalogContainer" class="'.concat(e, ' product_catalog_container">\n\t\t\t\t\t\t\t\t<div class="product_catalog_box" ').concat(r, '>\n\t\t\t\t\t\t\t\t\t<ul class="product_catalog_list"></ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="product_trial_box" ').concat(s, ">\n\t\t\t\t\t\t\t\t\t<img class='trial_img' src='").concat(_resImageRoot, "/image/v2/pay.png?v=202005081130' alt=\"未购tips\"/>\n\t\t\t\t\t\t\t\t\t<div class='trial_tip'>购买后查看全部内容</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a class=\"product_catalog_btn--back").concat(d, "\" target='_self' href='").concat(i).concat(b, "' ").concat(c, ">").concat(l, "</a>\n\t\t\t\t\t\t\t</div>"),
                saveBeforePopup: !0,
                version: 2,
                closeFunc: function p() {
                    f.length = 0,
                    v = 1
                }
            }),
            C(a, t).then(function() {
                if (S.length > _) {
                    var t = $(".product_catalog_box")
                      , i = 430
                      , e = m.throttle(function(e) {
                        t.find("li:last-of-type")[0].getBoundingClientRect().y <= i + t[0].getBoundingClientRect().y - n && v < g && F({
                            productCatalogContainer: $("#productCatalogContainer"),
                            productCatalogNode: a,
                            hoverItem: o
                        })
                    }, 50);
                    v < g && setTimeout(function() {
                        i = t.length ? t.height() : 430,
                        t.off("scroll.productPop").on("scroll.productPop", e)
                    }, 200)
                }
                y($("#productCatalogContainer"), o)
            })
        } catch (u) {
            console.log(u)
        }
    }
}(Fai, Site, undefined),
function(f, h) {
    var g = !1
      , v = {};
    function t(e) {
        var a = $("#module" + e);
        f.top._manageMode || a.find(".mallHead").css("cursor", "pointer");
        var t = $(".styleMall" + e);
        if (!t.parent().is("body")) {
            if (a.parent().hasClass("fk-webBannerZone") && "none" === a.parent().css("display"))
                return;
            $("body").append(t),
            t = $(".styleMall" + e)
        }
        _(e);
        var i = a.parent().hasClass("J_bottomFloatLayerContent") ? 9031 : 4;
        setTimeout(function() {
            t.css({
                width: a.width(),
                "z-index": i
            }),
            a.find(".mallHead").off("click").on("click", function() {
                var e = a.attr("_moduleid")
                  , t = $(".styleMall" + e);
                t.parent().is("body") || ($("body").append(t),
                t = $(".styleMall" + e)),
                "none" != t.css("display") && $(".styleMall" + e + " li").eq(0).trigger("mouseleave"),
                t.toggle(),
                t.find(".mallGroupRight").hide();
                var i = a.parent().hasClass("J_bottomFloatLayerContent") ? 9031 : 4;
                t.css({
                    width: a.width(),
                    height: "auto",
                    "z-index": i
                }),
                a.show(),
                $(".mallGroupRight" + e).css({
                    left: a.width(),
                    top: 0
                }),
                _(e)
            })
        }, 0),
        $(".formMiddleCenter" + e).css({
            height: "100%"
        }),
        $(".formMiddleContent" + e).css({
            height: "100%"
        })
    }
    function _(r) {
        setTimeout(function() {
            var e, t, i, a = $("#module" + r), o = $(".styleMall" + r), n = a.parent().hasClass("J_bottomFloatLayerContent");
            t = (e = h.getModuleGMainRect(r)).left,
            i = e.bottom,
            n && (i = n ? i + h.getTopHeight() - 1 : i,
            i = f.top._manageMode ? i : i - f.top.$(window).scrollTop()),
            o.css({
                top: i,
                left: t,
                position: n ? "fixed" : ""
            })
        }, 0)
    }
    function c(e, t) {
        if (0 <= e.indexOf("transparent"))
            return e;
        var i, a, o;
        0 <= e.indexOf("#") && (e = d(e));
        var n = e.split("(")[1].split(")")[0].split(",")
          , r = parseInt(n[0])
          , s = parseInt(n[1])
          , l = parseInt(n[2]);
        return o = s <= r ? l <= r ? (i = 25,
        l <= s ? (a = 23,
        20) : (a = 20,
        23)) : (i = 23,
        l <= s ? (a = 25,
        20) : (a = 20,
        25)) : l <= r ? (i = 23,
        l <= s ? (a = 25,
        20) : (a = 20,
        25)) : (i = 20,
        l <= s ? (a = 25,
        23) : (a = 23,
        25)),
        0 != t ? S(e) ? "rgba(" + (parseInt(n[0]) + i <= 0 ? "0" : "" + (parseInt(n[0]) + i)) + "," + (parseInt(n[1]) + a <= 0 ? "0" : "" + (parseInt(n[1]) + a)) + "," + (parseInt(n[2]) + o <= 0 ? "0" : "" + (parseInt(n[2]) + o)) + "," + n[3] + ")" : "rgb(" + (parseInt(n[0]) + i <= 0 ? "0" : "" + (parseInt(n[0]) + i)) + "," + (parseInt(n[1]) + a <= 0 ? "0" : "" + (parseInt(n[1]) + a)) + "," + (parseInt(n[2]) + o <= 0 ? "0" : "" + (parseInt(n[2]) + o)) + ")" : S(e) ? "rgba(" + (parseInt(n[0]) - i <= 0 ? "0" : "" + (parseInt(n[0]) - i)) + "," + (parseInt(n[1]) - a <= 0 ? "0" : "" + (parseInt(n[1]) - a)) + "," + (parseInt(n[2]) - o <= 0 ? "0" : "" + (parseInt(n[2]) - o)) + "," + n[3] + ")" : "rgb(" + (parseInt(n[0]) - i <= 0 ? "0" : "" + (parseInt(n[0]) - i)) + "," + (parseInt(n[1]) - a <= 0 ? "0" : "" + (parseInt(n[1]) - a)) + "," + (parseInt(n[2]) - o <= 0 ? "0" : "" + (parseInt(n[2]) - o)) + ")"
    }
    function S(e) {
        return e.indexOf("#") < 0 && (0 <= e.indexOf("rgba") || 0 <= e.indexOf("RGBA"))
    }
    function b(e) {
        if (S(e)) {
            if (0 <= e.indexOf("transparent"))
                return "rgb(255,255,255)";
            var t = e.split("(")[1].split(")")[0].split(",");
            return "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")"
        }
    }
    function d(e) {
        var t = e.toLowerCase();
        if (t && 0 <= t.indexOf("#")) {
            if (4 === t.length) {
                for (var i = "#", a = 1; a < 4; a += 1)
                    i += t.slice(a, a + 1).concat(t.slice(a, a + 1));
                t = i
            }
            var o = [];
            for (a = 1; a < 7; a += 2)
                o.push(parseInt("0x" + t.slice(a, a + 2)));
            return "RGB(" + o.join(",") + ")"
        }
        return t
    }
    h.initModuleMallGroup = function(o, a, n, e, t, i, r, s) {
        var l = $("#module" + o)
          , d = $(".styleMall" + o)
          , c = (l.width(),
        l.height(),
        f.top._manageMode);
        function p() {
            l.die("mouseenter mouseleave").live("mouseenter", function() {
                f.isPC() && ($(".styleMall" + o).css({
                    width: l.width()
                }),
                $(".mallGroupRight" + o).css({
                    left: l.width(),
                    top: 0
                }),
                f.isIE() ? d.show() : d.stop(!0, !0).slideDown(800, "easeOutExpo"),
                $.each($(".styleMall" + o).find("li"), function(e, t) {
                    v.fixHWSecondMenuPanel(t)
                }),
                _(o))
            }).live("mouseleave", function() {
                if (null != event.relatedTarget) {
                    var e = event.relatedTarget.className;
                    e.indexOf("li-color") < 0 && e.indexOf("mallLiName") < 0 && e.indexOf("displayRight") < 0 && e.indexOf("ui-resizable-bottomLine") < 0 && (f.isIE() ? d.hide() : d.stop(!0, !0).slideUp(800, "easeOutExpo"))
                }
            }),
            d.die("mouseleave").live("mouseleave", function(e) {
                if (null != e.relatedTarget) {
                    var t = e.relatedTarget.className;
                    if (0 == n && $(this).find(".li-color").find(".pdg_font_icon").removeAttr("style"),
                    0 == n ? ($(this).find(".li-color").removeClass("li-color-" + a),
                    $(this).find(".li-color").find(".displayRight").removeClass("displayRight-hover")) : 1 == n ? $(this).find(".li-color").removeClass("JDli-hover-" + a) : 2 == n && (d.find("ul").removeClass("li-border-" + a),
                    $(this).find(".li-color").removeClass("TMli-hover-" + a)),
                    f.isIE())
                        $(".mallGroupRight" + o + ":visible").hide();
                    else {
                        $(".mallGroupRight" + o).stop(!0, !0);
                        var i = $(".mallGroupRight" + o + ":visible").width();
                        $(".mallGroupRight" + o + ":visible").animate({
                            width: 0,
                            opacity: 0
                        }, 1e3, "easeOutExpo", function() {
                            $(this).width(i),
                            $(this).css({
                                opacity: 1,
                                display: "none"
                            })
                        })
                    }
                    g = !0,
                    0 <= t.indexOf("mallHead") || (f.isIE() ? d.hide() : d.stop(!0, !0).slideUp(800, "easeOutExpo"))
                }
            })
        }
        function u() {
            var i, a = !0;
            d.show(),
            a = 1 != d.attr("_useThemeColor"),
            d.mouseleave(function(e) {
                i = $(this).find(".li-color"),
                d.find(".li-color").removeClass("f-leaveLiSubmenu, f-enterLiSubmenu"),
                0 == n ? (i.find(".pdg_font_icon").removeAttr("style"),
                i.addClass("f-leaveLiSubmenu"),
                i.find(".displayRight").removeClass("displayRight-hover")) : 1 == n ? a ? h.CompatibleColor.isGradient(r) ? i.css({
                    "background-image": r,
                    "background-color": ""
                }) : i.css({
                    "background-image": "",
                    "background-color": r
                }) : i.css("background-color", "") : 2 == n ? (d.find("ul").css({
                    "border-right": ""
                }),
                i.removeClass("TMli-hover"),
                i.css(h.CompatibleColor.borderStyleEmpty()),
                i.css(h.CompatibleColor.textStyleEmpty()),
                i.css({
                    "border-color": "",
                    color: ""
                })) : 3 == n && (i.find(".fk-firstMenuHW, .fk-secondMenuHW").css(h.CompatibleColor.textStyleEmpty()),
                i.find(".fk-firstMenuHW, .fk-secondMenuHW").css("color", "")),
                $(".mallGroupRight" + o).stop(!0, !0);
                var t = $(".mallGroupRight" + o + ":visible").width();
                f.isIE() ? $(".mallGroupRight" + o + ":visible").hide() : $(".mallGroupRight" + o + ":visible").animate({
                    width: 0,
                    opacity: 0
                }, 1e3, "easeOutExpo", function() {
                    $(this).width(t),
                    $(this).css({
                        opacity: 1,
                        display: "none"
                    })
                }),
                g = !0
            })
        }
        function m() {
            if (l = $("#module" + o),
            c || l.find(".mallHead").css("cursor", "pointer"),
            !(d = $(".styleMall" + o)).parent().is("body")) {
                if (l.parent().hasClass("fk-webBannerZone") && "none" === l.parent().css("display"))
                    return;
                $("body").append(d),
                d = $(".styleMall" + o)
            }
            _(o);
            var e = l.parent().hasClass("J_bottomFloatLayerContent") ? 9031 : 4;
            d.css({
                width: l.width(),
                "z-index": e
            }),
            $(".formMiddleCenter" + o).css({
                height: "100%"
            }),
            $(".formMiddleContent" + o).css({
                height: "100%"
            })
        }
        (f.isIE6() || f.isIE7() || f.isIE8()) && (S(r) && (r = b(r),
        0 == n ? ($(".mallGroupRight" + o).css("border", "1px solid " + r),
        s = b(s),
        l.find(".mallHeadYHD").css("background-color", s)) : 1 == n ? (l.find(".mallHeadJD").css("background-color", r),
        $(".mallGroupRight" + o).css("border", "1px solid " + r),
        $(".styleMall" + o).find(".li-color").css({
            "background-color": r
        })) : 2 == n && (l.find(".mallHeadTM").css("background-color", r),
        $(".mallGroupRight" + o).css("border-color", r))),
        1 == n && $(".styleMall" + o).find(".li-color").css({
            "border-bottom": "1px solid",
            "border-top": "1px solid",
            "border-color": r
        })),
        m(),
        h.cacheModuleFunc.init("mallGroupEventBind", {
            moduleId: o,
            useColorCode: r,
            mallStyle: n,
            groupDisplay: t,
            liSize: i
        }),
        1 == t ? 2 == f.top._colId ? u() : p() : 2 == t ? $("#module" + o + ":visible").length && u() : p(),
        l.is(":hidden") && d.hide()
    }
    ,
    h.mallGroupEventBind = function(e) {
        var s = e.moduleId
          , l = $("#module" + s)
          , t = l.width();
        function i(e) {
            var i;
            a(e, mallStyle),
            $(".mallGroupRight" + s).css({
                left: t,
                top: 0
            }),
            styleMall.find(".secGroupName").die("mouseenter mouseleave").live("mouseenter", function() {
                useThemeColor && (e = f.top._useTempThemeColor || e),
                h.CompatibleColor.isGradient(e) ? ($(this).css("color", ""),
                $(this).css(h.CompatibleColor.textStyle(e))) : ($(this).css(h.CompatibleColor.textStyleEmpty()),
                $(this).css("color", e))
            }).live("mouseleave", function() {
                $(this).removeAttr("style")
            }),
            styleMall.find(".thdGroupBox").die("mouseenter mouseleave").live("mouseenter", function() {
                useThemeColor && (e = f.top._useTempThemeColor || e),
                h.CompatibleColor.isGradient(e) ? ($(this).css("color", ""),
                $(this).css(h.CompatibleColor.textStyle(e))) : ($(this).css(h.CompatibleColor.textStyleEmpty()),
                $(this).css("color", e))
            }).live("mouseleave", function() {
                $(this).removeAttr("style")
            }),
            l.find(".mallHead").off("click").on("click", function() {
                styleMall = $(".styleMall" + s),
                styleMall.parent().is("body") || ($("body").append(styleMall),
                styleMall = $(".styleMall" + s)),
                "none" != styleMall.css("display") && $(".styleMall" + s + " li").eq(0).trigger("mouseleave"),
                styleMall.toggle(),
                styleMall.find(".mallGroupRight").hide();
                var e = l.parent().hasClass("J_bottomFloatLayerContent") ? 9031 : 4;
                styleMall.css({
                    width: l.width(),
                    height: "auto",
                    "z-index": e
                }),
                l.show(),
                $(".mallGroupRight" + s).css({
                    left: l.width(),
                    top: 0
                }),
                _(s)
            }),
            $.each(styleMall.find("li"), function(e, t) {
                d(i = styleMall.find("li:eq(" + e + ") .mallGroupRight"), groupDisplay),
                o(i, groupDisplay),
                n(i, groupDisplay),
                f.top._manageMode ? r(t) : setTimeout(function() {
                    r(t)
                }, 1e3),
                f.isIE6() || f.isIE7() || (0 == mallStyle && 750 <= i.width() ? i.mCustomScrollbar({
                    theme: "dark-3",
                    scrollSpeed: 10,
                    scrollButtons: {
                        enable: !0
                    },
                    advanced: {
                        updateOnContentResize: !0
                    },
                    axis: "y",
                    callbacks: {}
                }) : 0 != mallStyle && i.mCustomScrollbar({
                    theme: "dark-3",
                    scrollSpeed: 10,
                    scrollButtons: {
                        enable: !0
                    },
                    advanced: {
                        updateOnContentResize: !0
                    },
                    axis: "y",
                    callbacks: {}
                }))
            }),
            0 == mallStyle && styleMall.find("li").last().css("border-bottom", "0"),
            (f.isIE6() || f.isIE7()) && (2 == mallStyle ? (styleMall.find("ul").removeClass("ulMall").addClass("ulMall-ie6"),
            styleMall.find("ul li").removeClass("li-color").addClass("li-color-ie6"),
            styleMall.find(".mallGroupRight").css({
                "border-left-width": "1px",
                height: styleMall.find(".mallGroupRight").height() + 2 * liSize + "px"
            })) : 1 == mallStyle ? (styleMall.find("ul li").css({
                "margin-bottom": "-2px",
                "margin-top": "0px"
            }),
            styleMall.css("top", parseInt(styleMall.css("top")) - 1 + "px"),
            f.isIE6() && styleMall.find(".mallGroupRight").css("height", styleMall.find(".mallGroupRight").height() + liSize + "px")) : 0 == mallStyle && styleMall.find(".mallGroupRight").css("height", styleMall.find(".mallGroupRight").height() + 2 * liSize + "px"))
        }
        function a(n, r, e) {
            function t() {
                var a = !1;
                function e(e) {
                    if (styleMall = $(".styleMall" + s),
                    styleMall.stop(!0, !0),
                    a && (n = f.top._useTempThemeColor || n),
                    $(e).stop(!0, !0),
                    temThis = e,
                    subMallRight = $(e).children(".mallGroupRight"),
                    styleMall.find(".li-color").removeClass("f-enterLiSubmenu"),
                    $(e).addClass("f-enterLiSubmenu"),
                    0 == r ? ($(e).find(".displayRight").addClass("displayRight-hover"),
                    a || (h.CompatibleColor.isGradient(n) ? $(e).css({
                        "background-image": n,
                        "background-color": "",
                        color: "#fff"
                    }) : $(e).css({
                        "background-image": "",
                        "background-color": n,
                        color: "#fff"
                    }))) : 1 == r ? (h.CompatibleColor.isGradient(n) ? $(e).css({
                        "background-image": n,
                        "background-color": ""
                    }) : $(e).css({
                        "background-image": "",
                        "background-color": c(n, 0)
                    }),
                    $(e).removeClass("bg-transtion")) : 2 == r ? (styleMall.find("ul").css({
                        "border-right": "1px solid",
                        "border-image-slice": "1"
                    }),
                    styleMall.find("ul").css(h.CompatibleColor.borderStyleEmpty()),
                    styleMall.find("ul").css(h.CompatibleColor.borderStyle(n)),
                    $(e).addClass("TMli-hover"),
                    $(e).css(h.CompatibleColor.borderStyleEmpty()),
                    $(e).css(h.CompatibleColor.borderStyle(n)),
                    $(e).css(h.CompatibleColor.textStyleEmpty()),
                    $(e).css(h.CompatibleColor.textStyle(n))) : 3 == r && ($(e).find(".mallGroupRight").length && $(e).addClass("HWli-hover"),
                    $(e).find(".mallLiNameHW").css(h.CompatibleColor.textStyleEmpty()),
                    $(e).find(".mallLiNameHW").css(h.CompatibleColor.textStyle(n)),
                    $(e).find(".J_secondMenuHW").css(h.CompatibleColor.textStyleEmpty()),
                    $(e).find(".J_secondMenuHW").css(h.CompatibleColor.textStyle(n))),
                    0 == r && $(e).find(".pdg_font_icon").css("color", "#fff"),
                    f.isIE())
                        subMallRight.show();
                    else {
                        $(".mallGroupRight").stop(!0, !0);
                        var t = subMallRight.width();
                        subMallRight.width(0),
                        subMallRight.css({
                            opacity: 0,
                            display: "block"
                        }),
                        subMallRight.animate({
                            width: t,
                            opacity: "1"
                        }, 800, "easeOutQuint")
                    }
                    g = !1,
                    $(e).children(".mallGroupRight").length <= 0 && 2 == r && ($(".styleMall" + s).find("ul").css({
                        "border-right": ""
                    }),
                    $(e).css("border-right-width", "1px"),
                    $(e).css("border-right-color", n + "!important"))
                }
                function t(e) {
                    if ("undefined" == typeof event || "undefined" == typeof event.target || "undefined" == typeof event.target.className || !(0 <= event.target.className.indexOf("mallGroupRight" + s) || 0 <= event.target.className.indexOf("secGroup") || 0 <= event.target.className.indexOf("thdGroup"))) {
                        styleMall = $(".styleMall" + s);
                        var t = l.parent().hasClass("J_bottomFloatLayerContent") ? 9031 : 1002;
                        if (styleMall.stop(!0, !0).css("z-index", t),
                        temThis = e,
                        subMallRight = $(e).children(".mallGroupRight"),
                        g) {
                            if (styleMall.find(".li-color").removeClass("f-enterLiSubmenu"),
                            $(e).addClass("f-enterLiSubmenu"),
                            a && (n = f.top._useTempThemeColor || n),
                            0 == r ? ($(e).find(".displayRight").addClass("displayRight-hover"),
                            a || (h.CompatibleColor.isGradient(n) ? $(e).css({
                                "background-image": n,
                                "background-color": "",
                                color: "#fff"
                            }) : $(e).css({
                                "background-image": "",
                                "background-color": n,
                                color: "#fff"
                            }))) : 1 == r ? h.CompatibleColor.isGradient(n) ? $(e).css({
                                "background-color": "",
                                "background-image": n
                            }) : $(e).css({
                                "background-color": c(n, 0),
                                "background-image": ""
                            }) : 2 == r ? (styleMall.find("ul").css({
                                "border-right": "1px solid",
                                "border-image-slice": "1"
                            }),
                            styleMall.find("ul").css(h.CompatibleColor.borderStyle(n)),
                            $(e).addClass("TMli-hover"),
                            $(e).css(h.CompatibleColor.borderStyle(n)),
                            $(e).css(h.CompatibleColor.textStyle(n))) : 3 == r && ($(e).find(".mallGroupRight").length && $(e).addClass("HWli-hover"),
                            $(e).find(".mallLiNameHW").css(h.CompatibleColor.textStyle(n)),
                            $(e).find(".J_secondMenuHW").css(h.CompatibleColor.textStyle(n))),
                            0 == r && $(e).find(".pdg_font_icon").css("color", "#fff"),
                            f.isIE())
                                subMallRight.show();
                            else {
                                $(".mallGroupRight").stop(!0, !0);
                                var i = subMallRight.width();
                                subMallRight.width(0),
                                subMallRight.animate({
                                    width: i,
                                    opacity: "show"
                                }, 800, "easeOutQuint")
                            }
                            g = !1,
                            $(e).children(".mallGroupRight").length <= 0 && 2 == r && ($(".styleMall" + s).find("ul").css({
                                "border-right": ""
                            }),
                            $(e).css("border-right-width", "1px"),
                            $(e).css("border-right-color", n + "!important"))
                        }
                    }
                }
                function i(e) {
                    if (styleMall = $(".styleMall" + s),
                    subMallRight = $(e).children(".mallGroupRight"),
                    0 == r ? (f.isIE() || S($(e).css("background-color")) ? $(e).css({
                        "background-image": "",
                        "background-color": "#fff",
                        color: "#4a4949"
                    }) : ($(e).css({
                        "background-image": ""
                    }),
                    $(e).css(h.CompatibleColor.textStyleEmpty()),
                    $(e).animate({
                        "background-color": "#fff",
                        color: "#4a4949"
                    }, 100, "linear", function() {
                        a && $(e).css({
                            "background-color": "",
                            color: ""
                        })
                    })),
                    $(e).find(".displayRight").removeClass("displayRight-hover")) : 1 == r ? (f.isIE() || S($(e).css("background-color")) || $(e).addClass("bg-transtion"),
                    a ? $(e).css({
                        "background-color": "",
                        "background-image": ""
                    }) : $(e).css("background-color", n)) : 2 == r ? (styleMall.find("ul").css({
                        "border-right": ""
                    }),
                    $(e).removeClass("TMli-hover"),
                    $(e).css(h.CompatibleColor.borderStyleEmpty()),
                    $(e).css(h.CompatibleColor.textStyleEmpty()),
                    $(e).css({
                        "border-color": "",
                        color: ""
                    })) : 3 == r && ($(e).removeClass("HWli-hover"),
                    $(e).find(".mallLiNameHW").css(h.CompatibleColor.textStyleEmpty()),
                    $(e).find(".mallLiNameHW").css("color", ""),
                    $(e).find(".J_secondMenuHW").css(h.CompatibleColor.textStyleEmpty()),
                    $(e).find(".J_secondMenuHW").css("color", "")),
                    f.isIE())
                        subMallRight.hide();
                    else {
                        $(".mallGroupRight").stop(!0, !0);
                        var t = subMallRight.width();
                        subMallRight.animate({
                            width: 0,
                            opacity: 0
                        }, 1e3, "easeOutExpo", function() {
                            $(e).children(".mallGroupRight").width(t),
                            $(e).children(".mallGroupRight").css({
                                opacity: 1,
                                display: "none"
                            })
                        })
                    }
                    0 == r && $(e).find(".pdg_font_icon").removeAttr("style")
                }
                function o(e) {
                    var t = $(e).children("li-color");
                    styleMall = $(".styleMall" + s);
                    var i = l.parent().hasClass("J_bottomFloatLayerContent") ? 9031 : 4;
                    if (styleMall.css("z-index", i),
                    0 == r)
                        $(t).find(".pdg_font_icon").removeAttr("style");
                    else if (3 == r) {
                        var a = styleMall.find(".HWli-hover");
                        a.find(".mallLiNameHW").css("color", ""),
                        a.find(".J_secondMenuHW").css("color", ""),
                        a.removeClass("HWli-hover")
                    }
                }
                styleMall = $(".styleMall" + s),
                a = 1 == styleMall.attr("_useThemeColor"),
                styleMall.find("ul").menuAim({
                    rowSelector: ".li-color",
                    activate: e,
                    enter: t,
                    deactivate: i,
                    exitMenu: o
                })
            }
            "function" == typeof styleMall.find("ul").menuAim && t()
        }
        function o(e, t) {
            if (0 == e.find(".secGroupBox").length)
                return e.prev(".displayRight").hide(),
                void e.remove();
            if (0 != mallStyle && 3 != mallStyle) {
                e.show();
                var i = !0;
                "none" == styleMall.css("display") && (i = !1,
                styleMall.show());
                var a = 0
                  , o = e.find(".thdGroup");
                isNeedChangeWidth = !0,
                $.each(o, function(e, t) {
                    if ("" == o.eq(e).html() || null == o.eq(e).html())
                        return o.eq(e).hide(),
                        void o.eq(e).prev(".point2").hide();
                    30 < o.eq(e).height() && (isNeedChangeWidth = !1),
                    a = a > o.eq(e).outerWidth() ? a : o.eq(e).outerWidth()
                }),
                $.each(o, function(e, t) {
                    o.eq(e).width(a)
                }),
                isNeedChangeWidth && (f.isIE() || e.css("opacity", 1),
                e.width(a + (e.hasClass("mallGroupRightTM") ? 262 : 252))),
                e.hide(),
                i || styleMall.hide()
            }
        }
        function n(e, t) {
            if (3 == mallStyle) {
                e.show();
                var i = !0;
                "none" == styleMall.css("display") && (i = !1,
                styleMall.show());
                var a = 0
                  , o = e.find(".J_thirdGroupPanleHW");
                if (!o.length) {
                    var n = e.find(".secGroupNameHW");
                    $.each(n, function(e, t) {
                        140 <= $(t).width() && $(t).width(140)
                    })
                }
                isNeedChangeWidth = !0,
                $.each(o, function(e, t) {
                    "" != o.eq(e).html() && null != o.eq(e).html() ? a = 497 <= o.eq(e).width() ? (isNeedChangeWidth = !1,
                    497) : a > o.eq(e).width() ? a : o.eq(e).width() : o.eq(e).hide()
                }),
                $.each(o, function(e, t) {
                    o.eq(e).length && (o.eq(e).width(a),
                    o.eq(e).find(".thdGroupBox").addClass("fk-floatLeftMenuItem"))
                }),
                e.hide(),
                i || styleMall.hide()
            }
        }
        function r(e) {
            var t, i, a = $(e).find(".J_secondMenuHW"), o = a.length, n = $(e).parents(".styleHW").width() - ($(e).innerWidth() - $(e).width()), r = 0, s = !1;
            n < 0 || 0 < o && (t = a.children(),
            i = t.length,
            $(e).find(".fk-menuContainerHW").width(n),
            i && $.each(t, function(e, t) {
                if (t = $(t),
                s = s || t.hasClass("fk-hiddenIconHW"),
                1 != i || !s)
                    return r += $(t).innerWidth(),
                    n < r ? (s && --e,
                    a.find("span:gt(" + (e - 1) + ")").remove(),
                    void a.addClass("fk-hiddenLongWord")) : void 0;
                $(t).remove()
            }))
        }
        function d(e, t) {
            if (0 == mallStyle) {
                var i = !0;
                "none" == styleMall.css("display") && (i = !1,
                styleMall.css({
                    opacity: 0,
                    display: "block"
                })),
                e.css({
                    opacity: 0,
                    display: "block"
                });
                var a = e.find(".groupCol1").selector
                  , o = e.find(".groupCol2").selector
                  , n = e.find(".groupCol3").selector
                  , r = e.find(".secGroupBox")
                  , s = !1;
                $.each(r, function(e, t) {
                    if (s && e++,
                    (e + 1) % 3 == 1) {
                        if (s && e--,
                        100 < $(a).height() - $(o).height())
                            return r.eq(e).appendTo(o).show(),
                            void (s = !0);
                        r.eq(e).appendTo(a).show()
                    } else if ((e + 1) % 3 == 2) {
                        if (s && e--,
                        100 < $(o).height() - $(n).height())
                            return r.eq(e).appendTo(n).show(),
                            void (s = !0);
                        r.eq(e).appendTo(o).show()
                    } else
                        (e + 1) % 3 == 0 && (s && e--,
                        r.eq(e).appendTo(n).show())
                });
                var l = $(a).height()
                  , d = $(o).height()
                  , c = $(n).height()
                  , p = d < l ? c < l ? l : c : c < d ? d : c
                  , u = e.height()
                  , m = u < p ? p : u
                  , h = 750;
                $(a).height(m),
                $(o).height(m),
                $(n).height(m),
                "" == $(a).html() && (h -= 250),
                "" == $(o).html() && (h -= 250),
                "" == $(n).html() && (h -= 250),
                e.width(h),
                f.isIE6() && (249 < $(a).width() && $(a).width(249).css("overflow", "hidden"),
                249 < $(o).width() && $(o).width(249).css("overflow", "hidden"),
                249 < $(n).width() && $(n).width(249).css("overflow", "hidden"),
                e.find(".secGroupBox").css("margin-left", "15px")),
                i || styleMall.css({
                    opacity: 1,
                    display: "none"
                }),
                e.css({
                    opacity: 1,
                    display: "none"
                })
            }
        }
        useColorCode = e.useColorCode,
        styleMall = $(".styleMall" + s),
        mallStyle = e.mallStyle,
        useThemeColor = 1 == styleMall.attr("_useThemeColor"),
        groupDisplay = e.groupDisplay,
        liSize = e.liSize,
        isNeedChangeWidth = !0,
        i(useColorCode),
        v.fixHWSecondMenuPanel = function(e) {
            r(e)
        }
    }
    ,
    h.fixAllMallPosition = function(e) {
        e ? t(e) : f.top.$(".formStyle97").each(function() {
            t($(this).attr("_moduleid"))
        })
    }
}(Fai, Site, undefined),
Site.newsScroll = function(e) {
    var t = {
        pauseDuration: 2400,
        showDuration: 600,
        scrollMode: "up"
    }
      , d = $.extend({}, t, e)
      , i = "scroll" + d.moduleId
      , a = $("#module" + d.moduleId)
      , c = a.find(".newsList");
    if (c.stop(!0, !0),
    Fai.stopInterval(i),
    !e.noScroll) {
        var o = c.parent()
          , p = (c.find(".line"),
        c.find(".separatorLine"),
        d.leader || 0);
        a.on("mouseover.newsScroll", function() {
            c.stop(),
            Fai.stopInterval(i),
            $(this).attr("scrollInterval", 0)
        }).on("mouseout.newsScroll", function() {
            0 == $(this).attr("scrollInterval") && (c.stop(),
            Fai.stopInterval(i),
            Fai.startInterval(i),
            $(this).attr("scrollInterval", 1))
        }),
        a.on("mouseover.newsScroll", function() {
            c.stop(),
            Fai.stopInterval(i),
            $(this).attr("scrollInterval", 0)
        }).on("mouseout.newsScroll", function() {
            0 == $(this).attr("scrollInterval") && (c.stop(),
            Fai.stopInterval(i),
            Fai.startInterval(i),
            $(this).attr("scrollInterval", 1))
        }),
        n()
    }
    function n() {
        function e() {
            if ("up" == d.scrollMode) {
                var e = c.find(".line").eq(p)
                  , t = c.find(".separatorLine").eq(p)
                  , i = e.outerHeight()
                  , a = (r = t.is(":visible")) ? t.outerHeight(!0) : 0;
                0 == p ? c.animate({
                    top: "-=" + (i + a)
                }, d.showDuration * ((i + a) / 32), function() {
                    e.appendTo(c).end().hide().fadeIn(400),
                    t.appendTo(c).end().hide(),
                    r && t.fadeIn(400),
                    e.insertAfter(c.find(".separatorLine:last")).end().hide().fadeIn(400),
                    t.insertAfter(c.find(".line:last")).end().hide(),
                    r && t.fadeIn(400),
                    c.css({
                        top: 0
                    }),
                    u()
                }) : (e.animate({
                    opacity: 0
                }, 400).slideUp(600, function() {
                    e.css({
                        opacity: 1
                    }).appendTo(c).end().hide().fadeIn(400),
                    t.appendTo(c).end().hide(),
                    r && t.fadeIn(400)
                }),
                u())
            } else {
                var o = c.find(".line:last")
                  , n = c.find(".separatorLine:last")
                  , r = n.is(":visible")
                  , s = o.outerHeight()
                  , l = r ? n.outerHeight(!0) : 0;
                0 == p ? c.animate({
                    top: "+=" + (s + l)
                }, d.showDuration * ((s + l) / 32), function() {
                    n.insertBefore(c.find(".line").eq(p)).end().hide(),
                    r && n.fadeIn(400),
                    o.insertBefore(c.find(".separatorLine").eq(p)).end().hide().fadeIn(400),
                    c.css({
                        top: 0
                    }),
                    u()
                }) : (n.insertBefore(c.find(".line").eq(p)).end().hide(),
                r && n.slideDown().css({
                    opacity: 0
                }).animate({
                    opacity: 1
                }),
                o.insertBefore(c.find(".separatorLine").eq(p)).end().hide().slideDown().css({
                    opacity: 0
                }).animate({
                    opacity: 1
                }),
                u())
            }
        }
        c.css({
            position: "relative"
        }),
        o.css({
            overflow: "hidden",
            position: "relative"
        }),
        c.height(c.height()),
        o.height(c.height()),
        Fai.addTimeout(i, e, d.pauseDuration),
        Fai.startInterval(i)
    }
    function u() {
        n()
    }
}
,
Site.loadNewsList = function(t, e, n) {
    var i = $("#module" + t).find(".newsList");
    if (0 != i.length) {
        var l = {};
        i.find(".lineBody").each(function(e) {
            var t = $(this)
              , i = t.find(".newsType");
            if (0 != i.length) {
                var a = i.find(">a")
                  , o = 0;
                $.each(a, function(e, t) {
                    o += $(t).outerWidth() + Fai.getCssInt($(t), "margin-right")
                });
                var n = o + Fai.getCssInt(i, "padding-left") + Fai.getCssInt(i, "padding-right") + 5;
                ("undefined" == typeof l.nt || l.nt < n) && (300 < n && (n = 300),
                l.nt = n)
            }
            var r = t.find(".newsCalendar");
            if (0 != r.length) {
                var s = r.find(">a").first().outerWidth() + Fai.getCssInt(r, "padding-left") + Fai.getCssInt(r, "padding-right") + 5;
                ("undefined" == typeof l.nc || l.nc < s) && (l.nc = s)
            }
        });
        var r = i.attr("newslisttype");
        i.find(".lineBody").each(function() {
            var e = $(this);
            if (!e.children().hasClass("J_noChangeStyle")) {
                var t, i;
                if (n)
                    i = e.width() <= 400 ? 0 == e.find(".newsType").length ? (t = "100%",
                    "0%") : (t = "60%",
                    "40%") : 0 == e.find(".newsType").length ? (t = "100%",
                    "0%") : (t = "70%",
                    "30%"),
                    e.find(".newsTitle").css("width", t),
                    "undefined" != typeof l.nt && e.find(".newsType").css({
                        width: i,
                        "text-overflow": "ellipsis"
                    });
                else
                    3 != r && e.find(".newsTitle").css("width", "100%"),
                    "undefined" != typeof l.nt && e.find(".newsType").css("width", l.nt + "px").css("text-overflow", "ellipsis");
                var a = e.find(".newsCalendar");
                "undefined" != typeof l.nc && 3 != r && a.css("width", l.nc + "px");
                var o = a.children("a").width();
                a.width() < o && a.width(o)
            }
        }),
        i.find(".word").css({
            display: "block",
            width: "100%"
        });
        var a = i.find(".line").css("background-color");
        i.find(".line").find(".newsType, .J_newsTypePicList").find("a").hover(function(e) {
            e.stopPropagation(),
            $(this).parents(".line").removeClass("g_hover"),
            $(this).addClass("g_hover").css("background", a)
        }, function() {
            $(this).removeClass("g_hover").css("background", "")
        }),
        i.find(".line").not(".J_nHover").mouseover(function() {
            $(this).addClass("g_hover")
        }).mouseleave(function() {
            $(this).removeClass("g_hover")
        }),
        !i.hasClass("pic-mixNewsList") || i.find(".mixNewsStyleTitleContainer").off("mouseover.stylePic").on("mouseover.stylePic", function(e) {
            $(this).addClass("g_hover"),
            fixHoverNewsListPicTitleWidth(t, $(this))
        }).off("mouseleave.stylePic").on("mouseleave.stylePic", function(e) {
            $(this).removeClass("g_hover"),
            fixHoverNewsListPicTitleWidth(t, $(this))
        }),
        i.find(".lineHeader").first().addClass("firstHeader"),
        Site.initContentSplitLine(t, e)
    }
}
,
Site.loadNewsNewStyle = function(e, t, i, a, o, n, r, s, l, d, c, p) {
    var u = $("#module" + e)
      , m = u.find(".newsList")
      , h = u.width()
      , f = Fai.top._isTemplateVersion2 ? "newsCircle_hover" : "g_block";
    if (0 != m.length) {
        if (t || i || n || r) {
            if (0 < u.find("#pagenation" + e).length && u.find("#pagenation" + e).addClass("f-newListPagenationAlign"),
            !r) {
                var g = m.find(".J_newsListLine");
                g.hasClass("top_with_line_icon") && g.css("padding-left", "0")
            }
            h <= 400 && (c || (a || $(m.find(".newsTitle").find("a")).each(function(e, t) {
                if ($(this).css({
                    height: "auto",
                    "white-space": "normal",
                    "word-break": "normal"
                }),
                23 < $(this).html().length) {
                    var i = $(this).html().substring(0, 20) + "...";
                    $(this).html(i)
                }
                n && $(this).parent().css({
                    height: "auto"
                })
            }),
            r || m.find(".newsTitle").css({
                display: "inline"
            }),
            m.find(".newsTitle").find("a").css({
                display: "inline"
            }))),
            m.find(".newsTypePicList_four").find(".newsTypePic").mouseover(function() {
                $(this).css({
                    color: "#fff",
                    background: "#bababa",
                    "border-color": "#bababa"
                })
            }).mouseleave(function() {
                $(this).css({
                    color: "#717171",
                    background: "#fff",
                    "border-color": "#dadada"
                })
            })
        }
        var v;
        if (i || n || r)
            m.find(".fk-newsListTitle").mouseenter(function() {
                if (n && $(this).parent().parent().find(".newsCircle").addClass(f),
                r) {
                    v && clearTimeout(v);
                    var e = $(this);
                    v = setTimeout(function() {
                        e.addClass("g_stress"),
                        e.addClass("g_hover")
                    }, 200)
                } else
                    $(this).addClass("g_stress"),
                    $(this).addClass("g_hover")
            }).mouseleave(function() {
                n && $(this).parent().parent().find(".newsCircle").removeClass(f),
                r && clearTimeout(v),
                $(this).removeClass("g_stress"),
                $(this).removeClass("g_hover")
            });
        else
            t && m.find(".J_titleLine").mouseenter(function() {
                var e = $(this).find(".fk-newsListTitle")
                  , t = $(this).find(".fk-newsListDate");
                e.addClass("g_stress"),
                e.addClass("g_hover"),
                t.addClass("g_stress"),
                t.addClass("g_hover")
            }).mouseleave(function() {
                var e = $(this).find(".fk-newsListTitle")
                  , t = $(this).find(".fk-newsListDate");
                e.removeClass("g_stress"),
                e.removeClass("g_hover"),
                t.removeClass("g_stress"),
                t.removeClass("g_hover")
            });
        if (t && (m.find(".newsCalendar").css({
            width: "23.5%"
        }),
        h <= 400 ? (m.find(".newsTitle").css({
            width: "100%"
        }),
        m.find(".newsCalendar").css({
            display: "block",
            "text-align": "left"
        })) : (m.find(".newsTitle").css({
            width: "75%"
        }),
        (Fai.isIE6() || Fai.isIE7()) && (m.find(".newsTitle").css({
            "float": "left"
        }),
        m.find(".newsCalendar").css({
            "float": "right"
        })))),
        i) {
            var _, S, b = m.find(".J_newsListLine").width();
            if (d)
                if (l)
                    m.find(".lineBody").css({
                        width: "100%"
                    });
                else
                    _ = m.find(".J_newsListLine .J_newsCalendar").outerWidth(!0),
                    m.find(".lineBody").css((_defineProperty(S = {
                        width: "-moz-calc(100% - " + _ + "px)"
                    }, "width", "-webkit-calc(100% - " + _ + "px)"),
                    _defineProperty(S, "width", "calc(100% - " + _ + "px)"),
                    S)),
                    !Fai.top._manageMode && (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) && m.find(".lineBody").width(parseInt(b - _));
            else
                h <= 400 ? (o || m.find(".newsCalendar").hide(),
                m.find(".lineBody").css({
                    width: "100%"
                })) : (m.find(".newsCalendar").show(),
                m.find(".lineBody").css({
                    width: "84%"
                }))
        }
        if (n) {
            h <= 400 && (m.find(".newsCircleOuter").css({
                margin: "5px 8px 0px 0"
            }),
            m.find(".newsTitle").parent().css({
                width: "80%"
            }),
            m.find(".J_timeLine").css({
                left: "9px"
            }),
            m.find(".newsCalendar").css({
                "margin-left": "30px"
            }));
            var x = m.height()
              , w = m.find(".newsCircleOuter")
              , y = m.find(".newsCalendar").width();
            if (0 == w.length)
                return;
            var C = w.position().left + parseInt(w.css("margin-left").replace("px", "")) + w.width() / 2;
            Fai.isIE6() || Fai.isIE7() ? m.find(".J_timeLine").css({
                height: x - 20 + "px",
                left: w.position().left + w.width() / 2 + parseInt(w.css("margin-left").replace("px", "")) + y + "px"
            }) : m.find(".J_timeLine").css({
                height: x - 20 + "px",
                left: C + "px"
            })
        }
        if (r)
            if (h <= 400)
                p && (s || !p) || m.find(".line").css({
                    "margin-left": "",
                    width: "198px"
                }),
                s || (m.find(".J_articlePhotoBox").find(".cutImgPanel").each(function(e, t) {
                    var i = $(this).find("img").width() / $(this).find("img").height()
                      , a = (198 / i - 124) / 2;
                    $(this).parent().css({
                        width: "198px",
                        height: "124px"
                    }),
                    $(this).css({
                        height: "124px",
                        bottom: a + "px"
                    }),
                    $(this).find("img").css({
                        width: "198px",
                        height: 198 / i + "px"
                    })
                }),
                m.find(".articlePhotoBox").find("img").each(function(e, t) {
                    $(this).attr("_defimg") && $(this).css({
                        width: "198px",
                        height: "124px"
                    }),
                    $(this).parent().css({
                        width: "198px",
                        height: "124px"
                    })
                }));
            else {
                var F = m.hasClass("useOldStyleForHeight")
                  , I = u.hasClass("formInZone");
                if (F) {
                    var P = function P() {
                        var i = 0;
                        m.find(".J_newsListLine").each(function(e, t) {
                            $(this).height() > i && (i = $(this).height()),
                            550 < i && (i = 550)
                        }),
                        m.find(".J_newsListLine").css({
                            height: i + "px"
                        })
                    };
                    I ? setTimeout(function() {
                        P()
                    }, 0) : P()
                } else
                    I ? setTimeout(function() {
                        Site.autoFixNewsHeight(e)
                    }, 0) : Site.autoFixNewsHeight(e)
            }
    }
}
,
Site.getNewsListStyleData = function(e) {
    var t = Fai.top.newsListStyleData;
    if (t)
        return t["newsListStyle" + e] || {}
}
,
Site.setNewsListImgSize = function(e, t) {
    var i, a, o = $("#module" + e), n = Site.isVueStyleGrayTest(e) ? Site.getModuleAttrPattern(e).vnl : Site.getModuleAttrPattern(e).newsList, r = (o.find("#newsList" + e),
    o.find(".J_newsListLine")), s = r.find(".J_articlePicHref"), l = o.find(".J_articlePhotoBox"), d = s.find(".J_newsListPic"), c = Site.getNewsListStyleData(e), p = (n.tw,
    n.ps.t || !1), u = c.isNewModuleStyleFour || !1, m = parseFloat(c.picPaddingRight), h = parseFloat(c.picPaddingBottom), f = c.pictureDefaultHeight || 107, g = c.pictureDefaultWidth || 152, v = o.width();
    t && (i = n.ps.w,
    a = n.ps.h),
    d.length < 1 && s.length < 1 || (t ? (d.css({
        height: a,
        width: i
    }),
    s.css({
        height: a,
        width: i
    })) : (u && r.width(g),
    s.css({
        height: f,
        width: g
    })),
    l.css({
        marginBottom: h,
        marginRight: m
    }),
    u && (v <= 400 ? (r.css({
        "margin-left": "",
        width: "198px",
        height: "auto"
    }),
    p || Site.setNewsListDefaultPicSize(o)) : (r.css({
        "margin-left": "30px",
        width: i
    }),
    Site.setNewsListLineMaxHeight(r, e))),
    Site.resetNewScroll(e, parseInt(n.ls.t)))
}
,
Site.setNewsClassifyStyle = function(e, t) {
    var i, a, o, n, r, s, l, d, c, p, u, m, h;
    u = Site.getModuleAttrPattern(e),
    m = Fai.top.$("#module" + e),
    $newsModule = m.find("#newsList" + e),
    i = $newsModule.find(".J_lineBody"),
    l = i.find(".J_articlePhotoBox"),
    d = Site.isVueStyleGrayTest(e) ? t ? "vnl" : "vnr" : t ? "newsList" : "newsResult",
    c = ".J_" + d + "Pic",
    p = u[d],
    h = parseInt(p.tw),
    i.each(function(e, t) {
        _this = $(t),
        0 != (a = _this.find(".J_newsTypePicList")).length && (s = a.prevAll(":not('.J_articlePhotoBox')"),
        r = 0,
        $.each(s, function(e, t) {
            r += $(t).outerHeight()
        }),
        o = _this.outerWidth() - l.eq(e).outerWidth(),
        a.css("width", o + "px"),
        n = (n = _this.find(c).outerHeight() - r - a.outerHeight()) < 0 ? 0 : n,
        (1 == h || -1 == h || n < 0) && (n = 0),
        a.css("margin-top", n + "px"))
    })
}
,
Site.refreshNewsListStyle = function(e, t) {
    var i;
    t && (i = Site.isVueStyleGrayTest(e) ? Site.getModuleAttrPattern(e).vnl : Site.getModuleAttrPattern(e).newsList,
    Site.setNewsListImgSize(e, parseInt(i.ps.t)),
    Site.refreshNewsTimeLine(e)),
    Site.setNewsClassifyStyle(e, t)
}
,
Site.refreshNewsTimeLine = function(e) {
    var t, i, a, o, n, r, s, l, d, c, p, u, m, h, f = Site.getNewsListStyleData(e);
    Site.isVueStyleGrayTest(e) ? Site.getModuleAttrPattern(e).vnl : Site.getModuleAttrPattern(e).newsList;
    if (p = f.isNewModuleStyleOne,
    d = f.isNewModuleStyleTwo,
    c = f.isNewModuleStyleThree,
    u = f.isNewModuleStyleFour,
    h = f.smallWidthHideDate,
    d || c || p || u)
        if (o = (t = $("#newsList" + e)).find(".J_newsCalendar"),
        l = t.find(".J_lineBody"),
        i = t.width(),
        m = t.find(".J_newsTitle"),
        p)
            o.css({
                width: "23.5%"
            }),
            i <= 400 ? (m.css({
                width: "100%"
            }),
            o.css({
                display: "block"
            })) : (o.css({
                display: "inline-block"
            }),
            m.css({
                width: "75%"
            }));
        else if (d)
            h || (i <= 400 ? (f.newModuleStyleTwo_horizontal || o.hide(),
            l.css({
                width: "100%"
            })) : (o.show(),
            l.css({
                width: "84%"
            })));
        else if (c) {
            if (n = t.find(".J_timeLine"),
            a = t.find(".newsCircleOuter"),
            i <= 400 && (a.css({
                margin: "5px 8px 0px 0"
            }),
            l.css({
                width: "100%"
            }),
            m.parent().css({
                width: "80%"
            }),
            n.css({
                left: "9px"
            }),
            o.css({
                "margin-left": "30px"
            })),
            r = t.height(),
            o.width(),
            0 == a.length)
                return;
            s = a.position().left + parseInt(a.css("margin-left").replace("px", "")) + a.width() / 2,
            n.css({
                height: r - 20 + "px",
                left: s + "px"
            })
        }
}
,
Site.setNewsListDefaultPicSize = function(e) {
    $articlePhotoBox = e.find(".J_articlePhotoBox"),
    $articlePhotoBox.find(".cutImgPanel").each(function(e, t) {
        var i = $(this).find("img").width() / $(this).find("img").height()
          , a = (198 / i - 124) / 2;
        $(t).parent().css({
            width: "198px",
            height: "124px"
        }),
        $(t).css({
            height: "124px",
            bottom: a + "px"
        }),
        $(t).find("img").css({
            width: "198px",
            height: 198 / i + "px"
        })
    }),
    $articlePhotoBox.find("img").each(function(e, t) {
        $(t).attr("_defimg") && $(t).css({
            width: "198px",
            height: "124px"
        }),
        $(t).parent().css({
            width: "198px",
            height: "124px"
        })
    })
}
,
Site.resetNewScroll = function(e, t) {
    var i, a = $("#module" + e), o = Site.isVueStyleGrayTest(e) ? Site.getModuleAttrPattern(e).vnl : Site.getModuleAttrPattern(e).newsList, n = a.find("#newsList" + e), r = "down", s = n.find(".J_newsListLine");
    n.stop(!0, !0),
    Fai.top.Fai.stopInterval("scroll" + e),
    s.off("mouseover.newsScroll mouseout.newsScroll"),
    a.off("mouseover.newsScroll mouseout.newsScroll"),
    n.css({
        height: "",
        top: "",
        position: ""
    }),
    n.parent().css({
        height: "",
        overflow: "",
        position: ""
    }),
    t && (r = parseInt(o.ls.d) ? "up" : "down",
    i = Site.getNewsListStyleData(e).isPictureStyle ? 1 : 0,
    n.height("auto"),
    n.parent().height("auto"),
    Fai.top.Site.newsScroll({
        moduleId: e,
        scrollMode: r,
        leader: i,
        noScroll: !1
    }))
}
,
Site.setNewsListLineMaxHeight = function(e, t) {
    if (e.parent().hasClass("useOldStyleForHeight")) {
        var i = 0;
        if (e.length < 1)
            return;
        e.css("height", "auto"),
        e.each(function(e, t) {
            $elem = $(t),
            $elem.height() > i && (i = $elem.height()),
            550 < i && (i = 550)
        }),
        e.css({
            height: i + "px"
        })
    } else
        Site.autoFixNewsHeight(t)
}
,
Site.afterAddNews = function(e) {
    void 0 !== e && document.location.reload()
}
,
Site.newsAddComment = function() {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行评论。");
    else if (Site.isLimitSubmitMsg())
        Site.limitSubmitMsgIng("文章评论");
    else {
        var e = $.trim($("#commentCreator").val())
          , t = ($("#commentCreator").attr("minlength"),
        $("#commentInput").val())
          , i = $("#commentInput").attr("minlength")
          , a = $("#validateCodeInput").val()
          , o = $("#commentInput").attr("newsId")
          , n = $("#submitTips").attr("isDefaultTips");
        if ("string" != typeof n || "true" != n)
            if ("string" == typeof e)
                if ("string" == typeof t && "" != t)
                    if (t.length < i)
                        $("#submitTips").text(Fai.format(LS.commentLenTips, Fai.encodeHtml(i))).show();
                    else if ($(".J_newsCommentCaptcha").hasClass("captchaHide") || "string" == typeof a && "" != a) {
                        var r = {
                            validateCode: a,
                            newsId: o,
                            creator: e,
                            comment: t
                        }
                          , s = Site.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/newsComment_h.jsp?cmd=submitComment";
                        $("#submitTips").text(LS.siteFormSubmitIng).show(),
                        $.ajax({
                            type: "POST",
                            url: s,
                            data: r,
                            error: function l() {
                                Fai.ing(LS.js_systemError, !1),
                                $("#msgBoardCaptchaImg").click()
                            },
                            success: function d(e) {
                                var t = jQuery.parseJSON(e);
                                t && t.success || $("#msgBoardCaptchaImg").click();
                                var i = Site.preprocessUrl({
                                    path: "",
                                    oldPath: ""
                                }) + "login.jsp";
                                switch (Fai.removeBg(),
                                t.msg) {
                                case 1:
                                    $("#submitTips").text(LS.js_captchaError).show();
                                    break;
                                case 2:
                                    $("#submitTips").text(LS.creatorError).show();
                                    break;
                                case 3:
                                    $("#submitTips").text(LS.commentError).show();
                                    break;
                                case 4:
                                    Fai.top.location.reload(),
                                    t.autoOpenComm || t.autoOpenComm == undefined ? $("#submitTips").text(LS.commentSuccess).show() : $("#submitTips").text(LS.commentSuccessNeedReview).show();
                                    break;
                                case 5:
                                    $("#submitTips").text(LS.paramError).show();
                                    break;
                                case 6:
                                    $("#submitTips").html(Fai.format(LS.commentOnlyMember, '<a href=" ' + i + "?url=" + Fai.encodeUrl(window.location.href) + '">' + Fai.encodeHtml(LS.login) + "</a>")).show();
                                    break;
                                case 7:
                                    $("#submitTips").text(LS.commentClosed).show();
                                    break;
                                case 8:
                                    $("#submitTips").text(LS.commentSubmitError).show();
                                    break;
                                case 9:
                                    $("#submitTips").text(LS.commentCountLimit).show();
                                    break;
                                case 10:
                                    $("#submitTips").text(LS.msgBoardInputValidateCode).show(),
                                    t.needCode && $(".J_newsCommentCaptcha").removeClass("captchaHide")
                                }
                                t.hasFW && $("#submitTips").text(t.msg).show()
                            }
                        })
                    } else
                        $("#submitTips").text(LS.memberInputCaptcha).show();
                else
                    $("#submitTips").text(LS.commentNotEmpty).show();
            else
                $("#submitTips").text(LS.creatorTips).show();
        else
            $("#submitTips").show()
    }
}
,
Site.showNewsQRCode = function(e, t, i) {
    var a = ["<div id='newsQRCodeDisplay' class='" + ("newsV2" == i ? "webSiteQRCodeDisplayV2" : "webSiteQRCodeDisplay") + "'>", "<img title='' src='/qrCode.jsp?cmd=mobiDetailQR&id=", e, "&lcid=", t, "&t=1' >", "<span>", LS.newsQRCodeMsg, "</span>", "</div>"];
    Fai.top.$(a.join("")).appendTo("body"),
    $("#newsQrCode").mouseenter(function(e) {
        i ? ($("#newsQRCodeDisplay").css("top", $(this).offset().top + $(this).height() + 10 + "px"),
        $("#newsQRCodeDisplay").css("left", $(this).offset().left - 60 + "px")) : ($("#newsQRCodeDisplay").css("top", $(this).offset().top + "px"),
        $("#newsQRCodeDisplay").css("left", $(this).offset().left + 24 + "px")),
        i ? $("#newsQRCodeDisplay").slideDown("fast") : $("#newsQRCodeDisplay").show()
    }).mouseleave(function(e) {
        i ? $("#newsQRCodeDisplay").slideUp("fast") : $("#newsQRCodeDisplay").hide()
    })
}
,
Site.initMixNews = function(e) {
    var l = e.leader || 0
      , t = $("#module" + e.moduleId).find(".newsList")
      , i = (t.parent(),
    t.find(".mixNewsStyleTitle"));
    if (1 == i.attr("mix")) {
        var a = t.find("td.newsTitle").width() || 0
          , o = t.find(".mixNewsStyleDate").width() || 0
          , n = t.find(".articlePhotoBox img").width() || 0
          , r = parseInt(a) - parseInt(o) - parseInt(n) - 40;
        Fai.isIE6() && (r -= 20),
        i.css({
            width: r + "px"
        }),
        r < 1 ? i.addClass("mixNewsStyleTitle-hide") : i.removeClass("mixNewsStyleTitle-hide")
    }
    if (Fai.isIE6() && 0 != l) {
        var s = t.find("td.newsTitle").height();
        t.find(".line").eq(0).css({
            height: s + "px"
        })
    }
    var d = Fai.top.$("#module" + e.moduleId);
    d.on("Fai_onModuleLayoutChange", function() {
        var e = $(this).find(".newsList")
          , t = e.parent()
          , i = e.find(".mixNewsStyleTitle");
        if (e.css({
            height: "auto"
        }),
        t.css({
            height: "auto"
        }),
        Fai.isIE6() && 0 != l) {
            var a = e.find("td.newsTitle").height();
            e.find(".line").eq(0).css({
                height: a + "px"
            })
        }
        if (1 == e.find(".mixNewsStyleTitle").attr("mix")) {
            var o = e.find("td.newsTitle").width() || 0
              , n = e.find(".mixNewsStyleDate").width() || 0
              , r = e.find(".articlePhotoBox img").width() || 0
              , s = parseInt(o) - parseInt(n) - parseInt(r) - 40;
            Fai.isIE6() && (s -= 20),
            e.find(".mixNewsStyleTitle").css({
                width: s + "px"
            }),
            s < 1 ? i.addClass("mixNewsStyleTitle-hide") : i.removeClass("mixNewsStyleTitle-hide")
        }
        if (Fai.isIE6() && 0 != l) {
            a = e.find("td.newsTitle").height();
            e.find(".line").eq(0).css({
                height: a + "px"
            })
        }
    }),
    d.find(".lineBody").each(function(e) {
        var t = $(this)
          , i = t.find(".newsTypePicList");
        if (0 != i.length) {
            var a = $(i).prevAll()
              , o = 0;
            $.each(a, function(e, t) {
                $(t).hasClass("articlePhotoBox") || (o += $(t).outerHeight())
            });
            var n = t.outerWidth() - t.find(".articlePhotoBox").outerWidth();
            $(i).css("width", n + "px");
            var r = t.find(".articlePhotoBox img").outerHeight() - o - $(i).outerHeight();
            r = r < 0 ? 0 : r,
            $(i).css("margin-top", r + "px")
        }
    })
}
,
Site.setNewsListStylePattern = function(e, t) {
    Fai.top.newsListStyleData || (Fai.top.newsListStyleData = {}),
    Fai.top.newsListStyleData["newsListStyle" + e] = t
}
,
Site.setNewsModuleAttrPattern = function(e, t, i) {
    var a = Site.getModuleAttrPattern(e);
    Site.isVueStyleGrayTest(e) && (jzManage._store.dispatch("pauseDataWatch"),
    t = {
        newsList: "vnl",
        newsResult: "vnr"
    }[t] || t),
    Vue.nextTick(function() {
        jzManage._store.dispatch("pauseDataWatch")
    }),
    a[t] && (a[t] = i)
}
,
Site.autoFixNewsHeight = function(e) {
    for (var t, i, a = $("#module" + e).find(".J_newsList"), o = a.find(".J_newsListLine"), n = a.width(), r = o.outerWidth(!0), s = parseInt(n / r), l = 0, d = [], c = 0, p = 1, u = o.length; c < u; c++)
        i = (t = $(o[c])).height(),
        l < i && (l = i),
        d.push(t),
        p === s || c === u - 1 ? ($(d).each(function() {
            $(this).css("height", l + "px")
        }),
        p = 1,
        l = 0,
        d = []) : p++
}
,
Site.initNewsDetailV2 = function() {
    var e = $(".newsDetailV2")
      , t = e.find(".middlePanel")
      , i = t.find(".shareInfo");
    if (0 < i.length) {
        i.find(".shareTag");
        var a, o = i.find(".shareListPanel"), n = o.find("a").length, r = parseInt(o.width() / 45), s = i.position().top, l = (i.position().left,
        "");
        t.css("height", t.height() + "px"),
        r < n && (l += "<a class='shareIcon more' hidefocus='true' title='更多' href='javascript:;'></a>",
        o.find("a").eq(r - 1).before(l),
        (a = o.find(".more")).on("click", function(e) {
            e.stopPropagation(),
            i.hide(),
            $(this).hide(),
            i.css("top", s + "px"),
            i.css("right", 0),
            i.addClass("showAllShare"),
            i.slideDown("fast")
        }),
        $(document).on("click", function() {
            i.hasClass("showAllShare") && i.fadeOut("fast", function() {
                i.removeAttr("style"),
                i.removeClass("showAllShare"),
                a.show(),
                i.show()
            })
        }))
    }
    e.find(".newsInfoWrap").find(".leftInfo").find(".newsInfo").find("a").hover(function() {
        $(this).addClass("g_hover")
    }, function() {
        $(this).removeClass("g_hover")
    }),
    Site.logDog(201610, 2);
    var d = e.find(".leftInfo .newsInfo");
    1 === d.length && d.css("max-width", "100%")
}
,
Site.initModuleNewsCommentItemManage = function(e, t) {
    Fai.top.$("#" + e).mouseover(function() {
        Site.addEditLayer(e, t, 1)
    }).mouseleave(function() {
        Site.removeEditLayer(e)
    })
}
,
Site.initModuleNewsComment = function(a, f, e) {
    function g(e) {
        $(".J_comment_circle").show(),
        $.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "../ajax"
            }) + "/newsComment_h.jsp",
            data: {
                cmd: "getComment",
                moduleId: f,
                newsId: a,
                pageNo: e
            },
            success: function h(e) {
                try {
                    e = JSON.parse(e)
                } catch (m) {
                    return void console.log(m)
                }
                if (e.success) {
                    var t = Fai.decodeHtml(e.commentHtml || "")
                      , i = Fai.decodeHtml(e.allCommentHtml || "");
                    $(".pagenation").children().each(function(e, t) {
                        $(t).off("click")
                    }),
                    $(".allComments").remove(),
                    $(".commentContents").prepend(i),
                    $("#newsCommentAndPagenation").empty().append(t);
                    var a = []
                      , o = e.paginationData ? e.paginationData.curPage : 1
                      , n = e.paginationData ? e.paginationData.pageSum : 1
                      , r = o - 2 <= 0 ? 1 : o - 2
                      , s = n <= o + 2 ? n : o + 2;
                    2 < Math.abs(o - 1) && 1 != r && a.push(1),
                    2 < r && a.push("...");
                    for (var l = r; l <= s; l++)
                        a.push(l);
                    s < n - 1 && a.push("..."),
                    2 < Math.abs(o - n) && n != s && a.push(n);
                    var d = document.createDocumentFragment()
                      , c = $("<div></div>");
                    if (c.attr("id", "pagenation" + f),
                    c.addClass("pagenation"),
                    1 < n) {
                        $pagePre = $("<div></div>"),
                        $pagePre.addClass("pagePrev"),
                        $pagePre.html("<span>上一页</span>"),
                        $pagePre.on("click", function() {
                            1 < o && 1 < n && g(o - 1)
                        }),
                        c.append($pagePre);
                        for (var p = 0; p < a.length; p++)
                            $tempDiv = $("<div></div>"),
                            "..." === a[p] ? $tempDiv.css({
                                cursor: "auto"
                            }) : function(e) {
                                $tempDiv.on("click", function() {
                                    a[e] != o && g(a[e])
                                })
                            }(p),
                            o === a[p] ? ($tempDiv.addClass("pageNo J_pageSelect fk-pageSelect"),
                            $tempDiv.html("<span>" + a[p] + "</span>")) : ($tempDiv.addClass("pageNo pageNoOther"),
                            $tempDiv.html("<i>" + a[p] + "</i>")),
                            c.append($tempDiv);
                        $pageNext = $("<div></div>"),
                        $pageNext.addClass("pageNext"),
                        $pageNext.html("<span>下一页</span>"),
                        $pageNext.on("click", function() {
                            o < n && g(o + 1)
                        }),
                        c.append($pageNext)
                    }
                    if (d.appendChild(c[0]),
                    $("#newsCommentAndPagenation").append(d),
                    e.commentExtInfo)
                        for (var u in e.commentExtInfo)
                            Site.initModuleNewsCommentItemManage(u, e.commentExtInfo[u])
                }
            },
            error: function t() {
                Root.Message.warning({
                    message: "网络繁忙，请刷新后重试",
                    autoHide: !1
                })
            },
            complete: function i() {
                $(".J_comment_circle").hide()
            }
        })
    }
    g(e = e || 1)
}
,
Site.siteFormAdd = function(A, N, e, t, i, s, a, o) {
    if (_siteDemo)
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行提交。");
    else if (o)
        Fai.ing("旧版模块不支持支付功能，请联系管理员");
    else {
        var D = []
          , n = e
          , j = !0
          , E = 1e3
          , r = t
          , l = $("#M" + A + "F" + N + "siteFormValidateCode")
          , d = l.val()
          , O = [];
        if (0 < n.length && $.each(n, function(e, t) {
            if (t.hide)
                return !0;
            var i = t.id
              , a = t.name
              , o = t.must
              , n = t.type
              , r = (t.size,
            {})
              , s = t.openAreaCode
              , l = $.parseJSON(t.wordLimit);
            if (r.id = i,
            r.type = n,
            r.must = o,
            0 == n) {
                var d = $.trim($("#M" + A + "F" + N + "siteFormInput" + i).val());
                if (o && "" == d)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(a)), N, A),
                    j = !1;
                var c = 100
                  , p = 0;
                if (void 0 !== l && null != l && 1 == l.o && (c = l.a,
                p = l.i),
                d.length > c)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputMaxLength, Fai.encodeHtml(a), c), N, A),
                    j = !1;
                if (o && d.length < p)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputMinLength, Fai.encodeHtml(a), p), N, A),
                    j = !1;
                r.val = d
            } else if (1 == n) {
                var u = $.trim($("#M" + A + "F" + N + "siteFormTextArea" + i).val());
                if (o && "" == u)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(a)), N, A),
                    j = !1;
                if (u.length > E)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputMaxLength, Fai.encodeHtml(a), E), N, A),
                    j = !1;
                r.val = u
            } else if (2 == n) {
                if (o && 0 == $("input[name=M" + A + "F" + N + "siteFormRadioR" + i + "]:checked").length)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(a)), N, A),
                    j = !1;
                0 < $("input[name=M" + A + "F" + N + "siteFormRadioR" + i + "]:checked").length ? r.val = $("input[name=M" + A + "F" + N + "siteFormRadioR" + i + "]:checked").first().val() : r.val = ""
            } else if (3 == n) {
                if (o && 0 == $("input[name=M" + A + "F" + N + "siteFormCheckboxR" + i + "]:checked").length)
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(a)), N, A),
                    j = !1;
                var m = [];
                $("input[name=M" + A + "F" + N + "siteFormCheckboxR" + i + "]:checked").each(function(e, t) {
                    m.push($(this).val())
                }),
                r.val = m.join("\n")
            } else if (4 == n) {
                if (o && (0 == $("#M" + A + "F" + N + "siteFormSelect" + i + " option:selected").length || "none" == $("#M" + A + "F" + N + "siteFormSelect" + i + " option:selected").val()))
                    return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(a)), N, A),
                    j = !1;
                var h = [];
                $("#M" + A + "F" + N + "siteFormSelect" + i + " option:selected").each(function(e, t) {
                    "none" == $(this).val() ? h.push("") : h.push($(this).val())
                }),
                r.val = h.join("\n")
            } else {
                if (5 == n)
                    return !0;
                if (6 == n) {
                    d = $("#M" + A + "F" + N + "siteFormInput" + i).val();
                    var f = t.dateSetting ? t.dateSetting.type : 0
                      , g = 1 == f ? $("#M" + A + "F" + N + "siteFormInput" + i + "_end").val() : "";
                    if (o && "" == d)
                        return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(a)), N, A),
                        j = !1;
                    if (o && 1 == f && "" == g)
                        return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(a)), N, A),
                        j = !1;
                    temInput = 1 == f ? d + " 至 " + g : d,
                    r.val = temInput
                } else if (7 == n) {
                    var v = $("#module" + A).find("#siteForm" + A + "fileName" + i)
                      , _ = {};
                    if (o && "" == v.attr("_tmpFileId"))
                        return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckHasFileUpload, Fai.encodeHtml(a)), N, A),
                        j = !1;
                    "" == v.attr("_tmpFileId") ? r.val = "" : (r.val = v.attr("_fileId"),
                    _.tmpFileName = v.attr("_tmpFileName"),
                    _.fileId = r.val,
                    _.tmpFileId = v.attr("_tmpFileId"),
                    _.fileType = Number(v.attr("_type") || 0),
                    _.fileWidth = Number(v.attr("_width") || 0),
                    _.fileHeight = Number(v.attr("_height") || 0),
                    O.push(_))
                } else if (8 == n) {
                    var S = $("#M" + A + "F" + N + "siteFormPhoneInput" + i).val()
                      , b = $("#M" + A + "F" + N + "siteFormPhoneInput" + i)
                      , x = t.phoneNumberLength
                      , w = x = x || "7-11"
                      , y = x;
                    if (-1 != x.indexOf("-")) {
                        var C = x.split("-");
                        w = C[0],
                        y = C[1]
                    }
                    if (o) {
                        if ("" == S)
                            return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(a)), N, A),
                            j = !1;
                        if (!Fai.isLimitedRangeNationMobile(S, w, y))
                            return Site.siteFormShowMsg(Fai.format(LS.site_newMobileNumRegular, x), N, A),
                            b.focus(),
                            j = !1;
                        if (s) {
                            var F = $("#M" + A + "F" + N + "siteFormSelectPhoneCT" + i).val();
                            r.val = F + S
                        } else
                            r.val = S
                    } else if ("" != S) {
                        if (!Fai.isLimitedRangeNationMobile(S, w, y))
                            return Site.siteFormShowMsg(Fai.format(LS.site_newMobileNumRegular, x), N, A),
                            b.focus(),
                            j = !1;
                        if (s) {
                            F = $("#M" + A + "F" + N + "siteFormSelectPhoneCT" + i).val();
                            r.val = F + S
                        } else
                            r.val = S
                    }
                } else if (9 == n) {
                    var I = $("#M" + A + "F" + N + "siteFormMailInput" + i).val()
                      , P = $("#M" + A + "F" + N + "siteFormMailInput" + i);
                    if (o) {
                        if ("" == I)
                            return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(a)), N, A),
                            j = !1;
                        if (!Fai.isEmail(I))
                            return Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(a)), N, A),
                            P.focus(),
                            j = !1
                    } else if ("" != I && !Fai.isEmail(I))
                        return Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(a)), N, A),
                        P.focus(),
                        j = !1;
                    r.val = I
                } else if (10 == n) {
                    var k = $("#M" + A + "F" + N + "siteFormIdentityInput" + i).val()
                      , L = $("#M" + A + "F" + N + "siteFormIdentityInput" + i);
                    if (o) {
                        if ("" == k)
                            return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(a)), N, A),
                            j = !1;
                        if (!Fai.isCardNo(k))
                            return Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(a)), N, A),
                            L.focus(),
                            j = !1
                    } else if ("" != k && !Fai.isCardNo(k))
                        return Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(a)), N, A),
                        L.focus(),
                        j = !1;
                    r.val = k
                } else if (11 == n) {
                    var T = $("#M" + A + "F" + N + "siteFormSelectProvince" + i).find("option:selected").attr("_val")
                      , M = $("#M" + A + "F" + N + "siteFormSelectCity" + i).find("option:selected").attr("_val")
                      , B = $("#M" + A + "F" + N + "siteFormSelectCounty" + i).find("option:selected").attr("_val");
                    if (o) {
                        if ("-1" == T || "-1" == M)
                            return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(a)), N, A),
                            j = !1;
                        r.val = "-1" == B || void 0 === B ? T + M : T + M + B
                    } else
                        r.val = "",
                        "-1" != T && (r.val += T),
                        "-1" != M && void 0 !== M && (r.val += M),
                        "-1" != B && void 0 !== B && (r.val += B)
                }
            }
            D.push(r)
        }),
        !j)
            return !1;
        if (r && "" == d)
            return Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, l.attr("msg")), N, A),
            j = !1;
        s = s || "";
        Fai.encodeUrl($.toJSON(D));
        if (Site.siteFormShowMsg(LS.siteFormSubmitIng, N, A),
        void 0 === $("#module" + A).data("siteFormAdd_is_reCommit") || 0 == $("#module" + A).data("siteFormAdd_is_reCommit")) {
            $("#module" + A).data("siteFormAdd_is_reCommit", !0);
            var c = document.location.href;
            500 < c.length && (c = c.substring(0, 500)),
            Fai.top.pageName.endsWith(" - ") && (Fai.top.pageName = Fai.top.pageName.substring(0, Fai.top.pageName.lastIndexOf(" - ")));
            var p = {
                pageUrl: c,
                pageName: "电脑网站-" + Fai.top.pageName
            };
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/siteForm_h.jsp",
                data: "cmd=addWafCk_addSubmit&old=true&formId=" + N + "&submitContentList=" + Fai.encodeUrl($.toJSON(D)) + "&vCodeId=" + A + N + "&validateCode=" + d + "&tmpFileList=" + Fai.encodeUrl($.toJSON(O)) + "&submitOrigin=" + Fai.encodeUrl($.toJSON(p)),
                error: function u() {
                    $("#module" + A).data("siteFormAdd_is_reCommit", !1);
                    var e = {
                        htmlContent: Site.getDialogContent(!1, Fai.format(LS.siteFormSubmitError)),
                        width: 205,
                        height: 78
                    };
                    Site.popupBox(e)
                },
                success: function m(e) {
                    if ($("#module" + A).data("siteFormAdd_is_reCommit", !1),
                    (e = $.parseJSON(e)).success) {
                        Fai.top.$("#siteFormMsgM" + A + "F" + N).hide(),
                        (n = []).push("<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:180px;'>"),
                        n.push("\t\t<div class='sa-icon sa-success animate' style='margin-top:0;'>"),
                        n.push("\t\t\t<span class='sa-line sa-tip animateSuccessTip'></span>"),
                        n.push("\t\t\t<span class='sa-line sa-long animateSuccessLong'></span>"),
                        n.push("\t\t\t<div class='sa-placeholder'></div>"),
                        n.push("\t\t\t<div class='sa-fix'></div>"),
                        n.push("\t\t</div>"),
                        n.push("\t\t<div class='voteSuccessTitle'>" + LS.siteFormSubmitOk + "</div>"),
                        n.push("</div>");
                        var t = {
                            htmlContent: n.join(""),
                            width: 367,
                            height: 225,
                            autoClose: 3e3
                        };
                        Site.popupBox(t),
                        setTimeout(function() {
                            location.href = s
                        }, 3e3),
                        Site.siteFormValidation(N, A),
                        Fai.top.$("#module" + A + " .siteForm input[type=text]").val(""),
                        Fai.top.$("#module" + A + " .siteForm textarea").val(""),
                        Fai.top.$("#module" + A + " .siteForm input[type=radio]").each(function() {
                            $(this)[0].checked = !1
                        }),
                        Fai.top.$("#module" + A + " .siteForm input[type=checkbox]").each(function() {
                            $(this)[0].checked = !1
                        }),
                        Fai.top.$("#module" + A + " .siteForm select")[0] != undefined && (Fai.top.$("#module" + A + " .siteForm select")[0].selectedIndex = 0),
                        Fai.top.$("#module" + A).find(".siteFormFileName").html(LS.siteFormSubmitNotSeletcFile),
                        Fai.top.$("#module" + A).find(".siteFormFileName").removeAttr("_tmpFileId").removeAttr("_tmpFileName").removeAttr("title").removeAttr("_fileId").removeAttr("_width").removeAttr("_height").removeAttr("_type")
                    } else if (e.hasFW)
                        Site.siteFormShowMsg(e.msg, N, A);
                    else {
                        if (-4 == e.rt)
                            Site.siteFormShowMsg(LS.siteFormSubmitCountLimit, N, A);
                        else if (-7 == e.rt)
                            Site.siteFormShowMsg(LS.siteImgFull, N, A);
                        else if (-20 == e.rt)
                            Site.siteFormShowMsg(e.msg, N, A);
                        else if (-401 == e.rt)
                            Site.siteFormShowMsg(LS.siteFormSubmitValidateCodeErr, N, A),
                            $("#M" + A + "F" + N + "siteFormValidateCode").val(""),
                            Site.siteFormValidation(N, A);
                        else if (-302 == e.rt)
                            Site.siteFormShowMsg(LS.siteFormSubmitNotLogin + LS.login + LS.period, N, A);
                        else {
                            var i = LS.siteFormSubmitError
                              , a = 205
                              , o = 78
                              , n = Site.getDialogContent(!1, Fai.format(i));
                            if (-28 == e.rt) {
                                var r = new Array;
                                r.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 0 auto; padding: 0; position: relative; top:15px; box-sizing: content-box; border-color: #F8BB86;'>"),
                                r.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),
                                r.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>"),
                                r.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>"),
                                r.push("</div>"),
                                r.push("</div>"),
                                r.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>" + LS.hasSubmitThisSiteForm + "</div>"),
                                a = 367,
                                o = 225,
                                n = r.join("")
                            }
                            Fai.top.$("#siteFormMsgM" + A + "F" + N).hide();
                            t = {
                                htmlContent: n,
                                width: a,
                                height: o
                            };
                            Site.popupBox(t),
                            -28 == e.rt && setTimeout(function() {
                                document.location.reload()
                            }, 2e3)
                        }
                        e.needCode && (Site.siteFormShowMsg(e.msg, N, A),
                        $("#module" + A + " .J_formValidation").removeClass("siteFormValidationHide"))
                    }
                }
            })
        }
    }
}
,
Site.fixLowIePlaceholder = function(e, t) {
    var i = !1;
    Fai.isIE && (Fai.isIE6() || Fai.isIE7() || Fai.isIE8() || Fai.isIE9()) && (i = !0),
    i ? (remind = function a(e, t) {
        var i = t;
        e.defaultValue || e.val(i).addClass("phcolor"),
        e.focus(function() {
            e.val() == i && $(this).val("")
        }),
        e.blur(function() {
            "" == e.val() && $(this).val(i).addClass("phcolor")
        }),
        e.keydown(function() {
            $(this).removeClass("phcolor")
        })
    }
    ,
    $(Fai.top.$("#module" + t).find(".resize:not(select)")).each(function() {
        var e = $(this).attr("_placeHolder");
        remind($(this), e)
    })) : $(Fai.top.$("#module" + t).find(".resize:not(select)")).each(function() {
        var e = $(this).attr("_placeHolder");
        $(this).attr("placeHolder", e)
    })
}
,
Site.siteFormNotLogin = function(e, t) {
    var i = Fai.encodeUrl(Fai.top.location.href)
      , a = Site.preprocessUrl({
        path: "",
        oldPath: ""
    }) + "login.jsp"
      , o = LS.siteFormSubmitNotLogin + "<a href='" + a + "?url=" + i + "'>" + LS.login + "</a>" + LS.period;
    Site.siteFormShowMsg(o, e, t)
}
,
Site.siteFormInitLoginUrl = function() {
    var e = Fai.top.location.pathname + Fai.top.location.search;
    $(".siteFormLoginTips").attr("href", "login.jsp?url=" + Fai.encodeUrl(e))
}
,
Site.siteFormShowMsg = function(e, t, i) {
    Fai.top.$("#siteFormMsgM" + i + "F" + t).show(),
    Fai.top.$("#siteFormMsgM" + i + "F" + t).html(e)
}
,
Site.siteFormTimeBtn = function(e) {
    for (var o, b = "1900:" + (b = parseInt($.format.date(new Date, "yyyy")) + 10), t = 0, i = e.length; t < i; t++)
        !function(d, c) {
            for (var p, e = $("#" + c), u = e.hasClass("fk-startTime"), m = e.hasClass("fk-endTime"), h = (e.closest(".siteFormMiddle"),
            d.type,
            0 == d.type && 1 == d.accuracy), a = new Date, t = new Date(a.getFullYear(),a.getMonth(),a.getDate()), i = x(t)[0], f = d.od.unSelectDay ? d.od.unSelectDay.concat([]).sort(function(e, t) {
                return e - t
            }) : [], o = 0, n = 0; n < 24; n++)
                if (-1 == $.inArray(n, d.ot.unSelectTime)) {
                    o = n;
                    break
                }
            p = 1 == d.banPassDate ? t : new Date(1900,0,1),
            e.datetimepicker({
                dateFormat: "yy-mm-dd",
                changeYear: !0,
                changeMonth: !0,
                showButtonPanel: i,
                yearRange: b,
                zIndex: 9033,
                hour: o,
                controlType: "fkControl",
                showMinute: !1,
                showTime: !1,
                hourText: "",
                hourAccuracy: !0,
                minDate: p,
                showTimepicker: h,
                autoChangeMonthYear: !1,
                beforeShow: function r(e, t) {
                    var i = 0;
                    t.dpDiv.addClass("fk-siteFormDatePicker fk-moduleFormDatePicker"),
                    u && t.startDateNotLimit && (t.settings.minDate = p,
                    t.settings.maxDate = null,
                    t.startDateNotLimit = !1),
                    $(window).off("scroll.timepicker").on("scroll.timepicker", function() {
                        t.dpDiv.is(":visible") && 10 < i++ && ($(e).datetimepicker("hide"),
                        i = 0)
                    })
                },
                afterShow: function s(e, t) {
                    var i, a;
                    m && (i = c.replace("_end", ""),
                    (a = new Date($("#" + i).val())).getTime() && $.datepicker._selectToMonthYearDate("#" + e.id, t, a.getMonth(), a.getFullYear(), a.getDate()))
                },
                onAfterUpdatePicker: function l(e) {
                    var t = e.dpDiv.find(".ui-datepicker-today").find(".ui-state-default")
                      , i = (new Date(e.currentYear,e.currentMonth,e.currentDay),
                    0 != e.currentYear || 0 != e.currentMonth || 0 != e.currentDay);
                    new Date(a.getFullYear(),a.getHours(),a.getDate());
                    t.hasClass("ui-state-hover") && !i ? t.addClass("fk-todayDefaultStyle") : e.dpDiv.find(".ui-state-hover").removeClass("ui-state-hover")
                },
                beforeShowTime: function g(e) {
                    return !(0 < d.ot.unSelectTime.length && -1 < $.inArray(e, d.ot.unSelectTime))
                },
                beforeShowDay: function v(e) {
                    return x(e)
                },
                onSelect: function _(e, t) {
                    var i, a, o = e.replace(/-/g, "/"), n = new Date(o), r = new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(), s = (t.input,
                    {
                        minDate: p,
                        maxDate: null
                    });
                    if (u) {
                        if (1 == d.banAll || 1 == d.banHoliday || 0 < f.length)
                            for (l = 0; l < 365; l++)
                                if (nextDay = new Date(r + 864e5 * l),
                                !x(nextDay)[0]) {
                                    s.maxDate = nextDay;
                                    break
                                }
                        t.startDateNotLimit = !0,
                        s.minDate = new Date(o),
                        $("#" + c + "_end").datetimepicker("option", s)
                    } else if (m) {
                        i = c.replace("_end", "");
                        for (var l = f.length; 0 <= l; l--)
                            if (r >= f[l]) {
                                a = l;
                                break
                            }
                        "number" == typeof a && 1 == d.od.t && (s.minDate = p.getTime() < f[a] ? new Date(f[a]) : p),
                        t.startDateNotLimit = !1,
                        s.maxDate = new Date(o),
                        $("#" + i).datetimepicker("option", s)
                    }
                    h || (t.inline = !1)
                },
                onAfterSelect: function S(e, t) {
                    !t.inline && u && $("#" + c + "_end").focus()
                }
            }),
            m && $("#" + c + "_mask").on("click", function() {
                $("#" + c.replace("_end", "")).focus()
            })
        }(o = e[t].dateSetting, e[t].id);
    function x(e) {
        var t = !0
          , i = e.getDay()
          , a = e.getTime();
        return 0 == o.od.t ? [!0, ""] : (1 == o.banAll && (t = !1),
        0 != i && 6 != i || (t = 1 != o.banHoliday),
        1 == o.od.t && -1 < $.inArray(a, o.od.unSelectDay) && (t = !1),
        1 == o.od.t && -1 < $.inArray(a, o.od.openDay) && (t = !0),
        [t, ""])
    }
}
,
Site.fixSiteFormDateRangeStyle = function(e) {
    var t = $("#module" + e)
      , i = 124;
    t.find(".fk-startTime").each(function() {
        if ($(this).width() <= i) {
            if ($(this).hasClass("fk-timeMinStyle"))
                return;
            $(this).addClass("fk-timeMinStyle"),
            $(this).siblings().addClass("fk-timeMinStyle"),
            Site.absModuleAutoHeightDo && Site.absModuleAutoHeightDo(e)
        } else {
            if (!$(this).hasClass("fk-timeMinStyle"))
                return;
            $(this).removeClass("fk-timeMinStyle"),
            $(this).siblings().removeClass("fk-timeMinStyle"),
            $(this).width() <= i ? ($(this).addClass("fk-timeMinStyle"),
            $(this).siblings().addClass("fk-timeMinStyle")) : Site.absModuleAutoHeightDo && Site.absModuleAutoHeightDo(e)
        }
    })
}
,
Site.siteFormValidation = function(e, t) {
    $("#M" + t + "F" + e + "validateCodeImg").attr("src", "validateCode.jsp?" + parseInt(1e3 * Math.random()) + "&vCodeId=" + t + e)
}
,
Site.fixSiteFormStyle = function(e, t, i, a, o, n) {
    if (Fai.top.$("#module" + t).css("overflow", "hidden"),
    Fai.top.$("#module" + t).width() <= 400) {
        if (Fai.top.$("#module" + t).find(".siteFormItemTable_N_U").is("table") && ($(Fai.top.$("#module" + t).find(".siteFormItemTable_N_U")).css({
            padding: "0"
        }),
        $(Fai.top.$("#module" + t).find(".siteForm")).css({
            padding: "0 25px"
        })),
        0 < $(Fai.top.$("#module" + t).find(".siteFormItem_N_U").find(".siteFormItemCheckItem_N_U_A")).length && ($(Fai.top.$("#module" + t).find(".siteFormItemCheckItem_N_U_A")).css({
            "margin-right": "12px"
        }),
        $(Fai.top.$("#module" + t).find(".siteFormItemCheckItem_N_U_A").find("input")).css({
            "float": "left"
        }),
        $(Fai.top.$("#module" + t).find(".siteFormItemCheckItem_N_U_A").find("label")).each(function() {
            $(this).wrapAll("<div style='float:left;width:100px;'></div>")
        })),
        0 < $(Fai.top.$("#module" + t).find(".siteFormValidate_N_U")).length && (a || ($(Fai.top.$("#module" + t).find(".siteFormValidate_N_U").find(".siteFormValidate")).css({
            margin: "4px 0 0 0"
        }),
        $(Fai.top.$("#module" + t).find(".siteFormValidate_N_U").find(".star")).css({
            "margin-top": "4px"
        }))),
        0 < $(Fai.top.$("#module" + t).find(".siteFormValidate_N_U")).length && $(Fai.top.$("#module" + t).find(".siteFormValidate_N_U").find("input")).css({
            width: "92%",
            "max-width": "400px"
        }),
        0 < $(Fai.top.$("#module" + t).find(".faiButton")).length && $(Fai.top.$("#module" + t).find(".faiButton")).css({
            width: "95%"
        }),
        0 < $(Fai.top.$("#module" + t).find("#buttonStyle")).length && (a ? (Fai.top.$("#module" + t).width() <= 220 && $(Fai.top.$("#module" + t).find("#buttonStyle").find(".s_ibutton")).css({
            width: "100%"
        }),
        $(Fai.top.$("#module" + t).find("#buttonStyle")).css({
            width: "100%"
        })) : $(Fai.top.$("#module" + t).find("#buttonStyle")).css({
            width: "77%"
        })),
        0 < $(Fai.top.$("#module" + t).find(".address-resize")).length) {
            $(Fai.top.$("#module" + t).find(".address-resize")).find(".three-resize").css({
                width: "94%",
                "margin-bottom": "10px"
            }),
            $(Fai.top.$("#module" + t).find(".address-resize")).find(".three-resize").last().css({
                "margin-bottom": ""
            });
            var r = $(Fai.top.$("#module" + t).find(".address-resize").find("select").first()).width();
            $(Fai.top.$("#module" + t).find(".address-resize").parent().find(".star")).css({
                position: "absolute",
                left: r + 25 + "px"
            })
        }
        if (0 < $(Fai.top.$("#module" + t).find(".phone-resize")).length) {
            $(Fai.top.$("#module" + t).find(".phone-resize")).find(".two-resize").first().css({
                width: "94%",
                "margin-bottom": "10px"
            }),
            $(Fai.top.$("#module" + t).find(".phone-resize")).find(".two-resize").last().css({
                width: "93%",
                "margin-bottom": ""
            });
            r = $(Fai.top.$("#module" + t).find(".phone-resize").find("select")).width();
            $(Fai.top.$("#module" + t).find(".phone-resize").parent().find(".star")).css({
                position: "absolute",
                left: r + 25 + "px"
            })
        }
    }
    if (241 < Fai.top.$("#module" + t).find(".siteFormAddButton").find("#buttonStyle").find(".middle").width() && Fai.top.$("#module" + t).find(".siteFormAddButton").find("#buttonStyle").find(".middle").css({
        width: "240px"
    }),
    $(Fai.top.$(".siteFormItem_N_U").find("select")).each(function() {
        -1 == $(this).attr("id").indexOf("siteFormSelectPhoneCT") && $($(this).find("option")[0]).hide()
    }),
    0 < $(Fai.top.$("#module" + t).find(".siteFormItem_N_U").find(".siteFormItemCheckItem_N_U_F")).length) {
        var s = Fai.top.$("#module" + t).find(".siteFormItemCheckItem_N_U_F").width()
          , l = s / i - 10 + "px"
          , d = s / i - 54 <= 36 ? 36 : s / i - 54 + "px";
        Fai.top.$("#module" + t).find(".siteFormRadioFix").css({
            width: l
        }),
        Fai.top.$("#module" + t).find(".siteFormRadioCententFix").css({
            width: d
        })
    }
    n && 0 < n.length && $(Fai.top.$("#module" + t).find(".siteFormItem_N_U").find(".textarea_resize")).each(function() {
        for (var e = $(this).attr("_id"), t = ($(this).attr("_show"),
        0); t < n.length; t++)
            n[t].i == e && ($(this).css({
                width: 100 * n[t].w + "%",
                height: n[t].h + "px"
            }),
            $(this).siblings(".siteFormMultiLineStar").css("line-height", n[t].h + "px"),
            $(this).attr("_width", n[t].w))
    }),
    o && 0 < o.length && $(Fai.top.$("#module" + t).find(".siteFormItem_N_U").find(".resize")).each(function() {
        for (var e = $(this).attr("_id"), t = $(this).attr("_show"), i = 0; i < o.length && o[i].wo == t; i++)
            o[i].i == e && ($(this).css({
                width: 100 * o[i].w + "%"
            }),
            $(this).attr("_width", o[i].w))
    }),
    Site.fixSiteFormDateRangeStyle(t)
}
,
Site.siteFormFileUpload = function(e) {
    var t, i, a, o = e.fileSize, n = e.siteFormItemId, r = (e.siteFormId,
    e.moduleId), s = e.fileTypeList, l = e.buttonValue, d = e.isModuleButtonStyle, c = e.showType, p = e.srcjQueryUploadPath, u = document.documentElement || document.body, m = $("#siteForm" + r + "fileUpload" + n), h = m.parent().width(), f = Fai.top.$("#module" + r).width(), g = .31 * h;
    if (d && (f <= 400 ? 161 < (g = c ? .95 * (f - 60) : .75 * (f - 10) * .92) && (g = 161) : g < 111 ? g = 111 : 161 < g && (g = 161)),
    Fai.isIE()) {
        a = d ? 5 : 3,
        -1 < navigator.userAgent.toLowerCase().indexOf("se 2.x") && (a = 6);
        var v = {
            file_post_name: "Filedata",
            upload_url: "/ajax/upsiteimg_h.jsp",
            button_placeholder_id: "siteForm" + r + "fileUpload" + n,
            file_size_limit: o + "MB",
            button_image_type: a,
            file_queue_limit: 1,
            requeue_on_error: !1,
            button_height: d ? "34" : "22",
            button_width: d ? g - 2 : "71",
            button_text: d ? "<span class='fk_btText'>" + l + "</span>" : "",
            button_text_style: d ? ".fk_btText{text-align:center; font-family: 微软雅黑; color: #666666;}" : "",
            button_text_top_padding: d ? 8 : "",
            post_params: {
                ctrl: "Filedata",
                app: 21,
                type: 0,
                isSiteForm: !0
            },
            file_types: s.join(""),
            file_dialog_complete_handler: function x(e) {
                this._allSuccess = !1,
                this.startUpload()
            },
            file_queue_error_handler: function w(e, t, i) {
                switch (t) {
                case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:
                    Fai.ing(LS.siteFormSubmitCheckFileSizeErr, !0);
                    break;
                case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:
                    Fai.ing("不允许的文件类型", !0);
                    break;
                case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:
                    Fai.ing("一次只能上传一个文件", !0);
                    break;
                default:
                    Fai.ing("请重新选择文件上传。", !0)
                }
            },
            upload_success_handler: function y(e, t) {
                var i = jQuery.parseJSON(t);
                this._allSuccess = i.success,
                this._sysResult = i.msg,
                i.success ? (Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess, Fai.encodeHtml(e.name)), !0),
                b("upload", i, r, n)) : Fai.ing("文件" + e.name + "，" + i.msg)
            },
            upload_error_handler: function C(e, t, i) {
                -280 == t ? Fai.ing("文件取消成功", !1) : -270 == t ? Fai.ing("已经存在名称为" + e.name + "的文件。", !0) : Fai.ing("服务繁忙，文件" + e.name + "上传失败，请稍候重试。")
            },
            upload_complete_handler: function F(e) {
                e.filestatus == SWFUpload.FILE_STATUS.COMPLETE ? setTimeout(function() {
                    t.startUpload()
                }, t.upload_delay) : e.filestatus == SWFUpload.FILE_STATUS.ERROR && Fai.ing("服务繁忙，文件" + e.name + "上传失败，请稍候重试。")
            },
            upload_start_handler: function I(e) {
                Fai.enablePopupWindowBtn(0, "save", !1),
                Fai.ing("读取文件准备上传", !1)
            },
            view_progress: function P(e, t, i, a) {
                Fai.ing("正在上传" + a + "%", !1)
            }
        };
        t = SWFUploadCreator.create(v)
    } else {
        var _ = function _() {
            t = m.uploadify(S),
            m.css("width", g + 2),
            m.on("click", function() {
                m.find("a")[0].click()
            })
        }
          , S = {
            auto: !0,
            fileTypeExts: s.join(""),
            multi: !0,
            fileSizeLimit: 1024 * o * 1024,
            fileSplitSize: 1024 * o * 1024,
            breakPoints: !0,
            isBurst: !1,
            saveInfoLocal: !1,
            showUploadedPercent: !0,
            showUploadedSize: !0,
            removeTimeout: 9999999,
            post_params: {
                app: 21,
                type: 0,
                fileUploadLimit: o
            },
            getFileSizeUrl: "/ajax/advanceUpload.jsp?cmd=_getUploadSize",
            uploader: "/ajax/advanceUpload.jsp?cmd=_mobiupload",
            onUploadStart: function k(e) {
                $("#progressBody_" + e.id).remove(),
                $("#progressWrap_" + e.id).remove()
            },
            onUploadSuccess: function L(e, t) {
                var i = $.parseJSON(t);
                if (i.success) {
                    e.id;
                    Fai.ing("文件: " + e.name + " 上传成功", !0),
                    b("upload", i, r, n)
                } else {
                    e.id,
                    i.msg;
                    Fai.ing("文件:" + e.name + "，" + i.msg)
                }
                $("#progressBody_" + e.id).remove(),
                $("#progressWrap_" + e.id).remove()
            },
            onUploadError: function T(e, t) {
                $("#progressBody_" + e.id).remove(),
                $("#progressWrap_" + e.id).remove(),
                Fai.ing("网络繁忙，文件:" + e.name + "上传失败，请稍后重试")
            }
        };
        "function" == typeof m.uploadify ? _() : ((i = document.createElement("script")).src = p,
        i.type = "text/javascript",
        u.appendChild(i),
        i.onload = function() {
            _()
        }
        )
    }
    function b(e, t, i, a) {
        if ("upload" == e) {
            var o = t.id
              , n = t.name
              , r = t.type
              , s = (t.size,
            t.path,
            t.createTime,
            t.groupId,
            t.fileId)
              , l = t.width || 0
              , d = t.height || 0
              , c = (r = t.type || 0,
            $("#module" + i))
              , p = c.find("#siteForm" + i + "fileName" + a);
            c.find("#siteForm" + i + "FUDesc" + a).hide(),
            p.show(),
            p.html(n),
            p.attr("_tmpFileId", o).attr("_tmpFileName", n).attr("title", n).attr("_fileId", s).attr("_width", l).attr("_height", d).attr("_type", r)
        }
    }
}
,
Site.siteFormAddressInit = function(t, i, a, o, n) {
    var e, r, s, l, d = [];
    (e = 2052 == o || 1028 == o ? site_cityUtil.getProvince() : site_cityUtil.getProvinceEn())[0].cityInfo ? $.each(e, function(e, t) {
        var i = 2052 == o || 1028 == o ? site_cityUtil.simpleCityNameStr(t.cityInfo[0]) : site_cityUtil.simpleCityNameStrEn(t.cityInfo[0]);
        d.push("<option _val='" + t.cityInfo[0] + "' value='" + t.cityCode + "'>" + i + "</option>")
    }) : $.each(e, function(e, t) {
        var i = 2052 == o || 1028 == o ? site_cityUtil.simpleCityNameStr(t.name) : site_cityUtil.simpleCityNameStrEn(t.name);
        d.push("<option _val='" + t.name + "' value='" + t.id + "'>" + i + "</option>")
    }),
    $("#M" + a + "F" + i + "siteFormSelectProvince" + t).html("").html("<option _val='-1' value='-1'>" + n + "</option>" + d.join("")).change(function(e) {
        r = $("#M" + a + "F" + i + "siteFormSelectProvince" + t).val(),
        (isNaN(r) || r <= 0) && ($("#M" + a + "F" + i + "siteFormSelectCity" + t).html("").html("<option value='-1'>" + n + "</option>"),
        $("#M" + a + "F" + i + "siteFormSelectCounty" + t).html("").html("<option value='-1'>" + n + "</option>")),
        s = [],
        citylist = 2052 == o || 1028 == o ? site_cityUtil.getCities(r) : site_cityUtil.getCitiesEn(r),
        $.each(citylist, function(e, t) {
            s.push("<option _val='" + t.name + "' value='" + t.id + "' >" + t.name + "</option>")
        }),
        $("#M" + a + "F" + i + "siteFormSelectCity" + t).removeAttr("disabled"),
        $("#M" + a + "F" + i + "siteFormSelectCity" + t).html("").html("<option _val='-1' value='-1'>" + n + "</option>" + s.join("")).unbind().bind("change", function(e) {
            cityId = $("#M" + a + "F" + i + "siteFormSelectCity" + t).val(),
            (isNaN(cityId) || cityId <= 0) && $("#M" + a + "F" + i + "siteFormSelectCounty" + t).html("").html("<option _val='-1' value='-1'>" + n + "</option>"),
            l = [],
            countylist = 2052 == o || 1028 == o ? site_cityUtil.getCounty(cityId) : site_cityUtil.getCountyEn(cityId),
            $.each(countylist, function(e, t) {
                l.push("<option _val='" + t.name + "' value='" + t.id + "' >" + t.name + "</option>")
            }),
            $("#M" + a + "F" + i + "siteFormSelectCounty" + t).removeAttr("disabled"),
            $("#M" + a + "F" + i + "siteFormSelectCounty" + t).html("").html("<option _val='-1' value='-1'>" + n + "</option>" + l.join("")).unbind().bind("change", function(e) {}),
            $("#M" + a + "F" + i + "siteFormSelectCounty" + t).find("option").length <= 1 && -1 != cityId ? $("#M" + a + "F" + i + "siteFormSelectCounty" + t).hide() : $("#M" + a + "F" + i + "siteFormSelectCounty" + t).show()
        })
    })
}
,
Site.siteFormPhoneValidate = function(e, t, i) {
    var a = $("#M" + t + "F" + e + "siteFormPhoneInput" + i);
    a.blur(function() {
        $(this).val().trim() || $(this).val("")
    }),
    a.focus(function() {
        $(this).off("mousewheel.disabledScroll").on("mousewheel.disabledScroll", function(e) {
            e.preventDefault()
        }),
        $(this).off("keydown.preventDefault").on("keydown.preventDefault", function(e) {
            38 != e.keyCode && 40 != e.keyCode || e.preventDefault(),
            13 == e.keyCode && $(this).trigger("blur")
        })
    })
}
,
Site.checkRuleList = function(e, n) {
    if (0 === e.length)
        return {
            enableRuleList: [],
            hideFormItemIds: [],
            hasRuleItemIds: []
        };
    e.forEach(function(a) {
        var o = n.findIndex(function(e) {
            return a.contentId === e.id
        });
        if (-1 !== o) {
            var e = n[o];
            e.hide ? a.disabled = !0 : e.type == a.type && e.input.split("\n")[a.selected] === a.optionName ? a.showList.forEach(function(e) {
                var t = e.key
                  , i = n.findIndex(function(e) {
                    return t === e.id
                });
                (-1 === i || i < o) && (a.disabled = !0)
            }) : a.disabled = !0
        } else
            a.disabled = !0
    });
    var t = e.filter(function(e) {
        return !e.disabled
    })
      , i = []
      , a = [];
    return t.forEach(function(e) {
        a.includes(e.contentId) || a.push(e.contentId),
        e.showList.forEach(function(e) {
            i.includes(e.key) || i.push(e.key)
        })
    }),
    {
        enableRuleList: t,
        hideFormItemIds: i,
        hasRuleItemIds: a
    }
}
,
Site.initRuleEvent = function(l, d, e, c, t, i) {
    var a = {
        2: "input[type=radio]",
        3: "input[type=checkbox]",
        4: "select"
    };
    l.find(a[d]).off("change.rule").on("change.rule", function() {
        var n = $(this)
          , o = [];
        function r(e, t, i) {
            e.includes(t) || (e.push(t),
            o.push(i))
        }
        function s(e, t, i) {
            var a = e.findIndex(function(e) {
                return e === t
            });
            -1 < a && (e.splice(a, 1),
            o.push(i))
        }
        e.forEach(function(o) {
            o.showList.forEach(function(t) {
                var e = c.find(function(e) {
                    return e.id === t.key
                });
                if (e) {
                    var i = e.ruleShowSub;
                    Array.isArray(i) || (i = [],
                    e.ruleShowSub = i);
                    var a = "".concat(o.contentId, "_").concat(o.optionName);
                    if ([2, 4].includes(d))
                        o.optionName === n.val() ? r(i, a, e) : s(i, a, e);
                    else if (3 == d) {
                        l.find("input[name=".concat(n.attr("name"), "]")).eq(o.selected).is(":checked") ? r(i, a, e) : s(i, a, e)
                    }
                }
            })
        }),
        Site.refreshFormItemByRule(l, o, t, c),
        jzModule.SiteFormModule.find(i).resetXPackModuleAutoHeight()
    })
}
,
Site.refreshFormItemByRule = function(s, e, l, d) {
    0 !== e.length && e.forEach(function(e) {
        var t = e.ruleShowSub
          , i = e.id
          , a = e.type;
        if (Array.isArray(t))
            if (0 === t.length) {
                var o = s.siblings("[data-formid=".concat(i, "]"));
                o.hide(),
                2 == a ? o.find("input[type=radio]").removeAttr("checked").trigger("clearCalc") : 3 == a ? o.find("input[type=checkbox]").removeAttr("checked") : 4 == a && (o.find("option:selected").attr("selected", !1),
                o.find("select").trigger("clearCalc"));
                var n = l.filter(function(e) {
                    return e.contentId === i
                });
                if (0 === n.length)
                    return;
                var r = [];
                n.forEach(function(n) {
                    n.showList.forEach(function(t) {
                        var e = d.find(function(e) {
                            return e.id === t.key
                        });
                        if (e) {
                            r.push(e);
                            var i = e.ruleShowSub;
                            if (Array.isArray(i)) {
                                var a = "".concat(n.contentId, "_").concat(n.optionName)
                                  , o = i.findIndex(function(e) {
                                    return e === a
                                });
                                -1 < o && i.splice(o, 1)
                            }
                        }
                    })
                }),
                Site.refreshFormItemByRule(s, r, l, d)
            } else
                s.siblings("[data-formid=".concat(i, "]")).show()
    })
}
,
Site.addFlashModuleFlash = function(e) {
    var t = "Opaque";
    1 != e.transparent && (t = "transparent");
    var i = ['<embed id="' + e.moduleId + '" width="' + e.width + '" height="' + e.height + '" allowscriptaccess="' + e.allowScriptAccess + '" style="visibility: visible;" pluginspage="http://get.adobe.com/cn/flashplayer/" flashvars="playMovie=true&amp;auto=1" allowfullscreen="true" quality="hight" src="' + e.path + '" type="application/x-shockwave-flash" wmode="' + t + '"></embed>'];
    $("#flashModuleFlash" + e.moduleId).append(i.join(""))
}
,
Site.noticeMarquee = function(e, t) {
    var i = {
        direction: "up",
        speed: "normal",
        loop: "infinite",
        moveout: !1,
        isScrolling: !1
    };
    $.extend(i, e),
    "normal" == i.speed ? $.extend(i, {
        speed: 28
    }) : "slow" == i.speed ? $.extend(i, {
        speed: 60
    }) : $.extend(i, {
        speed: 13
    }),
    $("#noticeMarquee" + i.id).data("options", e);
    var a = i.id
      , o = $("#noticeMarquee" + a)
      , n = o.outerHeight(!0)
      , r = o.outerWidth(!0)
      , s = o.children().width()
      , l = $("#noticeContainer" + a).outerWidth()
      , d = l < s ? s : l;
    if (null != t) {
        var c = $("#noticeMarquee" + t).width();
        d = l < (r = c = c || 0) ? r : l,
        Fai.stopInterval("rm" + t),
        $("#noticeMarqueeCopy" + t).remove(),
        $(o).appendTo($("#noticeContainer" + t)),
        $("#noticeMarqueeNewParent" + t).remove()
    }
    var p = i.direction
      , u = 0
      , m = "left"
      , h = i.speed
      , f = "infinite" != i.loop || i.loop <= 0 ? 1 : i.loop
      , g = i.moveout
      , v = i.isScrolling
      , _ = i.noticeType
      , S = 20
      , b = $("<div id='noticeMarqueeCopy" + a + "' class='noticeMarquee' style='overflow:hidden;width:" + d + "px;' ></div>")
      , x = "<div id='noticeMarqueeNewParent" + a + "' style='position:relative;overflow:hidden;width:" + 2 * d + ";";
    x += 4 != _ ? "left:23px;'></div>" : "'></div>";
    var w = $(x);
    function y() {
        w.appendTo(o.parent()),
        o.appendTo(w),
        b.appendTo(w),
        (v || g) && $(o.html()).appendTo(b),
        m = ("left" == p ? u = n : (u = 0 - d,
        v && !g && (u = 0),
        v && g && (u = -d)),
        "left"),
        g ? o.css(m, 0) : o.css(m, u),
        "left" != p && "right" != p || o.css("top", 0),
        $("#module" + a + " .noticeContainer").mouseover(function() {
            Fai.stopInterval("rm" + a)
        }).mouseout(function() {
            ("infinite" == f || 0 < f) && Fai.startInterval("rm" + a)
        }),
        C(),
        F(p)
    }
    function C() {
        var e = o.find("img");
        $(e).load(function() {
            var e = o.height();
            n != e && (n = e,
            F(p))
        })
    }
    function F(e) {
        "left" != e && "right" != e || (w.css("position", "relative"),
        w.css("width", l),
        b.css("top", 0),
        "left" == e ? (b.css("margin-left", S),
        v && !g && (o.css("left", l),
        b.css("left", d + l)),
        v && g && b.css("left", d + 50),
        v || g || (o.css("left", r),
        b.css("left", d + r)),
        !v && g && b.css("left", d + r)) : (b.css("left", 0),
        o.css("margin-left", S),
        o.css("width", d + "px"),
        v && !g && (o.css("padding-left", d),
        o.css("padding-right", d),
        w.scrollLeft(2 * d + S)),
        v && g && (o.css("padding-left", d),
        w.scrollLeft(2 * d)),
        v || g || (o.css("padding-right", d + r),
        o.css("padding-left", d + r),
        w.scrollLeft(d + r + S)),
        !v && g && (o.css("padding-right", d + r),
        o.css("padding-left", d + r),
        w.scrollLeft(d + r + S))))
    }
    function I() {
        if ("left" == p) {
            var e = w.scrollLeft();
            e++,
            v && !g && (e == 2 * d + S ? w.scrollLeft(d) : w.scrollLeft(e)),
            v && g && (e == d + 50 + S ? w.scrollLeft(0) : w.scrollLeft(e)),
            v || g || (e == d + r + S ? w.scrollLeft(0) : w.scrollLeft(e)),
            !v && g && (e == d + r + S ? w.scrollLeft(0) : w.scrollLeft(e))
        } else if ("right" == p) {
            e = w.scrollLeft();
            e--,
            v && !g && (-1 == e ? w.scrollLeft(d + S) : w.scrollLeft(e)),
            v && g && (-1 == e ? w.scrollLeft(d + S) : w.scrollLeft(e)),
            v || g || (-1 == e ? w.scrollLeft(d + r + S) : w.scrollLeft(e)),
            !v && g && (-1 == e ? w.scrollLeft(d + r + S) : w.scrollLeft(e))
        }
    }
    null != e && (y(),
    Fai.addInterval("rm" + a, I, h),
    Fai.startInterval("rm" + a))
}
,
Site.saveNoticeMarqueeProps = function(e) {
    null != e && $("#noticeMarquee" + e.id).data("options", e),
    $("#module" + e.id).on("Fai_onModuleSizeChange", function() {
        Site.noticeMarquee($("#noticeMarquee" + e.id).data("options"), e.id)
    }),
    $("#module" + e.id).on("Fai_onModulePositionChange", function() {
        Site.noticeMarquee($("#noticeMarquee" + e.id).data("options"), e.id)
    })
}
,
Site.revertIcon = function(e) {
    var t = $("#module" + e)
      , i = !1
      , a = !1
      , o = t.find(".noticeContainer").height();
    0 != t.find(".noticeFontIcon").length && (i = !0),
    0 != t.find(".noticeSvg").length && (a = !0),
    i ? t.find(".noticeFontIcon").css("line-height", o + "px") : a ? t.find(".noticeImg").css("margin-top", (o - 19) / 2 + "px") : t.find(".noticeImg").css("margin-top", (o - 21) / 2 + "px")
}
,
Site.noticeMarqueeUpDown = function(e) {
    var t = {
        direction: "top",
        speed: "normal",
        stopTime: 1e3
    };
    $.extend(t, e),
    "fast" === t.speed ? $.extend(t, {
        speed: 500
    }) : "slow" === t.speed ? $.extend(t, {
        speed: 1100
    }) : $.extend(t, {
        speed: 850
    });
    var i = $("#noticeScrollbar" + t.id + " li");
    if (1 == i.length) {
        var a = $(i.get(0))
          , o = "<li class='scrollbarLi'>" + a.html() + "</li>";
        $(o).insertAfter(a)
    }
    $("#noticeScrollbar" + t.id).marquee({
        yScroll: "top" === t.direction ? "bottom" : "top",
        showSpeed: t.speed,
        pauseSpeed: t.stopTime,
        hoverChange: !1
    });
    var n = $("#module" + t.id + " .formMiddleContent");
    n.css("overflow", "hidden"),
    n.css("width", "98%"),
    $("#module" + t.id + " .formMiddleCenter").css("overflow", "hidden")
}
,
Site.noticeUpDownSizeChange = function(e) {
    var t = $("#noticeMarquee" + e)
      , i = t.height()
      , a = t.children().children();
    $.each(a, function(e, t) {
        $(t).css("top", -(i + 2) + "px")
    }),
    $("#noticeScrollbar" + e).removeData("_innerHeight")
}
,
Site.setSerTextOverflow = function(e) {
    var t = $("#serOnline-container" + e)
      , i = t.find(".serOnline-service").children(".serOnline-list-h")
      , a = t.find(".serOnline-contact").children(".serOnline-list-h")
      , o = t.outerWidth();
    t.outerHeight();
    Site.setSerListCSS(i, o),
    Site.setSerListCSS(a, o)
}
,
Site.setSerListCSS = function(e, i) {
    var a, o, n, r;
    $.each(e, function(e, t) {
        a = $(t).outerWidth(),
        i - 3 < a && (null != o && o < i - 3 && $('<div style="clear:both;"></div>').insertAfter($(t).prev()),
        r = $(t).outerWidth(),
        $(t).css("white-space", "normal"),
        $(t).css("word-break", "break-all"),
        n = !0),
        o = n ? r : $(t).outerWidth(),
        n = !1
    })
}
,
Site.initCustomIframe = function(e) {
    var t = Fai.top.$("#iframe" + e)
      , i = t.attr("width")
      , a = t.attr("height")
      , o = (t.attr("src"),
    $("<iframe id='iframe" + e + "' frameborder='0' height='" + a + "' width='" + i + "'></iframe>"));
    t.replaceWith(o),
    o.attr("src", t.attr("src"))
}
,
Site.initModuleWeiboShow = function(e, t, i, a) {
    var o = Fai.top.$("#wbShowFrame" + t)
      , n = o.attr("width")
      , r = "<iframe id='wbShowFrame" + t + "' name='wbShowFrame' frameborder='0' scrolling='no' height='" + o.attr("height") + "' width='" + n + "' src='about:blank'></iframe>";
    o.replaceWith(r);
    var s = i + Fai.top.$("#wbShowFrame" + t).parent().width() + "&ran=" + Math.random();
    Site.initIframeLoading(e, t, s, a),
    $("#refreshChlid" + t).css("padding-top", "40%")
}
,
Site.initLocaler = function(e, t) {
    "undefined" == typeof Fai.top._localerJsonTmp && (Fai.top._localerJsonTmp = e),
    t ? Site.initLocalerManage(e) : Site.initLocalerSite(),
    Site.checkLocalerItemWidthForIE(),
    Site.bindLocalerItemEvent()
}
,
Site.initLocaleStyle = function(e) {
    var t = $("#webTop").width();
    t < e ? ($("#localer").css("left", "auto"),
    $("#localer").css("right", t - e - $("#localer").width() + "px")) : ($("#localer").css("left", e),
    $("#localer").css("right", "auto"))
}
,
Site.initLocalerSite = function() {
    $("#localer").bind("mouseenter", function() {
        Site.openLocalerList()
    }).bind("mouseleave", function() {
        Site.closeLocalerList(this)
    })
}
,
Site.openLocalerList = function() {
    if (!$("#localer").hasClass("ui-draggable-dragging")) {
        var e = parseInt($("#localer").attr("_moduleStyle"));
        if (!(1 <= e && e <= 3)) {
            var t = $("#localer").find(".J_localerList").height();
            Fai.isIE() ? $("#localer").find(".J_localerPanel").stop().animate({
                height: t
            }, {
                duration: 200
            }) : $("#localer").find(".J_localerPanel").css("height", t + "px"),
            $("#localer").find(".J_localerPanel .J_localerList .first .arrow").addClass("arrow_hover")
        }
    }
}
,
Site.closeLocalerList = function(e) {
    var t = parseInt($("#localer").attr("_moduleStyle"));
    if (!(1 <= t && t <= 3)) {
        var i = $("#localer").find(".J_localerPanel .J_localerList .first").height();
        Fai.isIE() ? $("#localer").find(".J_localerPanel").stop().animate({
            height: i
        }, {
            duration: 200
        }) : $("#localer").find(".J_localerPanel").css("height", i + "px"),
        $("#localer").find(".J_localerPanel .J_localerList .first .arrow").removeClass("arrow_hover")
    }
}
,
Site.bindLocalerItemEvent = function() {
    $("#localer").find(".J_localerPanel .J_localerList .localerItemContent").bind("mouseenter", function() {
        $(this).hasClass("first") || $(this).addClass("localerItemContent_hover")
    }).bind("mouseleave", function() {
        $(this).hasClass("first") || $(this).removeClass("localerItemContent_hover")
    })
}
,
Site.checkLocalerItemWidthForIE = function() {
    Fai.top.$("#localer").find(".localerItemContent").removeAttr("style");
    var e = parseInt(Fai.top.$("#localer").attr("_moduleStyle"));
    if ((Fai.isIE6() || Fai.isIE7()) && 4 <= e && e <= 9) {
        var t = Fai.top.$("#localer").find(".J_localerPanel").width();
        Fai.top.$("#localer").find(".localerItemContent").css("width", t + "px")
    }
    if (Fai.isIE6() && 1 <= e && e <= 3) {
        var i = Fai.top.$("#localer").find(".J_localerPanel").height();
        Fai.top.$("#localer").find(".J_localerPanel").css("line-height", i + "px")
    }
}
,
Site.initFloatImg = function(e) {
    Site.hoverChangeImage()
}
,
Site.floatImgInContainerForms = function(e) {
    return !!$("#webContainerTable").length && (!!$("#webContainerTable").find("#module" + e).length && !(0 < Site.checkNestModule($("#module" + e)).parentId))
}
,
Site.picShape = function(e, t, i) {
    t = t || {};
    var a = $("#module" + e)
      , o = a.find(".floatImgWrap")
      , n = o.find("img")
      , r = a.find(".forMargin")
      , s = t.borderRadius
      , l = t.imgShapeType
      , d = a.find(".floatImg")
      , c = n.height()
      , p = n.width()
      , u = 0;
    function m() {
        2 == l && 4 == l || (o.css({
            width: "auto",
            height: "auto",
            marginTop: "0",
            marginLeft: "0"
        }),
        r.css({
            marginLeft: "0",
            marginTop: "0"
        })),
        3 == l && 4 == l || o.css("borderRadius", "0")
    }
    i.isFontIcon || !1 || (m(),
    2 == l || 4 == l ? (d.css({
        "text-align": "left",
        overflow: "hidden"
    }),
    u = p < c ? p : c,
    o.css({
        width: u + "px",
        height: u + "px",
        overflow: "hidden"
    }),
    p < c && (o.css("marginTop", (c - p) / 2 + "px"),
    r.css("marginTop", -(c - p) / 2 + "px")),
    c < p && (o.css("marginLeft", (p - c) / 2 + "px"),
    r.css("marginLeft", -(p - c) / 2 + "px")),
    4 == l && o.css({
        borderRadius: "50%"
    })) : 3 == l && o.css({
        borderRadius: s + "px"
    }))
}
,
Site.bindImageEffectCusEvent_floatImg = function(e, n) {
    var t = Fai.top.$(e).find(".imageEffects")
      , i = !0
      , r = Fai.top.$(e).find("a")
      , a = $(r).attr("href")
      , o = t.siblings("a").attr("onmouseover")
      , s = !(void 0 === a || 0 == a.length || 0 < a.indexOf("javascirpt") || 0 < a.indexOf("return") || 0 == r.length);
    o && t.attr("onmouseover", o),
    s || (i = !1),
    i ? $(t).css("cursor", "pointer") : $(t).css("cursor", "default"),
    $(t).off("click.imgEft").on("click.imgEft", function() {
        var e = $(this).parents("." + n.targetParent).find("a");
        if (!Fai.isNull(e)) {
            var t = $(e).attr("href")
              , i = $(e).attr("onclick")
              , a = $(e).attr("target");
            void 0 === a && (a = "_self");
            var o = !(void 0 === t || 0 == t.length || 0 < t.indexOf("javascirpt") || 0 < t.indexOf("return") || 0 == r.length);
            void 0 !== i ? $(e).click() : o && window.open(t, a)
        }
    })
}
,
Site.mallCoupon = function(e, t) {
    this.popupId = t,
    this.moduleId = e,
    this.module = Fai.top.$("#module" + e),
    this.couponList = this.module.find("#couponList" + e)
}
,
function(n, e, f) {
    var t = Site.mallCoupon.prototype
      , o = {};
    function r(e, t) {
        o["moduleId" + e].module.on("click", ".coupon_new,.pdCouponFlag", function() {
            i(this)
        }),
        t != f && n("#popupWindow" + t).on("click", ".coupon_new", function() {
            i(this)
        })
    }
    function i(e) {
        var t = n(e).attr("received");
        t = "true" == t;
        var i = n(e).attr("coupon_id")
          , a = n(e).attr("noCountLimit");
        a = "true" == a;
        n(e).attr("receiveCountLimit");
        if (_manageMode) {
            if (!Fai.top._couponOpen)
                return;
            var o = {
                height: 75,
                width: 280,
                htmlContent: '<div class="resultFailIcon addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 39px; padding-left: 35px;">'
            };
            o.htmlContent += "当前为管理状态，领取失败</div>",
            o.autoClose = 2e3;
            Site.popupBox(o)
        } else if (t)
            Fai.top.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "pr.jsp?couponId=" + i;
        else {
            s(i, n(e).attr("bg_id"))
        }
    }
    function s(r, e) {
        n.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/mallCoupon_h.jsp?cmd=addWafCk_receiveCoupon",
            data: "bgId=" + e + "&cid=" + r + "&t=" + (new Date).getTime(),
            dataType: "json",
            success: function s(e) {
                var t = {};
                if (e.success) {
                    var i = e.coupon;
                    t.height = 229,
                    t.width = 379,
                    (o = []).push('<div class="coupon-popup-box">'),
                    o.push('<div class="coupon-receive-success">'),
                    o.push(LS.CongratulatSuccess),
                    o.push("</div>"),
                    o.push('<div class="coupon-line">'),
                    o.push(LS.coupon + LS.name + "：" + Fai.encodeHtml(i.couponName)),
                    o.push("</div>"),
                    o.push('<div class="coupon-line">'),
                    o.push(LS.denomination + '：<span class="savePrice">' + i.savePrice + "</span>"),
                    o.push("</div>"),
                    o.push('<div class="coupon-line">'),
                    o.push(LS.useCondition + "：" + i.useCondition),
                    o.push("</div>"),
                    o.push('<div class="coupon-line">'),
                    o.push(LS.vilidaty + "：" + i.validity),
                    o.push("</div>"),
                    o.push('<div class="coupon-opera">'),
                    o.push('<div class="goto-coupon-btn">'),
                    o.push(LS.view + LS.coupon),
                    o.push("</div>"),
                    o.push('<div class="back-page">'),
                    o.push(LS.returnPage),
                    o.push("</div>"),
                    o.push("</div>"),
                    o.push("</div>"),
                    t.htmlContent = o.join(""),
                    t.reload = !0,
                    l(n = Site.popupBox(t), e.success),
                    d(n)
                } else {
                    var a = e.rt;
                    if (-23 == a) {
                        if (window.localStorage)
                            window.localStorage.getItem("receTime") && (window.localStorage.removeItem("receTime"),
                            window.localStorage.removeItem("cpId")),
                            localStorage.setItem("cpId", r),
                            localStorage.setItem("receTime", (new Date).getTime());
                        document.location.href = Site.preprocessUrl({
                            path: "",
                            oldPath: ""
                        }) + "login.jsp?url=" + document.location.href
                    } else if (-1503 == a) {
                        t.height = 155,
                        t.width = 312,
                        (o = []).push('<div class="coupon-popup-box">'),
                        o.push('<div class="coupon-receive-fail">'),
                        o.push(LS.receiveFail),
                        o.push("</div>"),
                        o.push('<div class="coupon-msg">'),
                        o.push("请使用后再次领取"),
                        o.push("</div>"),
                        o.push('<div style="white-space: nowrap;">'),
                        o.push('<div class="goto-coupon-btn">'),
                        o.push(LS.view + LS.coupon),
                        o.push("</div>"),
                        o.push('<div class="back-page">'),
                        o.push(LS.returnPage),
                        o.push("</div>"),
                        o.push("</div>"),
                        o.push("</div>"),
                        t.htmlContent = o.join(""),
                        (n = Site.popupBox(t)).css("width", ""),
                        n.find(".popupCnBg").css("width", ""),
                        l(n),
                        d(n)
                    } else if (-4 == a) {
                        t.height = 155,
                        t.width = 312,
                        (o = []).push('<div class="coupon-popup-box">'),
                        o.push('<div class="coupon-receive-fail">'),
                        o.push(LS.receiveFail),
                        o.push("</div>"),
                        o.push('<div class="coupon-msg">'),
                        o.push(LS.receiveOverLimit),
                        o.push("</div>"),
                        o.push('<div style="white-space: nowrap;">'),
                        o.push('<div class="goto-coupon-btn">'),
                        o.push(LS.view + LS.coupon),
                        o.push("</div>"),
                        o.push('<div class="back-page">'),
                        o.push(LS.returnPage),
                        o.push("</div>"),
                        o.push("</div>"),
                        o.push("</div>"),
                        t.htmlContent = o.join(""),
                        (n = Site.popupBox(t)).css("width", ""),
                        n.find(".popupCnBg").css("width", ""),
                        l(n),
                        d(n)
                    } else {
                        var o, n;
                        t.height = 110,
                        t.width = 270,
                        (o = []).push('<div class="coupon-popup-box">'),
                        o.push('<div class="coupon-receive-fail">'),
                        o.push(LS.receiveFail),
                        o.push("</div>"),
                        o.push('<div class="coupon-msg">'),
                        "receiveOverLimit" == e.msg ? o.push(LS.receiveOverLimit) : "couponCountZero" == e.msg ? o.push(LS.couponCountZero) : "couponExpired" == e.msg ? (t.height = 110,
                        t.width = 210,
                        o.push(LS.couponExpired)) : "noMemberAuth" == e.msg && (t.height = 110,
                        t.width = 210,
                        o.push(Fai.format(LS.receiveCouponAuth, e.authMemberLvName))),
                        o.push("</div>"),
                        o.push("</div>"),
                        t.htmlContent = o.join(""),
                        (n = Site.popupBox(t)).css("width", ""),
                        n.find(".popupCnBg").css("width", "")
                    }
                }
            },
            error: function t() {
                Fai.ing(LS.js_systemError, !0)
            }
        })
    }
    function l(e, t) {
        e.find(".back-page").on("click", function() {
            e.find(".popupBClose").click(),
            t && location.reload(!0)
        })
    }
    function d(e) {
        e.find(".goto-coupon-btn").on("click", function() {
            document.location.href = Site.preprocessUrl({
                path: "",
                oldPath: ""
            }) + "mCenter.jsp?item=memberCoupon"
        })
    }
    t.init = function(e, t) {
        if (o["moduleId" + e] = this,
        r(e, t),
        window.localStorage) {
            var i = window.localStorage.getItem("receTime");
            if (i && Fai.top._TOKEN) {
                if (12e4 < (new Date).getTime() - Number(i))
                    return void localStorage.removeItem("receTime");
                var a = window.localStorage.getItem("cpId");
                n("div.receiveCoupon[coupon_id=" + a + "]").click(),
                window.localStorage.removeItem("receTime"),
                window.localStorage.removeItem("cpId")
            }
        }
    }
    ,
    t.showPage = function() {
        var h = 2052 == Fai.top._lcid || 1028 == Fai.top._lcid;
        return function(e, t) {
            n.ajax({
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/mallCoupon_h.jsp?cmd=getWafNotCk_getPageData",
                data: "moduleId=" + e + "&pageNo=" + t,
                dataType: "json",
                success: function i(u) {
                    if (u.success) {
                        var m = [];
                        n.each(u.list, function(e, t) {
                            if (0 == t.id)
                                return !1;
                            var i = t.flag
                              , a = Fai.checkBit(i, 1)
                              , o = (Fai.checkBit(i, 2),
                            "")
                              , n = ""
                              , r = t.endTime
                              , s = !0;
                            if (r != f && "" != r) {
                                var l = t.startTime;
                                l = new Date(l);
                                var d = (r = new Date(r)).getMonth() + 1 + "." + r.getDate();
                                n = l.getMonth() + 1 + "." + l.getDate() + "-" + d
                            } else
                                o = "style='margin-top:30px;'";
                            var c = "立即领取"
                              , p = "";
                            h || (c = "Receive",
                            p = "style='padding-top: 15px;'"),
                            s || (c = "已领取",
                            p = "style='padding-top: 13px;'",
                            h || (c = "Received")),
                            t.state ? 0 != t.couponLeaveAmount || a ? t.currentMemberReceived && (c = "已领取",
                            s = !(p = "style='padding-top: 13px;'"),
                            h || (c = "Received")) : (c = "已领完",
                            s = !(p = "style='padding-top: 11px;'"),
                            h || (p = "style='padding-left: 11px;'",
                            c = "Received Over")) : (c = "已失效",
                            s = !(p = "style='padding-top: 20px;'"),
                            h || (c = "Invalid")),
                            m.push("<div class='coupon_new couponItem' id='coupon" + t.id + "' bg_id = '" + u.bgid + "' coupon_id='" + t.id + "' couponName='" + t.couponName + "'>"),
                            s ? m.push("<span class='couponBackground faisco-icons-S000186 coupon-color-" + u.bg + "'></span>") : m.push("<span class='couponBackground coupon_color_invalid_new faisco-icons-S000186'></span>"),
                            m.push("<div class='coupon_content_new'>"),
                            m.push("<div class='couponLeftInfo'>"),
                            h ? (m.push("<div class='couponTopInfo'>"),
                            m.push("<div><div><span class='priceSign'>" + Fai.top._choiceCurrencyVal + "</span><span class='savePrice'>" + t.savePrice + "</span></div></div>"),
                            m.push("<div class='conditionContainer' " + o + ">"),
                            m.push("<div class='useCondition'>满" + t.orderMinPrice + "用</div>")) : (m.push("<div class='couponTopInfo'>"),
                            m.push("<div><div><span class='priceSign'>" + Fai.top._choiceCurrencyVal + "</span><span class='savePrice'>" + t.savePrice + "</span></div></div>"),
                            m.push("<div class='conditionContainer' " + o + ">"),
                            m.push("<div class='useCondition'>" + t.orderMinPrice + "or more</div>")),
                            null != r && m.push("<div class='validTime'>" + n + "</div>"),
                            m.push("</div>"),
                            m.push("</div>"),
                            m.push("<div class='couponBottomInfo'><div class='couponName'>" + t.couponName + "</div></div>"),
                            m.push("</div>"),
                            m.push("<div class='couponRightInfo'>"),
                            h ? m.push("<div class='couponReceive' " + p + ">" + c + "</div>") : m.push("<div class='couponReceiveEn' " + p + ">" + c + "</div>"),
                            m.push("</div>"),
                            m.push("</div>"),
                            m.push("</div>")
                        }),
                        o["moduleId" + e].couponList.html(m.join("")),
                        Fai.Cookie.set("pageNo" + e, t),
                        _manageMode && Fai.top._couponOpen && Site.initModuleCouponListItemManage({
                            couponParent: "couponList" + e,
                            coupon: "coupon",
                            moduleId: e
                        })
                    }
                },
                error: function a() {
                    Fai.ing(LS.js_systemError, !0)
                }
            }),
            _manageMode && Site.initModuleCouponListItemManage({
                couponParent: "couponList" + e,
                coupon: "coupon",
                moduleId: e
            })
        }
    }
}(jQuery),
Site.initMallCoupon = function(e, t) {
    Fai.top.mallCoupon = Fai.top.mallCoupon || {},
    Fai.top.mallCoupon["couponList" + e] = new Site.mallCoupon(e,t),
    Fai.top.mallCoupon["couponList" + e].init(e, t)
}
,
Site.videoCompatible = function(e) {
    var t = Fai.top.navigator.userAgent
      , i = e.flvPagePath
      , a = !1;
    if (-1 != i.toLowerCase().indexOf(".mp4") && (a = !0),
    a && /(iPhone|iPad|iPod|iOS|Android)/i.test(t)) {
        var o, n, r, s, l, d = !!document.createElement("video").canPlayType, c = "mediaplayerObj" + e.moduleId, p = "mediaplayer" + e.moduleId, u = [], m = [];
        if (!d && 0 < e.mediaJsUrl.length && Fai.top.$("#jz-Html5VideoJs").length < 1) {
            var h = document.createElement("script")
              , f = document.head || document.body;
            h.id = "jz-Html5VideoJs",
            h.type = "text/javascript",
            h.src = e.mediaJsUrl,
            f.appendChild(h)
        }
        1 == e.videoType && (c = e.moduleId,
        p = "onLineFlv" + e.moduleId),
        r = Fai.top.$("#" + p),
        s = Fai.top.$("#" + c),
        u.push('id="' + c + '"'),
        0 < e.flvImgUrl.length && u.push('poster="' + e.flvImgUrl + '"'),
        u.push('width="' + e.flvWidth + '"'),
        u.push('height="' + e.flvHeight + '"'),
        u.push("controls"),
        o = u.join(" "),
        m.push("<video " + o + ">"),
        m.push('<source src="' + i + '">'),
        m.push("抱歉，你的浏览器不能查看该视频。"),
        m.push("</video>"),
        n = m.join(""),
        0 < s.length && (s.remove(),
        r.append(n)),
        /(iPhone|iPad|iPod|iOS)/i.test(t) && (l = r.find("video")).length && l.attr("src", l.attr("data-original"))
    }
}
,
Site.videoEndAndReplay = function(e) {
    var t = document.getElementById("new-video-" + e);
    t && (t.onended = function() {
        try {
            $(t).removeAttr("autoplay")
        } catch (e) {}
        this.load && this.load()
    }
    )
}
,
Site.closeVideo = function(e, t) {
    t.preventDefault(),
    t.stopPropagation(),
    window.outerWidth <= 768 && Site.cancelDialogVideo(e)
}
,
Site.stopVideoClose = function(e) {
    e.stopPropagation()
}
,
Site.openLinkFlv = function(e) {
    var t = !0
      , i = e.flvCode
      , a = e.flvType
      , o = new RegExp("`","g");
    i = i.replace(o, '"'),
    Site.dialogVideo(0, {
        flvCode: i,
        flvType: a,
        isLinkFlv: t
    })
}
,
Site.dialogVideo = function(s) {
    var e = 1 < arguments.length && arguments[1] !== undefined ? arguments[1] : {}
      , l = ""
      , d = ""
      , c = c || ""
      , t = "0.7"
      , i = "9500"
      , a = !!e.isLinkFlv
      , p = "overflow:hidden;"
      , u = "";
    function m() {
        var e = Fai.top.$(".new-video-".concat(s, "-dimensions"));
        e.length && e.css({
            width: "1100px",
            height: "600px"
        })
    }
    t && (l = "filter: alpha(opacity=" + 100 * t + "); opacity:" + t + ";"),
    i && (d = " z-index:" + (i - 1)),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax/flv_h.jsp",
            oldPath: Site.genAjaxUrl("flv_h.jsp")
        }),
        data: a ? "cmd=getWafNotCk_getLinkFlvDom&flvType=" + e.flvType + "&flvCode=" + Fai.encodeUrl(e.flvCode) : "moduleId=" + s + "&cmd=getWafNotCk_getModuleFlvDom",
        error: function o() {
            Fai.ing("系统繁忙，请稍候重试", !1)
        },
        success: function h(e) {
            var t;
            if ((e = jQuery.parseJSON(e)).success || Fai.ing("视频弹窗打开失败，请稍后重试", !1),
            t = e.info.sb,
            Site.is360() && (p = "",
            u = "clearmb_other"),
            !Fai.isPC() && 0 == $("#videoStyle").length) {
                var i = .06 * ($("#web").width() || 0);
                $('<style id="videoStyle">.in_mobi .dialogVideoDiv .cancelDialogVideo { width: '.concat(i, "px; height: ").concat(i, "px; }</style>")).appendTo("head")
            }
            var a = "<div id='bg_video_mask' onclick='Site.closeVideo(" + s + ", event)' class='" + (Fai.isPC() ? "" : "in_mobi") + "'><div class=\"popupBg popupBgForWin " + c + "\" style='" + l + d + "' ></div>";
            if (a += '<div id="video_dialog" onclick="Site.stopVideoClose(event)" style="position: fixed;z-index:10000;left: 50%;top: 50%;margin-left:-550px; margin-top:-300px;width:1100px;height:600px;backgroundColor:red;"><div style="width:1100px;height:600px;' + p + '" class="clearmb ' + u + '">' + t + "</div></div></div>",
            Fai.isIE8() || Fai.isIE7()) {
                var o = document.getElementsByTagName("body")[0]
                  , n = document.createElement("div");
                n.innerHTML = a,
                o.appendChild(n)
            } else
                Fai.top.$(a).appendTo($("body"));
            if (Fai.top.$(".dialogVideoDiv video")[0] != undefined) {
                var r = Fai.top.videojs("#new-video-" + s);
                m(),
                Fai.top.$("#new-video-" + s + "_html5_api").length || r.dispose(),
                Fai.top.videojs("#new-video-" + s).ready(function() {
                    var e = this;
                    e.controlBar.volumeMenuButton.hide(),
                    e.autoplay() && Site.stopMusic("faiBgMusicPlayer"),
                    e.on("play", function() {
                        Site.stopMusic("faiBgMusicPlayer"),
                        $(".vjs-big-play-button").fadeOut()
                    }),
                    e.on("pause", function() {
                        $(".vjs-big-play-button").fadeIn()
                    }),
                    e.on("ended", function() {}),
                    $(".dialogVideoDiv").find("div").eq(1)[0].style.outline = 0,
                    1 == $(".dialogVideoDiv").find(".moduleHttpTip").length && $(".dialogVideoDiv").css("background-color", "white"),
                    m()
                })
            }
        }
    })
}
,
Site.cancelDialogVideo = function(e) {
    Site.callMusic("faiBgMusicPlayer") && "false" == $.cookie("bgplayerPause") && Site.reStartMusic("faiBgMusicPlayer"),
    Fai.top.$(".dialogVideoDiv video")[0] != undefined && Fai.top.videojs("new-video-" + e).dispose();
    $("#bg_video_mask").remove()
}
,
Site.videoNetUrlDeal = function(e) {
    var t = "";
    if (e) {
        var i = $("#onLineFlv" + e);
        $onLineVideo = i.find("#" + e),
        t = $onLineVideo.attr("src");
        try {
            if (t) {
                t = (t = Fai.decodeHtml(t)).replace(/&nbsp;/gi, " ").replace(/&lt;/gi, "<").replace(/&gt;/g, ">").replace(/&#92;/gi, "\\").replace(/&#39;/gi, "'").replace(/&quot;/gi, '"').replace(/\<br\/\>/gi, "\n").replace(/&amp;/gi, "&");
                var a = $(t)
                  , o = a.get(0).tagName.toLowerCase()
                  , n = ""
                  , r = (n = a.attr("src")).split("/")
                  , s = r[2];
                if ("iframe" == o && -1 != s.indexOf("youku.com")) {
                    n = "//player.youku.com/player.php/sid/" + r[4] + "/v.swf",
                    $onLineVideo.attr("src", n);
                    var l = $onLineVideo.prop("outerHTML");
                    $onLineVideo.remove(),
                    i.append(l)
                } else if (n)
                    if (n = Fai.decodeHtml(n),
                    "embed" == o) {
                        $onLineVideo.attr("src", n);
                        l = $onLineVideo.prop("outerHTML");
                        $onLineVideo.remove(),
                        i.append(l)
                    } else if ("iframe" == o) {
                        var d = $onLineVideo.width()
                          , c = $onLineVideo.height();
                        $onLineVideo.remove(),
                        i.append('<iframe frameborder="0" width="' + d + '" height="' + c + '" src="' + n + '" allowfullscreen="true"></iframe>')
                    }
            }
        } catch (p) {}
    }
}
,
Site.videoLazyLoadBind = function(e) {
    Fai.top.$("#" + e).videolazyload({
        threshold: 180,
        container: Fai.top.window
    })
}
,
Site.is360 = function() {
    var e = "undefined" != typeof window && window.navigator.userAgent.toLowerCase()
      , t = e && /msie|trident/.test(e)
      , i = a("type", ["application/npalissologin", "application/hwwdkey.installwdkey", "application/hwpta.itrushwpta", "application/hwepass2001.installepass2001"]);
    function a(t, e) {
        var i, a = navigator.mimeTypes;
        for (var o in a)
            if (i = e.some(function(e) {
                return a[o][t] == e
            }))
                return i;
        return !1
    }
    return t || Fai.isChrome() && i
}
,
function(n, r) {
    Fai.top == r && ($window = n(r),
    n.fn.videolazyload = function(e) {
        n(".video-js").each(function(e, t) {
            if (1 != n("#bgplayerButton").length)
                return !1;
            n(t).off("play.p").on("play.p", function() {
                "false" == n.cookie("bgplayerPause") && Site.stopMusic("faiBgMusicPlayer")
            }),
            n(t).off("pause.r").on("pause.r", function() {
                "false" == n.cookie("bgplayerPause") && Site.reStartMusic("faiBgMusicPlayer")
            })
        });
        var a = {
            threshold: 0,
            failure_limit: 0,
            event: "scroll",
            effect: "show",
            container: r,
            data_attribute: "original",
            skip_invisible: !0,
            appear: null,
            load: null,
            lazyRemoveclass: ""
        };
        e && (undefined !== e.failurelimit && (e.failure_limit = e.failurelimit,
        delete e.failurelimit),
        undefined !== e.effectspeed && (e.effect_speed = e.effectspeed,
        delete e.effectspeed),
        n.extend(a, e));
        var o = this;
        if (0 == a.event.indexOf("scroll")) {
            var t = parseInt(1e4 * Math.random());
            n(a.container).off("scroll.videolazy" + t),
            n(a.container).on("scroll.videolazy" + t, function(e) {
                o.each(function() {
                    $this = n(this),
                    a.skip_invisible && !$this.is(":visible") || n.belowthefold(this, a) || n.rightoffold(this, a) || ($this.trigger("appear"),
                    n(a.container).off("scroll.videolazy" + t))
                })
            })
        }
        return this.each(function() {
            var t = this
              , i = n(t);
            t.loaded = !1,
            i.one("appear", function() {
                if (!this.loaded) {
                    if (a.appear) {
                        var e = o.length;
                        a.appear.call(t, e, a)
                    }
                    i.attr("src", i.data(a.data_attribute))
                }
            }),
            0 != a.event.indexOf("scroll") && i.bind(a.event, function(e) {
                t.loaded || i.trigger("appear")
            })
        }),
        $window.bind("resize", function(e) {
            n(a.container).trigger(a.event)
        }),
        n(a.container).trigger(a.event),
        this
    }
    ,
    n.belowthefold = function(e, t) {
        if (t.container === undefined || t.container === r)
            var i = ("innerHeight"in r ? r.innerHeight : $window.height()) + $window.scrollTop();
        else
            i = n(t.container).offset().top + n(t.container).height();
        return i <= n(e).offset().top - t.threshold
    }
    ,
    n.rightoffold = function(e, t) {
        if (t.container === undefined || t.container === r)
            var i = $window.width() + $window.scrollLeft();
        else
            i = n(t.container).offset().left + n(t.container).width();
        return i <= n(e).offset().left - t.threshold
    }
    )
}(jQuery, window),
Site.optimizeFooterAlign = function() {
    var e, t = $("#footerNav"), i = !0;
    if (!(t.length < 1)) {
        var a = t.find(".J_footerItemListContainer")
          , o = a.children(".J_footerItemSection");
        if (!(o.length < 1)) {
            a.children(".J_footerItemSpacing_end");
            var n, r, s = o.first(), l = o.last(), d = l.find(".J_footerItemContainer");
            Fai.top._designAuth && (2 != (e = Site.getFooterStyleData()).fa && (i = !1),
            2 == e.fis && (i = !1)),
            s.offset().top < l.offset().top && (i = !1),
            i ? (Fai.top._designAuth && l.removeClass("fixWidth"),
            r = l.width(),
            n = d.width(),
            Fai.top.Fai.setCtrlStyleCss("stylefooter", "webFooterTable", ".footerItemSpacing_end", "display", "none"),
            r < n ? l.removeClass("fixWidth") : (l.addClass("fixWidth"),
            Fai.top.Fai.setCtrlStyleCss("stylefooter", "webFooterTable", ".footerItemListContainer .fixWidth", "width", n + "px"))) : l.removeClass("fixWidth")
        }
    }
}
,
Site.changeTheLogoSize = function() {
    if ($("#footerSupport")) {
        var e = $("#footerSupport").css("font-size")
          , t = parseInt(e.substring(0, e.length - 2)) + 3;
        $("#faisco-icons-logo").css("font-size", t + "px")
    }
}
,
function(t, i) {
    "use strict";
    i.initFooter = function() {
        var e = t("#webFooterTable");
        i.initFooterForABTest(e),
        i.initFooterSupportLinkExposure(e),
        i.initFooterLoginUrl(e),
        i.FooterSupportLinkExposure.initListen(),
        i.FooterSupportLinkExposure.trigger()
    }
}(jQuery, Site),
function(s, l) {
    l.initFooterSupportLinkExposure = function(e) {
        function t(e) {
            s("#webFooterTable").find(".J_supportLink");
            var t = {
                name: "freeOfPayExposure",
                handler: i
            };
            l.FooterSupportLinkExposure.addListen(t)
        }
        function i() {
            a(),
            o(),
            l.FooterSupportLinkExposure.removeListen({
                name: "freeOfPayExposure"
            })
        }
        function a() {
            n() && l.logDog(200520, 3)
        }
        function o() {
            r() && l.logDog(200520, 4)
        }
        function n() {
            var e = !Fai.top._oem
              , t = 10 === Fai.top._siteVer;
            return e && t
        }
        function r() {
            var e = !Fai.top._oem
              , t = 10 === Fai.top._siteVer;
            return e && !t
        }
        t(e)
    }
}(jQuery, Site),
function(a, o) {
    o.FooterSupportLinkExposure = {
        initListen: e,
        addListen: t,
        removeListen: i,
        trigger: function h() {
            m()
        }
    };
    var n = "scroll.logFooterSupportLinkExposure"
      , r = "resize.logFooterSupportLinkExposure"
      , s = [];
    function e() {
        var e = a(window)
          , t = a(window)
          , i = o.throttle(m);
        e.off(r).on(r, i),
        Fai.top._manageMode ? t.off(n).on(n, i) : e.off(n).on(n, i)
    }
    function t(e) {
        l(e) || s.push(e)
    }
    function i(e) {
        var t = d(e);
        -1 < t && s.splice(t, 1)
    }
    function l(e) {
        return -1 < d(e)
    }
    function d(e) {
        for (var t = -1, i = 0; i < s.length; i++) {
            if (s[i].name === e.name) {
                t = i;
                break
            }
        }
        return t
    }
    function c() {
        return 0 === s.length
    }
    function p() {
        var e = a(window)
          , t = a(window);
        e.off(r),
        e.off(n),
        t.off(n)
    }
    var u = null;
    function m() {
        if ((null === u && (u = a("#webFooterTable").find(".J_supportLink")),
        0 !== u.length) && o.isInViewArea(a(window), u)) {
            for (var e = [].concat(s), t = 0; t < e.length; t++) {
                e[t].handler.apply(this)
            }
            c() && p()
        }
    }
}(jQuery, Site),
function(e, t, o) {
    t.isInViewArea = function(e, t) {
        if (!t)
            return !1;
        if (0 === t.length)
            return !1;
        var i = e.scrollTop()
          , a = e.scrollLeft()
          , o = e.height()
          , n = e.width()
          , r = t.offset()
          , s = r.left
          , l = r.top
          , d = t.outerHeight()
          , c = t.outerWidth();
        return a < s && s + c < a + n && (i < l && l + d < i + o)
    }
    ,
    t.throttle = function(t) {
        var i = 1 < arguments.length && arguments[1] !== o ? arguments[1] : 300
          , a = 0;
        return function() {
            var e = new Date;
            i < e - a && (t.apply(this, arguments),
            a = e)
        }
    }
}(jQuery, Site),
function(e, d) {
    d.initFooterForABTest = function(i) {
        if (l()) {
            var n = i.find(".J_supportLink")
              , r = !1;
            a(i);
            var e = "click.logFreeVerClick";
            n.off(e).on(e, o);
            var t = {
                name: "abTestExposure",
                handler: s
            };
            d.FooterSupportLinkExposure.addListen(t)
        }
        function a(e) {
            var t = 2524
              , i = "搭建";
            r && (t = 2525,
            i = "免费搭建");
            var a = "//" + Fai.top._jzProUrl + "/proFree.html?_ta=" + t
              , o = e.find(".J_buildText");
            n.attr("href", a),
            o.text(i)
        }
        function o(e) {
            var t = 100065
              , i = {
                A: 2,
                B: 3
            };
            r ? d.logDog(t, i.B) : d.logDog(t, i.A)
        }
        function s() {
            i.find(".J_supportLink");
            var e = 200520
              , t = {
                A: 1,
                B: 2
            };
            r ? d.logDog(e, t.B) : d.logDog(e, t.A),
            d.FooterSupportLinkExposure.removeListen({
                name: "abTestExposure"
            })
        }
        function l() {
            return !1
        }
    }
    ,
    d.initFooterLoginUrl = function(e) {
        var t = e.find(".footerLogin");
        if (t.length && t.find("a").length && !_manageMode && !Fai.top._oem) {
            var i = t.find("a")[0].href
              , a = window.location.protocol
              , o = window.location.href.substr(a.length)
              , n = -1 == i.indexOf("?") ? "?" : "&";
            i = i + n + "_preUrl=" + Fai.encodeUrl(o) + "&mall=" + _isMallWeb + "&_preSiteId=" + Fai.top._siteId,
            t.find("a")[0].href = i
        }
    }
}(jQuery, Site),
Site.initCorpTitleContent = function(e, t, i) {
    $("#" + e);
    var a, o, n, r, s, l = $("#corpTitle");
    l.length <= 0 || (t || (i = ""),
    (n = l.clone()).html(t),
    "primaryTitle" == e && (r = !!n.find("#primaryTitle").length,
    s = !!n.find(".newPrimaryTitle").length,
    r || s || "请输入网站标题" == t ? l.append(t) : (a = $("<div id='primaryTitle' style='" + i + "'></div>"),
    l.append(a),
    a.html(t.replace(/\s/g, "&nbsp;")))),
    "subTitle" == e && (n.find("#subTitle").length <= 0 ? (o = $("<div id='subTitle' style='" + i + "'></div>"),
    l.append(o),
    o.html(t.replace(/\s/g, "&nbsp;"))) : l.append(t)))
}
,
Site.initCorpTitle = function(e) {
    var t = e.fontList
      , i = $("#corpTitle");
    i.length <= 0 || (_manageMode && Array.isArray(t) && (Fai.top._titleData != undefined && (Fai.top._titleData.oldFontList = t.map(function(e) {
        return e.resId
    })),
    Site.initFontFace(t)),
    i.css({
        "min-height": "40px",
        "min-width": "160px"
    }))
}
,
function(m, p, d, o) {
    Fai.top.$("#webContainer").width();
    function n(e) {
        t(e),
        r(e),
        l(e),
        p.bannerV2.initBannerEffects()
    }
    function t(e) {
        var t, i = e, a = Fai.top.$("#webBanner"), o = Fai.top.$("#bannerV2"), n = i.widthType;
        if (i._open)
            0 === n ? t = i.width : 1 === n ? (t = i.width,
            a.css("width", "100%")) : 2 === n && (t = i.cusBannerWidth,
            0 < (i.width = t) && a.css("width", t + "px")),
            i.mouseoverId = "switchGroup",
            o.css("background", "none"),
            o.children().remove(),
            o.bannerImageSwitch(i);
        else {
            var r, s = i.bannerListAdapt, l = Fai.top.$("#webContainer").width();
            0 === n ? (t = i.defaultwidth,
            r = l) : 1 === n ? (a.css("width", "100%"),
            r = l) : 2 === n && (t = i.cusBannerWidth,
            a.css("width", t),
            r = t),
            0 === s ? o.find(".banner").css("background-size", "cover") : o.find(".banner").css("background-size", "");
            var d = []
              , c = Fai.top.$(".fk-inBannerListZone-tmp").find(".form");
            d.push("<div id='fk-inBannerListZone' _sys='0' _banId='' class='elemZone elemZoneModule J_moduleZone fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone'>"),
            d.push("\t<div class='fk-inBannerListZoneBg fk-elemZoneBg J_zoneContentBg elemZoneBg'></div>"),
            d.push("</div>"),
            o.prepend(d.join("")),
            Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
                cls: "#bannerV2 .fk-inBannerListZone",
                key: "width",
                value: r + "px"
            }, {
                cls: "#bannerV2 .fk-inBannerListZone",
                key: "margin-left",
                value: "-" + r / 2 + "px"
            }]),
            c.each(function() {
                m(this).parent().hasClass("fk-inBannerListZone-tmp") && (p.isSystemModule(m(this)) || Fai.top.$("#fk-inBannerListZone").append(m(this)))
            }),
            Fai.top._manageMode && (p.sortable(),
            window.jzUtils.run({
                name: "_elemZone.sortModuleZone",
                base: Fai.top
            }))
        }
    }
    function e() {
        var e, n, t = Fai.top.$("#bannerV2"), o = t.width(), r = t.height(), s = t.find(".switchGroup_bannerV2 .J_bannerItem"), i = t.find(".J_billboardItem"), a = m(window).width();
        o < a && (r = a),
        t.find(".J_specialEffects").length || (e = '<div class="J_specialEffects f-specialEffects" style="position: absolute;top: 0;width: 100%;height:100%;z-index:2;pointer-events: none;"></div>',
        t.append(e));
        var l = t.find(".J_specialEffects");
        switch (Fai.top._bannerV2Data.ble.at) {
        case 0:
            l.remove();
            break;
        case 1:
            if (l.find(":not(.snow-canvas)").remove(),
            !l.find(".snow-canvas").length) {
                var d = '<canvas class="snow-canvas" speed="1" interaction="false" size="2" count="80" opacity="0.00001" start-color="rgba(253,252,251,1)" end-color="rgba(251,252,253,0.3)" wind-power="0" image="false" width="' + o + '" height="' + r + '"></canvas><canvas class="snow-canvas" speed="3" interaction="true" size="6" count="30" start-color="rgba(253,252,251,1)" end-color="rgba(251,252,253,0.3)" opacity="0.00001" wind-power="2" image="false" width="' + o + '" height="' + r + '"></canvas><canvas class="snow-canvas" speed="3" interaction="true" size="12" count="20" wind-power="-5" image="' + Fai.top._resImageRoot + '/image/snow.png" width="' + o + '" height="' + r + '"></canvas>';
                l[0].innerHTML = d,
                t.find(".snow-canvas").faiSnow()
            }
            break;
        case 2:
            l.find(":not(.meteor-canvas)").remove(),
            l.find(".meteor-canvas").length || l.faiMeteor({
                width: o,
                height: r
            });
            break;
        case 3:
            l.find(":not(.fireworks-canvas)").remove(),
            l.find(".fireworks-canvas").length || l.faiFireworks({
                width: o,
                height: r
            });
            break;
        case 4:
            u();
            break;
        case 5:
        case 6:
            l.remove(),
            s = t.find(".switchGroup_bannerV2 .J_bannerItem");
            var c = 5 === Fai.top._bannerV2Data.ble.at ? 0 : 1;
            s.length && s.each(function() {
                var a = m(this).find(".J_rainyDaybackground")
                  , o = this
                  , n = function n() {
                    0 < m(o).find(".rainyday-canvas").length && m(o).find(".rainyday-canvas").remove(),
                    a.faiRainyDay({
                        rainyEffect: c
                    }),
                    a[0].onload = null;
                    var e = s.find(".rainyday-canvas");
                    1 == Fai.top._bannerV2Data.s ? e.css("z-index", -1) : 0 == Fai.top._bannerV2Data.s && e.css("z-index", 1);
                    var t = e.width()
                      , i = e.height();
                    0 != t && 0 != i || (t = e.attr("width"),
                    i = e.attr("height")),
                    e.css({
                        "margin-left": -t / 2,
                        "margin-top": -i / 2,
                        position: "absolute",
                        left: "50%",
                        top: "50%"
                    })
                };
                if (0 < a.length)
                    p(a, n);
                else {
                    var e = m(this).css("background-image")
                      , t = /^url\((['"]?)(.*)\1\)$/.exec(e);
                    a = m("<img class='J_rainyDaybackground' style='visibility:hidden;' alt='background' />"),
                    m(this).css("background-image", "none"),
                    t = t ? t[2] : "",
                    m(this).append(a),
                    a[0].onload = function() {
                        p(a, n)
                    }
                    ,
                    a[0].crossOrigin = "Anonymous",
                    a[0].src = t
                }
            })
        }
        function p(t, i) {
            switch (Fai.top._bannerV2Data.bla) {
            case 0:
                e({
                    width: o,
                    height: r
                });
                break;
            case 1:
                a(t[0], e);
                break;
            case 2:
                e({
                    width: "auto",
                    height: "100%"
                });
                break;
            case 3:
                e({
                    width: "100%",
                    height: "auto"
                })
            }
            function e(e) {
                t.css(e),
                i()
            }
            function a(e, t) {
                if (e.naturalWidth)
                    t({
                        width: e.naturalWidth,
                        height: e.naturalHeight
                    });
                else {
                    var i = new Image;
                    i.src = e.src,
                    i.onload = function() {
                        t({
                            width: e.width,
                            height: e.height
                        })
                    }
                }
            }
        }
        function u() {
            function e() {
                var e = document.createElement("canvas")
                  , t = e.getContext("webgl") || e.getContext("experimental-webgl");
                return t && t.getExtension("OES_texture_float") && t.getExtension("OES_texture_float_linear")
            }
            function o() {
                var e = Math.random() * s.outerWidth()
                  , t = Math.random() * s.outerHeight()
                  , i = 20
                  , a = .04 + .04 * Math.random();
                s.faiRipples("drop", e, t, i, a),
                n = setTimeout(function() {
                    o()
                }, 400)
            }
            try {
                e() && (s.css("width", i.width()),
                s.each(function(e, t) {
                    m(t).is(":visible") && m(t).faiRipples({
                        resolution: 512,
                        dropRadius: 20,
                        perturbance: .04
                    })
                }),
                clearTimeout(n),
                o())
            } catch (t) {}
        }
    }
    function i() {
        var e = null;
        m(window).off("resize.canvasEffects").on("resize.canvasEffects", function() {
            e = e || setTimeout(function() {
                a(),
                e = null
            }, 1e3 / 3)
        })
    }
    function a() {
        var e = Fai.top.$("#bannerV2 .J_specialEffects")
          , t = e.width();
        e.find("canvas").each(function() {
            var e = m(this);
            parseInt(e.attr("width")) !== t && e.attr("width", t)
        })
    }
    function r(e) {
        var t = e.backgroundType
          , i = e.backgroundColor;
        e.backgroundOpacity;
        1 == t ? (Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", i + " !important"),
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")) : 0 == t && (Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "none !important"),
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important"))
    }
    function s() {
        return !!(document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement)
    }
    function l(e) {
        var t = e
          , i = 1 == Fai.top._bannerV2Data.blw.t || 0 == Fai.top._bannerV2Data.blw.t && Fai.top._wideBanner;
        t._open && i && m(window).resize(function(e) {
            s() || e.target.nodeType && 9 != e.target.nodeType || setTimeout(function() {
                u(0)
            }, 500)
        })
    }
    function u(e) {
        var n = 0
          , t = 0
          , r = []
          , s = []
          , l = []
          , i = Fai.top.$("#bannerV2")
          , a = Fai.top._bannerV2Data.blw.t;
        if (1 == Fai.top._bannerV2Data.blh.t && "undefined" != typeof Fai.top._bannerV2Data.blh.h)
            t = Fai.top._bannerV2Data.blh.h;
        else {
            var o = Fai.top._bannerV2Data.bl[0];
            o ? (t = parseInt(o.h)) < 200 ? t = 200 : 1e3 < t && (t = 1e3) : t = 200
        }
        i.find(".fk-inBannerListZone .form").each(function() {
            var e = m(this).parent();
            if (e.hasClass("fk-inBannerListZone")) {
                var t = e.attr("_banid")
                  , i = e.attr("_sys");
                p.isSystemModule(m(this)) || (i = 0),
                m(this).attr("_banId", t),
                m(this).attr("_sys", i),
                Fai.top.$(".fk-inBannerListZone-tmp").append(m(this))
            }
        }),
        m.each(Fai.top._bannerV2Data.bl, function(e, t) {
            var i = parseInt(t.h)
              , a = parseInt(t.w);
            if (n < a && (n = a),
            0 != t.e) {
                var o = t.jUrl || "javascript:;";
                12 < o.length && "javascript" == o.substring(0, 10) ? r.push({
                    src: t.p,
                    href: "javascript:;",
                    onclick: o.substring(11) + "return false;",
                    ot: t.ot,
                    imgWidth: a,
                    imgHeight: i,
                    i: t.i
                }) : r.push({
                    src: t.p,
                    href: o,
                    ot: t.ot,
                    imgWidth: a,
                    imgHeight: i,
                    i: t.i,
                    onclick: t._onclick || t.onclick
                })
            } else
                r.push({
                    src: t.p,
                    imgWidth: a,
                    imgHeight: i,
                    i: t.i
                });
            s.push(a),
            l.push(i)
        }),
        2 === a && (n = Fai.top._bannerV2Data.blw.w),
        i.css("background", "none"),
        i.children(":not(.J_specialEffects)").remove(),
        i.css("height", t + "px"),
        i.bannerImageSwitch({
            data: r,
            index: e,
            width: n,
            height: t,
            from: "banner",
            playTime: Fai.top._bannerV2Data.i,
            animateTime: Fai.top._bannerV2Data.a,
            btnType: Fai.top._bannerV2Data.bt,
            wideScreen: !0
        }),
        d.adjustBannerWidth(),
        d.initBannerEffects(),
        1 == Fai.top._bannerV2Data.blpe && p.addStellarEvent()
    }
    d.init = function(e, t) {
        var i = e.bannerType
          , a = e.videoData;
        0 == i ? n(e) : 1 == i && p.initVideoBanner(a),
        Fai.top._manageMode && 0 < t.length && p.initBannerV2Manage(t)
    }
    ,
    d.initBannerEffects = function() {
        0 !== Fai.top._bannerV2Data.ble.t || Fai.top._bannerData.h || (e(),
        i())
    }
    ,
    d.refreshBannerEffects = function() {
        0 !== Fai.top._bannerV2Data.ble.t || Fai.top._bannerData.h || a()
    }
    ,
    d.refreshThreePicCarousel = function() {
        9 == Fai.top._bannerV2Data.bt && u(0)
    }
    ,
    d.refreshBanner = function(e) {
        var t, i, a, o = Fai.top.$("#webBanner"), n = Fai.top.$("#bannerV2"), r = Fai.top.$("#webContainer").width(), s = Fai.top._bannerV2Data.blw.t, l = Fai.top._bannerV2Data.blh.t, d = Fai.top._bannerV2Data.bte;
        if (1 != d) {
            if (n.length)
                if (Fai.top._bannerData.h)
                    n.css("display", "none");
                else {
                    if (n.css("display", "block"),
                    n.attr("_init", "1"),
                    p.bannerTypeChange(d),
                    1 == Fai.top._bannerV2Data.s && 0 == Fai.top._bannerV2Data.bl.length && (Fai.top._bannerV2Data.s = 0),
                    0 == Fai.top._bannerV2Data.s) {
                        0 === s ? (t = parseInt(n.attr("defaultwidth")),
                        o.css("width", Fai.top._wideBanner ? "" : r),
                        a = r) : 1 === s ? (o.css("width", "100%"),
                        a = r) : 2 === s && (t = Fai.top._bannerV2Data.blw.w,
                        o.css("width", t));
                        var c = [];
                        n.find("#fk-inBannerListZone .form").each(function() {
                            var e = m(this).parent();
                            if (e.hasClass("fk-inBannerListZone")) {
                                var t = e.attr("_sys");
                                p.isSystemModule(m(this)) || (t = 0),
                                m(this).attr("_sys", t),
                                Fai.top.$(".fk-inBannerListZone-tmp").append(m(this))
                            }
                        }),
                        c.push("<div id='fk-inBannerListZone' _sys='" + Fai.top._bannerV2Data.s + "' _banId='' style='width:" + a + "px;margin-left:-" + a / 2 + "px;' class='fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone'>"),
                        c.push("\t<div class='fk-inBannerListZoneBg'></div>"),
                        c.push("</div>"),
                        c.push("<div class='" + n.attr("class") + " defaultBannerMain J_bannerItem' style='" + (1 == l ? "height:" + i + "px" : "") + "'></div>"),
                        n.removeAttr("style"),
                        n.children().remove(),
                        n.append(c.join("")),
                        0 === Fai.top._bannerV2Data.bla ? n.find(".banner").css("background-size", "cover") : n.find(".banner").css("background-size", ""),
                        1 == l && (i = Fai.top._bannerV2Data.blh.h,
                        n.css("height", i),
                        n.find(".banner").css("height", i)),
                        Fai.top.$(".fk-inBannerListZone-tmp").find(".form").each(function() {
                            m(this).parent().hasClass("fk-inBannerListZone-tmp") && (p.isSystemModule(m(this)) || Fai.top.$("#fk-inBannerListZone").append(m(this)))
                        }),
                        Fai.top._manageMode && (p.sortable(),
                        window.jzUtils.run({
                            name: "_elemZone.sortModuleZone",
                            base: Fai.top
                        })),
                        this.initBannerEffects()
                    } else
                        1 == Fai.top._bannerV2Data.s && (0 === s ? o.css("width", Fai.top._wideBanner ? "100%" : r) : 1 === s ? o.css("width", "100%") : 2 === s && (t = Fai.top._bannerV2Data.blw.w,
                        o.css("width", t)),
                        u(e));
                    window.jzUtils.run({
                        name: "_elemZone.selectToolOneZone",
                        base: Fai.top
                    }, Fai.top.$(".fk-inBannerListZone"))
                }
        } else
            p.refreshVideoBanner()
    }
    ,
    d.adjustBannerWidth = function() {
        if (9 != Fai.top._bannerV2Data.bt) {
            var e = Fai.top.$("#bannerV2")
              , t = Fai.top.$("#webBanner").width()
              , i = e.find(".switchGroup")
              , a = Fai.top._manageMode ? Fai.getScrollWidth() : 0
              , o = Fai.top.$(window).width() > Fai.top.$("#web").width() ? Fai.top.$(window).width() : Fai.top.$("#web").width()
              , n = 0 == Fai.top._bannerV2Data.bla
              , r = 0 == Fai.top._bannerV2Data.at;
            n && (1 == Fai.top._bannerV2Data.blw.t || 0 == Fai.top._bannerV2Data.blw.t && Fai.top._wideBanner) && (t = o < t ? o - a : t,
            i.find(".J_bannerItem").each(function(e) {
                t >= m(this).width() && (m(this).css("width", t),
                m(this).parent().css("width", t),
                r && 0 === Fai.top._bannerV2Data.bt && m(this).parent().css("left", -t * e + "px"))
            }))
        }
    }
    ,
    d.setBannerBg = function() {
        var e = Fai.top._bannerV2Data.bzb.c ? Fai.top._bannerV2Data.bzb.c : "#000000";
        Fai.top._bannerV2Data.bzb.c = e,
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", e),
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")
    }
    ,
    d.hideBannerBg = function() {
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "none !important"),
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")
    }
    ,
    d.startBannerInterval = function() {
        var e = 0;
        if (Fai.intervalFunc != o && (e = Fai.intervalFunc.length),
        0 < e)
            for (var t = 0; t < e; t++) {
                var i = Fai.intervalFunc[t].id
                  , a = i.length;
                void 0 !== i && "imageSwitch" == i.substring(0, 11) && "banner" == i.substring(a - 6, a) && Fai.startInterval(i)
            }
        Fai.top._bannerV2Data.bl && 1 < Fai.top._bannerV2Data.bl.length && p.checkBrowser() && 0 < Fai.top._bannerV2Data.at && p.bannerAnimate.autoPlay()
    }
    ,
    d.stopBannerInterval = function() {
        var e = 0;
        if (Fai.intervalFunc != o && (e = Fai.intervalFunc.length),
        0 < e)
            for (var t = 0; t < e; t++) {
                var i = Fai.intervalFunc[t].id
                  , a = i.length;
                void 0 !== i && "imageSwitch" == i.substring(0, 11) && "banner" == i.substring(a - 6, a) && Fai.stopInterval(i)
            }
        Fai.top._bannerV2Data.bl && 1 < Fai.top._bannerV2Data.bl.length && p.checkBrowser() && 0 < Fai.top._bannerV2Data.at && p.bannerAnimate.stop()
    }
    ,
    d.stopBannerPropagation = function() {
        Fai.top.$("#bannerV2").find(".fk-inBannerListZone").off("click.stopFormP").on("click.stopFormP", ".form", function(e) {
            var t = m(e.target).parentsUntil("#bannerV2", ".J_bannerItem")
              , i = t.attr("href")
              , a = t.attr("target");
            t.attr("href", "javascript:void(0);").attr("target", ""),
            Fai.top._manageMode || Fai.top._siteDemo || e.stopPropagation(),
            setTimeout(function() {
                t.attr("href", i).attr("target", a)
            }, 0)
        })
    }
}(window.jQuery, Site, Site.bannerV2 || (Site.bannerV2 = {})),
Site.initPanorama = function initPanorama(e) {
    if ("undefined" != typeof PhotoSphereViewer) {
        var t = e.moduleId
          , i = $("#module" + t).find(".J_panoramaViewer");
        i.length < 1 || new PhotoSphereViewer({
            container: i[0],
            panorama: e.imageUrl,
            smooth_user_moves: !0,
            navbar: !0,
            zoom_speed: 1,
            anim_speed: "-1rpm",
            loading_html: '<div class="m_panorama__loading"></div>',
            size: {
                width: e.imageWidth + "px",
                height: e.imageHeight + "px"
            },
            time_anim: !!e.autoRoaming && undefined,
            navbar_class: {
                navbarClass: "m_panorama__navbar",
                autorotateClass: "m_panorama__autorotate",
                zoomClass: "m_panorama__zoom",
                zoomMinusClass: "m_panorama__zoom_minus",
                zoomRangeBgClass: "m_panorama__zoom_range_bg",
                zoomRangeClass: "m_panorama__zoom_range",
                zoomValueClass: "m_panorama__zoom_value",
                zoomCompleteClass: "m_panorama__zoom_complete",
                zoomPlusClass: "m_panorama__zoom_plus",
                fullscreenClass: "m_panorama__fullscreen",
                activeAutorotateClass: "m_panorama__autorotate--active"
            },
            navbar_style: {
                zoomRangeDisk: 6,
                zoomRangeWidth: 70,
                zoomRangeThickness: 1.5
            }
        })
    }
}
,
Site.initHeaderFixed = function func(l) {
    if (!func.init) {
        if (func.init = !0,
        Fai.top._manageMode) {
            l = Site.getHeaderFixedStyleData();
            r = $(window)
        } else
            var r = $(window);
        var s = $(".nav")
          , i = $("#logo")
          , d = $("#localer")
          , c = $("#corpTitle")
          , p = $("#webHeaderTable .J_webHeaderTd");
        $("#webHeaderTable");
        r.scroll(e),
        $(window).resize(e),
        e(),
        Site.fixFixedHeader = e
    }
    function e(e) {
        if (!Fai.top._manageMode || m().hf) {
            var t = $("#topAdvArea:visible").height() || 0
              , i = r.scrollTop() - t;
            i < 0 && (i = 0),
            0 < i ? a(e) : o()
        } else
            o()
    }
    function a(a) {
        var o = -r.scrollLeft()
          , n = a instanceof $.Event;
        function e(e) {
            if (e.length)
                if (e.hasClass("fixed_project"))
                    e.css({
                        left: parseFloat(e.data("left")) + parseFloat($("#webTop").css("margin-left")) + $("#webTop").position().left + o,
                        top: a + parseFloat(e.data("top"))
                    }),
                    n || (e.css({
                        transition: "top .3s"
                    }),
                    setTimeout(function() {
                        e.css({
                            transition: ""
                        })
                    }, 300));
                else {
                    if ("fixed" === e.css("position"))
                        return;
                    var t;
                    (t = Site.isElemInHeader(e)) && (e.data("left", e.position().left),
                    e.data("originTop", e.get(0).style.top),
                    e.data("originLeft", e.get(0).style.left),
                    e.data("originRight", e.get(0).style.right),
                    e.data("position", e.get(0).style.position),
                    e.data("top", e.css("top")),
                    e.css({
                        position: "fixed",
                        right: "auto",
                        left: parseFloat(e.data("left")) + parseFloat($("#webTop").css("margin-left")) + $("#webTop").position().left + o,
                        top: a + t
                    }).addClass("fixed_project"))
                }
        }
        function t() {
            if (s.length)
                if (s.parent(".headerNav").length)
                    s.addClass("fixed_project");
                else if (s.hasClass("fixed_project")) {
                    s.css({
                        width: s.data("width"),
                        left: o + s.data("positionLeft"),
                        top: a + parseFloat(s.data("originProjectTop"))
                    }),
                    n || (s.css({
                        transition: "top .3s"
                    }),
                    setTimeout(function() {
                        s.css({
                            transition: ""
                        })
                    }, 300)),
                    (i = s.data("isFullNav")) && s.css("width", $("#web").width())
                } else {
                    if ("fixed" === s.css("position"))
                        return;
                    var e;
                    if (e = Site.isElemInHeader(s)) {
                        var t = $("#web").width()
                          , i = t === (parseFloat(s.css("width")) || 0);
                        s.data("originTop", s.get(0).style.top),
                        s.data("originLeft", s.get(0).style.left),
                        s.data("originWidth", s.get(0).style.width),
                        s.data("originProjectTop", e),
                        s.data("width", s.css("width")),
                        s.data("isFullNav", i),
                        s.data("positionLeft", Site.getNavInClientPosition(s).left - o),
                        s.css({
                            width: s.data("width"),
                            position: "fixed",
                            left: o + s.data("positionLeft"),
                            top: a + e
                        }).addClass("fixed_project"),
                        i && s.css("width", t),
                        $("#webNav").addClass("fixed_nav")
                    }
                }
        }
        a = void 0 === a || n ? Math.round(Fai.top.$(".floatLeftTop")[0].getBoundingClientRect().top) : a,
        p.css({
            position: "fixed",
            width: $("#web").width(),
            top: a,
            left: o
        }).addClass("webHeaderFixed"),
        u(),
        t(),
        e(i),
        e(d),
        e(c)
    }
    function o() {
        function e(e) {
            e.length && e.hasClass("fixed_project") && e.css({
                position: e.data("position"),
                right: e.data("originRight"),
                left: e.data("originLeft"),
                top: e.data("originTop")
            }).removeClass("fixed_project")
        }
        function t() {
            s.length && (s.parent(".headerNav").length ? s.removeClass("fixed_project") : s.hasClass("fixed_project") && (s.css({
                position: "",
                width: s.data("originWidth"),
                left: s.data("originLeft"),
                top: s.data("originTop")
            }).removeClass("fixed_project"),
            $("#webNav").removeClass("fixed_nav")))
        }
        p.css({
            position: "",
            width: "",
            left: "",
            top: ""
        }).removeClass("webHeaderFixed"),
        n(),
        t(),
        e(i),
        e(d),
        e(c)
    }
    function u() {
        if (0 != l.y)
            if (1 != l.y) {
                var e = l.r
                  , t = ""
                  , i = l.p;
                if (i && -1 != e) {
                    var a = "";
                    0 != e && 6 != e && 7 != e && 8 != e && 9 != e && 13 != e && 14 != e && 15 != e && 16 != e || (a = "no-repeat"),
                    1 != e && 11 != e && 12 != e || (a = "repeat-x"),
                    2 != e && 21 != e && 22 != e || (a = "repeat-y"),
                    3 == e && (a = "repeat"),
                    4 != e && 5 != e || (a = "repeat");
                    var o = "center";
                    9 != e && 12 != e || (o = "bottom"),
                    6 != e && 21 != e || (o = "left"),
                    7 != e && 22 != e || (o = "right"),
                    4 != e && 5 != e && 8 != e && 11 != e || (o = "top"),
                    13 == e && (o = "left top"),
                    14 == e && (o = "right top"),
                    15 == e && (o = "left bottom"),
                    16 == e && (o = "right bottom"),
                    t += " url(" + i + ") " + a + " " + o + ","
                }
                t += l.c;
                var n = ""
                  , r = !1;
                4 == l.r ? (n = "100% 100%",
                r = !0) : 5 == l.r ? (n = "100%",
                r = !0) : 30 == l.r ? (n = "100%",
                r = !0) : 40 == l.r && (n = "100%",
                r = !0);
                var s = {
                    background: t
                };
                r && (s["background-size"] = n),
                p.css(s)
            } else
                p.css("background", "none")
    }
    function n() {
        p.css({
            background: "",
            "background-size": ""
        })
    }
    function m() {
        return (Fai.top._Global && Fai.top._Global._useTemplateBackground ? Fai.top._headerTopStyle : Fai.top._customHeaderTopStyle) || {}
    }
}
,
Site.isElemInHeader = function(e) {
    if (e.length && (!Fai.top._manageMode || a().hf)) {
        var t = $("#webHeaderTable")
          , i = e.offset().top - t.offset().top;
        return 0 <= i && i < t.height() && (0 === i ? 1e-6 : i)
    }
    function a() {
        return (Fai.top._Global && Fai.top._Global._useTemplateBackground ? Fai.top._headerTopStyle : Fai.top._customHeaderTopStyle) || {}
    }
}
,
Site.isFixedProject = function(e) {
    return e.hasClass("fixed_project")
}
,
Site.fixFixedHeader = function() {}
;
var COMMON_DATA = {
    selectedIndex: -1,
    hasIndex: -1,
    enterIndex: -1
};
function initElevator() {
    var e = Fai.top._elevatorNav
      , m = e.s
      , h = e.sc
      , f = e.sm
      , t = e.eil
      , i = (e.eifc,
    e.eif)
      , a = e.eis
      , o = (e.eisp,
    e.eir,
    e.eib,
    e.eiis,
    e.ebg,
    e.er,
    e.eb,
    e.ep)
      , g = $('<div id="elevator" class="elevator_nav_wrap elevator_style_'.concat(m, '" ><div>'));
    if (t.forEach(function(e, t, i) {
        var a = null;
        if (e.link.jumpUrl == undefined)
            a = $('<a class="elevator_nav_item" data-index=\''.concat(t, "' target='").concat(e.link.target, "' data-id='").concat(e.link.id, "'></a>"));
        else {
            var o = "";
            e.link.reqArgs && (o = Fai.top.JZ.createUrlArgsOnclickStr(e.link.reqArgs)),
            a = $('<a class="elevator_nav_item" href=\''.concat(e.link.jumpUrl, "' data-index='").concat(t, "' target='").concat(e.link.target, "' data-id='").concat(e.link.id, "' ").concat(o, "></a>"))
        }
        var n = ""
          , r = ""
          , s = "";
        if (0 != m) {
            var l = ""
              , d = "";
            d = 0 == e.img.length ? (l = '<div class="image" style="display:none;" ></div>',
            '<svg class="svg"><use xlink:href="#icon_elevator"></use></svg>') : (l = '<div class="image"  style="background-image:url('.concat(e.img, ')" ></div>'),
            '<svg class="svg" style="display:none;"><use xlink:href="#icon_elevator" ></use></svg>'),
            n = '<div class="nav_img">\n\t \t \t\t\t\t\t\t\t'.concat(l, "\n\t \t \t\t\t\t\t\t\t").concat(d, "\n\t \t \t\t\t\t\t</div>")
        }
        3 != m && (r = '<div class="nav_title" >\n\t \t\t\t\t\t\t\t\t<div class="title">'.concat(e.name, "</div>\n\t \t\t\t\t\t\t</div>")),
        1 == m ? ((s = $('<div class="nav_img_style1"></div>')).append($(n + r)),
        0 == f ? a.addClass("elevator_img_left") : a.addClass("elevator_img_center")) : s = n + r;
        var c = a.append(s);
        2 == m && (0 == f ? c.find(".nav_img").hide() : c.find(".nav_title").hide()),
        initHover(a, h, f, m, e);
        var p = $('<div class="border_wrap"></div>');
        if (p.append(c),
        g.append(p),
        t < i.length - 1) {
            var u = $('<div class="line"></div>');
            g.append(u)
        }
    }),
    $("body").append(g),
    0 == m && 0 == a.y && 0 == i.y && initOneWidth(),
    2 == m && initThreeSize(a),
    document.documentElement.clientWidth < o.r) {
        var n = document.documentElement.clientWidth - g.outerWidth(!0) - 30;
        g.css("right", n)
    }
    setTimeout(function() {
        o.t > window.innerHeight - $("#elevator").height() && $("#elevator").css("top", "30%"),
        $(document).scrollTop(0)
    })
}
function initScrollEvent() {
    var o = _useBannerVersionTwo ? $("#bannerV2")[0] : $("#banner")[0]
      , e = $(".elevator_nav_wrap")
      , n = e[0].getBoundingClientRect().top
      , r = []
      , s = $(".elevator_nav_item")
      , l = !1;
    s.each(function(e, t) {
        "undefined" != $(t).attr("data-id") && (l || t.href.includes("top2") || (l = !0),
        r.push({
            module: $("#module".concat($(t).attr("data-id")))[0],
            index: e
        }))
    });
    var d = !1;
    o && (d = !0,
    e.hide()),
    COMMON_DATA.selectedIndex = -1,
    COMMON_DATA.hasIndex = -1,
    setTimeout(function() {
        $(window).on("scroll", function(e) {
            if (d ? o.getBoundingClientRect().bottom < n ? "none" == $(".elevator_nav_wrap").css("display") && $(".elevator_nav_wrap").fadeIn(100) : "none" != $(".elevator_nav_wrap").css("display") && $(".elevator_nav_wrap").fadeOut(100) : $(".elevator_nav_wrap").show(),
            0 != r.length)
                for (var t = Site.getMaxTop(l), i = r.length - 1; 0 <= i; i--)
                    if (r[i].module != undefined) {
                        if (r[i].module.getBoundingClientRect().top <= t && r[i].module.getBoundingClientRect().bottom > t) {
                            if (COMMON_DATA.selectedIndex = r[i].index,
                            i != COMMON_DATA.hasIndex) {
                                s.each(function(e, t) {
                                    $(t).attr("data-id") != COMMON_DATA.enterIndex && ($(t).trigger("mouseleave.b"),
                                    $(t).removeClass("elevator_nav_item_active"),
                                    $(t).removeClass("elevator_nav_active"),
                                    $(t).parent().removeClass("border_wrap_active"),
                                    $(t).css("pointer-events", "all"))
                                });
                                var a = r[i].index;
                                $(s[a]).trigger("mouseenter.a"),
                                $(s[a]).parent().addClass("border_wrap_active"),
                                $(s[a]).addClass("elevator_nav_item_active"),
                                $(s[a]).addClass("elevator_nav_active"),
                                COMMON_DATA.hasIndex = i
                            }
                            break
                        }
                        0 == i && (COMMON_DATA.hasIndex = -1,
                        COMMON_DATA.selectedIndex = -1,
                        s.each(function(e, t) {
                            $(t).attr("data-id") != COMMON_DATA.enterIndex && ($(t).trigger("mouseleave.b"),
                            $(t).removeClass("elevator_nav_item_active"),
                            $(t).removeClass("elevator_nav_active"),
                            $(t).parent().removeClass("border_wrap_active"),
                            $(t).css("pointer-events", "all"))
                        }))
                    }
        })
    })
}
function initThreeSize(e) {
    var n = 0
      , r = 0;
    $(".nav_title").each(function(e, t) {
        var i = "none" == $(t).css("display");
        i && $(t).css("display", "inline-block");
        var a = $(t).width();
        n < a && (n = a);
        var o = $(t).height();
        r < o && (r = o),
        i && $(t).hide()
    }),
    $(".nav_img").each(function(e, t) {
        var i = "none" == $(t).css("display");
        i && $(t).css("display", "inline-block");
        var a = $(t).width();
        n < a && (n = a);
        var o = $(t).height();
        r < o && (r = o),
        i && $(t).hide()
    }),
    0 == e.y ? ($(".elevator_nav_item").width(n + 1 + "px"),
    $(".elevator_nav_item").height(r + "px")) : (n >= e.w ? $(".elevator_nav_item").width(n + 1 + "px") : $(".elevator_nav_item").width(e.w + 1 + "px"),
    r >= e.h ? $(".elevator_nav_item").height(r + "px") : $(".elevator_nav_item").height(e.h + "px"))
}
function initOneWidth() {
    var e = 2 * parseInt($(".elevator_nav_wrap .title").css("font-size"));
    $(".elevator_nav_item").width(e + "px")
}
function initHover(e, i, a, o, n) {
    0 != o && (e.on("mouseenter.a", function(e) {
        2 == o && styleThreeHover(e, !0, a),
        toggle(e, !0, n, o, i)
    }),
    e.on("mouseenter.enterIndex", function(e) {
        COMMON_DATA.enterIndex = $(e.target).attr("data-id")
    }),
    e.on("mouseleave.enterIndex", function(e) {
        COMMON_DATA.enterIndex = -1
    }),
    e.on("mouseleave.b", function(e) {
        if (-1 != COMMON_DATA.selectedIndex) {
            var t = $($(".elevator_nav_item")[COMMON_DATA.selectedIndex]).attr("data-id");
            if ($(e.target).attr("data-id") == t)
                return
        }
        2 == o && styleThreeHover(e, !1, a),
        toggle(e, !1, n, o, i)
    }))
}
function styleThreeHover(e, t, i) {
    t ? 0 == i ? ($(e.target).find(".nav_img").css("display", "inline-block"),
    $(e.target).find(".nav_title").hide()) : ($(e.target).find(".nav_title").show(),
    $(e.target).find(".nav_img").hide()) : 0 == i ? ($(e.target).find(".nav_img").hide(),
    $(e.target).find(".nav_title").show()) : ($(e.target).find(".nav_title").hide(),
    $(e.target).find(".nav_img").css("display", "inline-block"))
}
function toggle(e, t, i, a, o) {
    $(e.target).find(".svg use");
    if (t) {
        if (2 == a) {
            if (i.img.trim().length) {
                if (2 == a)
                    return;
                $(e.target).find(".image").css("background-image", "url(".concat(i.hoverImg, ")"))
            } else {
                if (2 == a)
                    return;
                $(e.target).find(".image").show().css("background-image", "url(".concat(i.hoverImg, ")")),
                $(e.target).find(".svg").hide()
            }
            return
        }
        if (i.hoverImg.trim().length)
            if (i.img.trim().length) {
                if (2 == a)
                    return;
                $(e.target).find(".image").css("background-image", "url(".concat(i.hoverImg, ")"))
            } else {
                if (2 == a)
                    return;
                $(e.target).find(".image").show().css("background-image", "url(".concat(i.hoverImg, ")")),
                $(e.target).find(".svg").hide()
            }
        else if (i.img.trim().length)
            $(e.target).find(".image").hide(),
            $(e.target).find(".svg").show();
        else if (2 == a)
            return
    } else {
        if (2 == a)
            return void (i.img.trim().length ? $(e.target).find(".image").css("background-image", "url(".concat(i.img, ")")) : ($(e.target).find(".image").hide(),
            $(e.target).find(".svg").show()));
        if (i.hoverImg.trim().length)
            i.img.trim().length ? $(e.target).find(".image").css("background-image", "url(".concat(i.img, ")")) : ($(e.target).find(".image").hide(),
            $(e.target).find(".svg").show());
        else if (i.img.trim().length)
            $(e.target).find(".svg").hide(),
            $(e.target).find(".image").show().css("background-image", "url(".concat(i.img, ")"));
        else if (2 == a)
            return
    }
}
function getBackToTopStyleCss(e, t) {
    var i = e.split("_")
      , a = i[0]
      , o = i[1]
      , n = []
      , r = "";
    if (t && (r = "_hover"),
    "small_box" != e) {
        switch (a) {
        case "firstStyle":
            n.push({
                cls: ".fk_siteBackToTop",
                key: "position",
                value: "fixed"
            }),
            n.push({
                cls: ".fk_siteBackToTop",
                key: "width",
                value: "42px"
            }),
            n.push({
                cls: ".fk_siteBackToTop",
                key: "height",
                value: "42px"
            }),
            n.push({
                cls: ".fk_siteBackToTop",
                key: "margin",
                value: "5px"
            }),
            t ? n.push({
                cls: ".fk_siteBackToTop:hover",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/firstStyle/" + o + r + ".png?v=201505251717)"
            }) : n.push({
                cls: ".fk_siteBackToTop",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/firstStyle/" + o + r + ".png?v=201505251717)"
            });
            break;
        case "secondStyle":
            n.push({
                cls: ".fk_siteBackToTop",
                key: "position",
                value: "fixed"
            }),
            n.push({
                cls: ".fk_siteBackToTop",
                key: "width",
                value: "50px"
            }),
            n.push({
                cls: ".fk_siteBackToTop",
                key: "height",
                value: "50px"
            }),
            n.push({
                cls: ".fk_siteBackToTop",
                key: "margin",
                value: "1px"
            }),
            "01" == o || "05" == o ? t ? n.push({
                cls: ".fk_siteBackToTop:hover",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/secondStyle/" + o + r + ".png?v=201505261406)"
            }) : n.push({
                cls: ".fk_siteBackToTop",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/secondStyle/" + o + ".png?v=201505251717)"
            }) : t ? n.push({
                cls: ".fk_siteBackToTop:hover",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/secondStyle/" + o + r + ".png?201505251717)"
            }) : n.push({
                cls: ".fk_siteBackToTop",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/secondStyle/" + o + ".png?v=201505251717)"
            });
            break;
        case "special":
            n.push({
                cls: ".fk_siteBackToTop",
                key: "position",
                value: "fixed"
            }),
            t ? n.push({
                cls: ".fk_siteBackToTop:hover",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/" + o + r + ".png?v=201505251717)"
            }) : n.push({
                cls: ".fk_siteBackToTop",
                key: "background-image",
                value: "url(" + Fai.top._resRoot + "/image/backToTop/" + o + ".png?v=201505251717)"
            })
        }
        if ("special" == a)
            switch (o) {
            case "01":
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "width",
                    value: "32px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "height",
                    value: "32px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "margin",
                    value: "10px 10px"
                });
                break;
            case "02":
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "width",
                    value: "26px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "height",
                    value: "48px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "margin",
                    value: "2px 13px"
                });
                break;
            case "03":
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "width",
                    value: "42px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "height",
                    value: "42px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "margin",
                    value: "5px"
                });
                break;
            case "04":
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "width",
                    value: "45px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "height",
                    value: "50px"
                }),
                n.push({
                    cls: ".fk_siteBackToTop",
                    key: "margin",
                    value: "1px 3px"
                })
            }
    } else
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop",
            key: "display",
            value: "none"
        }, {
            cls: ".fk_siteBackToTop",
            key: "width",
            value: "41px"
        }, {
            cls: ".fk_siteBackToTop",
            key: "height",
            value: "38px"
        }, {
            cls: ".fk_siteBackToTop",
            key: "background",
            value: "url(" + Fai.top._resRoot + "/image/site/backtotop.png?v=201411241810) no-repeat"
        }]),
        t && Fai.top.Fai.removeCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop:hover",
            key: "background"
        }]);
    n.length && Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", n)
}
Site.initElevatorNav = function() {
    if (_Global.useElevatorNav || Fai.top._manageMode) {
        if (0 != _elevatorNav.ebg.p.length ? (_elevatorNav.ebg.bg.backgroundImage = "url(".concat(_elevatorNav.ebg.p, ")"),
        0 != _elevatorNav.ebg.linear.length && (_elevatorNav.ebg.bg.backgroundImage = "".concat(_elevatorNav.ebg.bg.backgroundImage, ",").concat(_elevatorNav.ebg.linear))) : (_elevatorNav.ebg.bg.backgroundImage = "",
        0 != _elevatorNav.ebg.linear.length && (_elevatorNav.ebg.bg.backgroundImage = "".concat(_elevatorNav.ebg.linear))),
        !Fai.top._manageMode)
            return initElevator(),
            void initScrollEvent();
        Site.initVueElevator()
    }
}
,
Site.getMaxTop = function(e) {
    var t = $(".fk-toolTopBar").outerHeight();
    t = $("#sitetips").length ? t += $("#sitetips").height() : t,
    t = _Global._memberTopBar ? t += $("#memberBarArea").height() : t;
    var i = Fai.top._useNavVersionTwo ? Fai.top.$("#navV2") : Fai.top.$("#nav")
      , a = $("#webHeaderContent")
      , o = i.outerHeight(!0)
      , n = a.outerHeight(!0);
    if (e)
        if (Fai.top._navPositionFixTop && Fai.top._headerTopStyle.hf) {
            var r = a[0].getBoundingClientRect()
              , s = i[0].getBoundingClientRect();
            if (r.bottom > s.top && r.bottom >= s.bottom)
                t += n;
            else if (r.bottom > s.top && r.bottom < s.bottom) {
                var l = n + o;
                t += l -= r.bottom - s.top
            } else
                t += o
        } else
            Fai.top._navPositionFixTop ? t += o : Fai.top._headerTopStyle.hf && (t += n);
    else
        Fai.top._headerTopStyle.hf && (t += n);
    return t
}
,
Site.initForms = function() {
    function e() {
        if ($(this).length) {
            var e, t = $(this), i = t[0], a = i.getAttribute("_moduleid") || 0;
            Fai.top._perfGray ? 0 < a && (0 == (e = i.getAttribute("_autoheight")) ? Site.moduleHeight.calculateModule(a, t.height()) : 1 == e && Site.resetXPackModuleAutoHeight(t, !0)) : 0 < a && (0 == (e = i.getAttribute("_autoheight")) ? Site.setModuleHeight2(a, t.height()) : 1 == e && Site.resetXPackModuleAutoHeight(t, !0))
        }
    }
    $(".form:not(.formStyle87, .formStyle110, .formStyle29, .formStyle35, .formStyle80, .formStyle109)").each(e),
    $(".formStyle87").each(e),
    $(".formStyle29, .formStyle110").each(e),
    $(".formStyle35").each(e),
    $(".formStyle80, .formStyle109").each(e),
    Fai.top._perfGray && Site.moduleHeight.preDealPool.forEach(function(e, t, i) {
        Site.moduleHeight.setModuleHeight(e)
    })
}
,
Site.moduleHeight = {
    preDealPool: [],
    calculateModule: function calculateModule(e, t) {
        if (!this.fastReturnModule(e)) {
            var i = Fai.top.$("#module" + e)
              , a = parseInt(i[0].getAttribute("_modulestyle"))
              , o = 0
              , n = 0;
            if (!Fai.top._isTemplateVersion2) {
                var r = i.find(".formTop" + e)
                  , s = i.find(".formBottom" + e);
                o = r.is(":visible") ? r.outerHeight(!0) : 0,
                n = s.is(":visible") ? s.outerHeight(!0) : 0
            }
            var l = i.find(".formBanner" + e)
              , d = i.find(".formMiddle" + e)
              , c = l.is(":visible") ? l.outerHeight(!0) : 0
              , p = d.find(".formMiddleCenter" + e)
              , u = d.find(".formMiddleContent" + e)
              , m = t - o - c - n - ($(d).outerHeight(!0) - $(d).height())
              , h = m
              , f = (m -= $(p).outerHeight(!0) - $(p).height()) - ($(u).outerHeight(!0) - $(u).height());
            this.preDealPool.push({
                id: e,
                module: i,
                height: t,
                normalMidHeight: h,
                specialMidHeight: f,
                moduleStyle: a,
                moduleMiddle: d,
                moduleMiddleContent: u
            })
        }
    },
    fastReturnModule: function fastReturnModule(e) {
        var t = Fai.top.$("#module" + e);
        if (!t.length)
            return !0;
        var i = parseInt(t[0].getAttribute("_modulestyle"));
        return 80 == i || 109 == i || (87 == i ? (Site.refreshScrollbar(e),
        !0) : !!t.find(".lightModuleOuterContent".concat(e)).length)
    },
    setModuleHeight: function setModuleHeight(e) {
        var t = e.id
          , i = e.module
          , a = e.height
          , o = e.normalMidHeight
          , n = e.specialMidHeight
          , r = e.moduleMiddle
          , s = e.moduleMiddleContent
          , l = e.moduleStyle;
        i.css("height", a + "px"),
        r.css("height", o + "px"),
        this.fixSpecificModuleHeight(t, i, l, n, s)
    },
    fixSpecificModuleHeight: function fixSpecificModuleHeight(p, u, m, h, e) {
        function t() {
            var e = u.hasClass("fk-formTabPicture");
            if (110 == m && e) {
                var t = u[0].getBoundingClientRect().height
                  , i = u.find(".J_site_tabs_nav")
                  , a = -1 !== ["left", "right"].indexOf(u.find(".J_site_tabs_nav").css("float")) ? 0 : i[0].getBoundingClientRect().height;
                u.find(".J_site_tabs_pane, .J_tabPackContent, .J_tab_pane_item").height(t - a)
            } else {
                var o = u.find(".titleTable");
                if (!(o.length < 1)) {
                    var n = u.find(".formTabButtonList")
                      , r = u.find("#formTabContent" + p)
                      , s = 0 < u.find(".formTabDirectionY").length ? n.outerHeight(!0) : o.outerHeight(!0)
                      , l = h - s - Fai.getCssInt(r, "border-top-width") - Fai.getCssInt(r, "border-bottom-width");
                    if (r.css("height", l + "px"),
                    r.find(".formTabCntId").css("height", l + "px"),
                    110 == m) {
                        var d = u.find(".J_tabPackContent")
                          , c = l - (d.outerHeight(!0) - d.height());
                        d.height(c)
                    }
                }
            }
        }
        81 != m && 82 != m && 85 != m && 98 != m && 0 < h && (e.css({
            height: h + "px",
            "overflow-y": "hidden"
        }),
        Site.refreshScrollbar(p)),
        29 == m && (jzModule.TabModule.isCustomHeight(p) ? jzModule.TabModule.setCustomHeight(p) : (jzModule.TabModule.setTabPackContentHeight(u),
        t())),
        110 == m && (jzModule.TabPackModule.isCustomHeight(p) ? jzModule.TabPackModule.setCustomHeight(p) : (jzModule.TabPackModule.setTabPackContentHeight(u),
        t()))
    }
},
Site.setModuleHeight2 = function(p, e) {
    var u = Fai.top.$("#module" + p);
    if (u.length) {
        var m = parseInt(u[0].getAttribute("_modulestyle"));
        if (80 != m && 109 != m)
            if (87 != m) {
                if (!u.find(".lightModuleOuterContent".concat(p)).length) {
                    var t = 0
                      , i = 0;
                    if (!Fai.top._isTemplateVersion2) {
                        var a = u.find(".formTop" + p)
                          , o = u.find(".formBottom" + p);
                        t = a.is(":visible") ? a.outerHeight(!0) : 0,
                        i = o.is(":visible") ? o.outerHeight(!0) : 0
                    }
                    var n = u.find(".formBanner" + p)
                      , r = u.find(".formMiddle" + p)
                      , s = n.is(":visible") ? n.outerHeight(!0) : 0
                      , l = r.find(".formMiddleCenter" + p)
                      , d = r.find(".formMiddleContent" + p);
                    u.css("height", e + "px");
                    var h = e - t - s - i - ($(r).outerHeight(!0) - $(r).height());
                    r.css("height", h + "px"),
                    h -= $(l).outerHeight(!0) - $(l).height(),
                    h -= $(d).outerHeight(!0) - $(d).height(),
                    81 != m && 82 != m && 85 != m && 98 != m && 0 < h && (d.css({
                        height: h + "px",
                        "overflow-y": "hidden"
                    }),
                    Site.refreshScrollbar(p)),
                    29 == m && (jzModule.TabModule.isCustomHeight(p) ? jzModule.TabModule.setCustomHeight(p) : (jzModule.TabModule.setTabPackContentHeight(u),
                    c())),
                    110 == m && (jzModule.TabPackModule.isCustomHeight(p) ? jzModule.TabPackModule.setCustomHeight(p) : (jzModule.TabPackModule.setTabPackContentHeight(u),
                    c()))
                }
            } else
                Site.refreshScrollbar(p)
    }
    function c() {
        var e = u.hasClass("fk-formTabPicture");
        if (110 == m && e) {
            var t = u[0].getBoundingClientRect().height
              , i = u.find(".J_site_tabs_nav")
              , a = -1 !== ["left", "right"].indexOf(u.find(".J_site_tabs_nav").css("float")) ? 0 : i[0].getBoundingClientRect().height;
            u.find(".J_site_tabs_pane, .J_tabPackContent, .J_tab_pane_item").height(t - a)
        } else {
            var o = u.find(".titleTable");
            if (!(o.length < 1)) {
                var n = u.find(".formTabButtonList")
                  , r = u.find("#formTabContent" + p)
                  , s = 0 < u.find(".formTabDirectionY").length ? n.outerHeight(!0) : o.outerHeight(!0)
                  , l = h - s - Fai.getCssInt(r, "border-top-width") - Fai.getCssInt(r, "border-bottom-width");
                if (r.css("height", l + "px"),
                r.find(".formTabCntId").css("height", l + "px"),
                110 == m) {
                    var d = u.find(".J_tabPackContent")
                      , c = l - (d.outerHeight(!0) - d.height());
                    d.height(c)
                }
            }
        }
    }
}
,
Site.refreshForms = function() {
    Site.refreshFormIndexClass(),
    Fai.top._manageMode && Site.displayAddModule(),
    Fai.top.Fai.delayLoadImg(20),
    Site.addQrCode()
}
,
Site.isVueStyleGrayTest = function(e) {
    if (!Fai.top._manageMode)
        return !1;
    var t = Site.getModuleAttrModuleData(e);
    return Fai.top.jzCss.utils.isVueStyleGrayTest(t)
}
,
Site.addModuleStyle = function(e) {
    Fai.top.Fai.addCtrlStyle("stylemodule", e)
}
,
Site.checkModuleInZone = function(e) {
    return e.parent().hasClass("J_moduleZone")
}
,
Site.checkModuleInSubNav = function(e) {
    return e.parent().hasClass("J_subNavPack")
}
,
Site.checkModuleInElemZone = function(e) {
    return e.parent().hasClass("elemZone")
}
,
Site.autoFmModuleHeight = function(e) {
    var t = 0;
    e.find(".J_fullmeasurePageShow").each(function() {
        $(this).css("height", "auto");
        var e = $(this).height();
        t < e && (t = e),
        $(this).css("height", "")
    }),
    t <= 0 && (t = 165),
    e.find(".fillContentRelative").css({
        height: t,
        position: "relative"
    }),
    Site.inFullmeasueAnimation.dynamicSetArrowDom(e.attr("_moduleid"))
}
,
Site.autoFmPackModuleHeight = function(e) {
    var t = e.attr("_moduleid")
      , i = e.find(".J_parallax_dom");
    if (0 < i.length)
        for (var a = 0; a < i.length; a++) {
            var o = i[a];
            if ($(o).parents(".form").attr("_moduleid") == t)
                return
        }
    if (!("1" == e.attr("_videobg"))) {
        var n = e.height();
        e.find(".fillContentRelative").height(n);
        var r = Site.getModuleAutoHeight(e)
          , s = e.find(".fullmeasureContent").eq(0)
          , l = Fai.getCssInt(s, "paddingTop")
          , d = Fai.getCssInt(s, "paddingBottom");
        e.css("height", r + l + d + "px"),
        Fai.top._manageMode && (Site.getModuleAttrPattern(t).changed = !0)
    }
}
,
Site.autoTabPackModuleHeight = function(e) {
    if (!Fai.isIE7()) {
        var t = e.attr("_moduleid");
        e.css("height", "auto"),
        e.find(".formMiddle" + t).css("height", "auto");
        var i = e.find(".formMiddleContent" + t)
          , a = e.hasClass("fk-formTabPicture");
        i.css("height", "auto"),
        e.hasClass("fk-formTabX") && i.css("overflow-y", "auto");
        var o = a ? e.find(".J_site_tabs_pane") : e.find(".formTabContent")
          , n = a ? o.find(".J_tab_pane_item") : o.children(".formTabCntId")
          , r = n.find(".J_tabPackContent");
        if (jzModule.TabPackModule.isCustomHeight(t))
            jzModule.TabPackModule.setTabPackContentHeight(e),
            jzModule.TabPackModule.setCustomHeight(t);
        else {
            $("#formTab" + t).css("height", ""),
            o.css("height", "auto"),
            n.removeAttr("style").css("height", "auto"),
            jzModule.TabPackModule.setTabPackContentHeight(e);
            var s = 170
              , l = !0;
            $.each(r, function() {
                var e = $(this).height();
                l ? (s = e,
                l = !1) : s < e && (s = e)
            }),
            r.css("height", s);
            var d = r.outerHeight(!0);
            o.css("height", d),
            n.css("height", d),
            0 < e.find(".formTabButtonYList").length && i.css("height", i.height()),
            o.children('.formTabCntId[show="true"]').show().siblings().hide()
        }
        Fai.top._manageMode && (Site.getModuleAttrPattern(t).changed = !0)
    }
}
,
Site.autoPackModuleHeight = function(e) {
    var t = e.attr("_moduleid")
      , i = Fai.top.Site.getModuleAutoHeight(e);
    e.height() !== i && (Fai.top._manageMode && (Site.getModuleAttrPattern(t).changed = !0),
    e.css("height", i + "px")),
    Fai.top._manageMode && Site.setModuleStyleCss(t, "", "height", i + "px")
}
,
Site.resetXPackModuleAutoHeight = function(e, t, i) {
    if ((!jzSite.mutationObserver.isGrayTest() || i) && e.length) {
        var a = Site.checkNestModule(e);
        if (1 == e[0].getAttribute("_autoheight")) {
            var o = !1
              , n = Fai.top._manageMode ? e.height() : 0;
            if (a.isFullmeasurePack ? (Site.autoFmPackModuleHeight(e),
            o = !0) : a.isFullmeasure ? (Site.autoFmModuleHeight(e),
            o = !0) : a.isTabPack ? (Site.autoTabPackModuleHeight(e),
            o = !0) : a.isPack && (Site.autoPackModuleHeight(e),
            o = !0),
            o)
                if (n !== (Fai.top._manageMode ? e.height() : 0) && Fai.top._manageMode) {
                    var r = e[0].getAttribute("_moduleid");
                    Site.getModuleAttrPattern(r).changed = !0
                }
        }
        !t && 0 < a.parentId && Site.resetXPackModuleAutoHeight($("#module" + a.parentId), t, i)
    }
}
,
Site.hideFlvBackground = function(e) {
    $(e).css({
        backgroundColor: "transparent"
    })
}
,
Site.autoPromise = function(i, a) {
    return new Promise(function(e, t) {
        Fai.isPC() || (0 !== Fai.top.$("#new-video-" + i).length ? e({
            id: i,
            autoPlayFlag: a
        }) : t("video is not ready"))
    }
    )
}
,
Site.mobiAutoPlay = function(e, t) {
    var a = -1 != navigator.userAgent.toLowerCase().indexOf("micromessenger");
    function o(e) {
        e.play(),
        document.addEventListener("WeixinJSBridgeReady", function() {
            e.play()
        }, !1)
    }
    Site.autoPromise(e, t).then(function(e) {
        var t = e.id
          , i = e.autoPlayFlag;
        Fai.top.videojs("#new-video-" + t).ready(function() {
            var e = this;
            i && ($("html").one("touchstart", function() {
                e.play()
            }),
            a && $(document).ready(function() {
                o(myPlayer)
            }))
        })
    })["catch"](function(e) {
        Fai.ing(e)
    })
}
,
Site.checkFloatModulePosition = function(e) {
    if (e.length) {
        e.parent();
        var t = e[0].getBoundingClientRect()
          , i = $(window).width()
          , a = ($(window).height(),
        $(window).scrollTop())
          , o = $(window).scrollLeft()
          , n = $(".floatLeftTop")[0].getBoundingClientRect().top
          , r = $(".floatLeftBottom")[0].getBoundingClientRect().top
          , s = Site.getModuleStatus(e.attr("id").replace("module", ""))
          , l = {};
        t.bottom < n && (l.top = n),
        t.top > r && (l.top = n - t.height),
        3 != s && (t.top < n && (l.top = (r - n) / 2),
        t.bottom > r && (l.top = (r - n) / 2)),
        3 == s && (t.left + t.width < 0 && (l.left = 0),
        t.right - e.width > i && (l.left = i - e.width)),
        l.top && (l.top = l.top + a + n),
        l.left && (l.left = l.left + o),
        Object.keys(l).length && e.offset(l),
        5 == s && e.trigger("mouseenter").trigger("mouseleave")
    }
}
,
Site.closeAd = function(e) {
    $("#" + e).data("top", $("#" + e).position().top),
    $("#" + e).data("left", $("#" + e).position().left),
    $("#" + e).hide()
}
,
Site.checkSideModule = function(e) {
    Site.reSetSidePosition(e)
}
,
Site.reSetSidePosition = function(e, t) {
    var i = e.attr("id")
      , a = e.offset().top
      , o = Fai.top.Fai.getBrowserWidth()
      , n = Fai.top.Fai.getBrowserHeight()
      , r = e.outerWidth()
      , s = e.height()
      , l = Fai.getCssInt(e, "border-left-width")
      , d = e.parent().attr("id")
      , c = e.attr("_side")
      , p = 0
      , u = [];
    Fai.top.$("#" + i + "SideBtn").remove();
    var m = i.replace("module", "")
      , h = e.find(".mainTitle" + m).first().text()
      , f = 0
      , g = !1
      , v = parseInt(e.attr("_modulestyle"));
    79 != v && 81 != v && 86 != v && 115 != v || e.find(".mainTitle").length < 1 && (h = e.attr("bannertitle")),
    h = Fai.encodeHtml(h),
    1 == c && ("floatLeftTopForms" == d || "floatLeftBottomForms" == d ? (e.offset({
        top: a,
        left: 0
    }),
    p = 1,
    u = ["<div id='" + i + "SideBtn' class='g_sideBtn fk-sideLeft'><div class='g_sideBtn_t g_sB_lt'></div><div class='g_sideBtn_c g_sB_lc'><span class='g_sideBtn_tl'>" + h + "</span></div><div class='g_sideBtn_b g_sB_lb'></div><div class='g_sideBtn_extend g_sB_le'></div></div>"],
    e.animate({
        left: -r
    }, {
        queue: !1,
        duration: 0
    }),
    e.off("mouseenter.sideModule").on("mouseenter.sideModule", Site.bindSideIn1),
    e.off("mouseleave.sideModule").on("mouseleave.sideModule", Site.bindSideOut1)) : "floatRightTopForms" == d || "floatRightBottomForms" == d ? (Fai.top._Global._webRightBar && (f = $(".fk-rbar").width(),
    10 < e.width() && e.data("_selfWidth", e.width()),
    7 == e.attr("_moduleStyle") && e.find(".formWrap").css({
        "word-break": "keep-all",
        "white-space": "nowrap",
        overflow: "hidden",
        "text-overflow": "ellipsis"
    }),
    g = e.data("notInitState") || g),
    e.offset({
        top: a,
        left: o - r - f
    }),
    p = 0,
    u = ["<div id='" + i + "SideBtn' class='g_sideBtn fk-sideRight'><div class='g_sideBtn_t g_sB_rt'></div><div class='g_sideBtn_c g_sB_rc'><span class='g_sideBtn_tl'>" + h + "</span></div><div class='g_sideBtn_b g_sB_rb'></div><div class='g_sideBtn_extend g_sB_re'></div></div>"],
    Fai.top._Global._webRightBar ? (g || e.animate({
        left: 0
    }, {
        queue: !1,
        duration: 0
    }),
    Fai.top._manageMode && !t ? (e.css("overflow", "visible"),
    e.animate({
        left: -f + "px",
        width: 0
    }, {
        queue: !1,
        duration: 300
    })) : Fai.top._manageMode && t ? e.animate({
        left: -f + "px"
    }, {
        queue: !1,
        duration: 0
    }) : e.animate({
        left: -$(".fk-rbar").width() + "px"
    }, {
        queue: !1,
        duration: 500
    })) : e.animate({
        left: 0
    }, {
        queue: !1,
        duration: 0
    }),
    e.off("mouseenter.sideModule").on("mouseenter.sideModule", Site.bindSideIn2),
    e.off("mouseleave.sideModule").on("mouseleave.sideModule", Site.bindSideOut2)) : e.attr("_side", 0),
    e.css("overflow", "visible")),
    e.append(u.join("")),
    e.addClass("jz-moduleSide"),
    e.find(".formMiddle").length && e.find(".formMiddle").addClass("jz-moduleSide-content");
    var _ = Fai.top.$("#" + i + "SideBtn");
    if (0 < _.length) {
        var S = _.width()
          , b = _.height()
          , x = parseInt((s - b) / 2);
        0 == p ? _.css({
            top: x,
            left: -S - l
        }) : _.css({
            top: x,
            left: r - l
        });
        var w = _.position().top
          , y = _.position().top + b;
        if (1 == c) {
            "floatLeftTopForms" == d || "floatRightTopForms" == d ? (y <= 0 && _.css({
                top: s - b
            }),
            _.offset().top < $(".floatLeftTop").offset().top && _.css("top", 0)) : "floatLeftBottomForms" != d && "floatRightBottomForms" != d || 0 <= w - n && _.css({
                top: 0
            });
            var C = _[0].getBoundingClientRect();
            (C.top > n || C.bottom < 0) && _.css({
                top: 0
            })
        }
    }
}
,
Site.checkFlutterModule = function(e) {
    2 == e.attr("_side") && Site.flutterStart(e)
}
,
Site.flutterInternel = function(e) {
    "true" == e.attr("_flutterSwitch") && Site.stopFlutterInterval(e);
    var t = 1
      , i = 0
      , a = $(window).scrollLeft()
      , o = $(".floatLeftTop").offset().top + i
      , n = 0 + a
      , r = document.documentElement.clientWidth - e.width() + a
      , s = $(".floatLeftBottom").offset().top - e.height()
      , l = e.data("flutterXPos")
      , d = e.data("flutterYPos");
    e.offset({
        left: l,
        top: d
    });
    var c = e.data("flutterXPos") + t * (e.data("flutterXon") ? 1 : -1);
    e.data("flutterXPos", c),
    e.data("flutterXPos") <= n && (e.data("flutterXon", !0),
    e.data("flutterXPos", n)),
    e.data("flutterXPos") >= r && (e.data("flutterXon", !1),
    e.data("flutterXPos", r));
    var p = e.data("flutterYPos") + t * (e.data("flutterYon") ? 1 : -1);
    e.data("flutterYPos", p),
    e.data("flutterYPos") <= o && (e.data("flutterYon", !0),
    e.data("flutterYPos", o)),
    e.data("flutterYPos") >= s && (e.data("flutterYon", !1),
    e.data("flutterYPos", s))
}
,
Site.stopFlutterInterval = function(e) {
    Fai.stopInterval("flutter" + e.attr("id"))
}
,
Site.startFlutterInterval = function(e) {
    if (2 == e.attr("_side") && "true" != e.attr("_edit")) {
        Site.stopFlutterInterval(e);
        var t = function t() {
            2 == e.attr("_side") ? Site.flutterInternel(e) : Site.stopFlutterInterval(e)
        }
          , i = 10
          , a = "flutter" + e.attr("id");
        Fai.addInterval(a, t, i),
        Fai.startInterval(a)
    }
}
,
Site.flutterStart = function(e, t) {
    e.addClass("fk-flutterForm");
    var i = document.body.scrollLeft
      , a = document.documentElement.clientWidth - e.width() + i;
    e.offset().left > a ? e.offset({
        left: a - e.outerWidth()
    }) : e.offset().left + e.width() < 0 && e.offset({
        left: 0
    });
    var o = e.position().left
      , n = e.position().top
      , r = e.data("toFlutterFlag")
      , s = e.attr("_flutterSwitch");
    if (r) {
        var l = e.data("startFlutterXPos")
          , d = e.data("startFlutterYPos");
        l || d || (e.data("startFlutterXPos", o),
        e.data("startFlutterYPos", n))
    } else
        e.data("startFlutterXPos", o),
        e.data("startFlutterYPos", n);
    e.data("startFlutterParentId") || e.data("startFlutterParentId", e.parent().attr("id")),
    e.data("flutterXPos", e.offset().left),
    e.data("flutterYPos", e.offset().top),
    e.data("flutterXon", !0),
    e.data("flutterYon", !0);
    var c = e.attr("_side");
    1 != Fai.top._manageMode || 2 != c || t || e.attr("_flutterSwitch", !0),
    "false" != (s = e.attr("_flutterSwitch")) && s || Site.startFlutterInterval(e),
    e.on("mouseenter", function() {
        Site.stopFlutterInterval($(this))
    }),
    e.on("mouseleave", function() {
        var e = $(this).attr("_flutterSwitch");
        "false" != e && e || Site.startFlutterInterval($(this))
    })
}
,
Site.bindSideIn1 = function() {
    var e = $(this)
      , t = e.attr("_side")
      , i = e.outerWidth();
    Fai.top._manageMode ? (Site.disableEditLayer(),
    -i == e.offset().left && jzUtils.run({
        name: "moduleAnimation.canRunAgain",
        base: Site
    }),
    e.animate({
        left: 0
    }, {
        queue: !1,
        duration: 500,
        complete: function a() {
            Site.enableEditLayer(),
            1 == t && e.unbind("mouseenter.sideModule", Site.bindSideIn1).unbind("mouseleave.sideModule", Site.bindSideOut1).unbind("mouseenter.sideModule", Site.bindSideIn2).unbind("mouseleave.sideModule", Site.bindSideOut2),
            jzUtils.run({
                name: "moduleAnimation.publish",
                base: Site
            }),
            jzUtils.run({
                name: "moduleAnimation.contentAnimationPublish",
                base: Site
            }),
            jzUtils.run({
                name: "triggerScroll",
                base: Site
            }, e)
        }
    })) : (-i == e.offset().left && jzUtils.run({
        name: "moduleAnimation.canRunAgain",
        base: Site
    }),
    e.animate({
        left: 0
    }, {
        queue: !1,
        duration: 500,
        complete: function a() {
            jzUtils.run({
                name: "moduleAnimation.publish",
                base: Site
            }),
            jzUtils.run({
                name: "moduleAnimation.contentAnimationPublish",
                base: Site
            }),
            jzUtils.run({
                name: "triggerScroll",
                base: Site
            }, e)
        }
    })),
    $(e).find("img").trigger("appear")
}
,
Site.bindSideIn2 = function() {
    var e = $(this)
      , t = e.attr("_side")
      , i = e.outerWidth()
      , a = Fai.top.Fai.getBrowserWidth()
      , o = 0
      , n = 0
      , r = {
        left: -i
    }
      , s = 0
      , l = 500;
    Fai.top._Global._webRightBar && (o = (s = 0) + (n = $(".fk-rbar").width()),
    i = e.data("_selfWidth"),
    7 == e.attr("_moduleStyle") && e.find(".formWrap").css({
        "word-break": "keep-all",
        "white-space": "nowrap",
        overflow: "hidden",
        "text-overflow": "ellipsis"
    }),
    e.data("notInitState", !0),
    r = {
        left: -i - o,
        width: i
    },
    Fai.top._isTemplateVersion2 && Fai.top._manageMode && (l = 0)),
    e.find("img").trigger("appear"),
    Fai.top._manageMode ? (Site.disableEditLayer(),
    a == e.offset().left + n + s && jzUtils.run({
        name: "moduleAnimation.canRunAgain",
        base: Site
    }),
    e.animate(r, {
        queue: !1,
        duration: l,
        complete: function d() {
            Site.enableEditLayer(),
            1 == t && e.unbind("mouseenter.sideModule", Site.bindSideIn1).unbind("mouseleave.sideModule", Site.bindSideOut1).unbind("mouseenter.sideModule", Site.bindSideIn2).unbind("mouseleave.sideModule", Site.bindSideOut2),
            jzUtils.run({
                name: "moduleAnimation.publish",
                base: Site
            }),
            jzUtils.run({
                name: "moduleAnimation.contentAnimationPublish",
                base: Site
            }),
            jzUtils.run({
                name: "triggerScroll",
                base: Site
            }, e)
        }
    })) : (a == e.offset().left && jzUtils.run({
        name: "moduleAnimation.canRunAgain",
        base: Site
    }),
    e.animate({
        left: -i - n
    }, {
        queue: !1,
        duration: 500,
        complete: function d() {
            jzUtils.run({
                name: "moduleAnimation.publish",
                base: Site
            }),
            jzUtils.run({
                name: "moduleAnimation.contentAnimationPublish",
                base: Site
            }),
            jzUtils.run({
                name: "triggerScroll",
                base: Site
            }, e)
        }
    }))
}
,
Site.bindSideOut1 = function() {
    var e = $(this)
      , t = e.outerWidth();
    e.animate({
        left: -t
    }, {
        queue: !1,
        duration: 500
    })
}
,
Site.bindSideOut2 = function() {
    var e = $(this)
      , t = 0
      , i = 0;
    Fai.top._Global._webRightBar && (t = $(".fk-rbar").width(),
    7 == e.attr("_moduleStyle") && e.find(".formWrap").css({
        "word-break": "keep-all",
        "white-space": "nowrap"
    }),
    i = $(".fk-rbar").width()),
    Fai.top._manageMode ? e.animate({
        left: 0 - t
    }, {
        queue: !1,
        duration: 500
    }) : e.animate({
        left: -i
    }, {
        queue: !1,
        duration: 500
    })
}
,
Site.setAbsFormsHolder2 = function(e) {
    "undefined" != typeof Site.setAbsFormsHolder2._timer && window.clearInterval(Site.setAbsFormsHolder2._timer),
    Site.setAbsFormsHolder2.argFlag = Site.setAbsFormsHolder2.argFlag || e,
    Site.setAbsFormsHolder2._timer = setTimeout(function() {
        Site._setAbsFormsHolder2(Site.setAbsFormsHolder2.argFlag),
        Site.setAbsFormsHolder2.argFlag = undefined,
        Site.setAbsFormsHolder2._timer = undefined
    }, 100)
}
,
Site._setAbsFormsHolder2 = function(e) {
    var i, t, a = 0, o = 0, n = 0, r = Fai.top.$("#containerPlaceholder"), s = Fai.top.$(window), l = Fai.isIE7(), d = !1;
    (i = function i(e) {
        if (!Fai.top._manageMode && !l)
            return e;
        var t = s.scrollTop();
        return t <= 0 ? e : e + t
    }
    ,
    Fai.top.$("#absForms >.form").each(function() {
        var e = $(this).offset().top + $(this).outerHeight();
        e = i(e),
        "none" !== $(this).css("animation-name") && (e = 0),
        a < e && (a = e)
    }),
    Fai.top.$("#absTopForms >.form").each(function() {
        var e = $(this).offset().top + $(this).outerHeight();
        e = i(e),
        "none" !== $(this).css("animation-name") && (e = 0),
        a < e && (a = e)
    }),
    0 < (o = Fai.top.$("#fullmeasureBottomForms").outerHeight()) && ((a -= o) < 0 && (a = 0),
    d = !0),
    n = i(r.offset().top),
    d) ? n < a ? (t = a - n) !== parseInt(r.height()) ? !Fai.top._manageMode && Fai.top._colOtherStyleData.y > t ? r.css("height", t + "px") : (r.css("height", t + "px"),
    e || (Fai.top._colOtherStyleData.y = parseInt(t))) : Fai.top._manageMode && Fai.top._colOtherStyleData.y != parseInt(t) && (Fai.top._colOtherStyleData.y = parseInt(t)) : a - n != 0 ? (r.css("height", "0"),
    e || (Fai.top._colOtherStyleData.y = 0)) : 0 < Fai.top._colOtherStyleData.y && a < n && (r.css("height", "0"),
    Fai.top._colOtherStyleData.y = 0) : n < a ? (t = a - n) !== parseInt(r.height()) && (r.css("height", t + "px"),
    Fai.top._colOtherStyleData.y = parseInt(t)) : a - n != 0 && (r.css("height", "0px"),
    Fai.top._colOtherStyleData.y = 0)
}
,
Site.checkAbsModulePosition = function(e, t) {
    var i = e.parent().attr("id")
      , a = e.offset().left
      , o = e.offset().top
      , n = e.height();
    if ("absTopForms" == i)
        o < (r = Fai.top.$("#web").offset().top) && (o = r,
        e.offset({
            top: o,
            left: a
        }),
        Site.setAbsFormsHolder2(t));
    else if ("absBottomForms" == i) {
        var r;
        if (o < (r = Fai.top.$("#webFooter").offset().top) && (o = r),
        Fai.top._siteVer < 30)
            (r = Site.getFooterBottom()) < o + n && (o = r - n);
        else
            (r = Site.getFooterBottom(!0)) < o + n && (o = r - n);
        e.offset({
            top: o,
            left: a
        }),
        Site.setAbsFormsHolder2(t)
    }
}
,
Site.demoStyleDesignLoading = function(e, t) {
    $('<div class="forWaiting ajaxLoading2" style="position:absolute;background-color:#d6d9e0;width:100%;height:205px;top:0;left:0;"></div>').appendTo("#" + e),
    $("#" + t).load(function() {
        $(".forWaiting").remove()
    })
}
,
Site._webToggleClass = function(e) {
    "show" == e && ($("html").removeClass("g_html").addClass("g_htmlManage"),
    $("body").removeClass("g_body").addClass("g_bodyManage"),
    $("#web").addClass("g_webManage"))
}
,
Site._demoTemplate = function() {
    var e = $("#siteTipsDemoTemplate");
    e.is(":visible") ? document.location.reload() : (e.show(),
    Site._webToggleClass("show"),
    0 < $("#topBarArea").length && ($("#topBarArea").hide(),
    $("#topBar").hide()),
    Site.demoStyleDesignLoading("siteTipsDemoTemplate", "siteTipsDemoTemplateFrame"),
    $("#siteTipsDemoTemplateFrame").attr("src", "manage/styleTemplate.jsp?demoTemplate=true&ram" + Math.random()),
    Site.resetGmainPos())
}
,
Site.adjustFlBtnPos = function(e) {
    var t = Fai.top.$("#module" + e);
    if (t.css({
        border: "10px solid transparent",
        "margin-top": "-10px",
        "margin-left": "-10px"
    }),
    Fai.isIE6()) {
        var i = t.attr("style");
        t.attr("style", i + "; _border-color:tomato; _filter:chroma(color=tomato)")
    }
}
,
Site.initFlBtnStyle = function(e) {
    var t = e.moduleId
      , i = e.btnNumSystem
      , a = e.btnStyle
      , o = "module" + t
      , n = Fai.top.$("#" + o);
    if (Fai.top._designAuth)
        Site.initManageFlBtnStyle(t, i, a);
    else {
        var r = n.find(".floatBtn").outerWidth(!0);
        r !== parseInt(n.css("width")) && n.css({
            width: r + "px"
        })
    }
}
,
Site.setFlBtnParentColHide = function() {
    var e = Fai.top.$(".mulMColContent");
    0 < e.length && e.each(function() {
        if (0 < $(this).find(".formStyle81").length) {
            var e = $(this).attr("id");
            Fai.top.Fai.setCtrlStyleCss("stylemodule", e, ".mulMColList", "overflow", "hidden")
        }
    })
}
,
Site.initPhotoCard = function(e) {
    var t = Fai.top.$("#module" + e);
    Site.resizePhotoCardHeight(t),
    Site.setPhotoCardHeight(t),
    Site.adjustPhotoCardImgSize(t),
    jzUtils.run({
        name: "ImageEffect.FUNC.BASIC.Init",
        callMethod: !0
    }, Fai.top["photoCard" + e])
}
,
Site.setPhotoCardHeight = function(e) {
    e.find(".cardTd").each(function() {
        var e = $(this).height()
          , t = $(this).find(".photoCard");
        t.height() < e && t.css("height", e + "px")
    })
}
,
Site.adjustPhotoCardImgSize = function(e) {
    var d = e.attr("id").replace("module", "")
      , t = e.find(".photoCard")
      , i = e.find(".cardDivEffect .cardImg");
    Site.setPhotoCardHeight(e),
    t.each(function() {
        var e = $(this).find(".cardImgView")
          , t = $(this).find(".cardDivEffect")
          , i = $(this).height();
        if (e.length < 1)
            return !0;
        var a, o, n = e.width(), r = e.height(), s = $(this).width(), l = n, d = r;
        t.attr("tmpPic");
        imgOrProp = l / d,
        s / i <= imgOrProp ? (e.css("width", ""),
        e.css("height", i + "px"),
        a = $(this).width(),
        o = e.width(),
        t.css("marginTop", ""),
        t.css("marginLeft", (a - o) / 2 + "px")) : (e.css("height", ""),
        e.css("width", s + "px"),
        a = $(this).height(),
        o = e.height(),
        t.css("marginLeft", ""),
        t.css("marginTop", (a - o) / 2 + "px")),
        e.removeClass("cardImgViewHide")
    }),
    i.load(function() {
        var e, t = $(this), i = t.parents(".cardDiv"), a = t.parents(".photoCard"), o = a.height(), n = t.width(), r = t.height(), s = a.width(), l = n / r;
        i.attr("tmpPic");
        s / o <= l ? (t.css("width", ""),
        t.css("height", o + "px"),
        e = (a.width() - t.width()) / 2,
        i.css("marginTop", ""),
        i.css("marginLeft", e + "px")) : (t.css("height", ""),
        t.css("width", s + "px"),
        e = (a.height() - t.height()) / 2,
        i.css("marginLeft", ""),
        i.css("marginTop", e + "px")),
        jzUtils.run({
            name: "ImageEffect.FUNC.BASIC.Init",
            callMethod: !0
        }, Fai.top["photoCard" + d])
    })
}
,
Site.resizePhotoCardHeight = function(e) {
    var t = e.find(".photoCardTable")
      , i = e.find(".formMiddleContent")
      , a = e.find(".photoCardOuter")
      , o = e.find(".photoCardInner")
      , n = t.find("tr")
      , r = e.find(".cardTd")
      , s = a.attr("cusHeight")
      , l = n.length
      , d = e.height()
      , c = parseInt(i.css("marginTop").replace("px", ""));
    formMiddleContentMB = parseInt(i.css("marginBottom").replace("px", "")),
    photoCardInnerMT = parseInt(o.css("marginTop").replace("px", "")),
    photoCardInnerMB = parseInt(o.css("marginBottom").replace("px", "")),
    cellspacing = parseInt(t.attr("cellspacing")),
    s && (d = a.height(),
    formMiddleContentMB = c = 0);
    var p = d - c - formMiddleContentMB - photoCardInnerMT - photoCardInnerMB - 2 * cellspacing;
    r.each(function() {
        var e = $(this).find(".photoCard")
          , t = parseInt($(this).attr("rowspan"))
          , i = (p - (l - 1) * cellspacing) / l || "";
        switch (t) {
        case 1:
            e.css("height", i + "px");
            break;
        case 2:
            e.css("height", 2 * i + cellspacing + "px");
            break;
        default:
            e.css("height", i + "px")
        }
    })
}
,
Site.adjustPhotoCard = function(e) {
    if (Fai.isNumber(e)) {
        var t = Fai.top.$("#module" + e);
        t.hasClass("formStyle83") && !t.find(".photoCardOuter").attr("cusHeight") && (Site.initPhotoCard(e),
        t.attr("_autoheight", 0))
    } else if ("object" == _typeof2(e)) {
        0 < (i = e.find(".formStyle83")).length && a(i)
    } else if (e == undefined) {
        var i;
        0 < (i = Fai.top.$(".formStyle83")).length && a(i)
    }
    function a(e) {
        i.each(function() {
            var e = $(this).attr("id").replace("module", "");
            if ($(this).find(".photoCardOuter").attr("cusHeight"))
                return !0;
            Site.initPhotoCard(e),
            $(this).attr("_autoheight", 0)
        })
    }
}
,
Site.addPhotoCardModuleHeight = function(e) {
    var t = Fai.top.$("#module" + e)
      , i = t.find(".photoCardOuter")
      , a = (t.find(".photoCard"),
    t.width())
      , o = t.height()
      , n = a / 960
      , r = i.attr("cusHeight")
      , s = i.height()
      , l = o * n;
    r && (l = s),
    t.css("height", l + "px"),
    Site.initPhotoCard(e),
    Site.scrollToModuleDiv(t),
    Site.getModuleAttrPattern(e).changed = !0,
    t.attr("_autoheight", 0)
}
,
Site.initPhotoNewCard = function(e) {
    var t = Fai.top.$("#module" + e);
    Site.resizePhotoNewCardHeight(t),
    Site.setPhotoNewCardHeight(t),
    Site.adjustPhotoNewCardImgSize(t),
    jzUtils.run({
        name: "ImageEffect.FUNC.BASIC.Init",
        callMethod: !0
    }, Fai.top["photoNewCard" + e])
}
,
Site.setPhotoNewCardHeight = function(e) {
    e.find(".cardTd").each(function() {
        var e = $(this).height()
          , t = $(this).find(".photoNewCard");
        t.height() < e && t.css("height", e + "px")
    })
}
,
Site.adjustPhotoNewCardImgSize = function(e) {
    var d = e.attr("id").replace("module", "")
      , t = e.find(".photoNewCard")
      , i = e.find(".cardDivEffect .cardImg");
    Site.setPhotoNewCardHeight(e),
    t.each(function() {
        var e = $(this).find(".cardImgView")
          , t = $(this).find(".cardDivEffect")
          , i = $(this).height();
        if (e.length < 1)
            return !0;
        var a, o, n = e.width(), r = e.height(), s = $(this).width(), l = n, d = r;
        t.attr("tmpPic");
        imgOrProp = l / d,
        s / i <= imgOrProp ? (e.css("width", ""),
        e.css("height", i + "px"),
        a = $(this).width(),
        o = e.width(),
        t.css("marginTop", ""),
        t.css("marginLeft", (a - o) / 2 + "px")) : (e.css("height", ""),
        e.css("width", s + "px"),
        a = $(this).height(),
        o = e.height(),
        t.css("marginLeft", ""),
        t.css("marginTop", (a - o) / 2 + "px")),
        e.removeClass("cardImgViewHide")
    }),
    i.load(function() {
        var e, t = $(this), i = t.parents(".cardDiv"), a = t.parents(".photoNewCard"), o = a.height(), n = t.width(), r = t.height(), s = a.width(), l = n / r;
        i.attr("tmpPic");
        s / o <= l ? (t.css("width", ""),
        t.css("height", o + "px"),
        e = (a.width() - t.width()) / 2,
        i.css("marginTop", ""),
        i.css("marginLeft", e + "px")) : (t.css("height", ""),
        t.css("width", s + "px"),
        e = (a.height() - t.height()) / 2,
        i.css("marginLeft", ""),
        i.css("marginTop", e + "px")),
        jzUtils.run({
            name: "ImageEffect.FUNC.BASIC.Init",
            callMethod: !0
        }, Fai.top["photoNewCard" + d])
    })
}
,
Site.resizePhotoNewCardHeight = function(e) {
    var t = e.find(".photoNewCardTable")
      , i = e.find(".formMiddleContent")
      , a = e.find(".photoNewCardOuter")
      , o = e.find(".photoNewCardInner")
      , n = t.find(".newCardDrag")
      , r = e.find(".cardTd")
      , s = a.attr("cusHeight")
      , l = n.length
      , d = e.height()
      , c = parseInt(i.css("marginTop").replace("px", ""));
    formMiddleContentMB = parseInt(i.css("marginBottom").replace("px", "")),
    photoNewCardInnerMT = parseInt(o.css("marginTop").replace("px", "")),
    photoNewCardInnerMB = parseInt(o.css("marginBottom").replace("px", "")),
    cellspacing = parseInt(t.attr("cellspacing")),
    s && (d = a.height(),
    formMiddleContentMB = c = 0);
    var p = d - c - formMiddleContentMB - photoNewCardInnerMT - photoNewCardInnerMB - 2 * cellspacing;
    r.each(function() {
        var e = $(this).find(".photoNewCard")
          , t = parseInt($(this).attr("rowspan"))
          , i = (p - (l - 1) * cellspacing) / l || "";
        switch (t) {
        case 1:
            e.css("height", i - 1 + "px");
            break;
        case 2:
            e.css("height", 2 * i + cellspacing - 1 + "px");
            break;
        default:
            e.css("height", i - 1 + "px")
        }
    })
}
,
Site.adjustPhotoNewCard = function(e) {
    if (Fai.isNumber(e)) {
        var t = Fai.top.$("#module" + e);
        t.hasClass("formStyle85") && !t.find(".photoNewCardOuter").attr("cusHeight") && (Site.initPhotoNewCard(e),
        t.attr("_autoheight", 0))
    } else if ("object" == _typeof2(e)) {
        0 < (i = e.find(".formStyle85")).length && a(i)
    } else if (e == undefined) {
        var i;
        0 < (i = Fai.top.$(".formStyle85")).length && a(i)
    }
    function a(e) {
        i.each(function() {
            var e = $(this).attr("id").replace("module", "");
            if ($(this).find(".photoNewCardOuter").attr("cusHeight"))
                return !0;
            Site.initPhotoNewCard(e),
            $(this).attr("_autoheight", 1)
        })
    }
}
,
Site.addPhotoNewCardModuleHeight = function(e) {
    var t = Fai.top.$("#module" + e)
      , i = (t.find(".formBanner").height(),
    t.find(".photoNewCardOuter"))
      , a = (t.find(".photoNewCard"),
    t.width())
      , o = t.height()
      , n = a / 960
      , r = i.attr("cusHeight")
      , s = i.height()
      , l = o * n;
    r && (l = s);
    var d = t.find(".newCardDrag").length / 2;
    t.css("height", l * d + "px"),
    Site.initPhotoNewCard(e),
    Site.scrollToModuleDiv(t),
    Site.getModuleAttrPattern(e).changed = !0,
    t.attr("_autoheight", 0)
}
,
Site.hideDrag = function(e) {
    $("#module" + e).find(".photoNewCardTable").find(".drag").each(function() {
        $(this).css("display", "none")
    })
}
,
Site.initPhotoMoreCard = function(e, t) {
    var i = Fai.top.$("#module" + e);
    Site.resizePhotoMoreCardHeight(i, t),
    Site.setPhotoMoreCardHeight(i),
    Site.adjustPhotoMoreCardImgSize(i),
    jzUtils.run({
        name: "ImageEffect.FUNC.BASIC.Init",
        callMethod: !0
    }, Fai.top["photoMoreCard" + e])
}
,
Site.setPhotoMoreCardHeight = function(e) {
    e.find(".moreCardTd").each(function() {
        var e = $(this).height()
          , t = $(this).width()
          , i = $(this).find(".photoMoreCard")
          , a = i.height()
          , o = i.width()
          , n = parseInt(i.css("borderTopWidth").replace("px", "") || 0);
        e <= a && i.css("height", e - 2 * n + "px"),
        t <= o && i.css("width", t - 2 * n + "px"),
        "noPhoto" == i.attr("photoname") && i.css("border", "2px dashed #d4d4d4")
    })
}
,
Site.adjustPhotoMoreCardImgSize = function(e) {
    e.attr("id").replace("module", "");
    var t = e.find(".photoMoreCard")
      , i = e.find(".cardDivEffect .cardImg");
    Site.setPhotoMoreCardHeight(e),
    t.each(function() {
        var e = $(this).find(".cardImgView")
          , t = $(this).find(".cardDivEffect")
          , i = $(this).height();
        if (e.length < 1)
            return !0;
        var a, o, n = e.width(), r = e.height(), s = $(this).width(), l = n, d = r;
        t.attr("tmpPic");
        imgOrProp = l / d,
        s / i <= imgOrProp ? (e.css("width", ""),
        e.css("height", i + "px"),
        a = $(this).width(),
        o = e.width(),
        t.css("marginTop", ""),
        t.css("marginLeft", (a - o) / 2 + "px")) : (e.css("height", ""),
        e.css("width", s + "px"),
        a = $(this).height(),
        o = e.height(),
        t.css("marginLeft", ""),
        t.css("marginTop", (a - o) / 2 + "px")),
        e.removeClass("cardImgViewHide")
    }),
    i.load(function() {
        var e, t = $(this), i = t.parents(".cardDiv"), a = t.parents(".photoMoreCard"), o = a.height(), n = t.width(), r = t.height(), s = a.width(), l = n / r;
        i.attr("tmpPic");
        s / o <= l ? (t.css("width", ""),
        t.css("height", o + "px"),
        e = (a.width() - t.width()) / 2,
        i.css("marginTop", ""),
        i.css("marginLeft", e + "px")) : (t.css("height", ""),
        t.css("width", s + "px"),
        e = (a.height() - t.height()) / 2,
        i.css("marginLeft", ""),
        i.css("marginTop", e + "px"))
    })
}
,
Site.resizePhotoMoreCardHeight = function(e, a) {
    var t = e.find(".photoMoreCardTable")
      , i = e.find(".formMiddleContent")
      , o = e.find(".photoMoreCardOuter")
      , n = e.find(".photoMoreCardInner")
      , r = t.find(".moreCardDrag")
      , s = e.find(".moreCardTd")
      , l = 1
      , d = 1
      , c = !1
      , p = o.attr("cusHeight")
      , u = r.length
      , m = e.width()
      , h = e.height()
      , f = parseInt((i.css("marginTop") || "0").replace("px", ""));
    formMiddleContentMB = parseInt((i.css("marginBottom") || "0").replace("px", "")),
    photoMoreCardInnerMT = parseInt((n.css("marginTop") || "0").replace("px", "")),
    photoMoreCardInnerMB = parseInt((n.css("marginBottom") || "0").replace("px", "")),
    cellspacing = parseInt(t.attr("cellspacing")),
    p && (h = o.height(),
    formMiddleContentMB = f = 0);
    var g = h - f - formMiddleContentMB - photoMoreCardInnerMT - photoMoreCardInnerMB - 2 * cellspacing;
    null != a && (e.find(".moreCardDrag").each(function(e, t) {
        var i = parseInt($(this).attr("num"));
        if (0 != e)
            return d = (m - (2 + i) * cellspacing) / (a - (2 + i) * cellspacing),
            !1;
        l = (m - (2 + i) * cellspacing) / (a - (2 + i) * cellspacing)
    }),
    c = !0),
    s.each(function() {
        var e = $(this).find(".photoMoreCard")
          , t = (parseInt($(this).attr("rowspan")),
        $(this).width());
        Math.floor((g - (u - 1) * cellspacing) / u);
        $(this).css("padding-top", cellspacing + "px"),
        $(this).css("padding-left", cellspacing + "px"),
        c && (0 == $(this).parents(".moreCardDrag").attr("tr") ? ($(this).css("width", t * l + "px"),
        e.css("width", t * l + "px")) : ($(this).css("width", t * d + "px"),
        e.css("width", t * d + "px")))
    }),
    Site.resizePhotoMoreCartShape(e)
}
,
Site.resizePhotoMoreCartShape = function(e) {
    var t = e.find(".photoMoreCardTable")
      , i = (e.find(".photoMoreCardOuter"),
    e.find(".moreCardDrag"))
      , o = (e.find(".moreCardTd"),
    parseInt(t.attr("cellspacing")))
      , n = parseInt(e.find(".photoMoreCardInner").attr("cardstyle")) || 0
      , a = (i = e.find(".moreCardDrag")).length
      , r = a / 2
      , s = e.height() - (a + 1) * o
      , l = e.find(".formBanner")
      , d = "none" == l.css("display") ? 0 : l.outerHeight()
      , c = e.height() - d - (a + 1) * o
      , p = 0 < Site.getPhotoMoreCardVersion(e.attr("_moduleid")) ? c : s
      , u = p / r;
    v(e);
    var m = 0;
    function h(e, t) {
        var i = t.first().prev();
        if (0 < i.length && "2" != i.attr("rowspan"))
            e.find(".noPhoto, .noPhoto .photoMoreCard").css("height", i.height());
        else if (0 < i.length && "2" == i.attr("rowspan"))
            e.find(".noPhoto, .noPhoto .photoMoreCard").css("height", (i.height() - n) / 2);
        else if (0 == i.length) {
            var a = e.prev().find(".moreCardTd").last().height();
            e.find(".noPhoto, .noPhoto .photoMoreCard").css("height", u - a)
        }
    }
    i.each(function(e, t) {
        var i = $(this).find(".noPhoto");
        0 < i.length && h($(this), i),
        m += $(this).find(".moreCardTd").last().height()
    });
    var f = [];
    function g() {
        i.each(function() {
            if ($(this).find(".noPhoto").length < 1)
                return !0;
            var e = $(this).children()
              , t = e.first();
            t.hasClass("noPhoto") || "2" == t.attr("rowspan") || e.css("height", t.height())
        })
    }
    function v(e) {
        e.find(".moreCardTd").each(function() {
            var e = $(this);
            0 === e.height() && e.height(1),
            e.find(".photoMoreCard").each(function() {
                var e = $(this);
                0 === e.height() && e.height(1)
            })
        })
    }
    e.find(".moreCardTd").each(function() {
        var e = $(this).height();
        "2" == $(this).attr("rowspan") ? f.push($(this)) : ($(this).css("height", Math.floor(p * e / m)),
        $(this).find(".photoMoreCard").css("height", Math.floor(p * e / m)))
    }),
    $.each(f, function(e, t) {
        if ("2" == t.attr("rowspan")) {
            var i = t.next().height()
              , a = t.parent().next().find(".moreCardTd").first().height();
            t.css("height", Math.floor(i + a + o)),
            t.find(".photoMoreCard").css("height", Math.floor(i + a + o))
        }
    }),
    g()
}
,
Site.adjustPhotoMoreCard = function(e) {
    if (Fai.isNumber(e)) {
        var t = Fai.top.$("#module" + e);
        t.hasClass("formStyle98") && !t.find(".photoMoreCardOuter").attr("cusHeight") && (Site.initPhotoMoreCard(e),
        t.attr("_autoheight", 0))
    } else if ("object" == _typeof2(e)) {
        0 < (i = e.find(".formStyle98")).length && a(i)
    } else if (e == undefined) {
        var i;
        0 < (i = Fai.top.$(".formStyle98")).length && a(i)
    }
    function a(e) {
        i.each(function() {
            var e = $(this).attr("id").replace("module", "")
              , t = $(this).find(".photoMoreCardOuter").attr("cusHeight")
              , i = parseInt($(this).data("contentWidth")) || undefined;
            if (t)
                return !0;
            Site.initPhotoMoreCard(e, i),
            $(this).attr("_autoheight", 1)
        })
    }
}
,
Site.photoMoreCardHideDrag = function(e) {
    $("#module" + e).find(".photoMoreCardTable").find(".drag").each(function() {
        $(this).css("display", "none")
    })
}
,
Site.initPhotoMoreCardTdLength = function(e, t) {
    var i = $("#module" + e)
      , a = i.find(".photoMoreCardTable");
    parseInt(a.attr("cellspacing"));
    i.data("photoStyleId", t),
    0 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 1) : $(this).attr("num", 2)
    }) : 1 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 2) : $(this).attr("num", 1)
    }) : 2 == t ? i.find(".moreCardDrag").each(function(e, t) {
        $(this).attr("num");
        $(this).attr("num", 2)
    }) : 3 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 1) : $(this).attr("num", 2)
    }) : 4 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 1) : $(this).attr("num", 2)
    }) : 5 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 2) : $(this).attr("num", 1)
    }) : 6 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 3) : $(this).attr("num", 2)
    }) : 7 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 2) : $(this).attr("num", 1)
    }) : 8 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 1) : $(this).attr("num", 2)
    }) : 9 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 1) : $(this).attr("num", 0)
    }) : 10 == t ? i.find(".moreCardDrag").each(function(e, t) {
        0 == $(this).attr("num") ? $(this).attr("num", 0) : $(this).attr("num", 1)
    }) : 11 == t ? i.find(".moreCardDrag").each(function(e, t) {
        $(this).attr("num");
        $(this).attr("num", 1)
    }) : 12 == t && i.find(".moreCardDrag").each(function(e, t) {
        $(this).attr("num");
        $(this).attr("num", 2)
    })
}
,
Site.firstPhotoMoreCardInit = function(e, t) {
    var i = $("#module" + e)
      , a = i.find(".photoMoreCardTable")
      , o = parseInt(a.attr("cellspacing"))
      , n = i.width()
      , r = i.height()
      , s = i.find(".formBanner")
      , l = "none" == s.css("display") ? 0 : s.outerHeight()
      , d = i.height() - l
      , c = 0 < Site.getPhotoMoreCardVersion(i.attr("_moduleid")) ? d : r;
    if (i.data("photoStyleId", t),
    0 == t) {
        var p = Math.ceil(i.find(".moreCardTd").length / 4)
          , u = .35 * (n - 3 * o)
          , m = .65 * (n - 3 * o)
          , h = .5 * (n - 4 * o - u)
          , f = h
          , g = (c - (p + 1) * o) / p
          , v = (g - o) / 2
          , _ = v
          , S = _;
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 4) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e && ($(this).css("width", f + "px"),
            $(this).css("height", S + "px"))
        })
    } else if (1 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 4);
        h = m = .5 * (n - 4 * o - (u = .35 * (n - 3 * o))),
        f = .65 * (n - 3 * o),
        S = _ = v = ((g = (c - (p + 1) * o) / p) - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 4) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e && ($(this).css("width", f + "px"),
            $(this).css("height", S + "px"))
        })
    } else if (2 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 5);
        fifthWidth = f = h = m = .5 * (n - 4 * o - (u = .35 * (n - 4 * o))),
        fifthHeight = S = _ = v = ((g = (c - (p + 1) * o) / p) - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 5) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e && ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px"))
        })
    } else if (3 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 5);
        m = .65 * (n - 3 * o),
        fifthWidth = f = .5 * (n - 4 * o - (h = u = .35 * (n - 3 * o))),
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 5) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e && ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px"))
        })
    } else if (4 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 5);
        u = .65 * (n - 3 * o),
        f = h = .5 * (n - 4 * o - (m = .35 * (n - 3 * o))),
        fifthWidth = m,
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 5) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e && ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px"))
        })
    } else if (5 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 5);
        f = .65 * (n - 3 * o),
        fifthWidth = .35 * (n - 3 * o),
        u = .5 * (n - 4 * o - fifthWidth),
        m = u,
        h = .35 * (n - 4 * o),
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 5) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e && ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px"))
        })
    } else if (6 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 7);
        fifthWidth = 2 * (m = u = .25 * (n - 5 * o)) + o,
        sixthWidth = f = h = m,
        seventhWidth = sixthWidth,
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        sixthHeight = fifthHeight,
        seventhHeight = sixthHeight,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 7) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e ? ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px")) : 5 == e ? ($(this).css("width", sixthWidth + "px"),
            $(this).css("height", sixthHeight + "px")) : 6 == e && ($(this).css("width", seventhWidth + "px"),
            $(this).css("height", seventhHeight + "px"))
        })
    } else if (7 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 5);
        m = .34 * (n - 4 * o),
        h = u = .33 * (n - 4 * o),
        fifthWidth = f = .5 * (n - 3 * o),
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 5) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e && ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px"))
        })
    } else if (8 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 5);
        m = u = .5 * (n - 3 * o),
        f = .34 * (n - 4 * o),
        fifthWidth = h = .33 * (n - 4 * o),
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 5) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e && ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px"))
        })
    } else if (9 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 3);
        m = u = .5 * (n - 3 * o),
        h = 1 * (n - 2 * o),
        _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 3) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e && ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px"))
        })
    } else if (10 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 3);
        u = 1 * (n - 2 * o),
        h = m = .5 * (n - 3 * o),
        _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 3) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e && ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px"))
        })
    } else if (11 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 4);
        h = m = .35 * (n - 3 * o),
        f = u = .65 * (n - 3 * o),
        S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 4) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e && ($(this).css("width", f + "px"),
            $(this).css("height", S + "px"))
        })
    } else if (12 == t) {
        p = Math.ceil(i.find(".moreCardTd").length / 6);
        f = h = .23 * (n - 4 * o),
        fifthWidth = m = .34 * (n - 4 * o),
        sixthWidth = u = .43 * (n - 4 * o),
        fifthHeight = S = _ = v = g = ((c - (p + 1) * o) / p - o) / 2,
        sixthHeight = fifthHeight,
        i.find(".moreCardTd").each(function(e, t) {
            0 == (e %= 6) ? ($(this).css("width", u + "px"),
            $(this).css("height", g + "px")) : 1 == e ? ($(this).css("width", m + "px"),
            $(this).css("height", v + "px")) : 2 == e ? ($(this).css("width", h + "px"),
            $(this).css("height", _ + "px")) : 3 == e ? ($(this).css("width", f + "px"),
            $(this).css("height", S + "px")) : 4 == e ? ($(this).css("width", fifthWidth + "px"),
            $(this).css("height", fifthHeight + "px")) : 5 == e && ($(this).css("width", sixthWidth + "px"),
            $(this).css("height", sixthHeight + "px"))
        })
    }
    Site.adjustPhotoMoreCardImgSize(i)
}
,
Site.nophotoMoreCardInit = function(e, t) {
    var i = $("#module" + e)
      , a = i.find(".photoMoreCardTable")
      , o = parseInt(a.attr("cellspacing"))
      , n = i.width();
    i.height();
    if (0 == t) {
        var r = i.find(".noPhoto").length
          , s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = i.find(".moreCardTd").eq(s - 1).width(),
        d = i.find(".moreCardTd").eq(s - 2).width() - l - o,
        i.find(".noPhoto").eq(0).css("width", d + "px")) : 2 == r ? (c = d = ((l = i.find(".moreCardTd").eq(s - 1).width()) - o) / 2,
        i.find(".noPhoto").eq(0).css("width", d + "px"),
        i.find(".noPhoto").eq(1).css("width", c + "px")) : 3 == r && (d = n - (l = i.find(".moreCardTd").eq(s - 1).width()) - 3 * o,
        c = (n - l - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", d + "px"),
        i.find(".noPhoto").eq(1).css("width", c + "px"),
        i.find(".noPhoto").eq(2).css("width", c + "px"))
    } else if (1 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = i.find(".moreCardTd").eq(s - 1).width(),
        d = i.find(".moreCardTd").eq(s - 2).width() + l + o,
        i.find(".noPhoto").eq(0).css("width", d + "px")) : 2 == r ? (c = (d = n - 3 * o - (l = i.find(".moreCardTd").eq(s - 2).width())) - i.find(".moreCardTd").eq(s - 1).width() - o,
        i.find(".noPhoto").eq(0).css("width", c + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px")) : 3 == r && (d = n - (l = i.find(".moreCardTd").eq(s - 1).width()) - 3 * o,
        c = (n - l - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", c + "px"),
        i.find(".noPhoto").eq(1).css("width", c + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"))
    } else if (2 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = i.find(".moreCardTd").eq(s - 4).width(),
        d = n - i.find(".moreCardTd").eq(s - 1).width() - l - 4 * o,
        i.find(".noPhoto").eq(0).css("width", d + "px")) : 2 == r ? (d = (n - 4 * o - (l = i.find(".moreCardTd").eq(s - 3).width())) / 2,
        i.find(".noPhoto").eq(0).css("width", d + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px")) : 3 == r ? (l = i.find(".moreCardTd").eq(s - 2).width(),
        d = n - i.find(".moreCardTd").eq(s - 1).width() - l - 4 * o,
        c = (n - l - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", d + "px"),
        i.find(".noPhoto").eq(1).css("width", c + "px"),
        i.find(".noPhoto").eq(2).css("width", c + "px")) : 4 == r && (d = (n - 4 * o - (l = i.find(".moreCardTd").eq(s - 1).width())) / 2,
        i.find(".noPhoto").eq(0).css("width", d + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"))
    } else if (3 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", l + "px")) : 4 == r && (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"))
    } else if (4 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", l + "px")) : 4 == r && (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"))
    } else if (5 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        d = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px")) : 4 == r && (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        d = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"))
    } else if (6 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", l + "px")) : 4 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - i.find(".moreCardTd").eq(s - 3).width() - 5 * o,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px")) : 5 == r ? (l = (n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 5 * o) / 2,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"),
        i.find(".noPhoto").eq(4).css("width", d + "px")) : 6 == r && (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 5 * o) / 3,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", l + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"),
        i.find(".noPhoto").eq(4).css("width", d + "px"),
        i.find(".noPhoto").eq(5).css("width", d + "px"))
    } else if (7 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        d = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px")) : 4 == r && (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        d = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"))
    } else if (8 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", l + "px")) : 4 == r && (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"))
    } else if (9 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - 2 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r && (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        d = n - 2 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"))
    } else if (10 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r && (l = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"))
    } else if (11 == t) {
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r && (l = n - i.find(".moreCardTd").eq(s - 1).width() - 3 * o,
        d = (n - 3 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"))
    } else if (12 == t) {
        var l, d, c;
        r = i.find(".noPhoto").length,
        s = i.find(".noPhoto").eq(0).attr("number");
        1 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        i.find(".noPhoto").eq(0).css("width", l + "px")) : 2 == r ? (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px")) : 3 == r ? (l = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", l + "px")) : 4 == r ? (l = n - i.find(".moreCardTd").eq(s - 1).width() - i.find(".moreCardTd").eq(s - 2).width() - 4 * o,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", d + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px")) : 5 == r && (l = (n - i.find(".moreCardTd").eq(s - 1).width() - 4 * o) / 2,
        d = (n - 4 * o) / 3,
        i.find(".noPhoto").eq(0).css("width", l + "px"),
        i.find(".noPhoto").eq(1).css("width", l + "px"),
        i.find(".noPhoto").eq(2).css("width", d + "px"),
        i.find(".noPhoto").eq(3).css("width", d + "px"),
        i.find(".noPhoto").eq(4).css("width", d + "px"))
    }
    Site.adjustPhotoMoreCardImgSize(i)
}
,
Site.getPhotoMoreCardVersion = function(e) {
    var t = Fai.top["photoMoreCard" + e] || {};
    return parseInt(t.version) || 0
}
,
Site.initSimpleTextContent = function(e, t, i) {
    var a = Fai.top.$("#module" + e);
    function o() {
        i.isExecInitSimpleText && Site.initSimpleText(i.initSimpleTextData)
    }
    function n(t) {
        if (t.is(":visible")) {
            var e = t.find(".simpleText");
            t.css({
                height: e.height() || t.height(),
                "min-height": "40px"
            }),
            e.css({
                height: "100%"
            }),
            o()
        } else {
            var i = t.clone();
            Fai.isIE() || Fai.isMozilla() ? i.attr("id", "").css({
                position: "absolute",
                visibility: "hidden",
                height: "auto",
                clear: "both"
            }).appendTo(Fai.top.$("body")) : i.attr("id", "").css({
                position: "absolute",
                visibility: "hidden",
                height: "auto"
            }).appendTo(Fai.top.$("body")),
            setTimeout(function() {
                var e = i.find(".simpleText");
                t.css({
                    height: e.height() || i.height(),
                    "min-height": "40px"
                }),
                t.find(".simpleText").css({
                    height: "100%"
                }),
                i.remove(),
                o()
            }, 30)
        }
    }
    function r(e) {
        !navigator.userAgent.toLowerCase().includes("bidubrowser") && document.fonts && document.fonts.ready && document.fonts.ready.then ? document.fonts.ready.then(function() {
            e && e()
        }) : setTimeout(function() {
            e && e()
        }, 700)
    }
    1 != t && 2 != t ? (Fai.isIE() || Fai.isMozilla() ? a.css({
        height: "auto",
        clear: "both"
    }) : a.css({
        height: "auto"
    }),
    r(function() {
        n(a)
    })) : r(function() {
        o()
    }),
    Site.checkIEGradientText(e),
    Site.initFontFaceText(e, i.fontList)
}
,
Site.checkIEGradientText = function(e) {
    function d(e) {
        var t = /linear-gradient\((\d+)deg,rgb[a]?\((\d+),(\d+),(\d+)(?:,(\d+(?:\.\d+)?))?\)(.*?)%,rgb[a]?\((\d+),(\d+),(\d+)(?:,(\d+(?:\.\d+)?))?\)(.*?)%\)/.exec(e.replace(/\s/g, ""));
        return t ? {
            d: t[1],
            r: t[2],
            g: t[3],
            b: t[4],
            a: "undefined" == typeof t[5] ? "1" : t[5],
            p: t[6],
            r2: t[7],
            g2: t[8],
            b2: t[9],
            a2: "undefined" == typeof t[10] ? "1" : t[10],
            p2: t[11]
        } : null
    }
    Fai.isIE() && $("#module".concat(e)).find("*[style*=background-image]").each(function(e, t) {
        var i = $(t)
          , a = i.attr("style").replace(/\s/g, "");
        if (a.includes("linear-gradient")) {
            var o = d(a);
            if (null != o) {
                var n = o.r
                  , r = o.g
                  , s = o.b
                  , l = o.a;
                i.css({
                    color: "rgba(".concat(n, ", ").concat(r, ", ").concat(s, ", ").concat(l, ")")
                })
            } else
                i.css({
                    color: "#333"
                })
        }
    })
}
,
Site.initFontFaceText = function(e, t) {
    Fai.top._manageMode && Array.isArray(t) && 0 < t.length && (Site.initFontFace(t),
    Site.getModuleAttr(e).data.oldFontList = $.extend(!0, [], t))
}
,
function() {
    window._$scrollDom = null;
    var c = []
      , b = []
      , t = null
      , i = Date.parse(new Date);
    Site.initDynamicNumberAnimation = function(e, t) {
        Fai.top.$("#module" + e).attr("_numbercanrun", 0),
        setTimeout(function() {
            n(e, t.list) ? r({
                moduleId: e,
                initData: t
            }) : (c.push({
                moduleId: e,
                initData: t
            }),
            m().off("scroll.dynamicAnimation").on("scroll.dynamicAnimation", o))
        }, 0)
    }
    ,
    Site.triggerScroll = function(e) {
        !e || -1 !== e.attr("id").indexOf(b) && 0 !== b.length || b.push(e.attr("id")),
        m().trigger("scroll.dynamicAnimation")
    }
    ;
    var p = 6;
    Site.setNumberList = function(e, t, i) {
        for (var a = $("#module" + e), o = i + "", n = t + "", r = [], s = "0", l = o.length - n.length, d = 0; d < l; d++)
            n = s.concat(n);
        r.push("<div class='jz_dynamic_num_list_item'>" + n + "</div>"),
        u(t, i, p - 1).forEach(function(e) {
            r.push("<div class='jz_dynamic_num_list_item'>" + e + "</div>")
        }),
        r.push("<div class='jz_dynamic_num_list_item'>" + o + "</div>"),
        a.find(".jz_dynamicNum_list").html(r)
    }
    ;
    var u = function u(e, t, i) {
        var a = []
          , o = t - e;
        if (i < o)
            for (var n = i + 1, r = o / n, s = 1; s < n; s++) {
                var l = Math.floor(s * r + e);
                a.push(l)
            }
        else
            for (var d = e + 1; d < t; d++)
                a.push(d);
        var c = function c(e) {
            return "0".repeat(String(t).length - String(e).length) + e
        };
        return a.map(c)
    };
    function a() {
        c.forEach(function(e) {
            n(e.moduleId, e.initData.list) && r(e)
        })
    }
    function o() {
        null !== t && clearTimeout(t);
        var e = Date.parse(new Date);
        1e3 <= e - i ? (a(),
        i = e) : t = setTimeout(a, 100)
    }
    function n(e, t) {
        var i = Fai.top.$("#module" + e)
          , a = Fai.top.$(".floatRightBottom")
          , o = Fai.top.$(".floatLeftTop")
          , n = i.offset()
          , r = i.height()
          , s = i.width()
          , l = n.top
          , d = n.left
          , c = a.offset()
          , p = o.offset()
          , u = c.top
          , m = c.left
          , h = p.top
          , f = x(Site.checkNestModule(i))
          , g = l + r
          , v = d + s
          , _ = Site.getModuleAttrAnimation ? Site.getModuleAttrAnimation(e).list[0].t : t ? t[0].t : 0;
        if (!i.is(":visible") || "1" === i.attr("_side") && -1 === b.indexOf(i.attr("id")) || 0 !== _ && -1 === b.indexOf(i.attr("id")))
            return !1;
        if (0 < f) {
            var S = Fai.top.$("#module" + f);
            if (i.parentsUntil(S).filter(".fullmeasureOuterContentPage").hasClass("hideFmOuterContentPage"))
                return !1
        }
        return g <= u && h < g && v <= m && 0 <= d && "0" === i.attr("_numbercanrun")
    }
    function r(n) {
        var r = n.moduleId
          , e = n.initData
          , s = e.endNumber
          , l = e.continued
          , t = e.delay
          , d = Fai.top.$("#module" + r);
        d.attr("_numbercanrun", 1),
        setTimeout(function() {
            var e = d.find(".jz_dynamicNum_visit")
              , t = e.find(".dynamic_number_text")
              , i = d.find(".jz_dynamicNum_list")
              , a = i.children().length - 1;
            t.innerHeight() || (t = e.find(".fk-editor-break-dynamic-number"));
            var o = -t.innerHeight() * a + "px";
            e.css("opacity", "0"),
            i.animate({
                marginTop: o
            }, 1e3 * l, "swing", function() {
                i.css("display", "none"),
                t.text(s),
                e.css("opacity", "1").find(".J_dynamic_number" + r).text(s),
                c.splice(c.indexOf(n), 1),
                c.length < 1 && m().off("scroll.dynamicAnimation")
            })
        }, 1e3 * t)
    }
    function x(e) {
        var t;
        return e.inPack || e.inCol || e.inTab ? (t = Fai.top.$("#module" + e.parentId),
        x(Site.checkNestModule(t))) : e.inFullmeasure ? e.parentId : 0
    }
    function m() {
        if (window._$scrollDom)
            return window._$scrollDom;
        var e = Fai.top || window;
        return window._$scrollDom = $(e),
        e._manageMode && (window._$scrollDom = e.$(e)),
        window._$scrollDom
    }
}(),
function(C, S, F) {
    var I = {}
      , b = !1
      , P = !1
      , s = !1
      , l = !1
      , k = 0
      , L = 0
      , d = []
      , T = 5;
    function o(e, t, i, a) {
        S.setModuleFmSlideStyleAndPage(e, t, i, a),
        S.clearAnimate(e),
        S.bindModuleEvent(e),
        S.refFillRelativeDivHeight(e)
    }
    function n(e) {
        _typeof2(I[e]) != F && "animateCt"in I[e] && clearInterval(I[e].animateCt);
        var t = {};
        I[e] = t;
        var i = C("#module" + e)
          , a = i.find(".fullmeasureOuterContentPage")
          , o = a.eq(0);
        if (0 < i.find(".fillContentRelative").length) {
            o.height();
            i.find(".formWrap").css({
                position: "relative"
            }),
            a.css({
                position: "absolute"
            })
        }
        if (a.length <= 1 && "1" != i.attr("_videobg"))
            Fai.top._manageMode || 1 != a.length || a.css({
                position: "static"
            });
        else {
            a.each(function(e, t) {
                var i = C(t)
                  , a = C(t).attr("page");
                _typeof2(a) == F && (a = 1e3,
                i.attr("1000"))
            });
            var n = parseInt(i.attr("isCarousel"));
            if (isNaN(n) && (n = 0),
            1 == n) {
                var r = parseFloat(i.attr("displayTime"));
                isNaN(r) && (r = 4);
                var s = parseFloat(i.attr("carouselSpeed"));
                isNaN(s) && (s = 1);
                var l = 1e3 * (s + r);
                t.animateCt = setInterval("Site.inFullmeasueAnimation.slide('" + e + "');", l)
            }
        }
    }
    function x(e) {
        e.find(".J_fullmeasurePageShow").css({
            width: "",
            left: 0
        }).hide().eq(0).show()
    }
    function w(e) {
        return 0 < Fai.top.jzModule.SiteModule.find(e).module.prop2
    }
    C(function() {
        var e = C(".formStyle80, .formStyle109");
        setTimeout(function() {
            P = !0,
            (0 < d.length || Fai.top._manageMode) && C("body").off("mousemove.fmGmainMousemove").on("mousemove.fmGmainMousemove", function(e) {
                if (Fai.top._manageMode)
                    if (0 < C(".popupBg").length) {
                        if (!l) {
                            l = !0,
                            k = 0;
                            var t = C(".formStyle80, .formStyle109");
                            0 < t.length && t.each(function(e, t) {
                                var i = C(t).attr("id");
                                _typeof2(i) != F && C("#module" + i.replace("module", "")).data("mouseenter", !1)
                            })
                        }
                    } else
                        l = !1;
                if (0 < d.length) {
                    if (s)
                        return;
                    s = !0,
                    k = 0;
                    for (var i = (e || window.event).clientY, a = !1, o = 0; o < d.length; o++) {
                        var n = C("#module" + d[o]).height()
                          , r = C("#module" + d[o])[0].getBoundingClientRect().top;
                        if (r <= i && i <= n + r) {
                            k = d[o],
                            a = !0;
                            break
                        }
                    }
                    a || (k = 0),
                    s = !1
                }
            }),
            Fai.top._manageMode && C("body").off("click.fmGmainClick").on("click.fmGmainClick", function() {
                0 != L && L != k && "block" != C("#faiFloatPanel").css("display") && (L = 0)
            })
        }, 1500),
        (0 < e.length || Fai.top._manageMode) && (e.each(function(e, t) {
            var i = C(t).attr("id");
            _typeof2(i) != F && S.refFillRelativeDivHeight(i.replace("module", ""), !0);
            var a = C(t)
              , o = a.find(".J_fullmeasurePageShow");
            if (0 < o.length) {
                for (var n = 0; n < o.length; n++)
                    "block" != o.eq(n).css("display") && o.eq(n).addClass("hideFmOuterContentPage").css("display", "block");
                setTimeout(function() {
                    a.find(".formTabButtonHover").click();
                    var e = a.attr("fmslidestyle");
                    setTimeout(function() {
                        a.find(".hideFmOuterContentPage").removeClass("hideFmOuterContentPage").css("display", "none"),
                        e == T && a.find(".J_fullmeasurePageShow").show()
                    }, 100)
                }, 1e3)
            }
        }),
        setTimeout(function() {
            b = !0,
            e.each(function(e, t) {
                var i = C(t).attr("id");
                _typeof2(i) != F && (i = i.replace("module", ""),
                S.refFillRelativeDivHeight(i, !0),
                S.dynamicSetArrowDom(i))
            })
        }, 1e3),
        C(window).resize(function(e) {
            e.target === window && C(".formStyle80, .formStyle109").each(function(e, t) {
                var i = C(t).attr("fmslidestyle")
                  , a = C(t).attr("id");
                _typeof2(a) != F && (a = a.replace("module", ""),
                S.buildFmSlideStyleDom(a, i))
            })
        }))
    }),
    S.fmAddModuleStopCarousel = function(e) {
        if (w(e) && _typeof2(e) != F) {
            if (Fai.top._manageMode) {
                var t = C("#module" + e);
                if (!t.hasClass("formStyle80") && !t.hasClass("formStyle109")) {
                    var i = Site.checkNestModule(t);
                    i.inFullmeasure && (e = i.parentId)
                }
            }
            setTimeout(function() {
                L = e
            }, 500)
        }
    }
    ,
    S.setFmCarouselIdList = function(e, t) {
        for (var i = !1, a = d.length - 1; 0 <= a; a--)
            if (d[a] == e) {
                1 != t && d.splice(a, 1),
                i = !0;
                break
            }
        i || 1 == t && (d[d.length] = e)
    }
    ,
    S.setModuleFmSlideStyleAndPage = function(e, t, i, a) {
        _typeof2(e) != F && _typeof2(t) != F && _typeof2(i) != F && (C("#module" + e).attr("fmSlideStyle", t),
        C("#module" + e).attr("fmPage", i),
        C("#module" + e).attr("isCarousel", a.c),
        C("#module" + e).attr("displayTime", a.d),
        C("#module" + e).attr("carouselSpeed", a.s),
        C("#module" + e).attr("cuscarousel", a.u),
        S.buildFmSlideStyleDom(e, t),
        S.setFmCarouselIdList(e, a.c),
        n(e))
    }
    ,
    S.clearAnimate = function(e) {
        if (e in I) {
            var t = I[e];
            "animateCt"in t && clearInterval(t.animateCt),
            "animateSlide"in t && clearInterval(t.animateSlide)
        }
    }
    ,
    S.bindModuleEvent = function(e) {
        var t = C("#module" + e);
        t.off("mouseenter.fullmeasureAnimate").on("mouseenter.fullmeasureAnimate", function() {
            C(this).data("mouseenter", !0)
        }),
        t.off("mouseleave.fullmeasureAnimate").on("mouseleave.fullmeasureAnimate", function() {
            C(this).data("mouseenter", !1)
        })
    }
    ,
    S.refFillRelativeDivHeight = function(e, t) {}
    ,
    S.refreshSlideArrowPositon = function(e) {
        var t = C("#module" + e).attr("fmslidestyle");
        S.buildFmSlideStyleDom(e, t)
    }
    ,
    S.slide = function(e, t, i, a) {
        if (P) {
            var $ = I[e]
              , o = C("#module" + e);
            if (0 != a) {
                if (Fai.top._manageMode) {
                    if (C("body").children(".popupBg").length || 0 < C(".moduleMaskContainer").length)
                        return;
                    if ("block" == C("#faiFloatPanel").css("display") && e == L)
                        return
                }
                if (1 == o.data("stopCarousel"))
                    return;
                if (k == e)
                    return
            }
            var n = parseInt(o.attr("isCarousel"));
            isNaN(n) && (n = 0);
            var r = n;
            _typeof2(a) != F && (n = a);
            var y = parseFloat(o.attr("carouselSpeed"));
            if (isNaN(y) && (y = 1),
            (1 != n || 1 != o.data("mouseenter")) && 1 != o.data("animateSlide")) {
                o.data("animateSlide", !0);
                var s = o.find(".J_fullmeasurePageShow");
                if ("animateSlide"in $ && clearInterval($.animateSlide),
                s.length <= 1)
                    o.data("animateSlide", !1);
                else {
                    var l, d, c, p = !0;
                    if (1 == n)
                        for (var u = 0; u < s.length; u++) {
                            if ("block" == (m = s.eq(u)).css("display")) {
                                d = m,
                                l = (c = u) < s.length - 1 ? (t = parseInt(u) + 1,
                                s.eq(t)) : (t = 0,
                                s.eq(0));
                                break
                            }
                        }
                    else {
                        for (u = 0; u < s.length; u++) {
                            var m;
                            if ("block" == (m = s.eq(u)).css("display") && u != t) {
                                d = m,
                                c = u;
                                break
                            }
                        }
                        l = s.eq(t)
                    }
                    if (_typeof2(l) == F || null == l || l.length <= 0)
                        o.data("animateSlide", !1);
                    else if (_typeof2(d) == F || null == d || d.length <= 0)
                        o.data("animateSlide", !1);
                    else {
                        t < c && (p = !1),
                        1 == i && 0 == t && (p = !0),
                        1 == n && (p = !0);
                        var h = o.width()
                          , f = 0
                          , g = parseInt(h / parseInt(1e3 * y / 40));
                        if (1 != r && (g = 150),
                        "animateSlide"in $ && clearInterval($.animateSlide),
                        o.attr("fmSlideStyle") == T) {
                            var v = parseInt(o.find(".J_fullmeasure_page_show__current").attr("page")) - 1
                              , _ = Fai.top.$("#webContainer").width()
                              , S = w({
                                currentIndex: v,
                                move: p ? -_ : _,
                                $module: o,
                                maxIndex: o.find(".J_fullmeasurePageShow").length - 1
                            });
                            $.animateSlide = setInterval(S, 40)
                        } else {
                            o.find(".fmSlideStyleShow").removeClass("fmSlideStyleShow"),
                            o.find(".fmSlideStyle").eq(t).addClass("fmSlideStyleShow");
                            var b = p ? h : "-" + h + "px";
                            l.css({
                                left: b,
                                display: "block"
                            }),
                            $.animateSlide = setInterval(x, 40)
                        }
                    }
                }
            }
        }
        function x() {
            var e = l.css("left").replace("px", "")
              , t = !1;
            (t = p ? e <= 0 || h <= f : 0 <= e || h <= f) && "animateSlide"in $ && (clearInterval($.animateSlide),
            jzUtils.run({
                name: "moduleAnimation.publish",
                base: Fai.top.Site
            }),
            jzUtils.run({
                name: "moduleAnimation.contentAnimationPublish",
                base: Fai.top.Site
            }),
            jzUtils.run({
                name: "triggerScroll",
                base: Fai.top.Site
            }));
            var i = t ? 0 : p ? "-" + f + "px" : f + "px";
            e = t ? 0 : p ? parseInt(h) - parseInt(f) + "px" : parseInt("-" + h) + parseInt(f) + "px";
            d.css("left", i),
            l.css("left", e),
            t ? (d.css("display", "none"),
            l.css("display", "block"),
            o.data("animateSlide", !1)) : f += g
        }
        function w(e) {
            var t = e.currentIndex
              , i = e.maxIndex
              , a = 0 === t ? i : t - 1
              , o = t === i ? 0 : t + 1
              , n = e.move
              , r = e.$module
              , s = r.find(".J_fullmeasurePageShow").eq(t)
              , l = r.find(".J_fullmeasurePageShow").eq(a)
              , d = r.find(".J_fullmeasurePageShow").eq(o)
              , c = parseFloat(s.css("left"))
              , p = parseFloat(l.css("left"))
              , u = parseFloat(d.css("left"))
              , m = c + n
              , h = p + n
              , f = u + n;
            1 == i && (p = u = c - n,
            h = f = c - n + n);
            var g = 0;
            g = 0 < n ? 0 === a ? i : a - 1 : o === i ? 0 : o + 1;
            var v = 0;
            v = 0 < n ? p - Math.abs(n) : u + Math.abs(n);
            var _ = r.find(".J_fullmeasurePageShow").eq(g)
              , S = v + n
              , b = Fai.top.$("#webContainer").width()
              , x = parseInt(b / parseInt(1e3 * y / 40));
            return function w() {
                var e = 0 < n ? m <= c : c <= m;
                e && "animateSlide"in $ && (clearInterval($.animateSlide),
                jzUtils.run({
                    name: "moduleAnimation.publish",
                    base: Fai.top.Site
                }),
                jzUtils.run({
                    name: "moduleAnimation.contentAnimationPublish",
                    base: Fai.top.Site
                }),
                jzUtils.run({
                    name: "triggerScroll",
                    base: Fai.top.Site
                })),
                e ? (c = m,
                p = h,
                u = f,
                v = S) : 0 < n ? (c += x,
                p += x,
                u += x,
                v += x) : (c -= x,
                p -= x,
                u -= x,
                v -= x),
                s.css("left", c),
                l.css("left", p),
                d.css("left", u),
                1 === i || (e || !e && 0 < n && 0 <= p || !e && n < 0 && c <= 0) && _.css("left", v);
                e && (r.data("animateSlide", !1),
                s.removeClass("J_fullmeasure_page_show__current"),
                0 < n ? l.addClass("J_fullmeasure_page_show__current") : d.addClass("J_fullmeasure_page_show__current"))
            }
        }
    }
    ,
    S.animateFm = function(e, t, i, a) {
        o(e = e + "", t, i, a),
        n(e)
    }
    ,
    S.slideArrow = function(e, t) {
        var i = C("#module" + e).find(".J_fullmeasurePageShow")
          , a = i.length;
        if (!(a <= 1)) {
            var o = 0;
            if (i.each(function(e, t) {
                if ("block" == C(t).css("display"))
                    return o = e,
                    !1
            }),
            1 == t)
                o--;
            else {
                if (2 != t)
                    return;
                o++
            }
            o < -1 ? o = a - 1 : a <= o && (o = 0),
            S.slide(e, o, 2 == t, 0)
        }
    }
    ,
    S.dynamicSetArrowDom = function(e) {
        if (w(e)) {
            var t = Fai.top.$("#module" + e);
            t.attr("fmslidestyle") == T ? (i(t),
            a(t)) : o(t)
        }
        function i(e) {
            var t = e.find(".J_fullmeasure_three_pic_carousel_mask__prev")
              , i = e.find(".J_fullmeasure_three_pic_carousel_mask__next")
              , a = e.width()
              , o = e.height()
              , n = Fai.top.$("#webContainer").width()
              , r = n
              , s = o
              , l = n - (a - n) / 2;
            t.css({
                width: r,
                height: s,
                left: -l
            }),
            i.css({
                width: r,
                height: s,
                right: -l
            })
        }
        function a(e) {
            var t = e.attr("_moduleid")
              , i = e.find(".J_fullmeasure_three_pic_carousel_arrow__prev")
              , a = e.find(".J_fullmeasure_three_pic_carousel_arrow__next")
              , o = e.find(".J_fullmeasure_three_pic_carousel_mask_content__prev")
              , n = e.find(".J_fullmeasure_three_pic_carousel_mask_content__next");
            function r() {
                C(this).addClass("fk_fullmeasure_three_pic_carousel_arrow__hover")
            }
            function s() {
                C(this).removeClass("fk_fullmeasure_three_pic_carousel_arrow__hover")
            }
            function l(e) {
                Site.inFullmeasueAnimation.slideArrow(e.data, 1)
            }
            function d(e) {
                Site.inFullmeasueAnimation.slideArrow(e.data, 2)
            }
            i.hover(r, s),
            a.hover(r, s),
            i.on("click.fullmeasureThreePicCarouselSlide", null, t, l),
            o.on("click.fullmeasureThreePicCarouselSlide", null, t, l),
            a.on("click.fullmeasureThreePicCarouselSlide", null, t, d),
            n.on("click.fullmeasureThreePicCarouselSlide", null, t, d)
        }
        function o(i) {
            var a = i.find(".fmSlideStyleArrowBase");
            function e() {
                var e = i.height()
                  , t = parseInt((parseInt(e) - 80) / 2);
                a.css({
                    top: t + "px",
                    display: "block"
                })
            }
            0 < a.length ? "none" == a.css("display") ? setTimeout(e, 500) : e() : b && setTimeout(function() {
                0 < i.find(".J_fmSlideStyle").length && (i.height() < 40 ? i.find(".J_fmSlideStyle").css("display", "none") : i.find(".J_fmSlideStyle").css("display", "block"))
            }, 500)
        }
    }
    ,
    S.buildFmSlideStyleDom = function(e, t) {
        var i = C("#module" + (e = e + ""));
        if (i.find(".J_fmSlideStyle").remove(),
        w(e)) {
            var a = i.find(".J_fullmeasurePageShow");
            x(i);
            var o = a.length;
            if (!(o <= 1)) {
                var n = 0;
                a.each(function(e, t) {
                    if ("block" == C(t).css("display"))
                        return n = e,
                        !1
                });
                var r = [];
                if (t == T)
                    r = v(),
                    i.append(r.join("")),
                    _(i);
                else if (3 == t) {
                    var s = a.find(".fullmeasureContent").width()
                      , l = C(document.body).width()
                      , d = 0;
                    184 < l - s ? (d = parseInt((parseInt(l) - parseInt(s)) / 2 - 92),
                    Fai.top._manageMode && (d -= 10)) : d = 20;
                    var c = "style='display:none;left:" + (d += "px") + ";'"
                      , p = "style='display:none;right:" + d + ";''"
                      , u = ""
                      , m = ""
                      , h = "";
                    u = "J_fmSlideStyle fmSlideStyleArrowBase fmSlideStyleArrowLast fmSlideStyle" + t,
                    m = "J_fmSlideStyle fmSlideStyleArrowBaseBg fmSlideStyleArrowBase fmSlideStyleArrowLast",
                    r.push("<div " + c + " class='" + m + "'></div><div " + c + " class='" + u + "' onclick='Site.inFullmeasueAnimation.slideArrow(" + e + ", 1)'></div>"),
                    u = "J_fmSlideStyle fmSlideStyleArrowBase fmSlideStyleArrowNext fmSlideStyle" + t,
                    m = "J_fmSlideStyle fmSlideStyleArrowBaseBg  fmSlideStyleArrowBase fmSlideStyleArrowNext",
                    h = "Site.inFullmeasueAnimation.slideArrow(" + e + ", 'next')",
                    r.push("<div " + p + "  class='" + m + "'></div><div " + p + " class='" + u + "' onclick='Site.inFullmeasueAnimation.slideArrow(" + e + ", 2)'></div>"),
                    i.append(r.join(""))
                } else {
                    var f = "";
                    b || (f = "style='display:none;'"),
                    r.push("<div " + f + " class='fmSlideStyleWrap J_fmSlideStyle'>");
                    u = "",
                    h = "";
                    for (var g = 0; g < o; g++)
                        u = "fmSlideStyle fmSlideStyle" + t,
                        h = "Site.inFullmeasueAnimation.slide(" + e + "," + g + ", false, 0)",
                        g == n && (u += " fmSlideStyleShow"),
                        r.push("<div class='" + u + "' onclick='" + h + "'></div>");
                    r.push("</div>"),
                    i.append(r.join(""))
                }
                S.dynamicSetArrowDom(e)
            }
        }
        function v() {
            var e = [];
            return e.push('<div class="J_fmSlideStyle fk_fullmeasure_three_pic_carousel_arrow fk_fullmeasure_three_pic_carousel_arrow__prev J_fullmeasure_three_pic_carousel_arrow__prev">'),
            e.push('<i class="f_fullmeasure_three_pic_carousel_arrow_icon f_fullmeasure_three_pic_carousel_arrow_icon__prev"></i>'),
            e.push("</div>"),
            e.push('<div class="J_fmSlideStyle fk_fullmeasure_three_pic_carousel_arrow fk_fullmeasure_three_pic_carousel_arrow__next J_fullmeasure_three_pic_carousel_arrow__next">'),
            e.push('<i class="f_fullmeasure_three_pic_carousel_arrow_icon f_fullmeasure_three_pic_carousel_arrow_icon__next"></i>'),
            e.push("</div>"),
            e.push('<div class="J_fmSlideStyle fk_fullmeasure_three_pic_carousel_mask fk_fullmeasure_three_pic_carousel_mask__prev J_fullmeasure_three_pic_carousel_mask__prev">'),
            e.push('<div class="f_three_pic_carousel_mask_content J_fullmeasure_three_pic_carousel_mask_content__prev"></div>'),
            e.push("</div>"),
            e.push('<div class="J_fmSlideStyle fk_fullmeasure_three_pic_carousel_mask fk_fullmeasure_three_pic_carousel_mask__next J_fullmeasure_three_pic_carousel_mask__next">'),
            e.push('<div class="f_three_pic_carousel_mask_content J_fullmeasure_three_pic_carousel_mask_content__next"></div>'),
            e.push("</div>"),
            e
        }
        function _(e) {
            var t = e.width()
              , i = (e.height(),
            Fai.top.$("#webContainer").width())
              , a = (t - i) / 2
              , o = i - a
              , n = e.find(".J_fullmeasurePageShow");
            n.css("width", i),
            n.each(function(e) {
                var t = 0;
                t = e == n.length - 1 ? -o : a + e * i,
                C(this).css("left", t)
            }),
            n.show(),
            n.removeClass("J_fullmeasure_page_show__current"),
            n.eq(0).addClass("J_fullmeasure_page_show__current"),
            e.find(".J_fullmeasurePageHide").hide()
        }
    }
    ,
    S.refreshThreePicCarousel = function() {
        C(".formStyle80, .formStyle109").each(function(e, t) {
            var i = C(t).attr("fmslidestyle");
            if (i == T) {
                var a = C(t).attr("id");
                _typeof2(a) != F && (a = a.replace("module", ""),
                S.buildFmSlideStyleDom(a, i))
            }
        })
    }
}(jQuery, Site.inFullmeasueAnimation || (Site.inFullmeasueAnimation = {}), "undefined"),
function() {
    var i = 1e3
      , a = {};
    function t(e) {
        var t = $("#module" + e);
        return 0 < t.length && "none" !== t.css("display") && t.hasClass("formStyle109") && 0 === $("#hiddenModuleForms").find("#module" + e).length
    }
    function o(e) {
        clearTimeout(a["module" + e]),
        delete a["module" + e]
    }
    function n(e, t) {
        a["module" + e] = t
    }
    function r(e) {
        o(e);
        var t = setTimeout(function() {
            s(e),
            r(e)
        }, i);
        n(e, t)
    }
    function s(e) {
        if (!t(e))
            return o(e);
        Site.resetXPackModuleAutoHeight($("#module" + e))
    }
    Site.setFullmeasurePackTimer = function(e) {
        if (!jzSite.mutationObserver.isGrayTest())
            return t(e) ? void r(e) : o(e)
    }
}(),
function() {
    Site.resetModuleHeightInFmVideoBg = function(e) {
        $("#module".concat(e)).find(".form").each(function() {
            var e = $(this)
              , t = e.parent()
              , i = parseInt(e.css("top"))
              , a = e.outerHeight()
              , o = t.outerHeight();
            o < i + a && e.css("top", o - a + "px")
        })
    }
    ;
    var o = function o(e) {
        if (!Fai.isPC()) {
            var t = $("#module".concat(e))
              , i = t.find(".fullmeasureVideo")
              , a = t.find(".fullmeasure_video_background");
            i.remove(),
            a.text("手机端暂不支持视频背景").addClass("mobi_not_support_tips")
        }
    };
    Site.initFullMeasureVideoBg = function(e) {
        $("#module".concat(e)).attr("_videobg", "1"),
        o(e),
        Site.resetModuleHeightInFmVideoBg(e)
    }
}(),
function(o, u) {
    if (window == Fai.top) {
        u.pZone = null,
        u.openZone = function(e, t, i) {
            window.site_cityUtil ? a(e, t, i) : $LAB.script(Fai.top._cityJsLink).wait(function() {
                a(e, t, i)
            })
        }
        ,
        u.closeZone = function() {
            u.pZone && u.pZone.destroy()
        }
        ,
        u.PopupZone = function(e, t, i, a) {
            t = t || e && e.attr("id").replace("module", ""),
            e = e || t && Fai.top.$("#module" + t);
            this.id = t,
            this.module = e,
            this.create = a || !1,
            this.funPanel = null,
            this.editing = !1,
            this.enterStatus = !!i,
            this.extDomModules = [79, 81, 86],
            this.allPopupZoneList = [],
            this.historyModules = [],
            this.switchActive = !1
        }
        ,
        u.PopupZone.prototype.destroy = function() {
            var e = this;
            return module = this.module,
            extDomModules = this.extDomModules,
            Fai.top._manageMode && !e.manageDestroy() ? (delete e.isSwitching,
            !1) : ("undefined" != typeof e.isFormType && (delete e.isFormType,
            Fai.top._popupZone && delete Fai.top._popupZone.isFormType),
            e.isSwitching || (delete u.from,
            Fai.top.Fai.removeBg("popupZone")),
            this.module.remove(),
            Fai.top.$("#popupLevel").removeClass("popupLevelShow"),
            Fai.top.$("html").removeClass("popupZoneShow_gHtml"),
            u.pZone = null,
            $(window).off("resize.pz"),
            delete u.id,
            delete e.isSwitching,
            !0)
        }
        ,
        u.PopupZone.prototype.show = function(e) {
            var t = this;
            Fai.top.$("#popupBgpopupZone").length < 1 && Fai.top.Fai.bg("popupZone", null, null, "popupZoneDelOnlyById", !0),
            0 == Fai.top.$("link[href='" + Fai.top._floatBtnCssLink + "']").length && Fai.top.$('<link type="text/css" href="' + Fai.top._floatBtnCssLink + '" rel="stylesheet">').appendTo(top.$("head")),
            Fai.top.$("#popupLevel").appendTo(Fai.top.$("body")),
            Fai.top.$("#popupLevelForms").append(this.module),
            Fai.top.$("body").append(e),
            this.module = Fai.top.$("#module" + this.id),
            u.delay(function() {
                t.module.addClass("popupZoneScale"),
                t.inModuleInit()
            }),
            this.module.find(".popupZoneAreaClose").off("click.pz").on("click.pz", function(e) {
                o.logDog(200302, 1),
                t.hide(),
                localStorage.getItem("refreshWhenPopupClosed") && (localStorage.removeItem("refreshWhenPopupClosed"),
                Fai.top.location.reload()),
                o.fixSiteWidth(),
                e.stopPropagation()
            }),
            $("#popupLevelForms").off("mousewheel.pz").on("mousewheel.pz", function(e) {
                e.stopPropagation()
            }),
            Fai.top._manageMode && t.manageShow(),
            t.calScroll(),
            $(window).off("resize.pz").on("resize.pz", function() {
                Fai.top._manageMode && t.editing && t.calEditOperateArea(),
                t.calScroll()
            }),
            delete t.enterStatus
        }
        ,
        u.PopupZone.prototype.inModuleInit = function() {
            if (!Fai.top._manageMode) {
                var e = this.module
                  , a = this.extDomModules;
                e.find(".form").each(function() {
                    var e = $(this).attr("id")
                      , t = parseInt($(this).attr("_modulestyle"))
                      , i = !0;
                    -1 < $.inArray(t, a) && (i = !1),
                    o.cacheModuleFunc.run(e, i)
                })
            }
        }
        ,
        u.PopupZone.prototype.hide = function() {
            jzUtils.run({
                name: "destroyQrCode"
            }),
            this.destroy()
        }
        ,
        u.PopupZone.prototype.ajaxDomShow = function() {
            var d = this
              , c = d.id;
            function p(e) {
                return e
            }
            e(c, function(e) {
                var t, i = $.parseJSON(e);
                if (!1 === i.success)
                    return Fai.ing("弹窗链接不见了！"),
                    Fai.top.Fai.removeBg("popupZone"),
                    Fai.top.$("#popupLevel").removeClass("popupLevelShow"),
                    void d.destroy();
                var a = i.rtInfo && $.parseJSON(i.rtInfo)
                  , o = a && a.moduleDomList && a.moduleDomList[0] && a.moduleDomList[0].dom
                  , n = a && a.moduleDomList && a.moduleDomList[0] && a.moduleDomList[0].inModuleList;
                if (!o)
                    return Fai.ing("弹窗链接不见了！"),
                    Fai.top.Fai.removeBg("popupZone"),
                    Fai.top.$("#popupLevel").removeClass("popupLevelShow"),
                    void d.destroy();
                var r = Fai.top.$(p(o))
                  , s = r.filter("script").first()
                  , l = r.filter("#module" + c).first();
                for (s.appendTo(Fai.top.$("body")),
                d.module = l,
                d.show(r.filter("script").eq(1)),
                t = 0; t < n.length; t++)
                    n[t].i && !n[t].s && d.module.find("#module" + n[t].i).hide();
                u.delay(function() {
                    r.filter("script").last().appendTo(Fai.top.$("body")),
                    jzUtils.run({
                        name: "addQrCode"
                    }),
                    jzSite.lazyLoad.checkLazyLoad(Fai.top.$("#module".concat(c)))
                }, 800)
            })
        }
        ;
        var n = !(u.PopupZone.prototype.calScroll = function() {
            var e, t = this, i = (t.id,
            t.module), a = i.height(), o = i.width(), n = Fai.top.$("#popupLevelWrap"), r = n.height(), s = n.width(), l = Fai.top.$("#popupLevelForms");
            Fai.getBrowserHeight();
            t.editing ? l.css({
                height: r - 115
            }) : l.css({
                height: r < a ? a + 40 : "100%"
            }),
            t.editing ? i.css("left", a > l.height() ? parseInt(Fai.getScrollWidth() / 2) : "") : i.css("left", a > n.height() ? parseInt(Fai.getScrollWidth() / 2) : ""),
            e = l.height(),
            i.css("marginTop", e < a ? 0 : (e - a) / 2),
            l.css("width", s < o ? o + 40 : ""),
            setTimeout(function() {
                Fai.top.$("html").addClass("popupZoneShow_gHtml")
            }, 500)
        }
        );
        o.hasPopupModuleOpen = function() {
            return u.pZone
        }
        ,
        u.delay = function(e, t) {
            setTimeout(e, t || 0)
        }
        ,
        o.openColPopupzone = function(e, t) {
            1 == e && 0 < t && (u.openZone(t),
            Fai.top._manageMode && (u.colLoadShow = !0))
        }
    }
    function a(e, t, i) {
        function a() {
            return function() {
                u.pZone && u.pZone.destroy(),
                Fai.top.$("#popupLevel").addClass("popupLevelShow"),
                u.pZone = new u.PopupZone(null,e,t),
                u.pZone.ajaxDomShow(),
                u.id = u.pZone.id,
                u.pZone.formid = i,
                u.formLinkWin = t || u.formLinkWin
            }
        }
        o.diaLogSaveBtnStillNext(a)(e, t)
    }
    function e(e, t) {
        n || (n = !0,
        $.ajax({
            type: "post",
            url: o.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/module_h.jsp",
            data: "cmd=getWafNotCk_getPopupZoneModule&_fresh=false&_colId=" + Fai.top._colId + "&_extId=" + Fai.top._extId + "&popupZoneId=" + e + "&manageMode=" + Fai.top._manageMode + "&_majorColor=" + Fai.top._majorColorData,
            error: function i() {
                Fai.ing("系统异常，请稍后重试", !0)
            },
            success: function a(e) {
                t && t(e),
                n = !1
            }
        }))
    }
}(Site, Fai.top._popupZone || (Fai.top._popupZone = {})),
$.ajaxSettings.errorCall.push(function(e, t, i) {
    var a = Site.getTopWindow()._faiAjax;
    a && a.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/logAjaxErr_h.jsp?cmd=wafNotCk_ajaxErr&error=" + Fai.encodeUrl(i) + "&status=" + t,
        data: "msg=" + Fai.encodeHtml("ajaxUrl=" + Fai.encodeUrl(e.url) + ";refer=" + Fai.encodeUrl(Fai.top.location.href))
    })
}),
function(s, l) {
    function d() {
        s(".J_subNavPack, .navV2, .navSubMenu").off("mousewheel.navPack").on("mousewheel.navPack", function(e) {
            e.preventDefault()
        })
    }
    l.initPage = function() {
        Fai.top._manageMode || !Fai.isIE7() && !Fai.isIE8() || s(window).on("load.ie", function() {
            Site.validateIEVisit()
        });
        var e = 0
          , t = setInterval(function() {
            s.each(Fai.top.$("body>iframe"), function(e, t) {
                var i = s.trim(s(t).attr("src"))
                  , a = i
                  , o = i.indexOf("http://");
                0 <= o && (0 < (o = (a = i.substring(o + 7)).indexOf("/")) && (a = a.substring(0, o)),
                0 < (o = a.indexOf(":")) && (a = a.substring(0, o)),
                Fai.isIp(a) && (s(t).remove(),
                Site.logMsg("body be iframe. iframeSrc=" + i + "; ")))
            }),
            30 <= ++e && clearInterval(t)
        }, 300);
        if (Fai.top._siteDemo) {
            var i = "";
            try {
                i = top.document.location.host
            } catch (r) {}
            document.location.host === i ? s("#sitetips").show() : s("#footerLogin").hide().prev().hide(),
            Fai.top._manageMode && (s("#sitetips").hide(),
            s("body").css("margin-bottom", "0px"))
        }
        if (Fai.isIE6())
            try {
                document.execCommand("BackgroundImageCache", !1, !0)
            } catch (r) {}
        Site.resetGmainPos(),
        Site.initForms(),
        Site.refreshForms(),
        Fai.top._Global._footerHidden && Fai.top._Global._footerHiddenAllowed || s("#footer").show(),
        Site.initPageBindAmousedown(),
        jzSite.mutationObserver.isGrayTest() ? Site.initAbsMutationObserver() : (Site.setAbsFormsHolder2(!0),
        Fai.top.setAbsFormsHolder2_interval = setInterval(function() {
            Site.setAbsFormsHolder2(!0)
        }, 1e3)),
        Site.refreshSubNavPack();
        var a = s("#web").find("iframe");
        if (0 < a.size())
            for (var o = 0; o < a.length - 1; o++)
                s(a[o]).bind("load", function() {
                    Site.fixWebFooterHeight()
                });
        else
            Site.fixWebFooterHeight();
        Site.refreshDefaultBannerEdge(),
        Fai.top._uiMode && Fai.top.$("#nav .navCenter .item").eq(0).mouseover(),
        Site.initPagenationEvent(),
        Site.initPageWithLogDog(),
        Site.serviceLogDog(),
        Fai.top._manageMode || 14 == Fai.getUrlParam(window.location.href, "errno") && Fai.ing(LS.memberLoginNoPermission);
        if (Site.imitateHoverEventForAndroid && Site.imitateHoverEventForAndroid(),
        !s.cookie("domainInBaidu") && Fai.top._manageMode) {
            var n = new Date;
            n.setTime(n.getTime() + 432e5),
            s.cookie("domainInBaidu", Fai.top.domainInBaidu, {
                expires: n,
                path: "/"
            })
        }
        l.initFooter(),
        l.fixHashJump(),
        Site.limitSubmitMsg(),
        l.fixSiteScrollMiddle(),
        Site.checkModulePopup(),
        d()
    }
    ,
    l.fixSiteScrollMiddle = function() {}
}(jQuery, Site),
Site.initPageWithLogDog = function() {
    function e() {
        var e, t, i, a, o = 200099, n = Fai.top.screen, r = n.width + "*" + n.height, s = "fkLogDog-screenResolution", l = {
            set: function d(e, t) {
                var i = window.localStorage;
                i ? i.setItem(e, t) : $.cookie(e, t, {
                    expires: 7,
                    path: "/"
                })
            },
            get: function c(e) {
                var t = window.localStorage;
                return t ? t.getItem(e) : $.cookie(e)
            }
        };
        l.get(s) || (i = {
            "1920*1080": 1,
            "1366*768": 2,
            "1440*900": 3,
            "1600*900": 4,
            other: 5,
            "1680*1050": 6,
            "1280*800": 7,
            "1280*1024": 8,
            "1360*768": 9,
            "1280*720": 10,
            "1024*768": 11,
            "1280*768": 12,
            "1600*1200": 13,
            "1600*1024": 14
        },
        a = {
            "1920*1080": 15,
            "1366*768": 16,
            "1440*900": 17,
            "1600*900": 18,
            other: 19,
            "1680*1050": 20,
            "1280*800": 21,
            "1280*1024": 22,
            "1360*768": 23,
            "1280*720": 24,
            "1024*768": 25,
            "1280*768": 26,
            "1600*1200": 27,
            "1600*1024": 28
        },
        e = (t = Fai.top._manageMode ? i : a)[r] || t.other,
        Fai.isPC() || (e = t.other),
        o && e && (l.set(s, !0),
        Site.logDog(o, e)))
    }
    e(),
    Site.checkVisitEnv(),
    _siteDemo && !Fai.top._manageMode && Site.hasXScrollBar() && Site.logDog(200190, 1)
}
,
Site.initPagenationEvent = function() {
    $(".pagenation a");
    var e = $(".pagenation")
      , t = "mouseover.bindPagenationHoverCls"
      , i = "mouseout.bindPagenationHoverCls";
    0 === e.parents(".formStyle6").length && (e.off(t).on(t, "a", function() {
        $(this).addClass("g_hover")
    }),
    e.off(i).on(i, "a", function() {
        $(this).removeClass("g_hover")
    }));
    var a = $(".pagenation_N").find(".pageNo a, .prevShow_model, .nextShow_model, .jumpPageDiv .bottomSearch");
    a.live("mouseover", function() {
        $(this).addClass("p_hover")
    }),
    a.live("mouseout", function() {
        $(this).removeClass("p_hover")
    })
}
,
Site.colLayout45Width = function() {
    var e = Fai.top._colOtherStyleData.layout4Width
      , t = Fai.top._colOtherStyleData.layout5Width
      , i = $(".containerFormsCenterMiddle").width()
      , a = Math.floor(.02 * i);
    if (Fai.top._manageMode && ($("#middleLeftForms").css("padding-right", a + "px"),
    i < e + t + a && ($("#middleLeftForms").css("width", i - (t + a) + "px"),
    Fai.top._colOtherStyleData.layout4Width = $("#middleLeftForms").width())),
    0 < e && 0 == t) {
        var o = $("#middleLeftForms").css("padding-right").replace("px", "");
        $("#middleLeftForms").css("width", e),
        $("#middleRightForms").css("width", i - o - e),
        Fai.top._colOtherStyleData.layout5Width = $("#middleRightForms").width()
    }
}
,
Site.initPage2 = function() {
    if (Fai.top.$(".absForms >.form").each(function() {
        Site.checkAbsModulePosition($(this), !0)
    }),
    Fai.top.$(".floatForms >.form").each(function() {
        Site.checkFloatModulePosition($(this)),
        Site.checkSideModule($(this)),
        Site.checkFlutterModule($(this))
    }),
    0 < Fai.top.$("#faiBgMusicPlayer").length) {
        Site.callMusicPlayButton("bgplayerButton", "faiBgMusicPlayer", "bgplayerTime", "bgplayerPause");
        var e = Fai.top.$("#faiBgMusicPlayer").attr("bgpause");
        "false" === e && ($.cookie("bgplayerPause", "false"),
        $("#bgplayerButton").attr("bgMusicStatus", "false")),
        "true" === e && ($("#bgplayerButton").addClass("bgplayerButtonP"),
        $("#bgplayerButton").attr("title", LS.playMusic),
        $("#bgplayerButton").attr("bgMusicStatus", "true"),
        $.cookie("bgplayerPause", "true"))
    }
    Fai.top._Global._footerHidden && Fai.top._Global._footerHiddenAllowed || 0 == Fai.top.$(".footerSupport").find(":visible").length && Fai.top.$(".footerSupport").hide(),
    Site.setAbsFormsHolder2(!0),
    window.jzSite.lazyLoad.init(),
    Site.bottomFloatLayerReady()
}
,
Site.initModuleItemHover = function(e) {
    $(e).mouseover(function() {
        $(this).addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_hover")
    })
}
,
Site.initModuleItemCover = function(e, t, i) {
    $(e).mouseover(function() {
        $(this).addClass("g_hover")
    }).mouseleave(function() {
        $(this).removeClass("g_hover")
    });
    var a = e.replace("#module", "");
    Site.initContentSplitLine(a, i)
}
,
Site.initBackToTopTool = function(e, t, i, a, o) {
    if (i || Fai.top._manageMode) {
        var n = '<div id="BackToTopborder" style="display:none;"><div id="BackToTopborder-left" style="position:fixed;border-left:1px dashed #2b73ba;z-index:9030;"></div><div id="BackToTopborder-top" style="position:fixed;border-top:1px dashed #2b73ba;z-index:9030;"></div><div id="BackToTopborder-bottom" style="position:fixed;border-bottom:1px dashed #2b73ba;z-index:9030;"></div><div id="BackToTopborder-right" style="position:fixed;border-right:1px dashed #2b73ba;z-index:9030;"></div></div>'
          , r = '<div id="borderLayer" class=" fk-editLayer-v2 fk-editLayer-v2-forBackToTop " style=" position:absolute;display:none; "><div class="item f-button-text"><a class="tool backToTopEdit" href="javascript:;" style="cursor:pointer;" >编辑</a></div><div class="itemHr"></div><div class="item f-button-icon f-hide-btn" data-title-tip="隐藏"><a class="tool backToTopClose"  style="cursor:pointer;" title="您可以在网站设计-网站设置-高级设置中重新开启" title="设置样式">隐藏</a></div></div>'
          , s = "";
        "small_box" == o || "null" == o ? (o = "",
        s = $('<div id="siteBackToTop_small_box" class="fk_siteBackToTop" title="' + a + '" _style="' + o + '"></div>'),
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop",
            key: "width",
            value: "41px"
        }, {
            cls: ".fk_siteBackToTop",
            key: "height",
            value: "38px"
        }, {
            cls: ".fk_siteBackToTop",
            key: "background",
            value: "url(" + Fai.top._resRoot + "/image/site/backtotop.png?v=201411241810) no-repeat"
        }])) : (s = $('<div id="siteBackToTop_small_box" class="fk_siteBackToTop" title="' + a + '" _style="' + o + '"></div>'),
        getBackToTopStyleCss(o, !1)),
        s.insertAfter($("#web")),
        t && ($("body").append(n),
        $("body").append(r)),
        $(".backToTopEdit").bind("click", function() {
            Site.popupWindow({
                title: "编辑返回顶部图标",
                frameSrcUrl: "manage/backToTopEdit.jsp?ram=" + Math.random(),
                width: "543",
                height: "543",
                version: 2,
                frameScrolling: "no",
                saveBeforePopup: !1,
                closeFunc: Site.closeCss
            })
        }),
        $(".backToTopClose").bind("click", function() {
            Fai.top._manageMode && Site.switchBackTopBtn(!1)
        }),
        t && Site.simpleTip && Site.simpleTip($("#borderLayer .f-hide-btn"), 0);
        var l = $("#siteBackToTop_small_box")
          , d = Fai.top.$("#g_main");
        d = $(window),
        l.css("right", "57px"),
        l.css("bottom", "50px"),
        p(),
        d.scroll(function() {
            p()
        }),
        l.click(function() {
            var e = $(d).scrollTop()
              , t = 300;
            e <= 5e3 ? t = 200 : 5e3 < e && e <= 1e4 ? t = 100 : 1e4 < e && (t = 50),
            function a(e) {
                var t = ""
                  , i = 0;
                t = $(d).scrollTop(),
                i = Math.floor(10 * -t / e),
                $(d).scrollTop(t + i),
                0 < t && setTimeout(function() {
                    a(e)
                }, 1)
            }(t)
        }),
        $("#siteBackToTop_small_box").hover(function() {
            var e = $(this)
              , t = e.attr("_style");
            e.animate({
                opacity: .2
            }, "slow", function() {
                $("#siteBackToTop_small_box").css("height", "")
            }),
            "" != t && "small_box" != t && getBackToTopStyleCss(t, !0),
            c(),
            $("#BackToTopborder").show(),
            $("#borderLayer").show(),
            e.attr("_realmousein", "1")
        }, function() {
            var e = $(this)
              , t = e.attr("_style");
            return e.animate({
                opacity: 1
            }, "slow", function() {
                $("#siteBackToTop_small_box").css("height", "")
            }),
            "" != t && "small_box" != t && getBackToTopStyleCss(t, !1),
            setTimeout(function() {
                e.attr("_realmousein", "0"),
                1 == e.attr("_mousein") ? ($("#BackToTopborder").show(),
                $("#borderLayer").show()) : ($("#BackToTopborder").hide(),
                $("#borderLayer").hide())
            }, 50)
        }),
        $("#borderLayer").hover(function() {
            $("#BackToTopborder").show(),
            $("#borderLayer").show(),
            $("#siteBackToTop_small_box").attr("_mousein", "1")
        }, function() {
            return setTimeout(function() {
                $("#siteBackToTop_small_box").attr("_mousein", "0"),
                1 == $("#siteBackToTop_small_box").attr("_realmousein") ? ($("#BackToTopborder").show(),
                $("#borderLayer").show()) : ($("#BackToTopborder").hide(),
                $("#borderLayer").hide())
            }, 50)
        })
    }
    function c() {
        var e = $("#siteBackToTop_small_box").offset().left
          , t = $("#siteBackToTop_small_box").offset().top;
        $("#BackToTopborder-left").css({
            left: e - 2 + "px",
            top: t - 2 + "px",
            height: $("#siteBackToTop_small_box").height() + 2 + "px"
        }),
        $("#BackToTopborder-top").css({
            left: e - 2 + "px",
            top: t - 2 + "px",
            width: $("#siteBackToTop_small_box").width() + 2 + "px"
        }),
        $("#BackToTopborder-bottom").css({
            left: e - 2 + "px",
            top: t + $("#siteBackToTop_small_box").height() + 1 + "px",
            width: $("#siteBackToTop_small_box").width() + 2 + "px"
        }),
        $("#BackToTopborder-right").css({
            left: e + $("#siteBackToTop_small_box").width() + 1 + "px",
            top: t - 2 + "px",
            height: $("#siteBackToTop_small_box").height() + 2 + "px"
        }),
        $("#borderLayer").css({
            left: $("#siteBackToTop_small_box").offset().left + $("#siteBackToTop_small_box").width() - $("#borderLayer").outerWidth() + "px",
            top: t - $("#borderLayer").outerHeight() - 6 + "px"
        })
    }
    function p() {
        Fai.top._Global._backToTop ? 0 < d.scrollTop() ? "none" == l.css("display") && (Fai.isIE6() && l.css("position", "absolute"),
        Fai.isIE8() && Fai.top._manageMode ? l.show() : l.slideDown("slow")) : Fai.isIE8() && Fai.top._manageMode ? l.hide() : l.slideUp("slow") : l.hide()
    }
}
,
Site.closeCss = function() {
    var e = Fai.top.$("#siteBackToTop_small_box");
    "small_box" == Fai.top._advanceSettingData.btts ? (Fai.top.$("#siteBackToTop_small_box").attr("style", "display:block"),
    $("#stylebacktotop").text(""),
    Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
        cls: ".fk_siteBackToTop",
        key: "width",
        value: "41px"
    }, {
        cls: ".fk_siteBackToTop",
        key: "height",
        value: "38px"
    }, {
        cls: ".fk_siteBackToTop",
        key: "background",
        value: "url(" + Fai.top._resRoot + "/image/site/backtotop.png?v=201411241810) no-repeat"
    }, {
        cls: ".fk_siteBackToTop",
        key: "display",
        value: "block"
    }, {
        cls: ".fk_siteBackToTop",
        key: "cursor",
        value: "pointer"
    }, {
        cls: ".fk_siteBackToTop",
        key: "position",
        value: "fixed"
    }, {
        cls: ".fk_siteBackToTop",
        key: "z-index",
        value: "31"
    }, {
        cls: ".fk_siteBackToTop",
        key: "right",
        value: "40px"
    }, {
        cls: ".fk_siteBackToTop",
        key: "bottom",
        value: "50px"
    }])) : Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
        cls: ".fk_siteBackToTop",
        key: "cursor",
        value: "pointer"
    }, {
        cls: ".fk_siteBackToTop",
        key: "position",
        value: "fixed"
    }, {
        cls: ".fk_siteBackToTop",
        key: "z-index",
        value: "31"
    }, {
        cls: ".fk_siteBackToTop",
        key: "right",
        value: "40px"
    }, {
        cls: ".fk_siteBackToTop",
        key: "bottom",
        value: "50px"
    }]),
    e.attr("_style", Fai.top._advanceSettingData.btts),
    getBackToTopStyleCss(Fai.top._advanceSettingData.btts, !1),
    Fai.top._manageMode && (e.css("right", 40 + Fai.getScrollWidth() + "px"),
    e.css("bottom", "50px"))
}
,
Site.fixSiteWidth = function(t) {
    var i;
    function a(e) {
        var t, i = Fai.top.$("#webContainer").outerWidth(), a = i, o = i, n = document.documentElement ? document.documentElement.clientWidth : document.body.clientWidth, r = Fai.top.$("#web"), s = 960, l = $(document).scrollLeft(), d = r[0].getBoundingClientRect().right + l;
        Fai.top.$(".fullmeasureForms").find(".fullmeasureContent").each(function(e, t) {
            $(t).is(":visible") && a < $(t).width() && (a = $(t).width())
        }),
        (s = s < (n = (o = a) < n ? n : o) ? n : s) < (t = 2 * (c(Fai.top.$("#nav, #navV2").add(Fai.top.$("#bannerV2")).add(r.find("div.absForms").children(".form")).add(Fai.top.$("#corpTitle")).add(Fai.top.$("#logo"))) + l - d) + d) && (s = t),
        e || Fai.isIE6() || Fai.isIE7(),
        Fai.top._cusResponsive || (r.css({
            width: s + "px"
        }),
        Fai.top.$("#topAdvArea").css({
            width: s + "px"
        })),
        document.documentElement.scrollWidth > $(window).width() && $(document).scrollLeft((document.documentElement.scrollWidth - $(window).width()) / 2)
    }
    function c(e) {
        for (var t, i, a, o, n, r = e.length, s = 0, l = Fai.top.$("#webContainer")[0].getBoundingClientRect(), d = 0; r; )
            if (r -= 1,
            !(a = e.eq(r)).is(":hidden") && "fixed" != a.css("position") && (i = a[0].getBoundingClientRect().left,
            !a.hasClass("J_animateCanRun") && "true" != a.data("animated") || (i = o + (parseInt(a[0].style.left) || 0)),
            s < (t = l.left > i ? l.right + (l.left - i) : a.hasClass("J_animateCanRun") || "true" == a.data("animated") ? (o = a.parent()[0].getBoundingClientRect().left) + (parseInt(a[0].style.left) || 0) + a.width() : a[0].getBoundingClientRect().right) && (d = s,
            s = t,
            n = a[0].id),
            n && -1 < n.indexOf("banner"))) {
                var c = $("#webBanner")[0];
                c && c.style && !c.style.width && (s = d)
            }
        return s
    }
    a(t),
    Site.bannerV2.refreshBannerEffects(),
    Site.bannerV2.refreshThreePicCarousel(),
    Site.memberTopBarReady(),
    Fai.top.$(window).off("resize.fixSiteWidth"),
    Fai.top.$(window).on("resize.fixSiteWidth", function(e) {
        "number" != typeof i && (i = setTimeout(function() {
            a(t),
            Site.fixWebFooterHeight(),
            Site.refreshDefaultBannerEdge(),
            Site.fixAllMallPosition(),
            Site.memberTopBarReady(),
            e.target == window && Site.inFullmeasueAnimation.refreshThreePicCarousel(),
            i = null
        }, 300))
    })
}
,
Site.fixWebFooterHeight = function() {
    var e = Fai.top.$("#web")
      , t = Fai.top.$("body").height()
      , i = Fai.top.$("#webFooterTable")
      , a = i.css({
        height: ""
    }) && i.height()
      , o = e.offset().top
      , n = Fai.top.$(".floatLeftTop").offset().top
      , r = e.height();
    if (Fai.isPC())
        if (Fai.top._manageMode || Fai.isIE6()) {
            var s = 0;
            e.children().each(function() {
                s += $(this).height()
            }),
            s + n < t && i.css("height", t - s + a - n + "px")
        } else {
            var l = r + o;
            if (l < t) {
                var d = t - l;
                a = i.outerHeight(),
                i.css("height", d + a + "px")
            }
        }
}
,
Site.initPageBindAmousedown = function() {
    function a(e) {
        return !(!Fai.isIE8() || 1 != e.button) || (!(!Fai.isIE6() || 1 != e.button) || (!(!Fai.isIE7() || 1 != e.button) || 0 == e.button))
    }
    if (Fai.top._designAuth) {
        var e = Site.getTopWindow().$(Site.getTopWindow().document).find("body")
          , t = Site.getTopWindow().$(Site.getTopWindow().document).find("#memberBarArea")
          , o = /^javascript/g;
        e.delegate("a", "click.initSaveChange", function(e) {
            if (a(e) && (!($(this).attr("onclick") || "").includes("JZ.setUrlArgToCookie") && !$(this).attr("_reqargs"))) {
                var t = $(this).attr("href");
                if (t && null == t.match(o) && !$(this).hasClass("stopPropagation")) {
                    var i = $(this).attr("target") || "_self";
                    if (!Site.redirectUrl(t, i, e, 0, 0))
                        return !1
                }
            }
        }),
        t.delegate("a", "mousedown", function(e) {
            if (a(e)) {
                var t = $(this).attr("href");
                if (t && null == t.match(o) && !$(this).hasClass("stopPropagation")) {
                    var i = $(this).attr("target") || "_self";
                    Site.redirectUrl(t, i, e, 0, 0)
                }
                return !1
            }
        }),
        Site.getTopWindow().$(Site.getTopWindow().document).find("#tabs a.cancelBtn").mousedown(function(e) {
            if (a(e))
                return Site.redirectUrl("javascript:;", "cancelBtn", e, 0, 1),
                !1
        }),
        Site.getTopWindow().$(Site.getTopWindow().document).delegate("div.navSubMenu a", "mousedown", function(e) {
            if (a(e)) {
                var t = $(this).attr("href");
                if (t && null == t.match(o) && !$(this).hasClass("stopPropagation")) {
                    var i = $(this).attr("target") || "_self";
                    Site.redirectUrl(t, i, e, 1, 0)
                }
                return !1
            }
        })
    }
}
,
Site.refreshFooterItemSpacing = function() {
    var e = Fai.top.$("#footerNav");
    if (!(e.length < 1)) {
        var t = e.find(".footerItemSection");
        if (!(t.length < 1)) {
            var i = 9
              , a = 5;
            if ("1" != e.attr("cusHeight")) {
                Fai.top.Fai.removeCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSpacing",
                    key: "padding-top"
                }]),
                Fai.top.Fai.setCtrlStyleCssList("tmpStylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: "auto !important"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height",
                    value: "auto !important"
                }]);
                for (var o = t.eq(0).height(), n = 0, r = 1; r < t.length; r++)
                    o < (n = t.eq(r).height()) && (o = n);
                e.hasClass("footerPattern1") ? Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: o + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height",
                    value: o - i + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "padding-top",
                    value: a + "px"
                }]) : Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: o + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height",
                    value: o + "px"
                }]),
                Fai.top.Fai.removeCtrlStyleCssList("tmpStylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height"
                }]),
                Fai.top.$("#tmpStylefooter").remove()
            } else if (Fai.top._manageMode) {
                var s = Site.getFooterStyleData() || {};
                Fai.top.Fai.removeCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSpacing",
                    key: "padding-top"
                }]),
                e.hasClass("footerPattern1") ? Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: s.fih + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height",
                    value: s.fih - i + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "padding-top",
                    value: a + "px"
                }]) : Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: s.fih + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height",
                    value: s.fih + "px"
                }])
            }
        }
    }
}
,
Site.pageOnload = function() {
    setTimeout(Site.fixSiteScrollMiddle, 0),
    Site.userReadyOperateSite(),
    Site.mobiPlatform(),
    Site.fixSiteWidth(Fai.top._manageMode),
    Site.fixWebFooterHeight(),
    Fai.top.$("#banner").length && Site.refreshBanner(0),
    Fai.top.$("#bannerV2").length && (Site.bannerV2.adjustBannerWidth(),
    Site.bannerV2.initBannerEffects()),
    Site.adjustBannerWidth(),
    Site.addStellarEvent(),
    Site.excuteMallBuy2(),
    Site.checkFaiAnchor(),
    Site.fixAllMallPosition(),
    Site.popupZoneInit(),
    jzSite && jzSite.hiddenModules && jzSite.hiddenModules.initHiddenModuleList(),
    Site.fixBackgroundAttatchment(),
    $(this).faiButton(),
    setTimeout(Site.loadSalePromotion, 0),
    setTimeout(Site.fixSiteScrollMiddle, 0)
}
,
Site.loadSalePromotion = function() {
    Fai.top._oem || $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax/salesPromotion_h.jsp?cmd=getWafNotCk_getSales",
            oldPath: Site.genAjaxUrl("salesPromotion_h.jsp?cmd=getWafNotCk_getSales")
        }),
        error: function a(e, t, i) {
            console.log("获取营销数据失败(net)...")
        },
        success: function o(e) {
            var t, i = $.parseJSON(e);
            i.success ? (t = i.salesParam,
            Fai.top._manageMode && !t.loadjsFile || $LAB.script(t.js_url).wait(function() {
                window.salesPromotion && salesPromotion.init(t)
            })) : console.log("获取营销数据失败(sys)...")
        }
    })
}
,
Site.excuteMallBuy2 = function() {
    var e = $.cookie("isNeedAddCartItem");
    if (void 0 !== e && null != e && "" != e) {
        var t = $.parseJSON(e)
          , i = t.pid
          , a = t.mid
          , o = t.url
          , n = t.doWhat;
        "add" == n ? Site.mallBuy2(i, a, o) : "buy" == n && Site.mallImmeBuy(i, a),
        setTimeout(function() {
            $.cookie("isNeedAddCartItem", null)
        }, 1e3)
    }
}
,
Site.beforeUnloadFunc = function(e) {
    var t = Fai.top.onbeforeunload;
    Fai.top.onbeforeunload = function() {
        "function" == typeof t && t.apply(this, arguments),
        Site.siteStatVisitTime(e)
    }
}
,
Site.limitUv = function() {
    if (i(),
    300 <= Fai.top.usedUv) {
        Site.logDog(200618, 12);
        var e = '<div class="tipDialog"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="' + Fai.top._resImageRoot + '/image/v2/pageNotFound.png"></img><div class="tipFont"> 网站流量已达上限，暂时无法访问</div><div id="tipButton" class="tipButton"> 升级网站，拥有无限流量</div><div class="tipButton tipButtonFk"> 我是访客，也想免费建站</div></div>';
        $("body .fk-limtUv").append(e),
        $(".fk-limtUv .quitIcon").click(function() {
            window.close()
        }),
        $("#tipButton").click(function() {
            Site.logDog(200618, 13),
            window.open("https://jz.fkw.com/?_ta=2547")
        }),
        $(".fk-limtUv .tipButtonFk").click(function() {
            Site.logDog(200618, 17),
            window.open("https://jz.fkw.com/?_ta=2548")
        }),
        $("#web").css("display", "none")
    } else
        $("body #fk-limtUv").remove();
    function t() {
        var e = new Date
          , t = e.getFullYear()
          , i = e.getMonth() + 1;
        return i < 10 && (i = "0" + i),
        new Date([t, i, "01"].join("-")).getTime() / 1e3
    }
    function o() {
        var e = new Date
          , t = e.getMonth()
          , i = ++t
          , a = new Date(e.getFullYear(),i,1);
        return new Date(a - 864e5).getTime() / 1e3
    }
    function i() {
        var e = "&typeQy=0&isMobile=false&siteLan=" + Fai.top._wid + "&startTime=" + t() + "&endTime=" + o();
        $.ajax({
            type: "post",
            url: "/ajax/statistics_h.jsp?cmd=getWafNotCk_timeDataNoAuth",
            data: e,
            timeout: 6e4,
            async: !1,
            error: function a(e, t, i) {
                "timeout" == t && Fai.ing("抱歉，数据量过大查询失败。请稍后再试")
            },
            success: function i(e) {
                var t = $.parseJSON(e);
                t.success && (Fai.top.usedUv = t.iVisitors)
            }
        })
    }
}
,
Site.limitDayUv = function() {
    if (!Fai.top._testMode) {
        var e = "&siteLan=" + Fai.top._wid + "&siteId=" + Fai.top._siteId;
        $.ajax({
            type: "post",
            url: "/ajax/site_h.jsp?cmd=getWafNotCk_getLimitPreview",
            data: e,
            timeout: 6e4,
            success: function r(e) {
                var t = $.parseJSON(e);
                t.success && 0 != t.type && (1 == t.type ? i(t) : 2 == t.type ? a(t) : 3 == t.type && o(t),
                n())
            }
        })
    }
    function i(e) {
        var t = "";
        if (Fai.top._oem ? t += "免费域名" + e.acct + "只用作预览使用，如涉及到不良信息传播、转账交易等，请谨慎对待。" : Fai.top._isShowFkAuthTips ? t += "免费域名" + e.acct + "只用作预览访问，商业用途请先<a href='https://www.fkw.com/marketing/domain.html' target='_blank' style='color:#5874d8;font-size:12px;text-decoration:underline;'>绑定独立域名</a>或<a href='https://i.fkw.com/portal.jsp#appId=setAuth' target='_blank' style='color:#5874d8;font-size:12px;text-decoration:underline;'>开通" + Fai.top._fkAuthTitle + "</a>" : t += "免费域名" + e.acct + "只用作预览使用，如涉及到不良信息传播、转账交易等，请谨慎对待。<a style='color:#ff8e1e;font-size:12px;text-decoration:underline;' href='https://www.fkw.com/feedback/feedback.html?t=4&p=0'>我要投诉</a>",
        $("#sitetips").length <= 0) {
            var i = '<div id="sitetips" class="sitetips sitetipsV2 newSiteVis"><table align="center" cellpadding="0" cellspacing="0"><tbody><tr><td align="center" valign="middle"><div class="scrollbar"><ul class="marquee" id="siteTipsMarquee"><li><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="center" valign="middle"><div class="sitetipsTitle" style="color:#ff8e1e;">' + t + "</div></td></tr></tbody></table></li></ul></div></td></tr></tbody></table></div>";
            $("body").append(i)
        } else {
            i = '<li><table cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="center" valign="middle"><div class="sitetipsTitle" style="color:#ff8e1e;">' + t + "</div></td></tr></tbody></table></li>";
            $("#siteTipsMarquee").append(i)
        }
        $("#siteTipsMarquee").marquee({
            yScroll: "bottom"
        }),
        Site.resetGmainPos(),
        $(".manageTranTop").css("top", $("#web").css("top"))
    }
    function a(e) {
        var t = "";
        if (Fai.top._oem) {
            t += "访客量超出限制，免费域名" + e.acct + "只用作预览访问，商业使用请绑定独立域名访问。";
            var i = '<div class="fk-limtUv"><div class="tipDialog" style="width:680px;"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="' + Fai.top._resImageRoot + '/image/v2/pageNotFound.png"></img><div class="tipFont" style="font-size:16px;"> ' + t + "</div></div></div>";
            $("body").append(i),
            $("#web").css("display", "none")
        } else {
            if (Fai.top._isShowFkAuthTips) {
                var a = "//" + Fai.top._homeHost + "/marketing/domain.html"
                  , o = "//" + Fai.top._portalHost + "/portal.jsp#appId=setAuth";
                t += "访客量超出限制，免费域名" + e.acct + "只用作预览访问，商业用途请先<a href='" + a + "' onclick='Site.logCorpDog(200848, 6);' target='_blank' style='color:#5874d8;font-size:16px;text-decoration:underline;'>绑定独立域名</a>或<a href='" + o + "' target='_blank' onclick='Site.logCorpDog(200848, 3);' style='color:#5874d8;font-size:16px;text-decoration:underline;'>开通" + Fai.top._fkAuthTitle + "</a>"
            } else
                t += "访客量超出限制，免费域名" + e.acct + "只用作预览访问，商业使用请绑定独立域名访问。";
            var n = "";
            0 == e.ver ? n += '<div class="tipButton tipButton2">升级网站，绑定域名</div>' : e.isFaiDomain ? n += '<div class="tipButton tipButton2">访问:' + e._mainUrl + "</div>" : n += '<div class="tipButton tipButton2">登陆后台，绑定域名</div>';
            i = '<div class="fk-limtUv"><div class="tipDialog" style="width:680px;"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="' + Fai.top._resImageRoot + '/image/v2/pageNotFound.png"></img><div class="tipFont" style="font-size:16px;"> ' + t + "</div>" + n + "</div></div>";
            $("body").append(i),
            $("#web").css("display", "none"),
            $(".fk-limtUv .tipButton").click(function() {
                0 == e.ver ? window.open("https://jz.fkw.com/proFunc.html") : e.isFaiDomain ? window.open("http://" + e._mainUrl) : window.open("https://i.fkw.com/portal.jsp")
            })
        }
    }
    function o(e) {
        var t = "当前域名禁止访问"
          , i = "点击这里访问您的网站"
          , a = '<div class="fk-limtUv"><div class="tipDialog" style="width:680px;"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="' + Fai.top._resImageRoot + '/image/v2/pageNotFound.png"></img><div class="tipFont" style="font-size:16px;text-align: left;padding-left: 245px;"> ' + t + '</div><div class="tipButton tipButton2">' + i + "</div></div></div>";
        $("body").append(a),
        $("#web").css("display", "none"),
        $(".fk-limtUv .tipButton").click(function() {
            window.open("http://" + e._mainUrl)
        })
    }
    function n() {
        if (0 != $("#memberBarArea").length && 0 != $("#siteTipsMarquee li").length) {
            $("#memberBarArea").css("top", "45px");
            var e = 45 + $("#memberBarArea").height() + "px";
            $("body").css("top", e),
            $(".manageTranTop").css("top", $("body").css("top"))
        }
    }
}
,
Site.checkModulePopup = function() {
    var e = Fai.getUrlParam(window.location.href, "popupId");
    if (void 0 !== e) {
        var i = [];
        if ($.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/linkChg_h.jsp?cmd=getWafNotCk_getModuleListByStyle&moduleStyle=105",
            async: !1,
            error: function a() {
                Fai.ing("服务繁忙，请稍后重试。", !1)
            },
            success: function o(e) {
                var t = $.parseJSON(e);
                t.success && (i = t.info || [])
            }
        }),
        -1 == e) {
            if (1e3 <= length)
                return void Fai.ing("新增弹窗失败：已超出弹窗容器限制个数（1000）！", !1);
            t(i)
        } else
            isNaN(e) || (Fai.top._popupZone.openZone(e),
            Fai.ing("请点击编辑按钮进行编辑", !0))
    }
    function t(o) {
        function e() {
            return function() {
                Fai.ing("正在添加弹窗……", !1);
                var e = o.length
                  , t = e + 1;
                1e3 <= e ? Fai.ing("已超出弹窗容器限制个数（1000）！", !1) : (0 < e && o[e - 1].label == "未命名弹窗" + t && t++,
                t = t || 0,
                $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/module_h.jsp?cmd=addWafCk_add&style=105&global=true&colId=" + Fai.top._colId + "&extId=" + Fai.top._extId,
                    data: "name=" + Fai.encodeUrl("未命名弹窗" + t),
                    error: function i() {
                        Fai.ing("添加弹窗失败！", !1)
                    },
                    success: function a(e) {
                        var t = $.parseJSON(e);
                        Fai.successHandle(e, "", "系统错误", "", 3, 1) && (Fai.ing("添加弹窗成功！请点击编辑弹窗按钮进行编辑", !0),
                        Site.addNewModule(t.id, t.div, null, null, {
                            returnModuledata: t.moduleData,
                            style: 105
                        }))
                    }
                }))
            }
        }
        Site.diaLogSaveBtnStillNext(e)(o)
    }
}
,
Site.bindBeforeUnloadEvent = function(t, i, a) {
    Fai.top.$(document).ready(function() {
        Fai.top.$(window).bind("beforeunload", function(e) {
            if (i ? Site.bgmFlushContinue() : Fai.top.bgmCloseToOpen && Site.bgmFlushContinue(),
            t && 0 < Fai.top._changeStyleNum)
                return "您的网站设计正处于编辑状态，离开该页面将会失去您对网站所做的修改。";
            a && Site.jumpToMobiDesign(1)
        });
        var e = Fai.top.onbeforeunload;
        Fai.top.onbeforeunload = function() {
            if ("function" == typeof e && e.apply(this, arguments),
            t && (0 < Fai.top._changeStyleNum || 0 != Fai.top._Global.saveBtnState || 0 != Fai.top._Global.saveBtnState))
                return "您的网站设计正处于编辑状态，离开该页面将会失去您对网站所做的修改。"
        }
    })
}
,
Site.closeRightClickTool = function() {
    $(document).bind("contextmenu copy cut", function(e) {
        return !!$(e.target).is("input, textarea") && void 0
    }),
    (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) && $(document).bind("selectstart", function(e) {
        return !!$(e.target).is("input, textarea") && void 0
    })
}
,
Site.addNewYearCoupon = function(e) {
    if (!(1 == $(".fk-jzCreateSite").length || Fai.top._isLoginO || 0 == e && Fai.top._creatNewSite)) {
        var t = "showCoupon_" + Fai.top._aid + "_" + Fai.top._siteId
          , i = $.cookie(t);
        void 0 !== i && "true" == i || $.ajax({
            type: "post",
            url: "/ajax/site_h.jsp?cmd=wafNotCk_getPromotion",
            dataType: "json",
            success: function o(e) {
                e.success && 274 == e.type && a(),
                Site.logCorpDog(200701, 42),
                $.cookie(t, "true", {
                    expires: 30,
                    path: "/"
                })
            }
        })
    }
    function a() {
        var e = "/image/1229/pic02.png"
          , t = '<div class="fk-maskHongbao0"></div><div class="fk-maskHongbao"><div class="hongbaoDiv"><div class="hbImg"><img src="' + Fai.top._resRoot + e + '"></div><img class="kaiHongbao" src="' + Fai.top._resRoot + '/image/pic_8year/btn-use.png"><div class="close"></div></div></div>';
        $("body").append(t),
        Site.logCorpDog(200922, 1),
        $(".kaiHongbao").click(function() {
            $(".fk-maskHongbao0").remove(),
            $(".fk-maskHongbao").remove(),
            Site.logCorpDog(200922, 2),
            Site.logCorpDog(200701, 43),
            window.open(Fai.top.httpStr + Fai.top._portalHost + "/jump.jsp?t=40&buySiteVer=true&siteSid=" + Fai.top._siteId)
        }),
        $(".close").click(function() {
            $(".fk-maskHongbao0").remove(),
            $(".fk-maskHongbao").remove(),
            Site.logCorpDog(200922, 3),
            Site.logCorpDog(200701, 44)
        })
    }
}
,
Site.isLimitSubmitMsg = function() {
    return !1
}
,
Site.limitSubmitMsg = function() {
    if (Site.isLimitSubmitMsg()) {
        var e = $(".formStyle75")
          , t = $(".formStyle50")
          , i = $(".formStyle46")
          , a = $(".formStyle44");
        o(e, "留言板"),
        o(t, "留言板"),
        o(i, "文章评论"),
        o(a, "产品评论")
    }
    function o(e, t) {
        e.find("input, textarea, [onclick^='Fai.ing']").attr("disabled", !0).attr("onclick", "").parent().click(function() {
            Site.limitSubmitMsgIng(t)
        })
    }
}
,
Site.limitSubmitMsgIng = function(e) {
    Fai.top._manageMode ? Fai.ing("由于相关部门要求，" + e + "功能将在2019年3月5日至2019年3月14日夜间及凌晨（21:00-9:00）期间暂停访客使用，望理解。") : Fai.ing("您好，自2019年3月5日起至2019年3月14日，网站留言板、产品评论等功能将在夜间及凌晨（21:00-9:00）暂停使用，给您带来的不便表示诚挚的歉意，请您谅解！")
}
,
Site.bindCouponOrder = function() {
    if (1 != $(".fk-jzCreateSite").length && !_isLoginO) {
        var t = "showBindCouponOrder" + Fai.top._aid + Fai.top._siteType;
        "false" != $.cookie(t) && $.ajax({
            type: "post",
            url: "/ajax/site_h.jsp?cmd=wafNotCk_getBindCouponOrder",
            dataType: "json",
            success: function i(e) {
                e.success ? initBindCouponOrder(t, e.type) : $.cookie(t, "false", {
                    path: "/",
                    expires: 30
                })
            }
        })
    }
}
;
var initBindCouponOrder = function initBindCouponOrder(t, e) {
    var i = 274 == e ? "bind01.png" : 276 == e ? "bind02.png" : "bind03.png"
      , a = Fai.top._resRoot + "/image/1229/" + i + "?v=201904211445"
      , o = (Fai.top._resRoot,
    '<div class="fk-bindCoupon01"></div><div class="fk-bindCoupon"><div class="info"><div class="info_image"><img src="' + a + '"></div><span class="info_btn"></span><span class="close"></span></div></div>');
    $("body").append(o),
    274 == e ? Site.logDog(200866, 4) : Site.logDog(200866, 13),
    $(".fk-bindCoupon .info_btn").click(function() {
        $(".fk-bindCoupon01").remove(),
        $(".fk-bindCoupon").remove(),
        $.cookie(t, "false", {
            path: "/",
            expires: 30
        }),
        274 == e ? Site.logDog(200866, 5) : Site.logDog(200866, 14),
        Site.logDog(200868, Fai.top._aid),
        window.open(Fai.top.httpStr + Fai.top._portalHost + "/portal.jsp#appId=order")
    }),
    $(".fk-bindCoupon .close").click(function() {
        var e = $(".topbar_btn_version_upgrades");
        0 < e.length ? $(".fk-bindCoupon").animate({
            top: e.offset().top,
            left: e.offset().left,
            width: 0,
            height: 0
        }, 500, function() {
            $(".fk-bindCoupon01").remove(),
            $(".fk-bindCoupon").remove(),
            $.cookie(t, "false", {
                path: "/",
                expires: 30
            })
        }) : ($(".fk-bindCoupon01").remove(),
        $(".fk-bindCoupon").remove(),
        $.cookie(t, "false", {
            path: "/",
            expires: 30
        }))
    })
};
Site.fixBackgroundAttatchment = function() {
    var a = $("body").css("top")
      , o = "background-attachment";
    $.each($(".fullmeasureOuterContentBg"), function(e, t) {
        var i = $(t);
        -1 !== i.css(o).indexOf("fixed") && i.css("background-position-y", a)
    })
}
,
Site.initAbsMutationObserver = function() {
    Site.initAbsMutationObserver._observer = new jzSite.mutationObserver.DomChanged({
        node: document.querySelectorAll("#absForms, #absTopForms"),
        callback: function t(e) {
            Fai.top._mutationObLog && console.log("浮动模块", e),
            Site._setAbsFormsHolder2(!0)
        },
        filterFormClass: !1,
        config: {
            attributes: !0,
            childList: !0,
            subtree: !0,
            attributeOldValue: !0,
            attributeFilter: ["style", "_autoheight", "src"]
        }
    })
}
,
Site.triggerGobalEvent = function(e, t) {
    Fai.top.$(Fai.top.document).trigger(e, t)
}
,
Site.bindGobalEvent = function(e, t) {
    "site_articlePictureChange" == e && Fai.isIE() && Fai.top.$(Fai.top.document).off(e),
    Fai.top.$(Fai.top.document).on(e, t)
}
,
Site.refreshFormIndexClass = function() {
    Fai.top._manageMode && (Site.refreshFormIndexClass2({
        id: "topForms"
    }),
    Site.refreshFormIndexClass2({
        id: "leftForms"
    }),
    Site.refreshFormIndexClass2({
        id: "centerTopForms"
    }),
    Site.refreshFormIndexClass2({
        id: "middleLeftForms"
    }),
    Site.refreshFormIndexClass2({
        id: "middleRightForms"
    }),
    Site.refreshFormIndexClass2({
        id: "centerBottomForms"
    }),
    Site.refreshFormIndexClass2({
        id: "rightForms"
    }),
    Site.refreshFormIndexClass2({
        id: "bottomForms"
    }),
    Site.refreshFormIndexClass2({
        id: "fullmeasureTopForms"
    }),
    Site.refreshFormIndexClass2({
        id: "fullmeasureBottomForms"
    }),
    Site.refreshFormIndexClass2({
        id: "absTopForms"
    }),
    Site.refreshFormIndexClass2({
        id: "absForms"
    }),
    Site.refreshFormIndexClass2({
        id: "absBottomForms"
    }),
    Site.refreshFormIndexClass2({
        id: "floatLeftTopForms"
    }),
    Site.refreshFormIndexClass2({
        id: "floatRightTopForms"
    }),
    Site.refreshFormIndexClass2({
        id: "floatLeftBottomForms"
    }),
    Site.refreshFormIndexClass2({
        id: "floatRightBottomForms"
    }),
    Site.refreshFormIndexClass2({
        id: "fk-webHeaderZone"
    }),
    Site.refreshFormIndexClass2({
        id: "fk-webBannerZone"
    }),
    Site.refreshFormIndexClass2({
        id: "fk-webFooterZone"
    }),
    Site.refreshFormIndexClass2({
        _class: "fk-inBannerListZone"
    }),
    Site.refreshFormIndexClassInPopupZone())
}
,
Site.openMhpPopup = function() {
    $.cookie("fromMallHelper", "true"),
    Fai.top.webManage.openSubMenu("manageFrameBannerMarketing")
}
,
Site.depositPopup = function(a) {
    Fai.top.document.body.clientWidth,
    Fai.top.document.body.clientHeight;
    var o = parseInt(1e4 * Math.random())
      , e = "<div id='sitePrompt_Bg" + o + "' class='sitePrompt_Bg' style='opacity: 0.6;'></div>";
    $("<div id='sitePrompt" + o + "' class='sitePrompt'></div>").appendTo("body"),
    $(e).appendTo("body");
    var t = $("#sitePrompt" + o)
      , i = $("#sitePrompt_Bg" + o)
      , n = "";
    n += "<div class='sitePrompt_inner' style='background: transparent; box-shadow: none;'>",
    n += "<div class='pwd_panel'>",
    n += "<div class='pwd_title'>请输入交易密码</div>",
    n += "<div class='J-prompt-cancel icon-PromptCancel'></div>",
    n += "<div class='pwd_wrapper'>",
    n += "<input class='pwd_input_lurker' type='number' maxlength='6' />",
    n += "<div class='pwd_input pwd_input0'><span class='psuedo_input'></span></div>",
    n += "<div class='pwd_input pwd_input1'><span class='psuedo_input'></span></div>",
    n += "<div class='pwd_input pwd_input2'><span class='psuedo_input'></span></div>",
    n += "<div class='pwd_input pwd_input3'><span class='psuedo_input'></span></div>",
    n += "<div class='pwd_input pwd_input4'><span class='psuedo_input'></span></div>",
    n += "<div class='pwd_input pwd_input5'><span class='psuedo_input'></span></div>",
    n += "</div>",
    n += "<div class='pwd_confirm btn_disabled'>确定</div>",
    n += "</div>",
    n += "</div>",
    t.append(n),
    t.find(".J-prompt-cancel").on("click", function() {
        t.removeClass("sitePromptShow"),
        t.addClass("sitePrompt"),
        i.removeClass("sitePromptBgShow"),
        setTimeout(function() {
            t.remove(),
            i.remove()
        }, 200)
    });
    var r = $(".sitePrompt_inner .pwd_panel .pwd_input")
      , s = $(".sitePrompt_inner .pwd_panel .pwd_input_lurker")
      , l = $(".sitePrompt_inner .pwd_panel .pwd_confirm")
      , d = [];
    r.on("click", function() {
        s[0].focus()
    }),
    s.on("input", function(e) {
        this.value.length > this.maxLength && (this.value = this.value.slice(0, this.maxLength));
        var t = this.value;
        d = t.split("");
        for (var i = 0; i < 6; i++) {
            var a = r[i];
            null != d[i] && "undefined" != typeof d[i] ? $(a).find(".psuedo_input").show() : $(a).find(".psuedo_input").hide()
        }
        6 == d.length ? l.removeClass("btn_disabled") : l.addClass("btn_disabled")
    }),
    l.on("click", function() {
        l.hasClass("btn_disabled") || (6 == d.length ? $.ajax({
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/mall_h.jsp?cmd=wafNotCk_checkPwd",
            data: "pwd=" + Fai.encodeUrl($.md5(s.val())),
            success: function i(e) {
                if ((e = $.parseJSON(e)).success)
                    $.ajax({
                        url: Site.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/mall_h.jsp?cmd=setWafCk_orderSettle",
                        data: "pwd=" + Fai.encodeUrl($.md5(s.val())) + "&oid=" + a,
                        success: function EHc(e) {
                            (e = $.parseJSON(e)).success ? (Site.logDog(200983, 26),
                            setTimeout(function() {
                                Fai.top.location.href = Site.getHtmlUrl("mdetail") + "?id=" + a
                            }, 3e3)) : Fai.ing(e.msg);
                            var t = $("#sitePrompt" + o)
                              , i = $("#sitePrompt_Bg" + o);
                            t.removeClass("sitePromptShow"),
                            i.removeClass("sitePromptBgShow"),
                            setTimeout(function() {
                                t.remove(),
                                i.remove()
                            }, 200)
                        }
                    });
                else if (-900 == e.rt) {
                    var t = s.val().split("").reverse().join("");
                    $.ajax({
                        url: Site.addRequestPrefix({
                            newPath: "/ajax",
                            oldPath: "ajax"
                        }) + "/mall_h.jsp?cmd=wafNotCk_checkPwdReversed",
                        data: "pwd=" + Fai.encodeUrl($.md5(s.val())) + "&reversedPwd=" + Fai.encodeUrl($.md5(t)) + "&oid=" + a,
                        success: function EHc(e) {
                            (e = $.parseJSON(e)).success ? $.ajax({
                                url: Site.addRequestPrefix({
                                    newPath: "/ajax",
                                    oldPath: "ajax"
                                }) + "/mall_h.jsp?cmd=setWafCk_orderSettle",
                                data: "pwd=" + Fai.encodeUrl($.md5(s.val())) + "&oid=" + a,
                                success: function EHc(e) {
                                    (e = $.parseJSON(e)).success ? (Site.logDog(200983, 26),
                                    setTimeout(function() {
                                        Fai.top.location.href = Site.getHtmlUrl("mdetail") + "?id=" + a
                                    }, 3e3)) : Fai.ing(e.msg);
                                    var t = $("#sitePrompt" + o)
                                      , i = $("#sitePrompt_Bg" + o);
                                    t.removeClass("sitePromptShow"),
                                    i.removeClass("sitePromptBgShow"),
                                    setTimeout(function() {
                                        t.remove(),
                                        i.remove()
                                    }, 200)
                                }
                            }) : Mobi.ing(e.msg)
                        }
                    })
                } else
                    Fai.ing(e.msg)
            }
        }) : site.ing("请输入有效的6位密码"))
    }),
    window.setTimeout(function() {
        i.addClass("sitePromptBgShow"),
        t.addClass("sitePromptShow")
    }, 100)
}
,
Site.customPopup = function(e) {
    var t = {
        content: ""
    }
      , i = (e = $.extend(t, e),
    Fai.top.document.body.clientWidth,
    Fai.top.document.body.clientHeight,
    parseInt(1e4 * Math.random()))
      , a = "<div id='sitePrompt_Bg" + i + "' class='sitePrompt_Bg' style='opacity: 0.6;'></div>";
    $("<div id='sitePrompt" + i + "' class='sitePrompt' ></div>").appendTo("body"),
    $(a).appendTo("body");
    var o = $("#sitePrompt" + i)
      , n = $("#sitePrompt_Bg" + i)
      , r = [];
    r.push("<div class='sitePrompt_inner' style='background: transparent; box-shadow: none;'>"),
    r.push(e.content),
    r.push("</div>"),
    o.append(r.join("")),
    e.callback && o.find(".J-prompt-callback").on("click", function() {
        o.removeClass("sitePromptShow"),
        o.addClass("sitePrompt"),
        n.removeClass("sitePromptBgShow"),
        setTimeout(function() {
            o.remove(),
            n.remove()
        }, 200),
        e.callback()
    }),
    e.cancelCallback ? o.find(".J-prompt-cancel").on("click", function() {
        o.removeClass("sitePromptShow"),
        o.addClass("sitePrompt"),
        n.removeClass("sitePromptBgShow"),
        setTimeout(function() {
            o.remove(),
            n.remove()
        }, 200),
        e.cancelCallback()
    }) : o.find(".J-prompt-cancel").on("click", function() {
        o.removeClass("sitePromptShow"),
        o.addClass("sitePrompt"),
        n.removeClass("sitePromptBgShow"),
        setTimeout(function() {
            o.remove(),
            n.remove()
        }, 200)
    }),
    window.setTimeout(function() {
        n.addClass("sitePromptBgShow"),
        o.addClass("sitePromptShow")
    }, 100)
}
,
Site.refreshFormIndexClass2 = function(e) {
    var i, a, o, n, t, r = e.id, s = e._class;
    e.inFullmeasure;
    void 0 !== r ? t = Fai.top.$("#" + r).children(".form") : void 0 !== s && (t = Fai.top.$("." + s).children(".form")),
    t.each(function(e, t) {
        o = $(t),
        n = Site.checkNestModule(o),
        o.attr("_inmulmcol", 0),
        o.attr("_intab", 0),
        o.attr("_infullmeasure", 0),
        o.attr("_infullmeasurepack", 0),
        o.attr("_inpack", 0),
        o.attr("_intabpack", 0),
        o.attr("_inaccordionpack", 0),
        n.isCol ? Site.refreshFormIndexClassInCol(o) : n.isTab ? Site.refreshFormIndexClassInTab(o) : n.isPack ? Site.refreshFormIndexClassInPack(o) : n.isFullmeasure ? Site.refreshFormIndexClassInFullmeasure(o) : n.isFullmeasurePack ? Site.refreshFormIndexClassInFullmeasurePack(o) : n.isTabPack ? Site.refreshFormIndexClassInTabPack(o) : n.isAccordionPack && Site.refreshFormIndexClassInAccordionPack(o),
        i = o.attr("_indexClass"),
        a = "formIndex" + (e + 1),
        Fai.isNull(i) ? (o.addClass(a),
        o.attr("_indexClass", a)) : i != a && (o.removeClass(i),
        o.addClass(a),
        o.attr("_indexClass", a))
    })
}
,
Site.refreshFormIndexClassInAccordionPack = function(e) {
    var i, a, o, n = e.attr("id").replace("module", "") || 0;
    e.find(".J_accordionPackContent").children(".form").each(function(e, t) {
        (o = $(t)).attr("_inmulmcol", 0),
        o.attr("_intab", 0),
        o.attr("_infullmeasure", 0),
        o.attr("_infullmeasurepack", 0),
        o.attr("_inpack", 0),
        o.attr("_intabpack", 0),
        o.attr("_inaccordionpack", n),
        i = o.attr("_indexClass"),
        a = "formIndex" + (e + 1),
        Fai.isNull(i) ? (o.addClass(a),
        o.attr("_indexClass", a)) : i != a && (o.removeClass(i),
        o.addClass(a),
        o.attr("_indexClass", a))
    })
}
,
Site.refreshFormIndexClassInFullmeasurePack = function(e) {
    var i, a, o, n, r = e.attr("id").replace("module", "") || 0;
    e.find(".J_fullmeasurePackContent").children(".form").each(function(e, t) {
        (o = $(t)).attr("_inmulmcol", 0),
        o.attr("_intab", 0),
        o.attr("_infullmeasure", 0),
        o.attr("_infullmeasurepack", r),
        o.attr("_inpack", 0),
        o.attr("_intabpack", 0),
        o.attr("_inaccordionpack", 0),
        (n = Site.checkNestModule(o)).isTab ? Site.refreshFormIndexClassInTab(o) : n.isCol ? Site.refreshFormIndexClassInCol(o) : n.isPack ? Site.refreshFormIndexClassInPack(o) : n.isTabPack ? Site.refreshFormIndexClassInTabPack(o) : n.isAccordionPack && Site.refreshFormIndexClassInAccordionPack(o),
        i = o.attr("_indexClass"),
        a = "formIndex" + (e + 1),
        Fai.isNull(i) ? (o.addClass(a),
        o.attr("_indexClass", a)) : i != a && (o.removeClass(i),
        o.addClass(a),
        o.attr("_indexClass", a))
    })
}
,
Site.refreshFormIndexClassInTabPack = function(e) {
    var i, a, o, n = e.attr("id").replace("module", "") || 0;
    e.find(".J_tabPackContent").children(".form").each(function(e, t) {
        (o = $(t)).attr("_inmulmcol", 0),
        o.attr("_intab", 0),
        o.attr("_infullmeasure", 0),
        o.attr("_infullmeasurepack", 0),
        o.attr("_inpack", 0),
        o.attr("_intabpack", n),
        o.attr("_inaccordionpack", 0),
        i = o.attr("_indexClass"),
        a = "formIndex" + (e + 1),
        Fai.isNull(i) ? (o.addClass(a),
        o.attr("_indexClass", a)) : i != a && (o.removeClass(i),
        o.addClass(a),
        o.attr("_indexClass", a))
    })
}
,
Site.refreshFormIndexClassInCol = function(e) {
    var i, a, o = e.attr("id").replace("module", "") || 0;
    e.find(".mulMColList").children(".form").each(function(e, t) {
        (i = $(t)).attr("_inmulmcol", o),
        i.attr("_intab", 0),
        i.attr("_infullmeasure", 0),
        i.attr("_infullmeasurepack", 0),
        i.attr("_inpack", 0),
        i.removeAttr("_indexclass "),
        i.attr("_intabpack", 0),
        i.attr("_inaccordionpack", 0),
        (a = Site.checkNestModule(i)).isTab ? Site.refreshFormIndexClassInTab(i) : a.isPack ? Site.refreshFormIndexClassInPack(i) : a.isTabPack && Site.refreshFormIndexClassInTabPack(i)
    })
}
,
Site.refreshFormIndexClassInTab = function(e) {
    var i, a = e.attr("id").replace("module", "") || 0;
    e.find(".formTabCntId").children(".form").each(function(e, t) {
        (i = $(t)).attr("_inmulmcol", 0),
        i.attr("_intab", a),
        i.attr("_infullmeasure", 0),
        i.attr("_infullmeasurepack", 0),
        i.attr("_inpack", 0),
        i.removeAttr("_indexclass "),
        i.attr("_intabpack", 0),
        i.attr("_inaccordionpack", 0),
        Site.checkNestModule(i).isPack && Site.refreshFormIndexClassInPack(i)
    })
}
,
Site.refreshFormIndexClassInFullmeasure = function(e) {
    var i, a, o, n, r = e.attr("id").replace("module", "") || 0;
    e.find(".fullmeasureContent").children(".form").each(function(e, t) {
        (o = $(t)).attr("_inmulmcol", 0),
        o.attr("_intab", 0),
        o.attr("_infullmeasure", r),
        o.attr("_infullmeasurepack", 0),
        o.attr("_inpack", 0),
        o.attr("_intabpack", 0),
        o.attr("_inaccordionpack", 0),
        (n = Site.checkNestModule(o)).isTab ? Site.refreshFormIndexClassInTab(o) : n.isCol ? Site.refreshFormIndexClassInCol(o) : n.isPack ? Site.refreshFormIndexClassInPack(o) : n.isTabPack && Site.refreshFormIndexClassInTabPack(o),
        i = o.attr("_indexClass"),
        a = "formIndex" + (e + 1),
        Fai.isNull(i) ? (o.addClass(a),
        o.attr("_indexClass", a)) : i != a && (o.removeClass(i),
        o.addClass(a),
        o.attr("_indexClass", a))
    })
}
,
Site.refreshFormIndexClassInPack = function(e) {
    var i, a, o = void 0 === e.attr("id") ? 0 : e.attr("id").replace("module", "") || 0;
    e.find(".J_packContent").children(".form").each(function(e, t) {
        (i = $(t)).attr("_inmulmcol", 0),
        i.attr("_intab", 0),
        i.attr("_infullmeasure", 0),
        i.attr("_infullmeasurepack", 0),
        i.attr("_inpack", o),
        i.removeAttr("_indexclass "),
        i.attr("_intabpack", 0),
        i.attr("_inaccordionpack", 0),
        (a = Site.checkNestModule(i)).isTab ? Site.refreshFormIndexClassInTab(i) : a.isCol ? Site.refreshFormIndexClassInCol(i) : a.isTabPack && Site.refreshFormIndexClassInTabPack(i)
    })
}
,
Site.refreshFormIndexClassInPopupZone = function() {
    var e = Fai.top.$(".formStyle105");
    if (!(e.length < 1)) {
        var i, a = e.attr("id").replace("module", "") || 0;
        e.find(".J_popupZoneContent").children(".form").each(function(e, t) {
            (i = $(t)).attr("_inmulmcol", 0),
            i.attr("_intab", 0),
            i.attr("_infullmeasure", 0),
            i.attr("_infullmeasurepack", 0),
            i.attr("_inpack", 0),
            i.attr("_inpopupzone", a),
            i.removeAttr("_indexclass "),
            i.attr("_intabpack", 0),
            i.attr("_inaccordionpack", 0)
        })
    }
}
,
Site.checkNestModule = Site.memoize(function(e) {
    var t = {
        nest: !1,
        isTab: !1,
        isCol: !1,
        isFullmeasure: !1,
        isPack: !1,
        isElemZone: !1,
        isPopupZone: !1,
        isFullmeasurePack: !1,
        isAccordionPack: !1,
        parentId: 0,
        inTab: !1,
        inCol: !1,
        inFullmeasure: !1,
        inPack: !1,
        inZone: !1,
        inSubNav: !1,
        inElemZone: !1,
        inPopupZone: !1,
        inTopAdvZone: !1,
        inBottomFloatLayer: !1,
        inFullmeasurePack: !1,
        inAccordionPack: !1,
        isTabPack: !1,
        inTabPack: !1
    }
      , i = parseInt(e.attr("_intab")) || 0
      , a = parseInt(e.attr("_inmulmcol")) || 0
      , o = parseInt(e.attr("_infullmeasure")) || 0
      , n = parseInt(e.attr("_inpack")) || 0
      , r = Site.checkModuleInZone(e)
      , s = Site.checkModuleInSubNav(e)
      , l = Site.checkModuleInElemZone(e)
      , d = parseInt(e.attr("_inpopupzone")) || 0
      , c = e.parent().hasClass("J_topAdvContent")
      , p = e.parent().hasClass("J_bottomFloatLayerContent")
      , u = parseInt(e.attr("_infullmeasurepack")) || 0
      , m = parseInt(e.attr("_intabpack")) || 0
      , h = parseInt(e.attr("_inaccordionpack")) || 0;
    return e.hasClass("formStyle35") ? (t.nest = !0,
    t.isCol = !0) : e.hasClass("formStyle29") ? (t.nest = !0,
    t.isTab = !0) : e.hasClass("formStyle80") ? (t.nest = !0,
    t.isFullmeasure = !0) : e.hasClass("formStyle87") ? (t.nest = !0,
    t.isPack = !0) : e.hasClass("formStyle105") ? (t.nest = !0,
    t.isPopupZone = !0) : e.hasClass("formStyle109") ? (t.nest = !0,
    t.isFullmeasurePack = !0) : e.hasClass("formStyle110") ? (t.nest = !0,
    t.isTabPack = !0) : e.hasClass("formStyle117") && (t.nest = !0,
    t.isAccordionPack = !0),
    e.hasClass("elemZone") && (t.isElemZone = !0),
    0 < i ? (t.parentId = i,
    t.inTab = !0) : 0 < a ? (t.parentId = a,
    t.inCol = !0) : 0 < o ? (t.parentId = o,
    t.inFullmeasure = !0) : 0 < n ? (t.parentId = n,
    t.inPack = !0) : r ? (t.parentId = e.parent().attr("id"),
    t.inZone = !0) : s ? (t.parentId = e.parent().attr("id"),
    t.inSubNav = !0) : d && (t.parentId = e.parent().attr("id"),
    t.inPopupZone = !0),
    l && (t.inElemZone = !0,
    t.realParentId = e.parent().attr("id")),
    p && (t.inBottomFloatLayer = !0,
    t.parentId = e.parent().attr("id")),
    c && (t.inTopAdvZone = !0,
    t.parentId = e.parent().attr("id")),
    0 < u && (t.parentId = u,
    t.inFullmeasurePack = !0),
    0 < m && (t.parentId = m,
    t.inTabPack = !0),
    0 < h && (t.parentId = h,
    t.inAccordionPack = !0),
    t
}, function(e) {
    if (!Fai.top._manageMode) {
        var t = e.get(0);
        if (t && t.parentNode)
            return "".concat(t.parentNode.id, "-").concat(t.getAttribute("_moduleid"))
    }
}),
Site.resetGmainPos = function(e) {
    var t = 0;
    t = e || Site.getTopHeight();
    Fai.top.$("#g_main");
    var i = Fai.top.$("#web");
    "block" === $("#topBar").css("display") && (t -= 6),
    0 === $("#memberBarArea").length || Fai.top._manageMode || Fai.top._memberTopBar_versionTwo || (t -= 2);
    var a = Fai.top.$(".horizontal-ruler-wrap");
    0 !== a.length && a.is(":visible") && (t += a.outerHeight(!0)),
    Fai.top._Global.hideSettingCol || i.css("top") == t + "px" || i.css("top", t + "px"),
    Site.resetMemberBarPos(),
    Fai.top.$(".floatLeftTop").css("top", t + "px"),
    Fai.top.$(".floatRightTop").css("top", t + "px")
}
,
Site.resetMemberBarPos = function() {
    var e = Site.getTopHeight() - (Fai.top._memberTopBar_versionTwo ? 36 : 37);
    "block" === $("#topBar").css("display") && (e -= 6);
    var t = Fai.top.$(".horizontal-ruler-wrap");
    0 !== t.length && t.is(":visible") && (e += t.outerHeight(!0));
    var i = Fai.top.$("#memberBarArea");
    Fai.top._Global.hideSettingCol || i.css("top") == e + "px" || i.css("top", e + "px")
}
,
Site.getTopHeight = function() {
    return Fai.top._Global._topBarV2 ? t() : e();
    function e() {
        var e = 0
          , t = 0
          , i = 0
          , a = 0
          , o = 0
          , n = 0;
        return 0 < Fai.top.$("#sitetips").length && "none" != Fai.top.$("#sitetips").css("display") && (a = Fai.top.$("#sitetips").outerHeight(!0),
        Fai.top._siteDemo && !Fai.top._oem && (a = 0)),
        0 < Fai.top.$("#arrears").length && "none" != Fai.top.$("#arrears").css("display") && (e = Fai.top.$("#arrears").outerHeight(!0)),
        0 < Fai.top.$("#topBar").length && "none" != Fai.top.$("#topBar").css("display") && (t = Fai.top.$("#topBarArea").outerHeight(!0)),
        0 < Fai.top.$("#styleDesign").length && "none" != Fai.top.$("#styleDesign").css("display") && (i = Fai.top.$("#styleDesign").outerHeight(!0)),
        0 < Fai.top.$("#siteTipsDemoTemplate").length && "none" != Fai.top.$("#siteTipsDemoTemplate").css("display") && (o = Fai.top.$("#siteTipsDemoTemplate").outerHeight(!0)),
        0 < Fai.top.$("#memberBarArea").length && "none" != Fai.top.$("#memberBarArea").css("display") && (n = Fai.top.$("#memberBarArea").outerHeight(!0)),
        0 < i && (a = 0),
        e + t + i + a + o + n
    }
    function t() {
        var e = 0
          , t = Fai.top.$("#sitetips")
          , i = Fai.top.$("#arrears")
          , a = Fai.top.$("#fk-toolTopBar")
          , o = Fai.top.$("#siteTipsDemoTemplate")
          , n = Fai.top.$("#memberBarArea");
        return 0 < t.length && t.is(":visible") && (e += t.outerHeight(!0),
        Fai.top._siteDemo && !Fai.top._oem && (e = 0)),
        0 < i.length && i.is(":visible") && (e += i.outerHeight(!0)),
        0 < a.length && a.is(":visible") && (e += a.outerHeight(!0)),
        0 < o.length && o.is(":visible") && (o += o.outerHeight(!0)),
        0 < n.length && n.is(":visible") && (e += n.outerHeight(!0)),
        e < 0 ? 0 : e
    }
}
,
Site.scrollToDiv = function(e) {
    Fai.top.$("body").hasClass("g_mainManage") ? (Fai.top.$(Fai.top.window).scrollTop(0),
    Fai.top.$(Fai.top.window).scrollTop(e.offset().top - Fai.top.$(".floatLeftTop").offset().top - 10)) : (Fai.top.$(window).scrollTop(0),
    Fai.top.$(window).scrollTop(e.offset().top - 10))
}
,
Site.diaLogSaveBtnStillNext = function(e) {
    return function() {
        Site.checkSaveBar({
            callback: e.apply(void 0, arguments)
        }) || e.apply(void 0, arguments)()
    }
}
,
Site.checkSaveBar = function(e) {
    return 0 < Fai.top._changeStyleNum && (Site.popupStyleChangeBodyWindow({
        msg: e && e.msg || "您的网站设计已经更改，是否立即保存？",
        isCancelBtn: !1,
        runCallback: !1,
        saveBtnStr: "确定",
        cancelBtnStr: "取消",
        callback: e && e.callback || function() {}
        ,
        otherOptions: e
    }),
    !0)
}
,
Site.CookieStore = {
    get: function get(e) {
        var t = encodeURIComponent(e) + "="
          , i = document.cookie.indexOf(t)
          , a = null;
        if (-1 < i) {
            var o = document.cookie.indexOf(";", i);
            -1 == o && (o = document.cookie.length),
            a = decodeURIComponent(document.cookie.substring(i + t.length, o))
        }
        return a
    },
    set: function set(e, t, i, a, o, n) {
        var r = encodeURIComponent(e) + "=" + encodeURIComponent(t);
        i instanceof Date && (r += "; expires=" + i.toGMTString()),
        a && (r += "; path=" + a),
        o && (r += "; domain=" + o),
        n && (r += "; secure"),
        document.cookie = r
    },
    unset: function unset(e, t, i, a) {
        this.set(e, "", new Date(0), t, i, a)
    }
},
Site.LocalStore = {
    set: function set(e, t) {
        if (window.localStorage && localStorage.setItem)
            try {
                localStorage.setItem(e, t)
            } catch (i) {
                Utils.cookieStore.set(e, t)
            }
        else
            Utils.cookieStore.set(e, t);
        return this
    },
    get: function get(e) {
        if (!window.localStorage || !localStorage.getItem)
            return Utils.cookieStore.get(e);
        try {
            return localStorage.getItem(e)
        } catch (t) {
            return Utils.cookieStore.get(e)
        }
    },
    remove: function remove(e) {
        if (window.localStorage && localStorage.removeItem)
            try {
                localStorage.removeItem(e)
            } catch (t) {
                Utils.cookieStore.unset(e)
            }
        else
            Utils.cookieStore.unset(e);
        return this
    }
},
Site.logClick = function(e, t) {}
,
Site.popupLogin = function(e, t) {
    try {
        if (!Site.getTopWindow().location.href)
            return void alert('您好，目前无法打开登录框，可能是以下原因：\n1、当前网页未完全加载，请稍后重试或刷新再试。\n2、不支持"域名转发"时登录。\n3、不支持"被其他网站嵌入"时登录。')
    } catch (i) {
        return void alert('您好，目前无法打开登录框，可能是以下原因：\n1、当前网页未完全加载，请稍后重试或刷新再试。\n2、不支持"域名转发"时登录。\n3、不支持"被其他网站嵌入"时登录。')
    }
    e = e + "/loginForm.jsp?cid=" + t + "&f=" + Fai.encodeUrl(window.location.href) + "&rqDomain=" + Fai.encodeUrl(Fai.top.document.domain),
    Fai.popupWindow({
        title: "登录",
        frameSrcUrl: e + "&track=2&ram=" + Math.random(),
        width: "380",
        height: "175",
        frameScrolling: "no"
    })
}
,
Site.getFooterBottom = function(e) {
    return e ? Fai.top.$("#webFooter").offset().top + Fai.top.$("#webFooter").height() : "none" != Fai.top.$(".footerSupport").css("display") ? Fai.top.$(".footerSupport").offset().top : Fai.top.$("#webFooter").offset().top + Fai.top.$("#webFooter").height()
}
,
Site.navAppendToParent = function(e, t) {
    Site.getTopWindow().$("#nav");
    if (!t) {
        var i = Site.getTopWindow().$("#nav");
        Fai.top._useNavVersionTwo && (i = Site.getTopWindow().$("#navV2Wrap")),
        Fai.top._isThemeNavFloatRight ? i.appendTo(Site.getTopWindow().$("#webNav")) : 0 == e ? (Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter")),
        i.appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"))) : 1 == e ? (Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter")),
        i.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))) : 2 == e ? (Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#containerMiddleLeft")),
        i.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))) : 3 == e || 5 == e ? (i.appendTo(Site.getTopWindow().$("#containerMiddleLeft")),
        Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#containerMiddleLeft"))) : 4 == e || 6 == e ? (Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#containerMiddleCenterTop")),
        i.appendTo(Site.getTopWindow().$("#containerMiddleLeft"))) : 7 == e ? (Site.getTopWindow().$("#banner").prependTo(Site.getTopWindow().$("#containerFormsCenter")),
        i.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))) : 8 == e ? (Site.getTopWindow().$("#banner").prependTo(Site.getTopWindow().$("#centerTopForms")),
        i.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))) : 9 == e ? (Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter")),
        i.appendTo(Site.getTopWindow().$("#webNav"))) : 10 == e && (i.appendTo(Site.getTopWindow().$("#webBanner .bannerCenter")),
        Fai.top._useBannerVersionTwo && Fai.top._useNavVersionTwo ? Site.getTopWindow().$("#bannerV2").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter")) : Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter")))
    }
}
,
Site.initTemplateLayout = function(e, t, i) {
    var a = Fai.top.$("#webBanner");
    Site.navAppendToParent(e, t),
    0 == e ? (a.show(),
    Site.showNavSubMenu(0),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200)) : 1 == e ? (a.show(),
    Site.showNavSubMenu(0),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200)) : 2 == e ? (a.hide(),
    Site.showNavSubMenu(0),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200)) : 3 == e ? (a.hide(),
    Site.showNavSubMenu(1),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200),
    Site.hideNavItemContainer()) : 4 == e ? (a.hide(),
    Site.showNavSubMenu(1),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200),
    Site.hideNavItemContainer()) : 5 == e ? (a.hide(),
    Site.showNavSubMenu(1),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200),
    Site.hideNavItemContainer()) : 6 == e ? (a.hide(),
    Site.showNavSubMenu(100),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200),
    Site.hideNavItemContainer()) : 7 == e ? (a.hide(),
    Site.showNavSubMenu(0),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200)) : 8 == e ? (a.hide(),
    Site.showNavSubMenu(0),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200)) : 9 != e && 10 != e || (a.show(),
    Site.showNavSubMenu(0),
    setTimeout(function() {
        Site.showNavItemContainer()
    }, 200)),
    Fai.top._manageMode && setTimeout(function() {
        Site.absoluteNavDraggableAndResize(e, i)
    }, 300)
}
,
Site.checkFaiAnchor = function() {
    var e = window.location.hash;
    if (JZ.getIsOpenRemoveUrlArg()) {
        if (!(e = $.cookie("jumpModuleArg") || ""))
            return;
        $.cookie("jumpModuleArg", null, {
            path: "/"
        })
    }
    var t = e.substring(1).split("_");
    if ("fai" == t[0]) {
        var i = t[1]
          , a = t[2];
        i && (void 0 === a && (a = "top"),
        Site.jumpToModulePosition(i, a))
    }
}
,
Site.logout = function(t) {
    Fai.ing("正在退出系统...", !1),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/login_h.jsp?cmd=wafNotCk_logout",
        error: function e() {
            Fai.ing("系统繁忙，请稍后重试。", !1)
        },
        success: function i(e) {
            Fai.successHandle(e, "", "系统繁忙，请稍后重试。", t, 1, 1)
        }
    })
}
,
Site.initMulColModuleInIE = function(e) {
    Fai.isIE10() && $(e).find(".mulModuleColStyleLine").css("height", $(e).height() - 25 + "px")
}
,
Site.initCorpTitleJump = function() {
    var o = 0
      , t = null;
    function n(e) {
        clearTimeout(t),
        t = setTimeout(function() {
            e()
        }, 300),
        2 === o && (o = 0,
        clearTimeout(t))
    }
    $("#corpTitle").click(function(e) {
        o++;
        var i = $(this).attr("_href");
        if ("" == i || null == i)
            return !1;
        if ("true" == $(this).find(".fkEditor").attr("contenteditable"))
            return !1;
        var t = parseInt($(this).attr("_linktype"))
          , a = $(this).attr("_reqargs");
        if (null != Fai.top._titleData && "" != Fai.top._titleData)
            if (1 === Fai.top._titleData.jm.ot) {
                if (114 == _titleData.jm.jType && "微信客服" == _titleData.jm.jName)
                    return;
                n(function() {
                    a && JZ.getIsOpenRemoveUrlArg() ? JZ.handleSetUrlArgToCookie(a).then(function() {
                        window.open(i)
                    }) : window.open(i)
                })
            } else
                n(function() {
                    if (0 < Fai.top._changeStyleNum) {
                        var e = {};
                        return e.fun = Site.saveDesignToCheckUpRedirectUrl,
                        e.args = new Array,
                        e.args.push(i),
                        Site.popupStyleChangeBodyWindow({
                            msg: "您的网站设计已经更改，是否立即保存？",
                            callback: function t() {
                                a && JZ.getIsOpenRemoveUrlArg() ? JZ.handleSetUrlArgToCookie(a).then(function() {
                                    e.fun(i, "_href")()
                                }) : e.fun(i, "_href")()
                            },
                            runCallback: !0
                        }),
                        event && event.stopPropagation ? (event.stopPropagation(),
                        event.preventDefault()) : (window.event.cancelBubble = !0,
                        window.event.returnValue = !1),
                        !1
                    }
                    a ? JZ.handleSetUrlArgToCookie(a).then(function() {
                        Fai.top.location.href = i
                    }) : Fai.top.location.href = i
                });
        else if (1 === t) {
            if ($(this).hasClass("J_hoverQrCodeLink"))
                return;
            window.open(i)
        } else
            Fai.top.location.href = i
    })
}
,
Site.onTitleSiteFixTop = function() {
    var i, a = !1, o = Fai.isIE6(), e = Fai.isIE7(), n = Fai.top.$("#corpTitle"), t = (Fai.top.$(window),
    Fai.top.$(window),
    Fai.top.$("#web")), r = Fai.top.$("body"), s = Fai.top.$(".webTopTable"), l = Fai.top.$(".floatLeftTop"), d = n.parent(), c = Fai.top.$("#sitetips"), p = (parseInt(n.css("top").replace("px", "")),
    n.offset().top - t.offset().top), u = n.position().left, m = (c.height(),
    l.css("top").replace("px", "") || 0), h = n.offset().top - m, f = Fai.top.$(window);
    var g, v, _ = n.offset().left - d.offset().left;
    f.off("scroll.title"),
    f.on("scroll.title", function() {
        if (!n.hasClass("fixed_project")) {
            var e = f.scrollTop()
              , t = parseInt(l.css("top").replace("px", "")) - 1;
            m = t || 0,
            i = Site.getNavInClientPosition(n).left,
            0 < s.find("#corpTitle").length && s.css({
                zIndex: "60",
                position: "relative"
            }),
            !a && h < e && (o ? (g = n.parent(),
            v = n.offset().left - g.offset().left,
            r.prepend(n),
            n.css({
                position: "absolute",
                left: i + "px",
                top: m + "px"
            })) : (n.addClass("titlefixtop"),
            n.css({
                left: i + "px",
                top: m + "px",
                position: "fixed"
            })),
            a = !0),
            a && e < h && (o ? (d.append(n),
            n.css({
                position: "absolute",
                left: u,
                top: p,
                zIndex: ""
            })) : (n.removeClass("titlefixtop"),
            n.css({
                position: "absolute",
                left: u,
                top: p
            })),
            a = !1)
        }
    }),
    Fai.top.$(window).on("resize.title", function() {
        n.hasClass("fixed_project") || (o && 0 == n.offset().top ? n.css("left", g.offset().left + v) : n.hasClass("titlefixtop") && setTimeout(function() {
            n.css("left", d.offset().left + _)
        }, 0))
    })
}
,
Site.onLogoSiteFixTop = function() {
    var i, a = !1, o = Fai.isIE6(), e = Fai.isIE7(), n = Fai.top.$("#logo"), t = Fai.top.$(window), r = (Fai.top.$("#web"),
    Fai.top.$("body")), s = Fai.top.$(".webTopTable"), l = Fai.top.$(".floatLeftTop"), d = n.parent(), c = Fai.top.$("#sitetips"), p = (parseInt(n.css("top").replace("px", "")),
    n.offset().top - Fai.top.$(".floatLeftTop").offset().top), u = n.position().left, m = (c.height(),
    p), h = l.css("top").replace("px", "") || 0, f = Fai.top.$(window);
    (o || e) && (f = t);
    var g, v, _ = n.offset().left - d.offset().left;
    f.off("scroll.logo"),
    f.on("scroll.logo", function() {
        if (!n.hasClass("fixed_project")) {
            var e = f.scrollTop()
              , t = parseInt(l.css("top").replace("px", "")) - 1;
            h = t || 0,
            i = Site.getNavInClientPosition(n).left,
            0 < s.find("#logo").length && s.css({
                zIndex: "60",
                position: "relative"
            }),
            !a && m < e && (o ? (g = n.parent(),
            v = n.offset().left - g.offset().left,
            r.prepend(n),
            n.css({
                position: "absolute",
                left: i + "px",
                top: h + "px",
                zIndex: 60
            })) : (n.addClass("logofixtop"),
            n.css({
                left: i + "px",
                top: h + "px",
                position: "fixed"
            })),
            a = !0),
            a && e < m && (o ? (d.append(n),
            n.css({
                position: "absolute",
                left: u,
                top: p,
                zIndex: ""
            })) : (n.removeClass("logofixtop"),
            n.css({
                position: "absolute",
                left: u,
                top: p
            })),
            a = !1)
        }
    }),
    Fai.top.$(window).on("resize.logo", function() {
        n.hasClass("fixed_project") || (o && 0 == n.offset().top ? n.css("left", g.offset().left + v) : n.hasClass("logofixtop") && setTimeout(function() {
            n.css("left", d.offset().left + _)
        }, 0))
    })
}
,
Site.voidFun = function() {}
,
Site.codeInsert = function(e, t) {
    var i = /document.write/g;
    e = e.replace(i, "Site.voidFun");
    var a = document.createElement("script");
    a.type = "text/javascript";
    try {
        a.appendChild(document.createTextNode(e))
    } catch (o) {
        a.text = e
    }
    if (1 == t)
        document.body.appendChild(a);
    else if (2 == t) {
        (document.head || document.getElementsByTagName("head")[0]).appendChild(a)
    }
}
,
Site.newBaiduCount = function(e) {
    var t = document.createElement("script");
    t.type = "text/javascript",
    t.src = e,
    (document.head || document.getElementsByTagName("head")[0]).appendChild(t)
}
,
Site.wxShareAlter = function(e, t) {
    var i = [];
    i.push("<div class='wxShare'>"),
    i.push("<div class='wxShareContent'>"),
    i.push("<div class='wxShareDesc'>"),
    i.push("<span>" + LS.weChatShare + "</span>"),
    i.push("</div>"),
    i.push("<div class='wxShareQrcode'><img alt='' src='" + e + "' /></div>"),
    i.push("</div>"),
    i.push("</div>");
    var a = 0;
    if (t) {
        var o = {
            title: "微信分享",
            width: 480,
            height: 480,
            divContent: i.join(""),
            closeFunc: function n() {
                $("body").css("overflow", "")
            }
        };
        a = Site.getTopWindow().Fai.popupWindowVersionTwo.createPopupWindow(o).getPopupWindowId()
    } else
        a = Site.getTopWindow().Fai.popupWindow({
            width: 480,
            height: 420,
            frameScrolling: "no",
            bannerDisplay: !1,
            bgClose: !0,
            closeBtnClass: "wxSharehideCloseBtn",
            divContent: i.join("")
        });
    Fai.isIE6() && 0 < Fai.top.$("#fixSelectIframe" + a).length && Fai.top.$("#fixSelectIframe" + a).remove()
}
;
var hoverChangeImageTime = 0;
function changeQrCode(e) {
    var t = ((e.attr("href") || e.attr("_href") || "").match(/_script:(.+);/) || [])[1];
    t && (e.attr("href", "javascript:;"),
    e.attr("_href", "javascript:;"),
    e.removeAttr("target"),
    e.attr("onmouseover", Fai.decodeHtml(t)),
    e.addClass("J_hoverQrCodeLink"))
}
Site.hoverChangeImage = function(e) {
    (e = Fai.top.$(e)) || e.length ? e.each(function() {
        $(this).one("mouseenter.hoverChangeImage", function(e) {
            Site.hoverChangeImage2($(this)),
            $(e.target).mouseenter()
        })
    }) : Site.hoverChangeImage2()
}
,
Site.hoverChangeImage2 = function(e) {
    var t = []
      , i = []
      , a = this.body ? this.body : !!this.editor && this.editor.body;
    if (i = e && 0 < e.length ? (t = e.find("img[_defImg][_hovImg], img[_defFont][_hovFont], div[_defFont][_hovFont], div[_defImg][_hovImg]"),
    e.find(".J_hoverImage")) : a ? (t = $(a).find("img[_defImg][_hovImg], img[_defFont][_hovFont], div[_defFont][_hovFont], div[_defImg][_hovImg]"),
    $(a).find(".J_hoverImage")) : (t = $("img[_defImg][_hovImg], img[_defFont][_hovFont], div[_defFont][_hovFont], div[_defImg][_hovImg]"),
    $(".J_hoverImage")),
    0 != t.length) {
        i.remove();
        for (var o = 0; o < t.length; o++) {
            var n = t[o]
              , r = $(n).parent()
              , s = ($(n).position().top,
            $(n).position().left,
            $(n).width())
              , l = $(n).height()
              , d = $(n).attr("title") || ""
              , c = ($(n).attr("_defFont"),
            "")
              , p = $(n).attr("_hovImg")
              , u = "position: absolute; opacity:0;"
              , m = $(n).attr("_hovFont")
              , h = $(n).attr("_hovColor");
            if ((0 < $(n).parents(".richContent").length || a) && $(r).is("p, span, td") && ("span" !== r[0].nodeName.toLowerCase() || !$(r).hasClass("J_hoverImageParent"))) {
                var f = "display: inline-block; width: " + s + "px; height: " + l + "px; _display: block; _zoom: 1;";
                $(n).after("<span class='J_hoverImageParent' style='" + f + "'></span>"),
                r = $(n).next("span"),
                $(r).append($(n))
            }
            if (0 == (c = $(r).find(".J_hoverImage")).length) {
                if (u += "top: 0px; left: 0px; width:" + s + "px; height:" + l + "px;",
                m)
                    font_size = l < s ? l : s,
                    c = "<div class='J_hoverImage " + m + "' style='" + (u += "font-size:" + font_size + "px; text-align : center; line-height:" + l + "px;") + "color: " + h + "' ></div>";
                else
                    $(n).hasClass("J_img_lazyLoad") && jzSite.lazyLoad.isSupportWebp() && (p = jzSite.lazyLoad.imgToWebp(p)),
                    c = "<img class='J_hoverImage' src='" + p + "' style='" + u + (p ? "" : "visibility:hidden;") + "' title='" + d + "' alt='" + d + "' >";
                $(n).after(c)
            }
            $(n).css("opacity", "")
        }
        var g = $(t).parent();
        $.each(g, function(e, t) {
            var i = $(this).find("img[_defImg], div[_defFont]")[0];
            if (!(void 0 === $(i).attr("_hovImg") && void 0 === $(i).attr("_hovFont") || void 0 !== $(i).attr("_hovImg") && 0 == $(i).attr("_hovImg").length)) {
                var a = $(t).parents(".form");
                Fai.isChrome() && !$(a).hasClass("formStyle31") && $(t).css("position", "relative"),
                $(t).off(".hoverImage"),
                $(t).on("mouseenter.hoverImage", function() {
                    var e = $(this).find("img[_defImg], div[_defFont]")[0]
                      , t = $(this).find(".J_hoverImage")
                      , i = ($(this).find(".forMargin"),
                    $(t).attr("src") || "")
                      , a = -1 != i.indexOf("gif");
                    function o() {
                        v(e, t),
                        $(e).css({
                            opacity: 0
                        }),
                        $(t).css({
                            opacity: 1
                        }),
                        a && (Fai.isIE() && ($(t).attr("_src") ? i = $(t).attr("_src") + "?v" + (new Date).getTime() : $(t).attr("_src", $(t).attr("src"))),
                        i && $(t).attr("src", i))
                    }
                    t.get(0).complete ? o() : (t.data("wait_hoverimg", !0),
                    t.get(0).onload = function() {
                        t.data("wait_hoverimg") && (t.removeData("wait_hoverimg"),
                        o())
                    }
                    )
                }).on("mouseleave.hoverImage", function() {
                    var e = $(this).find("img[_defImg], div[_defFont]")[0]
                      , t = $(this).find(".J_hoverImage");
                    if (t.data("wait_hoverimg"))
                        t.removeData("wait_hoverimg");
                    else {
                        v(e, t),
                        $(e).css({
                            opacity: 1
                        }),
                        $(t).css({
                            opacity: 0
                        });
                        var i = !!$(t).attr("src") && -1 != $(t).attr("src").indexOf("gif");
                        Fai.isIE() && i && $(t).attr("_src") && $(t).attr("src", $(t).attr("_src"))
                    }
                })
            }
        })
    }
    function v(e, t) {
        var i = $(e).width()
          , a = $(e).height()
          , o = $(e).position().top
          , n = $(e).position().left
          , r = $(e).css("margin-left")
          , s = $(e).css("margin-top");
        r && (n += r = parseInt(r.replace("px", ""))),
        s && (o += s = parseInt(s.replace("px", ""))),
        "DIV" == $(e).context.tagName && $(e).parent().css("display", "block"),
        $(t).css({
            top: o + "px",
            left: n + "px",
            width: i + "px",
            height: a + "px"
        })
    }
}
,
Site.hoverStyle = function() {
    var s, a, o, e = $("a[aStyle_h]"), t = this.body ? this.body : !!this.editor && this.editor.body, n = !0;
    if (t && (e = $(t).find("a[aStyle_h]")),
    0 != e.length) {
        for (var i = 0; i < e.length; i++)
            $(e[i]).off("mouseenter.hoverStyle").off("mouseleave.hoverStyle").on("mouseenter.hoverStyle", l).on("mouseleave.hoverStyle", d);
        var r = !1
    }
    function l() {
        if (!r) {
            r = !0;
            var e = $.parseJSON($(this).attr("stylehover"))
              , t = $.parseJSON($(this).attr("wbackColor_h"));
            if (null != e || null != t)
                if (null != e && null == t) {
                    for (var i = 0; i < this.childNodes.length; i++) {
                        c(this.childNodes[i], 1, e, null, !1)
                    }
                    o = this.style.textDecoration,
                    a = this.style.color,
                    $(this).css({
                        "text-decoration": e.u ? "underline" : "none",
                        color: e.c,
                        display: "inline-block",
                        "text-indent": 0
                    }),
                    e.u || (n = !1)
                } else if (null != t && null == e)
                    for (i = 0; i < this.childNodes.length; i++) {
                        c(this.childNodes[i], 2, null, t, !1)
                    }
                else {
                    o = this.style.textDecoration,
                    a = this.style.color;
                    for (i = 0; i < this.childNodes.length; i++) {
                        c(this.childNodes[i], 3, e, t, !1)
                    }
                    $(this).css({
                        "text-decoration": e.u ? "underline" : "none",
                        color: e.c
                    }),
                    e.u || (n = !1)
                }
        }
    }
    function d() {
        r = !1;
        var e = $.parseJSON($(this).attr("stylehover"))
          , t = $.parseJSON($(this).attr("wbackColor_h"));
        if (null != e || null != t) {
            $(this).css("display", "");
            for (var i = 0; i < this.childNodes.length; i++) {
                c(this.childNodes[i], 3, e, t, !0)
            }
            n || ($(this).css({
                "text-decoration": "none"
            }),
            n = !0),
            1 == $(this).attr("astyle_h") ? ($(this).css({
                color: "" + a
            }),
            $(this).css({
                "text-decoration": "" + o
            })) : 2 == $(this).attr("astyle_h") && ($(this).css({
                color: ""
            }),
            $(this).css({
                "text-decoration": ""
            })),
            s = a = o = null
        }
    }
    function c(e, t, i, a, o) {
        t = t || 0;
        var n = e.childNodes.length;
        if (1 == e.nodeType && 0 < n)
            for (var r = 0; r < n; r++)
                c(e.childNodes[r], t, i, a, o);
        3 == e.nodeType && (o ? e.parentNode.style.cssText = s : (s = e.parentNode.style.cssText,
        1 == t ? $(e.parentNode).css({
            "font-size": i.fs,
            "font-weight": i.b ? "bold" : "normal",
            "font-family": i.ff,
            color: i.c
        }) : 2 == t ? $(e.parentNode).css({
            "background-color": a.bc
        }) : 3 == t && $(e.parentNode).css({
            "font-size": i.fs,
            "font-weight": i.b ? "bold" : "normal",
            "font-family": i.ff,
            color: i.c,
            "background-color": a.bc
        })))
    }
}
,
Site.setFullMeasureBgHightInIe6 = function(e) {
    if (Fai.isIE6()) {
        var t = Fai.top.$("#module" + e)
          , i = t.height();
        t.find(".fullmeasureOuterContentBg" + e).css("height", i + "px"),
        t.find(".fullmeasureContentBg" + e).css("height", i + "px")
    }
}
,
Site.addStellarEvent = function() {
    var e = Fai.top.$(".fullmeasureOuterContentBg, .J_bannerItem")
      , t = !1;
    0 < e.length && e.each(function() {
        $(this).attr("data-stellar-background-ratio") && (t = !0)
    }),
    t && (Fai.top._manageMode ? (Fai.top.$(Fai.top.window).stellar("destroy"),
    Fai.top.$(Fai.top.window).stellar({
        horizontalScrolling: !1,
        responsive: !1
    })) : ($(Fai.top).stellar("destroy"),
    $(Fai.top).stellar({
        horizontalScrolling: !1,
        responsive: !1
    })))
}
,
Site.popupPwdTips = function(e, t, i) {
    Site.getTopWindow().$.cookie("hasLoginSite", "true", {
        expires: 1,
        path: "/"
    }),
    Site.getTopWindow().$(".formDialog .formX").trigger("click");
    var a = [];
    a += "<div id='changePwdPopWin' style=''>",
    a += "\t<div class='headeline_pwd'><span class='warmIcon'></span>请先修改您的密码</div>",
    a += "\t<div class='summery_pwd'>您的密码过于简单，为避免盗号造成损失，请先修改密码</div>",
    a += "\t<div class='btnBox'>",
    a += "\t\t<a class='btn_pwd cancle_pwd' href='javaScript:void(0);' onclick=\"Site.tipsClose('" + t + "','" + i + "')\">暂不修改</a>",
    a += "\t\t<a class='btn_pwd changePwd_pwd' href='" + e + "/portal.jsp#appId=setPwd' onclick='toSetPwd();Site.logDog(100068,9);'>修改密码</a> ",
    a += "\t<div>",
    a += "<div>",
    Fai.ing2(a, !1),
    Site.getTopWindow().$(".msg2").css({
        "text-align": "left",
        margin: "15px",
        width: "auto"
    }),
    Site.getTopWindow().$(".tips2").css({
        height: "224px",
        width: "440px",
        border: "none"
    }),
    Site.getTopWindow().$("#ing2").css({
        width: "452px",
        "margin-top": "105px"
    }),
    Site.getTopWindow().$("#ing2").css({
        transition: "opacity 0s ease",
        position: "fixed",
        top: "0"
    }),
    Site.getTopWindow().$("#ing2,.tips2").css({
        transition: "opacity ease 0s",
        "-webkit-box-shadow": "none",
        "box-shadow": "none",
        "-moz-box-shadow": "none"
    }),
    Site.getTopWindow().$(".msg2").css({
        margin: "0px",
        width: "auto"
    }),
    Fai.bg(0, .7),
    Site.getTopWindow().$("body").css("overflow", "hidden"),
    Site.getTopWindow().$("#popupBg0").click(function() {
        Site.tipsClose(t, i)
    }),
    Site.getTopWindow().$("#ing2 .close").bind("click", function() {
        Site.tipsClose(t, i)
    })
}
,
Site.tipsClose = function(e, t) {
    Site.getTopWindow().Fai.removeIng2(),
    Site.getTopWindow().Fai.removeBg(),
    Site.getTopWindow().$("body").css("overflow", "scroll"),
    $.cookie("hasLoginSite", "false", {
        expires: 1,
        path: "/"
    }),
    window.location.href = "http://" + e + "." + t
}
,
Site.changeAdmHref = function(e, t) {
    window.location.href = "http://" + e + "." + t
}
,
Site.getDialogContent = function(e, t, i, a) {
    var o = e ? "suc-ico" : "resultFailIcon";
    return void 0 !== i && null != i && !isNaN(i) || (i = 180),
    void 0 !== a && null != a && !isNaN(a) || (a = 160),
    ["<table style='width:100%;height:100%;'>", "<tr>", "<td style='width:100px;'></td>", "<td style='width:" + i + "px;'>", "<div class='" + o + " addItemTextTips' style='max-width:" + a + "px;font-size:14px; color:#636363; overflow: hidden;word-wrap:normal; white-space: nowrap; text-overflow: ellipsis;' >" + t + "</div>", "</td>", "<td style='width:100px;'></td>", "</tr>", "</table>"].join("")
}
,
function() {
    function e(o, e) {
        e = e || {};
        var n, i = window, r = {
            clamp: e.clamp || 2,
            useNativeClamp: "undefined" == typeof e.useNativeClamp || e.useNativeClamp,
            splitOnChars: e.splitOnChars || [".", "-", "–", "—", " "],
            animate: e.animate || !1,
            truncationChar: e.truncationChar || "…",
            truncationHTML: e.truncationHTML
        }, t = o.style, a = o.innerHTML, s = "undefined" != typeof o.style.webkitLineClamp, l = r.clamp, d = l.indexOf && (-1 < l.indexOf("px") || -1 < l.indexOf("em"));
        r.truncationHTML && ((n = document.createElement("span")).innerHTML = r.truncationHTML);
        var c, p, u, m = r.splitOnChars.slice(0), h = m[0];
        if ("auto" == l ? l = v() : d && (l = v(parseInt(l))),
        s && r.useNativeClamp)
            t.overflow = "hidden",
            t.textOverflow = "ellipsis",
            t.webkitBoxOrient = "vertical",
            t.display = "-webkit-box",
            t.webkitLineClamp = l,
            d && (t.height = r.clamp + "px");
        else {
            var f = _(l);
            f <= o.clientHeight && (u = x(b(o), f))
        }
        return {
            original: a,
            clamped: u
        };
        function g(e, t) {
            return i.getComputedStyle || (i.getComputedStyle = function(i, e) {
                return this.el = i,
                this.getPropertyValue = function(e) {
                    var t = /(\-([a-z]){1})/g;
                    return "float" == e && (e = "styleFloat"),
                    t.test(e) && (e = e.replace(t, function() {
                        return arguments[2].toUpperCase()
                    })),
                    i.currentStyle && i.currentStyle[e] ? i.currentStyle[e] : null
                }
                ,
                this
            }
            ),
            i.getComputedStyle(e, null).getPropertyValue(t)
        }
        function v(e) {
            var t = e || o.clientHeight
              , i = S(o);
            return Math.max(Math.floor(t / i), 0)
        }
        function _(e) {
            return S(o) * e
        }
        function S(e) {
            var t = g(e, "line-height");
            return "normal" == t && (t = 1.2 * parseInt(g(e, "font-size"))),
            parseInt(t)
        }
        function b(e) {
            return e.lastChild.children && 0 < e.lastChild.children.length ? b(Array.prototype.slice.call(e.children).pop()) : e.lastChild && e.lastChild.nodeValue && "" != e.lastChild.nodeValue && e.lastChild.nodeValue != r.truncationChar ? e.lastChild : (e.lastChild.parentNode.removeChild(e.lastChild),
            b(o))
        }
        function x(e, t) {
            if (t) {
                var i = e.nodeValue.replace(r.truncationChar, "");
                if (c || (h = 0 < m.length ? m.shift() : "",
                c = i.split(h)),
                1 < c.length ? (p = c.pop(),
                w(e, c.join(h))) : c = null,
                n && (e.nodeValue = e.nodeValue.replace(r.truncationChar, ""),
                o.innerHTML = e.nodeValue + " " + n.innerHTML + r.truncationChar),
                c) {
                    if (o.clientHeight <= t) {
                        if (!(0 <= m.length && "" != h))
                            return o.innerHTML;
                        w(e, c.join(h) + h + p),
                        c = null
                    }
                } else
                    "" == h && (w(e, ""),
                    e = b(o),
                    a());
                if (!r.animate)
                    return x(e, t);
                setTimeout(function() {
                    x(e, t)
                }, !0 === r.animate ? 10 : r.animate)
            }
            function a() {
                m = r.splitOnChars.slice(0),
                h = m[0],
                p = c = null
            }
        }
        function w(e, t) {
            e.nodeValue = t + r.truncationChar
        }
    }
    Site.clamp = e
}(),
Site.userReadyOperateSite = function() {
    Fai.top._manageMode && Site.memberTopBarReady(),
    Fai.top._Global._footerHidden && Fai.top._Global._footerHiddenAllowed || (Fai.top._oem || Site.changeTheLogoSize(),
    Site.refreshFooterItemSpacing())
}
,
Site.fixHashJump = function() {
    if (Fai.top == window) {
        var e, t, i, a = Fai.top.window.location.hash;
        if (a) {
            try {
                e = $(a)
            } catch (o) {
                return
            }
            e.length < 1 || (Fai.top._manageMode,
            t = Fai.top.window,
            i = e.parents(":not(html)"),
            $(t).one("scroll", function() {
                i.each(function() {
                    "hidden" == $(this).css("overflow") && ($(this).scrollTop(0),
                    $(this).scroll(function() {
                        0 != $(this).scrollTop() && $(this).scrollTop(0)
                    }))
                })
            }))
        }
    }
}
,
Site.loginSiteInit = function(e, t, i, a) {
    var o = $.cookie("hasLoginSite");
    "true" == o && null != o && ($.cookie("hasLoginSite", "false", {
        expires: 1,
        path: "/"
    }),
    Site.changeAdmHref(e, t)),
    i && Fai.ing(a, !0)
}
,
Site.getModuleGMainRect = function(e) {
    var t, i, a, o, n, r = Fai.top.$("#module" + e), s = Fai.top.$("html"), l = Fai.top.$(window);
    if (!(r.length < 1))
        return i = (t = r[0].getBoundingClientRect()).top + (d() ? s.scrollTop() : l.scrollTop()) - s.position().top,
        {
            left: a = t.left + (d() ? s.scrollLeft() : l.scrollLeft()) - s.position().left,
            top: i,
            right: a + (o = t.width || r.innerWidth()),
            bottom: i + (n = t.height || r.innerHeight()),
            width: o,
            height: n
        };
    function d() {
        return Fai.top._manageMode
    }
}
,
Site.switchJump = function() {
    var e = $(".switchJump");
    $.each(e, function(e, t) {
        if ("length" !== e) {
            var i = t.getAttribute("href")
              , a = t.getAttribute("_mu") || t.getAttribute("mJUrl")
              , o = t.getAttribute("_mColHide")
              , n = t.getAttribute("_i");
            if ((null != a || o) && "/index.jsp" != i)
                return i == a && "AGQI/////w8SAA==" == n ? (t.setAttribute("href", "javascript:void(0);"),
                void t.setAttribute("style", "text-decoration:none;")) : void 0
        }
    })
}
,
Site.serviceLogDog = function() {
    $(".formStyle40 .serOnline-service, .formStyle44 .serOnline-service").find(">div[servicetype]").off("click.log").on("click.log", function() {
        var e = $(this).attr("servicetype");
        switch (parseInt(e)) {
        case 0:
            Site.logDog(200172, 1);
            break;
        case 1:
            Site.logDog(200172, 4);
            break;
        case 2:
            Site.logDog(200172, 2);
            break;
        case 3:
            Site.logDog(200172, 3)
        }
    }),
    setTimeout(function() {
        $("#jiaxin-mcs-fixed-btn").off("click.log").on("click.log", function() {
            Site.logDog(200172, 7)
        }),
        $("#newBridge #nb_icon_wrap").off("click.log").on("click.log", function() {
            Site.logDog(200172, 6)
        })
    }, 2e3)
}
,
Site.ajaxClick = function(f, e) {
    showLoading = function i(e) {
        var t = ['<div class="ajaxLoading" style="margin-top:50px;margin-bottom:50px;">', '<table style="width:100%;height:100%;"><tr><td align="center" valign="middle">', '<div class="ajaxLoading2"></div>', "</td></tr></table>", "</div>"];
        $("#module" + e + " .formMiddleCenter").children().hide().end().append(t.join(""))
    }
    ,
    showLoadingAgain = function o(e) {
        closeLoading(e);
        var t = ['<div class="ajaxLoadingAgain width" style="margin-top:50px;margin-bottom:50px;text-align:center;">', '<div style="color: #1b7ad1; text-decoration: none; text-align:center; width:100%;cursor:pointer;" onclick="reloadingClick(' + e + ');">加载失败，请点击重新加载</div>', "</div>"];
        $("#module" + e + " .formMiddleCenter").children().hide().end().append(t.join(""))
    }
    ,
    closeLoading = function t(e) {
        $("#module" + e + " .formMiddleCenter").children().show(),
        $("#module" + e + " .formMiddleCenter .ajaxLoading").remove()
    }
    ,
    reloadingClick = function n(e) {
        loadingAjaxDom(e)
    }
    ;
    var a = $(f).attr("data-href") || $(f).attr("href");
    if (a && void 0 !== a) {
        var g = !1;
        loadingAjaxDom = function r(d) {
            var c = $("#module".concat(d)).attr("_modulestyle")
              , p = 1 == $(f).data("showmorebtn")
              , e = Site.compatibleAttrNewsList(d, p)
              , u = 116 != c && p
              , t = !u && _manageMode
              , m = Fai.top._isBUser && !Fai.top._oem && ["116"].includes(c) && Fai.top._manageMode;
            p || setTimeout(function() {
                g || showLoading(d)
            }, 1e3),
            $.ajax({
                type: "post",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/ajaxLoadModuleDom_h.jsp",
                data: "cmd=getWafNotCk_getAjaxPageModuleInfo&_colId=" + Fai.top._colId + "&_extId=0&moduleId=" + d + "&href=" + Fai.encodeUrl(a) + "&newNextPage=" + e + "&needIncToVue=" + t,
                error: function i(e) {
                    g = !0,
                    p || showLoadingAgain(d),
                    Fai.ing(LS.js_systemError, !0)
                },
                success: function h(e) {
                    if (g = !0,
                    p || closeLoading(d),
                    (e = $.parseJSON(e)).success) {
                        var t = $(e.domStr).find(".formMiddleCenter" + d).html()
                          , i = $("#module" + d)
                          , a = i.find(".formMiddleCenter" + d)
                          , o = e.moduleInfo
                          , n = o && o.isSSR;
                        if (p && Site.compatibleAttrNewsListManage(o),
                        m)
                            Site.refreshVueModuleSpecify(Site.getModuleAttr(d), o.attr, Site.specifyKeysByModule(c));
                        else if (Fai.top.isIncToVue && Fai.top._manageMode && !u)
                            Site.refreshModule(d, o);
                        else if (n && Fai.top._manageMode) {
                            var r = Fai.top.moduleAttr["module" + d];
                            Site.refreshVueModuleAttr(r.module, o),
                            o && o.initalState && (r.module.initalState = o.initalState)
                        } else {
                            p ? Site.handlePaginationShowMore(d, a, $(e.domStr)) : a.html(t),
                            Fai.fkEval(e.scripts);
                            var s = $(f).attr("class") || "";
                            1 == $(f).data("showmorebtn") || s.includes("js_pagination") || (i.hasClass("formStyle6") || i.hasClass("formStyle88") ? window.innerHeight < i.height() && Site.scrollToDiv(i) : Site.scrollToDiv(i))
                        }
                        Site.photoGroupImageEffect.bind(i);
                        var l = i.attr("_intab");
                        jzModule.TabPackModule.isCustomHeight(l) && jzModule.TabPackModule.setCustomHeight(l),
                        jzSite.mutationObserver.isGrayTest() && 1 == c && setTimeout(function() {
                            i.toggleClass("page-load-toggle")
                        }, 100),
                        Fai.top._manageMode && i.trigger("mouseout"),
                        Site.resetXPackModuleAutoHeight(i),
                        jzUtils.run({
                            name: "moduleAnimation.publish",
                            base: Fai.top.Site
                        }),
                        jzUtils.run({
                            name: "moduleAnimation.contentAnimationPublish",
                            base: Fai.top.Site
                        })
                    } else
                        Fai.ing(e.msg, !0),
                        showLoadingAgain(d)
                }
            })
        }
        ,
        loadingAjaxDom(e)
    } else
        Fai.ing(LS.js_argsError, !0)
}
,
Site.specifyKeysByModule = function(e) {
    var t = [];
    switch (e = parseInt(e)) {
    case 116:
        t = ["newsList", "pageHtml"];
        break;
    default:
        t = []
    }
    return t
}
,
Site.compatibleAttrNewsListManage = function() {
    var e = 0 < arguments.length && arguments[0] !== undefined ? arguments[0] : {};
    if (e && Fai.top._manageMode) {
        var t = (e.attr || {}).module || {}
          , i = t.style
          , a = t.id
          , o = Fai.top.moduleAttr["module" + a];
        if (116 == i && 2 == o.module.prop6) {
            o.module.newsList;
            t.newsList = [].concat(_toConsumableArray2(o.module.newsList), _toConsumableArray2(t.newsList))
        }
    }
}
,
Site.compatibleAttrNewsList = function(e, t) {
    var i = jzModule.NewsListModule.find(e);
    return !(!i || 116 != i.options.style || Fai.top._manageMode || !t)
}
,
Site.handlePaginationShowMore = function(a, o, e) {
    var t = e.attr("_modulestyle");
    if (88 == t) {
        var i = e.find("#photoForms".concat(a, " > *")).clone();
        o.find("#photoForms".concat(a)).append(i)
    } else if (6 == t) {
        var n = e.find("#newsList".concat(a)).attr("newslisttype")
          , r = o.find("#newsList".concat(a));
        6 == n ? o.find("#newsList".concat(a, " .clearfloat")).remove() : 1 == n ? (e.find("#newsList".concat(a, " .J_articlePhotoBox")).remove(),
        e.find("#newsList".concat(a, " .mixNewsStyleSummary")).remove(),
        e.find("#newsList".concat(a, " .newsListLine2")).removeClass("newsListLine2").addClass("fk-newsLineHeight").css({
            padding: "3px 0 3px 5px",
            height: ""
        }),
        e.find("#newsList".concat(a, " .J_mixNewsStyleTitle")).removeClass("mixNewsStyleTitle").css("display", "inline"),
        r.append('<div class="J_separatorLine separatorLine g_separator"></div>')) : 2 == n ? r.append('<div class="J_separatorLine separatorLine g_separator pic-separatorLine"></div>') : r.append('<div class="J_separatorLine separatorLine g_separator"></div>'),
        o.find("#newsList".concat(a, " .newsListSeparatorLine")).remove();
        var s = e.find("#newsList".concat(a, " > *")).clone();
        r.append(s)
    } else if (10 == t) {
        o.find(".fileList .clearfloat").remove();
        var l = e.find(".fileList > *").clone();
        o.find(".fileList").append('<div class="separatorLine g_separator"></div>').append(l)
    } else if (47 == t) {
        var d = e.find("#newsList".concat(a, " > *")).clone();
        o.find(".fileList .clearfloat").remove(),
        o.find("#newsList".concat(a)).append(d)
    } else if (27 == t) {
        var c = o.find(".J_photoGroupCtn").attr("_modulestyle");
        if (1 == c || 3 == c) {
            var p = e.find("#photoForms".concat(a, " > *")).clone();
            o.find("#photoForms".concat(a)).append(p)
        } else if (2 == c) {
            var u = e.find("#productFilterValuePanel".concat(a, " > *")).clone();
            o.find("#productFilterValuePanel".concat(a)).append(u)
        }
    } else if (68 == t || 69 == t || 70 == t || 78 == t)
        if (o.find(".productListForms .clearfloat").remove(),
        e.find(".productListForms .productListSytle, .productListForms .g_tip").remove(),
        78 == t) {
            var m = e.find(".productListForms .productDoublePicListForm")
              , h = o.find(".productListForms")
              , f = o.find(".doubleProduct");
            if (1 == $(f[f.length - 1]).children().length) {
                $(f[f.length - 1]).append(m[0]);
                var g = $('<div class="doubleProduct"></div>');
                m.each(function(e, t) {
                    var i = $(t);
                    0 != e && (g.append(i),
                    e % 2 == 0 && (h.append(g),
                    g = $('<div class="doubleProduct"></div>')))
                })
            } else {
                var v = e.find(".productListForms > *").clone();
                h.append(v)
            }
        } else {
            e.find(".productTextListProp").remove();
            var _ = e.find(".productListForms > *").clone();
            o.find(".productListForms").append(_)
        }
    else if (2 == t || 8 == t) {
        o.find("#productList".concat(a, " .clearfloat")).remove();
        var S = e.find("#productList".concat(a, " > *:not(#pagenation").concat(a, ")")).clone();
        o.find("#pagenation".concat(a)).before($('<div class="separatorLine g_separator"></div>')),
        o.find("#pagenation".concat(a)).before(S)
    } else if (74 == t) {
        var b = e.find("#productList".concat(a, " .productDoublePicListForm"))
          , x = o.find(".doubleProduct");
        if (1 == $(x[x.length - 1]).children().length) {
            $(x[x.length - 1]).append(b[0]);
            var w = $('<div class="doubleProduct"></div>');
            b.each(function(e, t) {
                var i = $(t);
                0 != e && (w.append(i),
                e % 2 == 0 && (o.find("#pagenation".concat(a)).before(w),
                w = $('<div class="doubleProduct"></div>')))
            })
        } else {
            var y = e.find("#productList".concat(a, " > *:not(#pagenation").concat(a, ")")).clone();
            o.find("#pagenation".concat(a)).before(y)
        }
    } else if (13 == t) {
        o.find(".f-proListSepLast").remove(),
        e.find(".productTextListProp").remove();
        var C = e.find("#productTextList".concat(a, " > *")).clone();
        o.find("#productTextList".concat(a)).append('<div class="separatorLine g_separator f-proListSep"></div>'),
        o.find("#productTextList".concat(a)).append(C)
    } else if (116 == t) {
        var F = jzModule.NewsListModule.find(a)
          , I = F.$el.find(".m_news_wrap");
        F.newsSetting.colCount ? (I.find(".m_row_class").remove(),
        e.find(".m_row_class").appendTo(I)) : (I.find(".m_row_class .m_news_list").remove(),
        e.find(".m_row_class .m_news_list").appendTo(I.find(".m_row_class")))
    }
    o.find("#pagenation".concat(a)).html(e.find("#pagenation".concat(a)).html())
}
,
Site.showTopTips = function(e, t, i) {
    jQuery.parseJSON(i);
    var a = "";
    if (e == undefined || 0 == e)
        a = "<a class='safeModeTipsText' href ='javascript:;'>免费域名不支持调用第三方代码，请使用已购买的域名进行访问</a>";
    else if (1 == e)
        if (Fai.top._manageMode && 0 < Fai.top.httpInCodeCount) {
            if (0 < $(".httpInCodeTips").length)
                return void $(".httpIncode").text("点击定位链接位置（" + Fai.top.httpInCodeCount + "条）");
            a = "<div class='httpInCodeTips' style='color:#ff8e1e;font-size:13px;text-align:0;'>网站内插入的代码存在非HTTPS链接，该链接无法正常加载，请先修改或者删除该链接。<a class='httpIncode' style='text-decoration: underline;color:#ff1d1d;' href='javascript:;' onclick='Site.jumptoHttpInCodeModule();'>点击定位链接位置（" + Fai.top.httpInCodeCount + "条）</a><a class='tipsDescription' onclick='Site.jumptoHttpInCodeExplain();' style='cursor:pointer; color:red; margin-left:40px; text-decoration:underline;'>详细说明&gt;&gt;</a></div>"
        } else
            a = "<div style='color:#ff8e1e;font-size:13px;text-align:0;'>网站内插入的代码存在非HTTPS链接，该链接无法正常加载显示，请替换成HTTPS链接或使用非HTTPS方式访问</div>";
    else if (2 == e)
        a = "<div style='color:#ff8e1e;font-size:13px;text-align:0;'>免费域名不支持插件代码</div>";
    else if (3 == e) {
        a = '<div style=\'color:#ff8e1e;font-size:13px;text-align:0;\'>基于安全原因，2018年4月11号起新注册的用户免费域名访问不支持插件代码和第三方代码，请<a style="color:#5874d8;" onclick="Site.logDog(200848, 5)" href="' + ("//" + Fai.top._homeHost + "/marketing/domain.html") + '" target="_blank">绑定独立域名进行访问</a>或<a style="color:#5874d8;"  onclick="Site.logDog(200848, 2)" href="' + ("//" + Fai.top._portalHost + "/portal.jsp#appId=setAuth") + '" target="_blank">申请凡科认证</a></div>'
    }
    if (t && "" != t && (a = t),
    0 < $("#sitetips").length) {
        var o = ["<li>", '\t\t\t\t\t\t<table cellpadding="0" cellspacing="0" width="100%">', "\t\t\t\t\t\t\t<tbody>", '\t\t\t\t\t\t\t\t<tr><td align="center" valign="middle">', '\t\t\t\t\t\t\t\t\t<div class="sitetipsTitle">', a, "\t\t\t\t\t\t\t\t\t</div>", "\t\t\t\t\t\t\t\t</td></tr>", "\t\t\t\t\t\t\t</tbody>", "\t\t\t\t\t\t</table>", "\t\t\t\t\t</li>"];
        $("#siteTipsMarquee").append(o.join(""))
    } else {
        var n = ['<div id="sitetips" class="sitetips sitetipsV2 newSiteVis">', '\t<table align="center" cellpadding="0" cellspacing="0">', "\t<tbody>", "\t\t<tr>", '\t\t<td align="center" valign="middle">', '\t\t\t<div class="scrollbar">', '\t\t\t\t<ul class="marquee" id="siteTipsMarquee">', "\t\t\t\t\t<li>", '\t\t\t\t\t\t<table cellpadding="0" cellspacing="0" width="100%">', "\t\t\t\t\t\t\t<tbody>", '\t\t\t\t\t\t\t\t<tr><td align="center" valign="middle">', '\t\t\t\t\t\t\t\t\t<div class="sitetipsTitle">', a, "\t\t\t\t\t\t\t\t\t</div>", "\t\t\t\t\t\t\t\t</td></tr>", "\t\t\t\t\t\t\t</tbody>", "\t\t\t\t\t\t</table>", "\t\t\t\t\t</li>", "\t\t\t\t</ul>", "\t\t\t</div>", "\t\t</td>", "\t\t</tr>", "\t</tbody>", "\t</table>", "</div>"];
        $("body").prepend(n.join(""))
    }
    if ($("#siteTipsMarquee").marquee({
        yScroll: "bottom"
    }),
    Fai.top._manageMode) {
        var r = Fai.top.$("#fk-toolTopBar")
          , s = Fai.top.$("#sitetips").outerHeight(!0);
        r.css("top", s + "px"),
        Site.resetGmainPos()
    }
}
,
Site.jumptoHttpInCodeExplain = function() {
    var e = "";
    e = Fai.top._oem ? "http://adm.webportal.top/sys/view.jsp?id=844" : "http://jz.fkw.com/blog/11673",
    Fai.top.window.open(e)
}
,
Site.changeHttp = function() {
    var e = window.location.href;
    0 == e.indexOf("https://") && (e = "http://" + e.substring(8)),
    window.location.href = e
}
,
Site.popupQrCode = function(e, t, i, a) {
    var o = 50
      , n = $(["<div class='jz_popup_qrcode effect_fade'>", "<div class='content'>", "<div class='close_btn'></div>", "<img class='qrcode_img' src='" + e + "' alt='" + t + "'/>", "<p class='tip_text'>" + t + "</p>", "</div>", "</div>"].join(""));
    $("body").append(n),
    setTimeout(function() {
        n.addClass("show"),
        $(document).click(function() {
            u(n)
        })
    }, 0);
    var r = n.width()
      , s = n.height()
      , l = i.top + a.top
      , d = i.left + a.left;
    Fai.top._manageMode || (l -= $(Fai.top.window).scrollTop() || $(document).scrollTop(),
    d -= $(Fai.top.window).scrollLeft() || $(document).scrollLeft());
    var c = $(window).width()
      , p = $(window).height();
    function u(e) {
        $(e).removeClass("show"),
        setTimeout(function() {
            $(e).remove()
        }, 350)
    }
    l < o && (l = o),
    p - o < l + s && (l = p - s - o),
    d < 0 && (d = i.left - a.left),
    d < 0 && (d = 0),
    c < d + r && (d = i.left - a.left - r + 25),
    c < d + r && (d = c - r),
    n.css({
        left: d,
        top: l
    })
}
,
Site.addQrCode = function(e) {
    (e ? Fai.top.$("#module" + e) : $("body")).find('a[href^="_script:Site.hoverQrCode"]').each(function() {
        changeQrCode($(this))
    }),
    Site.checkCorpTitle()
}
,
Site.checkCorpTitle = function() {
    var e = $('.corpTitle[_href^="_script:Site.hoverQrCode"]');
    e.length && changeQrCode(e)
}
,
Site.destroyQrCode = function() {
    Fai.top.$(".J_hover_qrcode").remove()
}
,
Site.removeQrCode = function(e) {
    var t = Fai.top.$("#module" + e).find(".J_hoverQrCodeLink");
    0 == t.length && ((t = $("#" + e)).hasClass("J_hoverQrCodeLink") || (t = t.find(".J_hoverQrCodeLink")));
    var i = t.data("_hoverQrCode") || $(".hover_qrcode" + e);
    i && i.length && i.remove(),
    t.removeClass("J_hoverQrCodeLink").removeAttr("onmouseover").removeData("_hoverQrCode").removeData("_hoverQrCodeTimer").off("mouseover.qrcode").off("mouseleave.qrcode")
}
,
Site.hoverQrCode = function(i, p) {
    if (p) {
        var a = $(p)
          , o = !!$("#popupLevel").find(p).length
          , n = 0;
        n = a.parents("[_moduleid]").length ? a.parents("[_moduleid]").attr("_moduleid") : a.attr("id");
        var e = function e() {
            return n ? $(".hover_qrcode" + n) : a.data("_hoverQrCode")
        }
          , t = e();
        if (!t.length) {
            var r = null
              , s = !1
              , l = function l(a) {
                return new Promise(function(e, t) {
                    try {
                        a(),
                        e()
                    } catch (i) {
                        t(i)
                    }
                }
                )
            }
              , d = function d(a) {
                return new Promise(function(e, t) {
                    try {
                        a(),
                        e()
                    } catch (i) {
                        t(i)
                    }
                }
                )
            }
              , c = function c() {
                var e = n ? "hover_qrcode" + n : ""
                  , t = ["<div class='jz_hover_qrcode J_hover_qrcode " + (e += o ? " hover_qrcode_inPopup" : "") + "'>", "<div class='jz_hover_qrcode_content'>", "<img class='jz_hover_qrcode_img' src='" + i + "'/>", "<p class='jz_hover_qrcode_text'>" + LS.wechatQRCodeMsg + "</p>", "</div>", "<div class='jz_hover_qrcode_arrow J_hover_qrcode_arrow'></div>", "</div>"];
                a.data("_hoverQrCode", $(t.join("")).appendTo("body"))
            }
              , u = function u() {
                t.addClass("jz_hover_qrcode__leave"),
                l(function() {
                    t.addClass("jz_hover_qrcode__leave_to"),
                    s = !0
                }).then(function() {
                    return d(function() {
                        t.removeClass("jz_hover_qrcode__leave jz_hover_qrcode__leave_to").hide(),
                        (Fai.top._manageMode ? Fai.top.$(Fai.top.noGmain ? "body" : "#g_main") : Fai.top.$("body")).off("mousewheel.qrcode")
                    })
                })["catch"](function(e) {
                    console.log(e)
                })
            }
              , m = function m() {
                t.removeClass("jz_hover_qrcode__leave jz_hover_qrcode__leave_to")
            }
              , h = function h() {
                t.show().addClass("jz_hover_qrcode__enter"),
                l(function() {
                    t.addClass("jz_hover_qrcode__enter_to")
                }).then(function() {
                    return d(function() {
                        t.removeClass("jz_hover_qrcode__enter jz_hover_qrcode__enter_to")
                    })
                })["catch"](function(e) {
                    console.log(e)
                })
            }
              , f = function f() {
                r = setTimeout(u, 300)
            }
              , g = function g() {
                clearTimeout(r)
            }
              , v = function v() {
                var e = S(t);
                t.css(e)
            }
              , _ = function _() {
                g(),
                m(),
                s && (s = !1,
                h(),
                v(),
                (Fai.top._manageMode,
                Fai.top.$("body")).off("mousewheel.qrcode").one("mousewheel.qrcode", u))
            };
            t.length || (c(),
            t = e()),
            t.off("mouseover.qrcode").on("mouseover.qrcode", f).off("mouseleave.qrcode").on("mouseleave.qrcode", g),
            a.off("mouseover.qrcode").on("mouseover.qrcode", _).off("mouseleave.qrcode").on("mouseleave.qrcode", f),
            h(),
            v()
        }
    }
    function S(e) {
        var t = 10
          , i = $(p).offset()
          , a = $(p).width()
          , o = $(p).height()
          , n = e.width()
          , r = e.height()
          , s = i.left + a / 2 - n / 2
          , l = i.top - r - t;
        s -= $(window).scrollLeft() || $(document).scrollLeft(),
        (l -= $(window).scrollTop() || $(document).scrollTop()) < 0 ? (l += t + o + t + r,
        e.find(".J_hover_qrcode_arrow").addClass("jz_hover_qrcode_arrow__top").removeClass("jz_hover_qrcode_arrow__bottom")) : e.find(".J_hover_qrcode_arrow").removeClass("jz_hover_qrcode_arrow__top").addClass("jz_hover_qrcode_arrow__bottom");
        var d = 0
          , c = $(window).width();
        return s < d && (s = d),
        c < s + n && (s = c - n),
        {
            left: s,
            top: l
        }
    }
}
,
Site.refreshScrollbar = function(e) {
    if (Site.isScrollbarModule(e)) {
        var t = $("#module" + e)
          , i = (e = t.attr("_moduleid"),
        t.attr("_modulestyle"))
          , a = 0 == t.attr("_autoHeight") && 1 == t.attr("data-scrollbar");
        Fai.top._manageMode && (0 == t.attr("_autoHeight") ? (t.find(".J_open_scrollbar_btn").attr("_faiscoTip", a ? "关闭滚动条" : "开启滚动条"),
        a ? t.find(".J_open_scrollbar_btn").addClass("f_open_scrollbar_btn__opened") : t.find(".J_open_scrollbar_btn").removeClass("f_open_scrollbar_btn__opened")) : (t.attr("data-scrollbar", 0),
        t.find(".J_open_scrollbar_btn").remove())),
        87 == i ? t.find(".f-packContent" + e).css(a ? {
            "overflow-y": "auto"
        } : {
            "overflow-y": ""
        }) : t.find(".formMiddleContent" + e).css(a ? {
            "overflow-y": "auto"
        } : {
            "overflow-y": "hidden"
        })
    }
}
,
Site.isScrollbarModule = function(e) {
    var t = $("#module" + e).attr("_modulestyle");
    return 87 == t || -1 < [2, 3, 8, 12, 13, 30, 41, 74].indexOf(parseInt(t)) || 7 == t
}
,
Site.initWelcomePage = function(s) {
    var i = s.imgPageImagePath
      , e = s.imgPageNoFlash || ""
      , l = s.imgPageType
      , d = s.imgPageImageHeight
      , c = s.imgPageImageWidth
      , p = s.imgPageHeight
      , u = s.imgPageWidth
      , m = s.imgPageEnterWay
      , a = 0
      , o = Fai.top.$("#welcomePageArea")
      , h = o.find("#imgWelcomePagePanel")
      , f = o.find("#imgPageFlashWrap")
      , g = o.find("#imgWelcomePageFlash")
      , v = o.find("#imgWelcomePageImage");
    (t(),
    _(),
    2 == l) ? r() : Fai.flashChecker().f ? r() : (h.append('<div id="errorBox" class="errorBox">' + e + "</div>"),
    $("#imgPageFlashLayer").css("pointer-events", "none"));
    var n = null;
    function r() {
        try {
            var e = 0;
            if (2 == l)
                !(v.data("imgPageImageLoaded") || !1) && "" != i || (e = 100);
            else
                e = g[0].PercentLoaded();
            if (100 <= e)
                return f.removeAttr("style").show(),
                o.find(".forWaiting").remove(),
                !1;
            5 == ++a && o.append('<div class="forWaiting ajaxLoading4" style="position:absolute;width:100%;top:45%;"></div>'),
            n = setTimeout(function() {
                r()
            }, 500)
        } catch (t) {
            o.find(".forWaiting").remove(),
            f.removeAttr("style").show()
        }
    }
    function t() {
        var e, t = document.documentElement.clientHeight - h.position().top, i = document.documentElement.clientWidth, a = 2 == l ? d : p, o = 2 == l ? c : u;
        (a <= 0 || 0 == l) && (a = 600),
        (o <= 0 || 0 == l) && (o = 960);
        var n = 0
          , r = 0;
        2 != l && 0 == l && (a = t,
        o = i < o ? i : 960),
        n = parseInt((t - a) / 2),
        r = parseInt((i - o) / 2),
        h.css("height", t),
        2 == l ? (v.css("top", n),
        v.css("left", r),
        v.attr("height", a),
        v.attr("width", o),
        v.css("visibility", "")) : (g.css("top", n),
        g.css("left", r),
        g.attr("height", a),
        g.attr("width", o),
        e = f.find("#imgPageFlashLayer"),
        m && 0 != l ? (f.append('<div id="imgPageFlashLayer" style="position:absolute;background:url(\'' + s.resRoot + "/image/site/transpace.png');z-index:4;\"></div>"),
        (e = f.find("#imgPageFlashLayer")).off("click.flashLayerClick").on("click.flashLayerClick", function() {
            S()
        })) : e.remove(),
        e.css("top", n),
        e.css("left", r),
        e.css("height", a),
        e.css("width", o))
    }
    function _() {
        o.off("click.destroyWelcomePage").on("click.destroyWelcomePage", function(e) {
            S()
        }),
        Fai.top.$(window).off("resize.welcomepage").on("resize.welcomepage", function() {
            t()
        })
    }
    function S() {
        $(window).off("resize.welcomepage"),
        v.off("load.img"),
        Fai.top.$("body").off("click.destroyWelcomePage"),
        f.find("#imgPageFlashLayer").off("click.flashLayerClick"),
        o.remove(),
        clearTimeout(n)
    }
}
,
Site.onImgPageImageLoad = function() {
    Fai.top.$("#welcomePageArea").find("#imgWelcomePageImage").data("imgPageImageLoaded", !0)
}
,
Site.confirmJumpToTargetLanguage = function(e, t) {
    $.cookie("_choseLanguage", "true", {
        expires: 365,
        path: "/"
    }),
    Fai.top.$("#popupBg" + e).remove(),
    topBox = Fai.top.$("#popupBox" + e).remove(),
    t == Fai.top.window.location.href ? Fai.top.widow.location.reload : Fai.top.window.location.href = t
}
,
Site.jumpToTargetLanguage = function(e, t) {
    var i = 2 < arguments.length && arguments[2] !== undefined ? arguments[2] : "OK"
      , a = 3 < arguments.length && arguments[3] !== undefined ? arguments[3] : "Cancel";
    if (null == $.cookie("_choseLanguage")) {
        var o = parseInt(1e4 * Math.random())
          , n = ["<div class='jumpToTargetLanguage ' style='height:100%;'>", "<div class='jz_dialog_content' style='padding: 40px 50px 22px;color: #333;font-size: 16px;line-height: 30px;overflow: hidden; text-align:center;'>", "<div>" + e + "</div>", "</div>", "<div class='jz_dialog_buttons' style='text-align: center;'>", "<button class='jz_button jz_dialog_button jz_button__global_oper jz_button__active' style='margin: 0 18px; min-width:100px; max-width:120px;font-size: 14px;background-color: #5874d8; border-color: #5874d8;color: #fff; display: inline-block;position: relative;box-sizing: border-box;height: 37px;border: 1px solid #e3e2e8; cursor: pointer;user-select: none; border-radius: 2px;   outline: 0;font-weight: 400;line-height: 0;font-family: 微软雅黑;white-space: nowrap;' onClick='Site.confirmJumpToTargetLanguage(" + o + ',"' + t + "\");'>", "<span class='jz_button_content' style='font-size: 14px;'>" + i + "</span>", "</button>", "<button class='jz_button jz_dialog_button jz_button__global_oper cancel_btn' style='margin: 0 18px; min-width:100px; max-width:120px; font-size: 14px;display: inline-block;position: relative;box-sizing: border-box;height: 37px;border: 1px solid #e3e2e8;cursor: pointer;user-select: none;border-radius: 2px;background-color: #fff;outline: 0;font-weight: 400;line-height: 0;font-family: 微软雅黑;white-space: nowrap;'>", "<span class='jz_button_content' style='font-size: 14px;'>" + a + "</span>", "</button>", "</div>", "</div>"]
          , r = 372
          , s = 200;
        n = n.join("");
        var l = {
            boxId: o,
            htmlContent: n,
            width: r,
            height: s,
            boxName: "choseLanguage",
            extClass: "fk-choseLanguage"
        };
        Site.popupBox(l);
        var d = Fai.top.$("#popupBox" + o);
        d.find(".formTLSite").remove(),
        d.find(".cancel_btn").click(function() {
            $.cookie("_choseLanguage", "false", {
                expires: 365,
                path: "/"
            }),
            Fai.top.$("#popupBg" + o).remove(),
            d.remove()
        })
    }
}
,
Site.fileDownload = function(e) {
    var t = {
        ide: e,
        url: window.location.pathname + window.location.search + window.location.hash
    };
    $.ajax({
        type: "post",
        url: "/rajax/site_h.jsp?cmd=getWafNotCk_getFilePath",
        data: t,
        success: function m(e) {
            var t = $.parseJSON(e);
            if (t.success) {
                var i = t.file
                  , a = i.allowDownload
                  , o = i.downloadUrl
                  , n = i.memberLevelIsLow
                  , r = i.visitorMemberAcct
                  , s = i.levelLimitName
                  , l = i.allowFileDownload
                  , d = i.memberId
                  , c = i.memberGroupIsOk
                  , p = i.memberOnlyLevel
                  , u = i.memberOnlyLevelIsOk;
                a ? o ? window.open(o, "_self") : Fai.ing("当前文件已丢失", !0) : 1 == l && !p && n && 0 < d ? Fai.ing(Fai.format(LS.memberDownloadLevelLimit, r, s), !0) : 1 == l && p && !u && 0 < d ? Fai.ing("亲爱的".concat(r, "，您暂无权限下载该文件。"), !0) : 2 == l && !c && 0 < d ? Fai.ing("亲爱的".concat(r, "，您暂无权限下载该文件。"), !0) : (Fai.ing("请先登录或注册成为会员。", !0),
                window.open(o, "_self"))
            }
        }
    })
}
,
Site.openSiteForm = function(a) {
    if (a <= 0)
        Fai.ing(LS.siteFormDosNotExist, !0);
    else {
        Fai.warningIng(LS.openSiteFormWarning, !0, 1e3);
        var e = "&formId=" + a;
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/siteForm_h.jsp?cmd=getWafNotCk_getFormPopupId",
            data: e,
            success: function o(e) {
                var t = $.parseJSON(e);
                if (t.success) {
                    var i = t.popupId;
                    Fai.top._popupZone.openZone(i, undefined, a)
                } else
                    Fai.ing(LS.openSiteFormFail, !0)
            }
        })
    }
}
,
function(u, c, m) {
    var p = 109
      , h = 110
      , f = 87
      , s = "J_parallax_dom"
      , a = function() {
        function i(e) {
            _classCallCheck(this, i);
            var t = {
                moduleId: "",
                isModule: !0
            };
            u.extend(this, t, e),
            this.options = e,
            this.init()
        }
        return _createClass(i, [{
            key: "init",
            value: function a() {
                var e = this.moduleId
                  , t = this.id;
                e && (this.id = e,
                this.isModule && (this.id = "module".concat(e)),
                t = this.id,
                this.$container = u("#".concat(t)),
                this.$container.length && (this.initData(),
                this.bindChildModuleData(),
                this.play()))
            }
        }, {
            key: "initData",
            value: function e() {
                this.$layers = [],
                this.parallaxChildModule = this.dealChildModule()
            }
        }, {
            key: "dealChildModule",
            value: function d() {
                var e = this.$container
                  , t = this.style
                  , i = this.childList
                  , r = []
                  , a = this;
                switch (t) {
                case p:
                    e.find(".J_fullmeasurePageShow").length;
                    if (u.each(i, function(e, t) {
                        r = [].concat(_toConsumableArray2(r), _toConsumableArray2(t.ids))
                    }),
                    1 == this.parallax.obg)
                        this.$container.find(".fullmeasureOuterContentBg").each(function(e, t) {
                            u(t).data("distance", a.parallax.dist).data("direction", a.parallax.dir),
                            a.addPlayClass(u(t)),
                            c.fixParallaxBg({
                                $bg: u(t),
                                dist: a.parallax.dist
                            })
                        });
                    break;
                case f:
                    if (r = i,
                    1 == this.parallax.obg) {
                        var o = this.$container.find(".J_zoneContentBg");
                        o.data("distance", this.parallax.dist).data("direction", this.parallax.dir),
                        this.addPlayClass(o),
                        c.fixParallaxBg({
                            $bg: o,
                            dist: this.parallax.dist
                        })
                    }
                    break;
                case h:
                    if (u.each(i, function(e, t) {
                        r = [].concat(_toConsumableArray2(r), _toConsumableArray2(t.ml))
                    }),
                    1 == this.parallax.obg)
                        this.$container.find(".J_zoneContentBg").each(function(e, t) {
                            u(t).data("distance", a.parallax.dist).data("direction", a.parallax.dir),
                            a.addPlayClass(u(t))
                        });
                    break;
                default:
                    var n = "webBanner" == this.id;
                    if (1 == this.parallax.obg) {
                        var s = this.$container.find(".J_zoneContentBg");
                        n && !Fai.top._manageMode && (Site.cloneBannerParallaxBg(this.id),
                        s = this.$container.find(".J_bannerItemParallaxBg").show(),
                        c.fixParallaxBg({
                            $bg: s,
                            dist: this.parallax.dist
                        })),
                        s.data("distance", this.parallax.dist).data("direction", this.parallax.dir),
                        this.addPlayClass(s)
                    }
                    if (n) {
                        var l = null;
                        0 == _bannerV2Data.bte ? l = (u(".J_bannerItem").find(".form").length ? u(".J_bannerItem") : u("#fk-inBannerListZone")).find(".form") : 1 == _bannerV2Data.bte && (l = u("#fk-inBannerListZone-video .form")),
                        l && l.each(function(e, t) {
                            var i = u(t)
                              , a = i.attr("_pdir")
                              , o = i.attr("_pdist")
                              , n = i.attr("_moduleid");
                            r.push({
                                i: n,
                                dir: a,
                                dist: o
                            })
                        }),
                        this.childList = r
                    } else
                        r = i
                }
                return r
            }
        }, {
            key: "bindChildModuleData",
            value: function t() {
                var e = this.parallaxChildModule
                  , i = ""
                  , a = this;
                e.length && u.each(e, function(e, t) {
                    i = u("#module".concat(t.i)),
                    0 == t.dir && 0 == t.dist || (i.length && i.data("direction", t.dir).data("distance", t.dist),
                    a.addPlayClass(i))
                })
            }
        }, {
            key: "addPlayClass",
            value: function o(e) {
                Fai.top._manageMode || e.addClass(s)
            }
        }, {
            key: "refreshContainerData",
            value: function n(e) {
                this.parallax = e.parallax,
                this.play()
            }
        }, {
            key: "play",
            value: function r() {
                Fai.top._manageMode ? Site.manageParallax({
                    id: this.id,
                    isModule: this.isModule,
                    parallax: this.parallax
                }) : this.$container.parallax({
                    filterClass: s
                })
            }
        }]),
        i
    }();
    c.Parallax = function(e) {
        if (Fai.isPC()) {
            var t = e.moduleId
              , i = u("#module".concat(t));
            if (!(i.length && 0 < Site.checkNestModule(i).parentId))
                return Fai.top._manageMode ? (c.Parallax[e.moduleId] ? c.Parallax[e.moduleId].refreshContainerData(e) : c.Parallax[e.moduleId] = new a(e),
                c.Parallax[e.moduleId]) : new a(e)
        }
    }
    ,
    c.cloneBannerParallaxBg = function(e) {
        if ("webBanner" == e) {
            var a, o, t = !!(!(1 < arguments.length && arguments[1] !== m) || arguments[1]), n = "J_bannerItemParallaxBg", i = u(".J_bannerItem");
            i.length <= 0 || (t ? i.each(function(e, t) {
                var i = u(t);
                if (!u(".".concat(n, "_").concat(e)).length) {
                    if (i.parent().hasClass("fk_imageSwitchBtn_bottomPhoto"))
                        return;
                    o = u('<div class="'.concat(n, '_layer"></div>')),
                    (a = u('<div class="'.concat(n, " ").concat(n, "_").concat(e, '"></div>'))).attr("style", i.attr("style")),
                    i.prepend(a),
                    i.prepend(o),
                    o.attr("style", i.attr("style")).css({
                        background: "none",
                        backgroundColor: "rgba(0, 0, 0, 0)" == u(".webBannerTable").css("backgroundColor") ? "#ffffff" : u(".webBannerTable").css("backgroundColor")
                    }).show()
                }
            }) : (i.find(".J_bannerItemParallaxBg").remove(),
            i.find(".J_bannerItemParallaxBg_layer").remove()))
        }
    }
    ,
    c.fixParallaxBg = function(e) {
        var t = 1 < arguments.length && arguments[1] !== m && arguments[1]
          , i = 2 < arguments.length && arguments[2] !== m && arguments[2]
          , a = e.$bg
          , o = e.dist
          , n = 0
          , r = 0
          , s = 0
          , l = 0
          , d = 0
          , c = 0
          , p = 0;
        Fai.top._manageMode && !t || (a.each(function(e, t) {
            var i = u(t);
            i.is(":visible") && (n = i.width(),
            r = a.height())
        }),
        s = n * o * .1,
        l = r * o * .1,
        d = (n / r).toFixed(2),
        c = n + 2 * s,
        p = parseInt(c / d),
        a.each(function(e, t) {
            u(t).css({
                left: i ? "" : "-".concat(s, "px"),
                top: i ? "" : "-".concat(l, "px"),
                width: i ? "" : "".concat(c, "px"),
                height: i ? "" : "".concat(p, "px")
            })
        }))
    }
}(jQuery, Site),
Site.getModuleAutoHeight = function(e) {
    var t, i, a, o = null, n = 200, r = e.find(".J_packFormBanner");
    for (o = e.hasClass("formStyle109") ? (e.find(".fullmeasureOuterContentPage").each(function() {
        $(this).is(":visible") && $(this).addClass("visibleFlag")
    }),
    e.find(".fullmeasureOuterContentPage").show(),
    e.find(".J_fullmeasurePackContent").children(".form")) : e.hasClass("J_tabPackContent") ? e.children(".form") : e.find(".J_packContent").children(".form"),
    t = 0; t < o.length; t++) {
        i = o.eq(t),
        n < (a = (parseInt(i.css("top")) || 0) + i.outerHeight(!0)) && (n = a)
    }
    return 0 < r.length && r.is(":visible") && (n += r.height()),
    e.hasClass("formStyle109") && (e.find(".fullmeasureOuterContentPage:not(.visibleFlag)").hide(),
    e.find(".fullmeasureOuterContentPage.visibleFlag").removeClass("visibleFlag")),
    n
}
,
Site.checkLoginStatus = function(i) {
    var e = "visibilitychange";
    $(document).off(e).on(e, function(e) {
        "visible" == document.visibilityState && $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "../ajax"
            }) + "/login-h.jsp?cmd=checkLoginState",
            success: function t(e) {
                (e = jQuery.parseJSON(e)).success ? i || window.location.reload() : i && window.location.reload()
            }
        })
    })
}
,
function(V, G, Q) {
    var c = null
      , r = ""
      , m = !1
      , Z = null
      , p = 17;
    function d(e, t) {
        var i = e.codeUrl
          , a = e.knowProductOrderId
          , o = t.productId
          , n = t.moduleId
          , r = t.contentType
          , s = t.payMode;
        null == i || c || (Site.payUtils.showWeChatPay({
            url: i,
            payMode: s,
            closeFunc: function l() {
                clearInterval(c),
                c = null
            }
        }),
        c = setInterval(f(a, o, n, r), 1e3))
    }
    function u(e, t, i) {
        var a = Fai.decodeHtml(i.payForm)
          , o = Site.payUtils.BSSTYPE_KNOWPRODUCT
          , n = i.knowProductOrderId;
        Site.payUtils.showAliPay({
            bssType: o,
            bssId: n,
            payForm: a
        })
    }
    function h(e) {
        var a = e.productId
          , o = e.payMode
          , n = e.contentType
          , r = e.moduleId
          , s = e.specialFunc;
        V.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax/product_h.jsp",
                oldPath: Site.genAjaxUrl("product_h.jsp")
            }) + "?cmd=getWafNotCk_getNativePayUrl&productId=" + a + "&payMode=" + o,
            error: function t() {
                Fai.ing("系统错误！", !1)
            },
            success: function l(e) {
                var t = jQuery.parseJSON(e)
                  , l = t.success
                  , i = t.msg;
                l ? "function" == typeof s ? s(t) : o == Site.payUtils.PAYMODE_WECHAT || o == Site.payUtils.PAYMODE_FAI_WECHAT ? d(t, {
                    productId: a,
                    moduleId: r,
                    contentType: n,
                    payMode: o
                }) : o == Site.payUtils.PAYMODE_ALIPAY && u(a, r, t) : G.AlertWarmTip({
                    tip: i
                }),
                Site.logDog(201356, 7)
            }
        })
    }
    function f(i, a, o, n) {
        return function() {
            V.ajax({
                type: "get",
                url: Site.addRequestPrefix({
                    newPath: "/ajax/product_h.jsp",
                    oldPath: Site.genAjaxUrl("product_h.jsp")
                }) + "?cmd=getWafNotCk_checkKnowProductOrderPayStatus&id=" + i,
                error: function e() {
                    Fai.top.ing("网络错误")
                },
                success: function t(e) {
                    JSON.parse(e).success && c && (clearInterval(c),
                    c = null,
                    Fai.top.$("html").css("overflow", ""),
                    Fai.top.$("#formPayCodeBox").remove(),
                    s(a, o, n),
                    Site.logDog(201356, 8))
                }
            })
        }
    }
    function s(e, t, i) {
        var a = "<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:180px;'>\n\t\t\t\t       <div class='sa-icon sa-success animate' style='margin-top:0;'>\n\t\t\t\t           <span class='sa-line sa-tip animateSuccessTip'></span>\n\t\t\t\t           <span class='sa-line sa-long animateSuccessLong'></span>\n\t\t\t\t           <div class='sa-placeholder'></div>\n\t\t\t\t           <div class='sa-fix'></div>\n\t\t\t\t       </div>\n\t\t\t\t       <div class='voteSuccessTitle'>".concat(LS.siteFormSubmitOk, "</div>\n\t\t\t\t</div>")
          , o = "<span hidefocus='true' class='advisory-btn fk_has_pay_btn buy-btn fk-mainBgColor' id='J_has_pay_know'>\n\t\t\t\t\t<span >已购</span>\n\t\t\t\t</span>";
        Site.popupBox({
            htmlContent: a,
            width: 367,
            height: 225,
            autoClose: 3e3
        }),
        0 == i ? (V(".trial_play_tip").remove(),
        V("#J_play_know_flv").attr("onclick", "Site.getKnowProductVideo(".concat(t, ", ").concat(e, ")")),
        m && window.location.reload()) : 3 == i ? (V(".trial_play_tip").remove(),
        G.getKnowProductAudio({
            moduleId: t,
            productId: e,
            refreshAudio: !0
        })) : (V.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/product_h.jsp?cmd=getWafNotCk_getKnowProductImageText&productId=" + e,
            error: function n() {
                Fai.ing("服务繁忙，请稍候重试", !1)
            },
            success: function r(e) {
                (e = jQuery.parseJSON(e)).success && (V(".fk_trial_pd_wrap").remove(),
                V(".J_productDetail .richContent").html(e.remark))
            }
        }),
        2 == i && Site.initProductColumnCatalog()),
        V("#J_not_pay_know").after(o).remove()
    }
    function K() {
        var e = ""
          , t = 300
          , i = 200
          , a = 3 == ((0 < arguments.length && arguments[0] !== Q ? arguments[0] : {}).type || 0)
          , o = a ? "试听" : "试看"
          , n = a ? "试听已结束，如需要收听完整音频" : "试看已结束，如需要观看完整视频";
        V("#J_trial_play_pd").length || (r = null,
        e = '\n\t\t\t<div style="text-align: center;" id="J_trial_play_pd">\n\t\t\t\t<div style="color:#333333; padding-top: 10px; font-size: 18px;">'.concat(o, "结束</div>\n\t\t\t\t<div style='color:#999999; font-size:14px; padding-top: 20px; line-height: 24px;'>").concat(n, '<br/>请单独购买</div>\n\t\t\t\t<div style=\'color:#FFFFFF; margin-top: 20px;\'>\n\t\t\t\t\t<span class="trialPayBtn" style="font-size:14px; width: 108px; height: 34px; background: #2151AB; border-radius:2px;line-height: 34px; display: inline-block; cursor: pointer;">购买</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),
        (r = Site.popupBox({
            htmlContent: e,
            width: t,
            height: i
        })).on("click", ".trialPayBtn", function(e) {
            e.preventDefault(),
            V("#J_not_pay_know").trigger("click"),
            r.find(".popupBClose").trigger("click"),
            r = null
        }))
    }
    function Y() {
        var e = "false" == V.cookie("bgplayerPause");
        return {
            pause: function t() {
                e && Site.stopMusic("faiBgMusicPlayer")
            },
            restart: function i() {
                e && Site.reStartMusic("faiBgMusicPlayer")
            }
        }
    }
    G.payKnowProduct = function(i) {
        var a = 1 < arguments.length && arguments[1] !== Q ? arguments[1] : 0
          , e = 2 < arguments.length ? arguments[2] : Q
          , o = 3 < arguments.length ? arguments[3] : Q
          , t = 4 < arguments.length ? arguments[4] : Q
          , n = 5 < arguments.length && arguments[5] !== Q && arguments[5]
          , r = 6 < arguments.length && arguments[6] !== Q ? arguments[6] : "";
        if (_manageMode)
            Fai.ing("管理态下不支持" + (t ? "试看" : "购买") + "，请在访客态下访问。", !0);
        else if (n)
            G.AlertWarmTip({
                tip: "视频资源不存在，请联系管理员"
            });
        else if (e)
            try {
                V("#realMallAmount").length && (r = V("#realMallAmount").text()),
                "0.00" == r || "" == r ? h({
                    productId: i,
                    payMode: p,
                    specialFunc: function s(e) {
                        var t = e.knowProductOrderId;
                        c = setInterval(f(t, i, o, a), 1e3)
                    }
                }) : Site.payUtils.openSitePay({
                    handleOnlinePayUrl: function l(e) {
                        var t = e.payMode;
                        h({
                            productId: i,
                            payMode: t,
                            contentType: a,
                            moduleId: o
                        })
                    }
                })
            } catch (d) {
                G.AlertWarmTip({
                    tip: "系统错误"
                })
            }
        else
            Site.createLoginDialog(i, o, "", "payKnowProduct")
    }
    ,
    G.disablePlayKnowFlv = function() {
        G.AlertWarmTip({
            tip: LS.payForKnowProduct
        })
    }
    ,
    G.AlertWarmTip = function() {
        var e = (0 < arguments.length && arguments[0] !== Q ? arguments[0] : {}).tip
          , t = ""
          , i = 367
          , a = 225;
        e && (t = "\n\t\t\t<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 0 auto; padding: 0; position: relative; top:15px; box-sizing: content-box; border-color: #F8BB86;'>\n\t\t\t\t<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>\n\t\t\t\t\t<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>\n\t\t\t\t\t<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>".concat(e, "</div>\n\t\t"),
        Site.popupBox({
            htmlContent: t,
            width: i,
            height: a
        }))
    }
    ,
    G.getKnowProductVideo = function(p, e) {
        if (Fai.top._isMemberLogin) {
            var t = window.event || arguments.callee.caller.arguments[0];
            t && t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0,
            V.ajax({
                type: "get",
                url: Site.addRequestPrefix({
                    newPath: "/ajax",
                    oldPath: "ajax"
                }) + "/product_h.jsp?cmd=getWafNotCk_getKnowProductVideo&moduleId=" + p + "&productId=" + e,
                error: function i() {
                    Fai.ing("服务繁忙，请稍候重试", !1)
                },
                success: function u(e) {
                    if ((e = jQuery.parseJSON(e)).success)
                        if (e.isDel)
                            G.AlertWarmTip({
                                tip: "视频资源不存在，请联系管理员"
                            });
                        else if (e.isMp4ToM3u8Success) {
                            if (!V("#onLineFlv".concat(p)).length)
                                if (e.isMp4)
                                    Fai.ing("视频加密大概需要1-5分钟，请加密完成后再播放观看", !0);
                                else {
                                    var t = e
                                      , i = t.id
                                      , a = t.isMp4
                                      , o = t.openVideoTry
                                      , n = void 0 !== o && o
                                      , r = (t.videoTryMin,
                                    t.isPayKnowPd)
                                      , s = a ? "src=".concat(i) : ""
                                      , l = "\n\t\t\t\t\t\t<div onclick='Site.cancelBubble()' id='onLineFlv".concat(p, "'  class='productVideo'>\n\t\t\t\t\t\t\t<div class='cancel' onclick='Site.closeKnowProductVideo()' title='关闭视频'></div>\n\t\t\t\t\t\t\t<div id='mediaplayer").concat(p, "' class=\"jz_know_play_wrap\" style='width:100%;height:100%;'>\n\t\t\t\t\t\t\t\t<video id='know_pd_video' ").concat(s, ' class=\'video-js vjs-default-skin vjs-big-play-centered\'\n\t\t\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\t\t\tcontrolsList="nodownload"\n\t\t\t\t\t\t\t\t\tpreload=\'meta\'\n\t\t\t\t\t\t\t\t\tx5-video-player-fullscreen="true"\n\t\t\t\t\t\t\t\t    x5-playsinline="false"\n\t\t\t\t\t\t\t\t    playsinline="false"\n\t\t\t\t\t\t\t\t    x5-video-player-type="h5"\n\t\t\t\t\t\t\t\t\tdata-setup=\'{"autoplay":true,"controlBar":{"volumeMenuButton":{"inline": false},"currentTimeDisplay":true,"timeDivider":true,"durationDisplay":true,"remainingTimeDisplay":false}}\'\n\t\t\t\t\t\t\t\t\toncontextmenu="return false"\n\t\t\t\t\t\t\t\t\tstyle=\'width:100%;height:100%;\'\n\t\t\t\t\t\t\t\t\t></video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t')
                                      , d = "";
                                    if (V("#imgDiv" + p).append(l),
                                    V(".productVideo").hide(),
                                    setTimeout(function() {
                                        V(".productVideo").show()
                                    }, 500),
                                    m = n,
                                    d = document.getElementById("know_pd_video"),
                                    V(d).bind("contextmenu", function() {
                                        return !1
                                    }),
                                    !a) {
                                        if (Hls.isSupported()) {
                                            var c = new Hls;
                                            c.loadSource(i),
                                            c.attachMedia(d),
                                            c.on(Hls.Events.MANIFEST_PARSED, function() {})
                                        } else
                                            d.canPlayType("application/vnd.apple.mpegurl") && (d.src = i);
                                        d.addEventListener("loadedmetadata", function() {
                                            d.play(),
                                            Y().pause()
                                        })
                                    }
                                    d && Fai.top.videojs("#know_pd_video") && Fai.top.videojs("#know_pd_video").ready(function() {
                                        var e = this;
                                        e.controlBar.volumeMenuButton.hide(),
                                        e.on("play", function() {
                                            V(".vjs-big-play-button").fadeOut(),
                                            Y().pause()
                                        }),
                                        e.on("pause", function() {
                                            V(".vjs-big-play-button").fadeIn(),
                                            Y().restart()
                                        }),
                                        e.on("ended", function() {
                                            Y().restart(),
                                            n && !r && K()
                                        })
                                    }),
                                    r ? Site.logDog(201356, 5) : Site.logDog(201356, 6)
                                }
                        } else
                            G.AlertWarmTip({
                                tip: "视频格式有误，请联系管理员更新视频"
                            })
                }
            })
        }
    }
    ,
    G.closeKnowProductVideo = function() {
        document.getElementById("know_pd_video") && Fai.top.videojs("#know_pd_video") && Fai.top.videojs("#know_pd_video").dispose(),
        Site.closeProductVideo(),
        Y().restart()
    }
    ,
    G.loadKnowImageTextPd = function() {
        var e = 0 < arguments.length && arguments[0] !== Q ? arguments[0] : {}
          , t = e.moduleId
          , i = e.canCopy
          , a = e.hasPayKnowProduct
          , s = e.faiUsrDomain
          , l = e.faiUsrdDomain
          , d = e.faiSysDomain;
        if (!Fai.top._manageMode && 0 == i && (V("#module".concat(t, " .richContent")).css("user-select", "none"),
        V("#module".concat(t, " #detailedDesc")).bind("contextmenu copy cut", function(e) {
            return !!V(e.target).is("input, textarea") && void 0
        }),
        (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) && V(document).bind("selectstart", function(e) {
            return !!V(e.target).is("input, textarea") && void 0
        }),
        a)) {
            var c = ["jpg", "jpeg", "bmp", "png", "gif"];
            V("#detailedDesc").find("img").each(function(e, t) {
                var i = V(t).attr("data-original") || ""
                  , a = V(t).attr("src") || ""
                  , o = "";
                if (i || a) {
                    var n = i || a
                      , r = !1;
                    r = [s, l, d].some(function(e) {
                        return -1 != n.indexOf(e)
                    }),
                    o = n.substring(n.lastIndexOf(".") + 1),
                    r && -1 !== c.indexOf(o) && (n = n.slice(0, n.lastIndexOf(".")),
                    i ? V(t).attr("data-original", n) : a && V(t).attr("src", n))
                }
            })
        }
    }
    ,
    G.getKnowProductAudio = function(e) {
        var c = e.moduleId
          , p = e.productId
          , t = e.refreshAudio
          , u = void 0 !== t && t;
        V.ajax({
            type: "get",
            url: Site.addRequestPrefix({
                newPath: "/ajax",
                oldPath: "ajax"
            }) + "/product_h.jsp?cmd=getWafNotCk_getKnowProductAudio&moduleId=" + c + "&productId=" + p,
            error: function i() {
                Fai.ing("服务繁忙，请稍候重试", !1)
            },
            success: function m(e) {
                if ((e = jQuery.parseJSON(e)).success)
                    if (e.isDel)
                        G.AlertWarmTip({
                            tip: "音频资源不存在，请联系管理员"
                        });
                    else if (e.isConvertToM3u8Success) {
                        if (!u) {
                            if (!V("#J_audio_container").length)
                                return;
                            Z && (Z.$destroy(),
                            Z = null)
                        }
                        var t = e
                          , i = t.id
                          , a = t.openAudioTry
                          , o = void 0 !== a && a
                          , n = t.audioTryMin
                          , r = void 0 === n ? 1 : n
                          , s = t.isPayKnowPd
                          , l = t.useM3u8
                          , d = void 0 !== l && l;
                        G.loadAudio({
                            id: i,
                            openAudioTry: o,
                            audioTryMin: r,
                            isPayKnowPd: s,
                            useM3u8: d,
                            productId: p,
                            refreshAudio: u,
                            moduleId: c
                        })
                    } else
                        G.AlertWarmTip({
                            tip: "音频格式有误，请联系管理员更新视频"
                        })
            }
        })
    }
    ,
    G.loadAudio = function() {
        var e, t = 0 < arguments.length && arguments[0] !== Q ? arguments[0] : {}, i = t.id, a = void 0 === i ? "" : i, o = t.openAudioTry, n = void 0 !== o && o, r = t.audioTryMin, s = void 0 === r ? 1 : r, l = t.isPayKnowPd, d = void 0 !== l && l, c = t.useM3u8, p = void 0 !== c && c, u = t.productId, m = void 0 === u ? 0 : u, h = t.moduleId, f = void 0 === h ? 0 : h, g = t.refreshAudio;
        void 0 !== g && g && Z && Z.renderAudio({
            refreshAudio: !0,
            openAudioTry: n,
            audioTryMin: s,
            isPayKnowPd: d,
            useM3u8: p,
            id: a
        }),
        Z = Z || new Vue({
            el: "#J_audio_container",
            components: {
                "slider-custom": {
                    name: "Slider",
                    template: "<div :class='wrapClasses'><div :class='\"slider-outer\" + (classes|| \"\")'><div :class='\"slider-base-line\" + (classes|| \"\")' :style='{width:width + \"px\"}' @mousedown.stop.prevent='jumptoListen($event)'><div class='fk-mainBgColor' :class='\"slider-check-line\" + (classes|| \"\")' :style='checkLineStyle'></div><a class='fk-mainBgColor'  ref='slideDot' :class='\"slider-handle\" + (classes|| \"\")' :style='handleStyle' @mousedown.stop.prevent='mouseDown($event)'></a></div></div></div>",
                    props: (e = {
                        classes: String,
                        type: String,
                        disabled: Boolean,
                        value: [String, Number],
                        unit: String,
                        max: {
                            type: Number,
                            required: !0
                        },
                        min: {
                            type: Number,
                            required: !0
                        },
                        width: {
                            type: Number,
                            required: !0
                        },
                        radius: Number,
                        step: {
                            type: Number,
                            "default": 1
                        }
                    },
                    _defineProperty(e, "unit", String),
                    _defineProperty(e, "isVertical", {
                        type: Boolean,
                        "default": !1
                    }),
                    e),
                    data: function v() {
                        return {
                            currentValue: this.value,
                            focusStatus: !1,
                            sliderWidth: this.width || 100,
                            handleRadius: this.radius || 5,
                            cacheVal: this.value,
                            clientDir: this.isVertical ? "clientY" : "clientX"
                        }
                    },
                    methods: {
                        jumptoListen: function _(e) {
                            if (!this.disabled) {
                                var t = this
                                  , i = (e[t.clientDir],
                                t.currentValue)
                                  , a = (V(this.$refs.slideDot).offset().top - e.pageY) / t.scale;
                                a -= a % t.step,
                                t.currentValue = t.protectStepAdd(i + a),
                                t.currentValue = t.protectVal(t.currentValue),
                                t.$emit("on-stop", t.currentValue)
                            }
                        },
                        mouseDown: function S(e) {
                            if (!this.disabled) {
                                var i = this
                                  , a = e[i.clientDir]
                                  , o = i.currentValue
                                  , t = document;
                                this.cacheVal = this.currentValue,
                                this.$emit("on-start", o),
                                t.addEventListener("mousemove", n, !1),
                                t.addEventListener("mouseup", r, !1)
                            }
                            function n(e) {
                                var t = (i.isVertical ? a - e[i.clientDir] : e[i.clientDir] - a) / i.scale;
                                t -= t % i.step,
                                i.currentValue = i.protectStepAdd(o + t),
                                i.currentValue = i.protectVal(i.currentValue),
                                i.$emit("input", i.currentValue),
                                i.$emit("on-change", i.currentValue),
                                i.$emit("on-slide", i.currentValue)
                            }
                            function r(e) {
                                t.removeEventListener("mousemove", n),
                                t.removeEventListener("mouseup", r),
                                i.$emit("on-stop", i.currentValue)
                            }
                        },
                        protectVal: function b(e) {
                            return e > this.max ? e = this.max : e < this.min && (e = this.min),
                            e
                        },
                        protectSliderStyle: function x(e) {
                            return e > this.sliderWidth - this.handleRadius ? e = this.sliderWidth - this.handleRadius : e < 0 - this.handleRadius && (e = 0 - this.handleRadius),
                            e
                        },
                        protectStepAdd: function w(e) {
                            var t = this.step.toString()
                              , i = 0;
                            return -1 < t.indexOf(".") && (i = t.split(".")[1].length),
                            Number(e.toFixed(i))
                        }
                    },
                    computed: {
                        scale: function $() {
                            return this.width / (this.max - this.min)
                        },
                        wrapClasses: function y() {
                            var y = {
                                "jz-custom-slider-wrapper": !0
                            };
                            return y["jz-custom-slider-" + this.type] = !!this.type,
                            y
                        },
                        checkLineStyle: function C() {
                            var e = this.scale * (this.currentValue - this.min);
                            return {
                                width: (e = this.protectSliderStyle(e)) + "px"
                            }
                        },
                        handleStyle: function F() {
                            var e = this.scale * (this.currentValue - this.min) - this.handleRadius;
                            return {
                                left: (e = this.protectSliderStyle(e)) + "px",
                                cursor: this.disabled ? "no-drop" : ""
                            }
                        }
                    },
                    watch: {
                        value: function I(e) {
                            this.currentValue = e
                        }
                    }
                }
            },
            data: function v() {
                return {
                    time: "00:00:00",
                    duration: "00:00:00",
                    progressStyle: {
                        width: ""
                    },
                    dotStyle: {
                        left: ""
                    },
                    audioUrl: a,
                    openAudioTry: n,
                    audioTryMin: s,
                    isPayKnowPd: d,
                    useM3u8: p,
                    showPlay: !0,
                    multiArray: ["0.5", "1.0", "1.25", "1.5", "2.0"].reverse(),
                    defaultMulti: "1.0",
                    value: 100,
                    refreshAudioKey: "refreshAudio",
                    hls: null
                }
            },
            template: '\n\t\t\t\t\t    <div id="fk_pd_audio_detail" class="fk_pd_audio_detail fk_form_unsortable fk-mainFontColor" onselectstart="return false" @dblclick.stop>\n\t\t\t\t\t    \t<svg class="audio_play fk-mainFillColor"  title="播放" @click="playAudio">\n\t\t\t\t\t\t\t\t<use :xlink:href="\'#\' + playSvgId"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div class="progress_bar">\n\t\t\t\t\t\t    \t<span class="audio_time">{{time}}</span>\n\t\t\t\t\t\t    \t<div class="audio_progress" ref="dialogAudioProgress" @mousedown.stop.prevent="controlAudioProgressHandler($event)">\n\t\t\t\t\t\t    \t  \t<span class="progress_dot fk-mainBgColor"  ref="progressDot" :style="dotStyle"></span>\n\t\t\t\t\t\t    \t  \t<span class="bar fk-mainBgColor" :style="progressStyle"></span>\n\t\t\t\t\t\t    \t</div>\n\n\t\t\t\t\t\t    \t<span class="audio_duration">{{duration}}</span>\n\t\t\t\t\t\t    \t<span class="audio_multi themeHoverColor">X{{defaultMulti}}\n\t\t\t\t\t\t    \t\t<div class="audio_multi_panel">\n\t\t\t\t\t\t    \t\t\t<span v-for="i in multiArray" class="multi_label text themeHoverColor" :class="mutliLabelStyle(i)" @click="setMulti(i)">{{i}}</span>\n\t\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t    \t</span>\n\t\t\t\t\t    \t</div>\n\t\t\t\t\t    \t<span class="audio_listen_wrap text themeHoverColor">\n\t\t\t\t\t\t    \t<svg class="audio_listen" @click="listenDialogAudio">\n\t\t\t\t\t\t\t\t\t<use xlink:href="#icon_volume"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<slider-custom\n\t\t\t\t\t\t\t\t\tunit="%"\n\t\t\t\t\t\t\t        :min="0"\n\t\t\t\t\t\t\t        :max="100"\n\t\t\t\t\t\t\t        :step="1"\n\t\t\t\t\t\t\t        :width="80"\n\t\t\t\t\t\t\t        :isVertical="true"\n\t\t\t\t\t\t\t        v-model="value"\n\t\t\t\t\t\t\t        @on-change="listenHandle"\n\t\t\t\t\t\t\t        @on-start="listenHandleStart"\n\t\t\t\t\t\t\t        @on-stop="listenHandleStop"\n\t\t\t\t\t\t\t\t\t></slider-custom>\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t    \t<audio ref="recordAudio" class="recordAudio" :key="refreshAudioKey"\n\t\t\t\t\t    \t  \t@canplay="canPlay" @timeupdate="timeUpdate" @ended="onEnded" :src="audioUrl">\n\t\t\t\t\t    \t</audio>\n\t\t\t\t\t    </div>\n\t\t\t\t\t',
            computed: {
                playSvgId: function P() {
                    return this.showPlay ? "icon_play" : "icon_suspend"
                }
            },
            mounted: function k() {
                Hls.isSupported() && (this.hls = new Hls),
                this.renderAudio()
            },
            methods: {
                renderAudio: function L() {
                    var e = this
                      , t = 0 < arguments.length && arguments[0] !== Q ? arguments[0] : {};
                    t.refreshAudio && (this.hls.destroy(),
                    this.hls = null,
                    this.refreshData(t)),
                    this.$nextTick(function() {
                        Hls.isSupported() && (e.hls = new Hls,
                        e.hls.loadSource(e.audioUrl),
                        e.hls.attachMedia(e.$refs.recordAudio))
                    })
                },
                refreshData: function T(e) {
                    var t = e.id
                      , i = void 0 === t ? "" : t
                      , a = e.openAudioTry
                      , o = void 0 !== a && a
                      , n = e.audioTryMin
                      , r = void 0 === n ? 1 : n
                      , s = e.isPayKnowPd
                      , l = void 0 !== s && s
                      , d = e.useM3u8
                      , c = void 0 !== d && d;
                    this.progressStyle.width = 0,
                    this.dotStyle.left = 0,
                    this.refreshAudioKey = "refreshAudioKey1",
                    this.audioUrl = i,
                    this.openAudioTry = o,
                    this.audioTryMin = r,
                    this.isPayKnowPd = l,
                    this.useM3u8 = c
                },
                listenHandle: function M(e) {
                    this.$refs.recordAudio.volume = e / 100
                },
                listenHandleStart: function B(e) {},
                listenHandleStop: function A(e) {
                    this.$refs.recordAudio.volume = e / 100
                },
                setMulti: function N(e) {
                    var t = this.$refs.recordAudio;
                    this.defaultMulti = t.playbackRate = e
                },
                mutliLabelStyle: function D(e) {
                    return this.defaultMulti == e ? "fk-mainColor" : ""
                },
                playAudio: function j() {
                    if (this.openAudioTry || this.isPayKnowPd)
                        if (_manageMode)
                            G.AlertWarmTip({
                                tip: "管理态下不支持试听音频，请在访客态下访问"
                            });
                        else {
                            if (!this.useM3u8)
                                return Fai.ing("音频加密大概需要1-5分钟，请加密完成后再收听内容", !0),
                                void G.getKnowProductAudio({
                                    moduleId: f,
                                    productId: m,
                                    refreshAudio: !0
                                });
                            var e = this.$refs.recordAudio;
                            this.showPlay = !e.paused,
                            e.paused ? (e.play(),
                            Y().pause(),
                            V(".richContent").find("audio").each(function(e, t) {
                                t.paused || t.pause()
                            })) : (e.pause(),
                            Y().restart())
                        }
                    else
                        G.AlertWarmTip({
                            tip: "当前内容购买后才可收听"
                        })
                },
                timeUpdate: function E() {
                    this.duration = this.transTime(this.$refs.recordAudio.duration);
                    var e = parseInt(this.$refs.recordAudio.currentTime);
                    this.time = this.transTime(e);
                    var t = this.$refs.recordAudio.currentTime / this.$refs.recordAudio.duration;
                    this.progressStyle.width = 100 * t + "%",
                    this.dotStyle.left = 100 * t + "%"
                },
                onEnded: function O() {
                    this.showPlay = !0,
                    Y().restart(),
                    this.openAudioTry && !this.isPayKnowPd && (K({
                        type: 3
                    }),
                    this.offMouseEvent())
                },
                canPlay: function J() {
                    this.duration = this.transTime(this.$refs.recordAudio.duration)
                },
                listenDialogAudio: function R() {},
                controlAudioProgress: function U(e) {
                    var t = this.$refs.recordAudio
                      , i = this.$refs.dialogAudioProgress
                      , a = V(document).scrollLeft() || 0;
                    if (!t.paused || 0 != t.currentTime) {
                        var o = parseFloat(window.getComputedStyle(i, null).width.replace("px", ""))
                          , n = (a + e.clientX - V(".audio_progress").offset().left) / o;
                        t.currentTime = t.duration * n,
                        this.timeUpdate()
                    }
                },
                controlAudioProgressHandler: function H(e) {
                    var t = this;
                    document;
                    function i(e) {
                        t.controlAudioProgress(e)
                    }
                    t.controlAudioProgress(e),
                    V("#fk_pd_audio_detail").off("mousemove.aud").on("mousemove.aud", i),
                    V("#fk_pd_audio_detail").off("mouseup.aud").on("mouseup.aud", this.offMouseEvent)
                },
                offMouseEvent: function W() {
                    V("#fk_pd_audio_detail").off("mousemove.aud").off("mouseup.aud")
                },
                transTime: function q(e) {
                    var t = parseInt(e / 3600);
                    e %= 3600;
                    var i = parseInt(e / 60) || "00"
                      , a = parseInt(e % 60) || "00";
                    return 0 < t ? this.formatTime(t + ":" + i + ":" + a) : this.formatTime("00:" + i + ":" + a)
                },
                formatTime: function z(e) {
                    for (var t = "", i = e.split(":"), a = 0; a < i.length - 1; a++)
                        t += 1 == i[a].length ? "0" + i[a] : i[a],
                        t += ":";
                    return t += 1 == i[a].length ? "0" + i[a] : i[a]
                }
            }
        })
    }
}(jQuery, Site),
Site.audioAutoPlay = function(e) {
    if (!e)
        throw new Error("找不到视频");
    function t(e) {
        if (Array.isArray(e)) {
            var t = !0
              , i = !1
              , a = undefined;
            try {
                for (var o, n = e[Symbol.iterator](); !(t = (o = n.next()).done); t = !0) {
                    var r = o.value;
                    r.paused && r.play()
                }
            } catch (s) {
                i = !0,
                a = s
            } finally {
                try {
                    t || null == n["return"] || n["return"]()
                } finally {
                    if (i)
                        throw a
                }
            }
        }
    }
    document.addEventListener("WeixinJSBridgeReady", function() {
        t(e)
    }, !1)
}
,
Site.openProductFrom = function(i) {
    if (0 != i) {
        var e = 0
          , t = 2;
        $.ajax({
            type: "post",
            url: Site.addRequestPrefix({
                newPath: "/ajax/module_h.jsp",
                oldPath: Site.genAjaxUrl("module_h.jsp")
            }) + "?cmd=addWafCk_addNewPopupForm&colId=" + t + "&extId=" + e,
            data: "formId=" + i,
            error: function a() {
                Fai.ing("系统错误！", !1)
            },
            success: function o(e) {
                var t = JSON.parse(e);
                t.success ? Site.openSiteForm(i) : "获取siteFormInfo失败" === t.msg ? Fai.top._manageMode ? Fai.ing("表单不存在，请在表单按钮设置中添加关联表单") : Fai.ing("表单不存在，请联系管理员") : Fai.ing(t.msg)
            }
        })
    }
}
,
Site.moreModelClick = function(e) {
    var t = Fai.top._siteAdmDomain;
    e && $.cookie("_ta", e, {
        domain: t
    })
}
,
function() {
    if (!Fai.top._manageMode && 0 < Fai.top._cusSiteWidth && !Fai.isPC())
        try {
            var e = document.documentElement.clientWidth
              , t = e > Fai.top._cusSiteWidth ? e : Fai.top._cusSiteWidth
              , i = document.createElement("style");
            i.id = "fixMobileStyle",
            i.type = "text/css",
            i.innerHTML = "#web{width:" + t + "px;overflow:hidden;}",
            document.getElementsByTagName("head")[0].appendChild(i)
        } catch (a) {
            window.console && console.log(a)
        }
}(),
function(r, e, t) {
    var a = 17
      , i = [10, 14, 16, 17, 18]
      , o = [12, 13, 19, 20]
      , n = [50, 51, 52, 54, 55, 58, 59]
      , c = !1;
    function s() {
        r("#payCloseIcon").unbind("click"),
        r("#payDialog .payItem").unbind("click.pay"),
        r("#payDialog .paySubmitBtn").unbind("click.paySubmit"),
        a
    }
    function l() {
        r("#payDialog .payItem").removeAttr("style"),
        r("#payDialog .check").css("border", "1px solid " + Fai.top._majorColorData)
    }
    function d(i, e) {
        r("#payCloseIcon").click(function() {
            r("html").css("overflow", ""),
            s(),
            r("#payDialog").remove(),
            "function" == typeof e && e()
        }),
        r("#payDialog .payItem").unbind("click.pay").bind("click.pay", function(e) {
            r("#payDialog .payItem").removeClass("check");
            var t = r(e.currentTarget);
            t.addClass("check"),
            t.attr("data-type") || a,
            l(),
            e.stopPropagation()
        }),
        r("#payDialog .paySubmitBtn").unbind("click.paySubmit").bind("click.paySubmit", function(e) {
            var t = r("#payDialog .check").attr("data-type") || a;
            s(),
            r("html").css("overflow", ""),
            r("#payDialog").remove(),
            "function" == typeof i && i(t)
        })
    }
    e.payUtils = {
        PAYMODE_WECHAT: 17,
        PAYMODE_ALIPAY: 19,
        PAYMODE_FAI_WECHAT: 52,
        PAYMODE_FAI_ALIPAY: 51,
        BSSTYPE_FORM: 5,
        BSSTYPE_KNOWPRODUCT: 6,
        openSelectPayType: function p(e) {
            var t = e.wx
              , i = e.aliPay
              , a = e.paySubmitFunc
              , o = e.closeFunc
              , n = '\n\t\t\t\t<div class="payDialog" id="payDialog">\n\t\t\t\t\t<div class="payDialogContainer">\n\t\t\t\t\t\t<div id="payCloseIcon" class="payCloseIcon"></div>\n\t\t\t\t\t\t<div class="payTitle">选择支付方式：</div>\n\t\t\t\t\t\t<div class="paySelect">\n\t\t\t\t\t\t\t<div class="payItem mr30 check" data-type="'.concat(t, '">\n\t\t\t\t\t\t\t\t<svg class="payWechatSvg"><use xlink:href="#icon_wechat_pay"></use></svg>\n\t\t\t\t\t\t\t\t<svg class="payCheckSvg" style="color: ').concat(Fai.top._majorColorData, '"><use xlink:href="#icon_checked2"></use></svg>\n\t\t\t\t\t\t\t\t<div class="payName">\n\t\t\t\t\t\t\t\t\t<div class="payCn">微信支付</div>\n\t\t\t\t\t\t\t\t\t<div class="payEn">WECHAT</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="payItem" data-type="').concat(i, '">\n\t\t\t\t\t\t\t\t<svg class="payAliSvg"><use xlink:href="#icon_alipay"></use></svg>\n\t\t\t\t\t\t\t\t<svg class="payCheckSvg" style="color: ').concat(Fai.top._majorColorData, '"><use xlink:href="#icon_checked2"></use></svg>\n\t\t\t\t\t\t\t\t<div class="payName">\n\t\t\t\t\t\t\t\t\t<div class="payCn">支付宝</div>\n\t\t\t\t\t\t\t\t\t<div class="payEn">ALIPAY</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="paySubmitBtn" style="background-color: ').concat(Fai.top._majorColorData, '">确定</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t');
            r(n).appendTo("body"),
            r("html").css("overflow", "hidden"),
            d(a, o),
            l()
        },
        showWeChatPay: function u(e) {
            var t = e.url
              , i = e.closeFunc
              , a = "";
            a = e.payMode == this.PAYMODE_FAI_WECHAT ? t : "/qrCode.jsp?cmd=wxPayQrCode&&url=".concat(t);
            var o = 550
              , n = '\n\t\t\t\t<div id="formPayCodeBox" class="site_form_pay_wrap">\n\t\t\t\t\t<div class="form_pay_qrcode" style="width: '.concat(860, "px; height: ").concat(o, 'px;">\n\t\t\t\t\t\t<div class="form_pay_qrcode_top">\n\t\t\t\t\t\t\t<div id="siteFormClosePay" class="site_form_close"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="wxpay_content">\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_box">\n\t\t\t\t\t\t\t\t<p class="wxpay_QrCode_title">微信支付</p>\n\t\t\t\t\t\t\t\t<div class="wxpay_QrCode_imgBox">\n\t\t\t\t\t\t\t\t\t<img class="wxpay_QrCode_img" src="').concat(a, '">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipBox">\n\t\t\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipImg"></div>\n\t\t\t\t\t\t\t\t\t<div class="wxpayQrCodeText">\n\t\t\t\t\t\t\t\t\t\t请使用微信扫一扫<br>扫描二维码支付\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="wx_guard_img"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t');
            Fai.top.$(n).appendTo("body"),
            Fai.top.$("html").css("overflow", "hidden"),
            Fai.top.$("#siteFormClosePay").click(function() {
                Fai.top.$("html").css("overflow", ""),
                Fai.top.$("#formPayCodeBox").remove(),
                "function" == typeof i && i()
            })
        },
        showAliPay: function m(e) {
            var t = e.bssType
              , i = e.bssId
              , a = e.payForm
              , o = e.url;
            if (null != t)
                if (null != i)
                    if (null != a) {
                        var n = "";
                        if (o)
                            n = o;
                        else {
                            var r = Fai.top.location
                              , s = r.pathname.split("/");
                            n = "/" + s[s.length - 1] + r.search + r.hash
                        }
                        Fai.top.$.cookie("payReturnUrl_".concat(t, "_").concat(i), n, {
                            path: "/",
                            expires: 1
                        }),
                        Fai.top.$(a).appendTo("body")
                    } else
                        Site.AlertWarmTip({
                            tip: "payForm不能为空"
                        });
                else
                    Site.AlertWarmTip({
                        tip: "业务ID bssId不能为空"
                    });
            else
                Site.AlertWarmTip({
                    tip: "业务类型bssType不能为空"
                })
        },
        getPayTypeList: function h() {
            return new Promise(function(i, a) {
                r.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax/sitePay_h.jsp",
                        oldPath: Site.genAjaxUrl("sitePay_h.jsp")
                    }) + "?cmd=getWafNotCk_payList",
                    error: function t(e) {
                        Fai.ing("系统错误！", !1)
                    },
                    success: function o(e) {
                        var t = r.parseJSON(e);
                        t.success ? i(t) : a("系统错误")
                    }
                })
            }
            )
        },
        openSitePay: function f() {
            var s = this
              , e = 0 < arguments.length && arguments[0] !== t ? arguments[0] : {};
            if (!c) {
                c = !0;
                var l = e.closeFunc
                  , d = e.handleOnlinePayUrl;
                this.getPayTypeList().then(function(e) {
                    var t = e.isFaiPay
                      , i = e.payList
                      , a = i.length;
                    if (c = !1,
                    0 == a)
                        Site.AlertWarmTip({
                            tip: "支付功能未开启，请联系管理员"
                        }),
                        "function" == typeof l && l();
                    else if (1 == a) {
                        var o = i[0].key
                          , n = s.getPayModeByKey(o);
                        "function" == typeof d && d({
                            payMode: n,
                            payList: i
                        })
                    } else if (2 == a) {
                        var r = {};
                        r.closeFunc = l || function() {}
                        ,
                        r.paySubmitFunc = function(e) {
                            d({
                                payMode: e,
                                payList: i
                            })
                        }
                        ,
                        r.wx = t ? s.PAYMODE_FAI_WECHAT : s.PAYMODE_WECHAT,
                        r.aliPay = t ? s.PAYMODE_FAI_ALIPAY : s.PAYMODE_ALIPAY,
                        s.openSelectPayType(r)
                    }
                })["catch"](function(e) {
                    c = !1
                })
            }
        },
        isWechatPay: function g(e) {
            return -1 != i.indexOf(e)
        },
        isAliPay: function v(e) {
            return -1 != o.indexOf(e)
        },
        isFaiPay: function _(e) {
            return -1 != n.indexOf(e)
        },
        getPayModeByKey: function S(e) {
            var t = -1;
            return this.isWechatPay(e) ? t = Site.payUtils.PAYMODE_WECHAT : this.isAliPay(e) ? t = Site.payUtils.PAYMODE_ALIPAY : this.isFaiPay(e) && (t = Site.payUtils.PAYMODE_FAI_WECHAT),
            t
        }
    }
}(jQuery, Site),
function(s, l) {
    var d = function d() {
        var e = "__IE_7_8_VISIT_COUNT"
          , t = s.cookie(e) || 0;
        s.cookie(e, ++t),
        5 === t ? l.logDog(201518, 5) : 10 === t ? l.logDog(201518, 10) : 50 === t ? l.logDog(201518, 50) : 100 <= t && (l.logDog(201518, 100),
        l.logDog(201518, window._aid));
        var i = '\n\t\t\t<div class="site_ie_tips_popover">\n\t\t\t\t<div class="site_popover_content_wrap">\n\t\t\t\t\t<div class="site_ie_main_text">\n\t\t\t\t\t\t您当前浏览器版本过低 , 可能影响访问!\n                    </div>\n                    <div class="site_ie_upgrade_content">\n                        <div class="site_ie_tips_text">建议升级浏览器:</div>\n                        <div>\n                            <button class="site_ie_popup_btn" id="upgradeBrowserBtn">\n                                <span class="site_ie_popup_btn_content">360极速浏览器</span>\n                            </button>\n                        </div>\n                        <button class="site_ie_popup_btn" id="upgradeBrowserBtn1">\n                            <span class="site_ie_popup_btn_content">谷歌浏览器</span>\n                        </button>\n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'
          , a = parseInt(1e4 * Math.random())
          , o = {
            boxId: a,
            htmlContent: i,
            width: 480,
            height: 325,
            closeFunc: function r() {
                l.logDog(201518, 3)
            }
        };
        l.popupBox(o),
        s("#popupBox".concat(a, " .formTLSite")).remove(),
        s("#popupBox".concat(a)).addClass("ie_tips_popup"),
        s("#popupBox".concat(a, " .popupBClose")).css({
            color: "#fff",
            opacity: .7
        }),
        l.logDog(201518, 0);
        var n = function n() {
            Fai.top.$("#popupBg" + a).remove(),
            Fai.top.$("html").removeClass("popupStopScroll" + a),
            Fai.top.$("#popupBox".concat(a)).remove()
        };
        Fai.top.$(document).on("click.ie", "#upgradeBrowserBtn", function() {
            window.open("https://browser.360.cn/ee/"),
            l.logDog(201518, 7),
            n(),
            Fai.top.$(document).off("click.ie")
        }),
        Fai.top.$(document).on("click.ie", "#upgradeBrowserBtn1", function() {
            window.open("https://www.google.cn/chrome/"),
            l.logDog(201518, 6),
            n(),
            Fai.top.$(document).off("click.ie")
        }),
        Fai.isIE7() && Fai.top.$(document).on("click.ieclose", ".popupBClose", function() {
            n(),
            l.logDog(201518, 3),
            Fai.top.$(document).off("click.ieclose")
        })
    };
    l.validateIEVisit = d
}(window.jQuery, window.Site || (window.Site = {})),
function(o, n) {
    var r = "_reqArgs";
    n.getIsOpenRemoveUrlArg = function() {
        return Fai.top._openRemoveUrlArgs
    }
    ,
    n.getIsSetReqHttpOnlyCookie = function() {
        return Fai.top._setReqHttpOnlyCookie
    }
    ,
    n.setUrlArgToCookie = function(i, e) {
        var a = i.href || "";
        if (a)
            return n.handleSetUrlArgToCookie(e).then(function() {
                if (Fai.top._manageMode) {
                    var e = i.getAttribute("target") || "_self";
                    if (!Site.redirectUrl(a, e, event || {}, 0, 0))
                        return
                }
                var t = i.cloneNode();
                t.setAttribute("onclick", ""),
                t.click(),
                t = null
            })["catch"](function(e) {
                return console.error(e)
            }),
            !1
    }
    ,
    n.handleSetUrlArgToCookie = function(a) {
        return new Promise(function(e, t) {
            try {
                "object" === _typeof2(a) && (a = JSON.stringify(a))
            } catch (i) {
                console.error(i),
                e()
            }
            n.getIsSetReqHttpOnlyCookie() ? o.ajax({
                url: "/ajax/setCookie_h.jsp",
                type: "post",
                data: {
                    cmd: "setWafCk_setReqArgsCookie",
                    _reqArgs: a
                }
            }).done(function() {
                e()
            }).fail(t) : (o.cookie(r, a, {
                path: "/"
            }),
            e())
        }
        )
    }
    ,
    n.setUrlArgToCookieAndJump = function(e, t) {
        Fai.top.JZ.getIsOpenRemoveUrlArg() && t ? Fai.top.JZ.handleSetUrlArgToCookie(t).then(function() {
            window.location.href = e
        }) : window.location.href = e
    }
    ,
    n.createUrlArgsOnclickStr = function(e) {
        var t = !(1 < arguments.length && arguments[1] !== undefined) || arguments[1];
        if (!e)
            return "";
        var i = "string" == typeof e ? e : JSON.stringify(e)
          , a = "JZ.setUrlArgToCookie(this, ".concat(i, "); return false;");
        return n.getIsOpenRemoveUrlArg() ? t ? "onclick='".concat(a, "'") : a : ""
    }
    ,
    n.getUrlArgInCookie = function() {
        return o.cookie(r)
    }
    ,
    n.getUrlHashInCookie = function() {
        var e = n.getUrlArgInCookie();
        if (!e)
            return "";
        try {
            return (JSON.parse(e) || {}).anchor || ""
        } catch (t) {
            return console.log(t, "hash in cookie is => ".concat(e)),
            ""
        }
    }
    ,
    n.removeUrlArgInCookie = function() {
        n.getIsSetReqHttpOnlyCookie() ? o.ajax({
            url: "ajax/setCookie_h.jsp",
            type: "post",
            data: {
                cmd: "setWafCk_setReqArgsCookie",
                _reqArgs: ""
            }
        }) : o.cookie(r, null, {
            path: "/"
        })
    }
    ,
    n.setHrefEventHasReqArgs = function(e) {
        if (Fai.top.JZ.getIsOpenRemoveUrlArg() && e) {
            var t = e;
            try {
                (e instanceof Node || e instanceof NodeList) && (t = o(e))
            } catch (i) {
                console.error(i)
            }
            0 !== t.length && "1" != t.prop("setReqArgsClick") && (t.prop("setReqArgsClick", "1"),
            t.off("click.setReqArgs").on("click.setReqArgs", "a", function(e) {
                var t = o(this)
                  , i = t.attr("_reqargs");
                i && (e.preventDefault(),
                Fai.top.JZ.setUrlArgToCookie(t[0], i))
            }))
        }
    }
}(jQuery, window.JZ || (window.JZ = {})),
function(T, x, f) {
    var m = "mCustomScrollbar"
      , M = "mCS"
      , a = ".mCustomScrollbar"
      , o = {
        setWidth: !1,
        setHeight: !1,
        setTop: 0,
        setLeft: 0,
        axis: "y",
        scrollbarPosition: "inside",
        scrollInertia: 950,
        autoDraggerLength: !0,
        autoHideScrollbar: !1,
        autoExpandScrollbar: !1,
        alwaysShowScrollbar: 0,
        snapAmount: null,
        snapOffset: 0,
        mouseWheel: {
            enable: !0,
            scrollAmount: "auto",
            axis: "y",
            preventDefault: !1,
            deltaFactor: "auto",
            normalizeDelta: !1,
            invert: !1,
            disableOver: ["select", "option", "keygen", "datalist", "textarea"]
        },
        scrollButtons: {
            enable: !1,
            scrollType: "stepless",
            scrollAmount: "auto"
        },
        keyboard: {
            enable: !0,
            scrollType: "stepless",
            scrollAmount: "auto"
        },
        contentTouchScroll: 25,
        advanced: {
            autoExpandHorizontalScroll: !1,
            autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
            updateOnContentResize: !0,
            updateOnImageLoad: !0,
            updateOnSelectorChange: !1
        },
        theme: "light",
        callbacks: {
            onScrollStart: !1,
            onScroll: !1,
            onTotalScroll: !1,
            onTotalScrollBack: !1,
            whileScrolling: !1,
            onTotalScrollOffset: 0,
            onTotalScrollBackOffset: 0,
            alwaysTriggerOffsets: !0
        },
        live: !1,
        liveSelector: null
    }
      , r = 0
      , s = {}
      , l = function l(e) {
        s[e] && (clearTimeout(s[e]),
        A._delete.call(null, s[e]))
    }
      , g = x.attachEvent && !x.addEventListener ? 1 : 0
      , B = !1
      , S = {
        init: function d(n) {
            n = T.extend(!0, {}, o, n);
            var e = A._selector.call(this);
            if (n.live) {
                var t = n.liveSelector || this.selector || a
                  , i = T(t);
                if ("off" === n.live)
                    return void l(t);
                s[t] = setTimeout(function() {
                    i.mCustomScrollbar(n),
                    "once" === n.live && i.length && l(t)
                }, 500)
            } else
                l(t);
            return n.setWidth = n.set_width ? n.set_width : n.setWidth,
            n.setHeight = n.set_height ? n.set_height : n.setHeight,
            n.axis = n.horizontalScroll ? "x" : A._findAxis.call(null, n.axis),
            n.scrollInertia = n.scrollInertia < 17 ? 17 : n.scrollInertia,
            "object" !== _typeof2(n.mouseWheel) && 1 == n.mouseWheel && (n.mouseWheel = {
                enable: !0,
                scrollAmount: "auto",
                axis: "y",
                preventDefault: !1,
                deltaFactor: "auto",
                normalizeDelta: !1,
                invert: !1
            }),
            n.mouseWheel.scrollAmount = n.mouseWheelPixels ? n.mouseWheelPixels : n.mouseWheel.scrollAmount,
            n.mouseWheel.normalizeDelta = n.advanced.normalizeMouseWheelDelta ? n.advanced.normalizeMouseWheelDelta : n.mouseWheel.normalizeDelta,
            n.scrollButtons.scrollType = A._findScrollButtonsType.call(null, n.scrollButtons.scrollType),
            A._theme.call(null, n),
            T(e).each(function() {
                var e = T(this);
                if (!e.data(M)) {
                    e.data(M, {
                        idx: ++r,
                        opt: n,
                        scrollRatio: {
                            y: null,
                            x: null
                        },
                        overflowed: null,
                        bindEvents: !1,
                        tweenRunning: !1,
                        sequential: {},
                        langDir: e.css("direction"),
                        cbOffsets: null,
                        trigger: null
                    });
                    var t = e.data(M).opt
                      , i = e.data("mcs-axis")
                      , a = e.data("mcs-scrollbar-position")
                      , o = e.data("mcs-theme");
                    i && (t.axis = i),
                    a && (t.scrollbarPosition = a),
                    o && (t.theme = o,
                    A._theme.call(null, t)),
                    A._pluginMarkup.call(this),
                    S.update.call(null, e)
                }
            })
        },
        update: function i(e) {
            var t = e || A._selector.call(this);
            return T(t).each(function() {
                var e = T(this);
                if (e.data(M)) {
                    var t = e.data(M)
                      , i = t.opt
                      , a = T("#mCSB_" + t.idx + "_container")
                      , o = [T("#mCSB_" + t.idx + "_dragger_vertical"), T("#mCSB_" + t.idx + "_dragger_horizontal")];
                    if (!a.length)
                        return;
                    t.tweenRunning && A._stop.call(null, e),
                    e.hasClass("mCS_disabled") && e.removeClass("mCS_disabled"),
                    e.hasClass("mCS_destroyed") && e.removeClass("mCS_destroyed"),
                    A._maxHeight.call(this),
                    A._expandContentHorizontally.call(this),
                    "y" === i.axis || i.advanced.autoExpandHorizontalScroll || a.css("width", A._contentWidth(a.children())),
                    t.overflowed = A._overflowed.call(this),
                    A._scrollbarVisibility.call(this),
                    i.autoDraggerLength && A._setDraggerLength.call(this),
                    A._scrollRatio.call(this),
                    A._bindEvents.call(this);
                    var n = [Math.abs(a[0].offsetTop), Math.abs(a[0].offsetLeft)];
                    "x" !== i.axis && (t.overflowed[0] ? o[0].height() > o[0].parent().height() ? A._resetContentPosition.call(this) : A._scrollTo.call(this, e, n[0].toString(), {
                        dir: "y",
                        dur: 0,
                        overwrite: "none"
                    }) : (A._resetContentPosition.call(this),
                    "y" === i.axis ? A._unbindEvents.call(this) : "yx" === i.axis && t.overflowed[1] && A._scrollTo.call(this, e, n[1].toString(), {
                        dir: "x",
                        dur: 0,
                        overwrite: "none"
                    }))),
                    "y" !== i.axis && (t.overflowed[1] ? o[1].width() > o[1].parent().width() ? A._resetContentPosition.call(this) : A._scrollTo.call(this, e, n[1].toString(), {
                        dir: "x",
                        dur: 0,
                        overwrite: "none"
                    }) : (A._resetContentPosition.call(this),
                    "x" === i.axis ? A._unbindEvents.call(this) : "yx" === i.axis && t.overflowed[0] && A._scrollTo.call(this, e, n[0].toString(), {
                        dir: "y",
                        dur: 0,
                        overwrite: "none"
                    }))),
                    A._autoUpdate.call(this)
                }
            })
        },
        scrollTo: function t(s, l) {
            if (void 0 !== s && null != s) {
                var e = A._selector.call(this);
                return T(e).each(function() {
                    var e = T(this);
                    if (e.data(M)) {
                        var t = e.data(M)
                          , i = t.opt
                          , a = {
                            trigger: "external",
                            scrollInertia: i.scrollInertia,
                            scrollEasing: "mcsEaseInOut",
                            moveDragger: !1,
                            callbacks: !0,
                            onStart: !0,
                            onUpdate: !0,
                            onComplete: !0
                        }
                          , o = T.extend(!0, {}, a, l)
                          , n = A._arr.call(this, s)
                          , r = o.scrollInertia < 17 ? 17 : o.scrollInertia;
                        n[0] = A._to.call(this, n[0], "y"),
                        n[1] = A._to.call(this, n[1], "x"),
                        o.moveDragger && (n[0] *= t.scrollRatio.y,
                        n[1] *= t.scrollRatio.x),
                        o.dur = r,
                        setTimeout(function() {
                            null !== n[0] && "undefined" != typeof n[0] && "x" !== i.axis && t.overflowed[0] && (o.dir = "y",
                            o.overwrite = "all",
                            A._scrollTo.call(this, e, n[0].toString(), o)),
                            null !== n[1] && "undefined" != typeof n[1] && "y" !== i.axis && t.overflowed[1] && (o.dir = "x",
                            o.overwrite = "none",
                            A._scrollTo.call(this, e, n[1].toString(), o))
                        }, 60)
                    }
                })
            }
        },
        stop: function n() {
            var e = A._selector.call(this);
            return T(e).each(function() {
                var e = T(this);
                e.data(M) && A._stop.call(null, e)
            })
        },
        disable: function c(t) {
            var e = A._selector.call(this);
            return T(e).each(function() {
                var e = T(this);
                if (e.data(M)) {
                    e.data(M).opt;
                    A._autoUpdate.call(this, "remove"),
                    A._unbindEvents.call(this),
                    t && A._resetContentPosition.call(this),
                    A._scrollbarVisibility.call(this, !0),
                    e.addClass("mCS_disabled")
                }
            })
        },
        destroy: function e() {
            var r = A._selector.call(this);
            return T(r).each(function() {
                var e = T(this);
                if (e.data(M)) {
                    var t = e.data(M)
                      , i = t.opt
                      , a = T("#mCSB_" + t.idx)
                      , o = T("#mCSB_" + t.idx + "_container")
                      , n = T(".mCSB_" + t.idx + "_scrollbar");
                    i.live && l(r),
                    A._autoUpdate.call(this, "remove"),
                    A._unbindEvents.call(this),
                    A._resetContentPosition.call(this),
                    e.removeData(M),
                    A._delete.call(null, this.mcs),
                    n.remove(),
                    a.replaceWith(o.contents()),
                    e.removeClass(m + " _" + M + "_" + t.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")
                }
            })
        }
    }
      , A = {
        _selector: function p() {
            return "object" !== _typeof2(T(this)) || T(this).length < 1 ? a : this
        },
        _theme: function u(e) {
            var t = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"]
              , i = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"]
              , a = ["minimal", "minimal-dark"]
              , o = ["minimal", "minimal-dark"]
              , n = ["minimal", "minimal-dark"];
            e.autoDraggerLength = !(-1 < T.inArray(e.theme, t)) && e.autoDraggerLength,
            e.autoExpandScrollbar = !(-1 < T.inArray(e.theme, i)) && e.autoExpandScrollbar,
            e.scrollButtons.enable = !(-1 < T.inArray(e.theme, a)) && e.scrollButtons.enable,
            e.autoHideScrollbar = -1 < T.inArray(e.theme, o) || e.autoHideScrollbar,
            e.scrollbarPosition = -1 < T.inArray(e.theme, n) ? "outside" : e.scrollbarPosition
        },
        _findAxis: function h(e) {
            return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
        },
        _findScrollButtonsType: function v(e) {
            return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
        },
        _pluginMarkup: function _() {
            var e = T(this)
              , t = e.data(M)
              , i = t.opt
              , a = i.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : ""
              , o = ["<div id='mCSB_" + t.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_vertical" + a + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + t.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_horizontal" + a + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"]
              , n = "yx" === i.axis ? "mCSB_vertical_horizontal" : "x" === i.axis ? "mCSB_horizontal" : "mCSB_vertical"
              , r = "yx" === i.axis ? o[0] + o[1] : "x" === i.axis ? o[1] : o[0]
              , s = "yx" === i.axis ? "<div id='mCSB_" + t.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : ""
              , l = i.autoHideScrollbar ? " mCS-autoHide" : ""
              , d = "x" !== i.axis && "rtl" === t.langDir ? " mCS-dir-rtl" : "";
            i.setWidth && e.css("width", i.setWidth),
            i.setHeight && e.css("height", i.setHeight),
            i.setLeft = "y" !== i.axis && "rtl" === t.langDir ? "989999px" : i.setLeft,
            e.addClass(m + " _" + M + "_" + t.idx + l + d).wrapInner("<div id='mCSB_" + t.idx + "' class='mCustomScrollBox mCS-" + i.theme + " " + n + "'><div id='mCSB_" + t.idx + "_container' class='mCSB_container' style='position:relative; top:" + i.setTop + "; left:" + i.setLeft + ";' dir=" + t.langDir + " /></div>");
            var c = T("#mCSB_" + t.idx)
              , p = T("#mCSB_" + t.idx + "_container");
            "y" === i.axis || i.advanced.autoExpandHorizontalScroll || p.css("width", A._contentWidth(p.children())),
            "outside" === i.scrollbarPosition ? ("static" === e.css("position") && e.css("position", "relative"),
            e.css("overflow", "visible"),
            c.addClass("mCSB_outside").after(r)) : (c.addClass("mCSB_inside").append(r),
            p.wrap(s)),
            A._scrollButtons.call(this);
            var u = [T("#mCSB_" + t.idx + "_dragger_vertical"), T("#mCSB_" + t.idx + "_dragger_horizontal")];
            u[0].css("min-height", u[0].height()),
            u[1].css("min-width", u[1].width())
        },
        _contentWidth: function b(e) {
            return Math.max.apply(Math, e.map(function() {
                return T(this).outerWidth(!0)
            }).get())
        },
        _expandContentHorizontally: function w() {
            var e = T(this).data(M)
              , t = e.opt
              , i = T("#mCSB_" + e.idx + "_container");
            t.advanced.autoExpandHorizontalScroll && "y" !== t.axis && i.css({
                position: "absolute",
                width: "auto"
            }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                width: Math.ceil(i[0].getBoundingClientRect().right + .4) - Math.floor(i[0].getBoundingClientRect().left),
                position: "relative"
            }).unwrap()
        },
        _scrollButtons: function $() {
            var e = T(this).data(M)
              , t = e.opt
              , i = T(".mCSB_" + e.idx + "_scrollbar:first")
              , a = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"]
              , o = ["x" === t.axis ? a[2] : a[0], "x" === t.axis ? a[3] : a[1], a[2], a[3]];
            t.scrollButtons.enable && i.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])
        },
        _maxHeight: function y() {
            var e = T(this)
              , t = e.data(M)
              , i = (t.opt,
            T("#mCSB_" + t.idx))
              , a = e.css("max-height")
              , o = -1 !== a.indexOf("%")
              , n = e.css("box-sizing");
            if ("none" !== a) {
                var r = o ? e.parent().height() * parseInt(a) / 100 : parseInt(a);
                "border-box" === n && (r -= e.innerHeight() - e.height() + (e.outerHeight() - e.innerHeight())),
                i.css("max-height", Math.round(r))
            }
        },
        _setDraggerLength: function C() {
            var e = T(this).data(M)
              , t = T("#mCSB_" + e.idx)
              , i = T("#mCSB_" + e.idx + "_container")
              , a = [T("#mCSB_" + e.idx + "_dragger_vertical"), T("#mCSB_" + e.idx + "_dragger_horizontal")]
              , o = [t.height() / i.outerHeight(!1), t.width() / i.outerWidth(!1)]
              , n = [parseInt(a[0].css("min-height")), Math.round(o[0] * a[0].parent().height()), parseInt(a[1].css("min-width")), Math.round(o[1] * a[1].parent().width())]
              , r = g && n[1] < n[0] ? n[0] : n[1]
              , s = g && n[3] < n[2] ? n[2] : n[3];
            a[0].css({
                height: r,
                "max-height": a[0].parent().height() - 10
            }).find(".mCSB_dragger_bar").css({
                "line-height": n[0] + "px"
            }),
            a[1].css({
                width: s,
                "max-width": a[1].parent().width() - 10
            })
        },
        _scrollRatio: function F() {
            var e = T(this).data(M)
              , t = T("#mCSB_" + e.idx)
              , i = T("#mCSB_" + e.idx + "_container")
              , a = [T("#mCSB_" + e.idx + "_dragger_vertical"), T("#mCSB_" + e.idx + "_dragger_horizontal")]
              , o = [i.outerHeight(!1) - t.height(), i.outerWidth(!1) - t.width()]
              , n = [o[0] / (a[0].parent().height() - a[0].height()), o[1] / (a[1].parent().width() - a[1].width())];
            e.scrollRatio = {
                y: n[0],
                x: n[1]
            }
        },
        _onDragClasses: function I(e, t, i) {
            var a = i ? "mCSB_dragger_onDrag_expanded" : ""
              , o = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"]
              , n = e.closest(".mCSB_scrollTools");
            "active" === t ? (e.toggleClass(o[0] + " " + a),
            n.toggleClass(o[1]),
            e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(o[0]),
            n.removeClass(o[1])) : (e.addClass(o[0]),
            n.addClass(o[1])))
        },
        _overflowed: function P() {
            var e = T(this).data(M)
              , t = T("#mCSB_" + e.idx)
              , i = T("#mCSB_" + e.idx + "_container")
              , a = null == e.overflowed ? i.height() : i.outerHeight(!1)
              , o = null == e.overflowed ? i.width() : i.outerWidth(!1);
            return [a > t.height(), o > t.width()]
        },
        _resetContentPosition: function k() {
            var e = T(this)
              , t = e.data(M)
              , i = t.opt
              , a = T("#mCSB_" + t.idx)
              , o = T("#mCSB_" + t.idx + "_container")
              , n = [T("#mCSB_" + t.idx + "_dragger_vertical"), T("#mCSB_" + t.idx + "_dragger_horizontal")];
            if (A._stop(e),
            ("x" !== i.axis && !t.overflowed[0] || "y" === i.axis && t.overflowed[0]) && n[0].add(o).css("top", 0),
            "y" !== i.axis && !t.overflowed[1] || "x" === i.axis && t.overflowed[1]) {
                var r = dx = 0;
                "rtl" === t.langDir && (r = a.width() - o.outerWidth(!1),
                dx = Math.abs(r / t.scrollRatio.x)),
                o.css("left", r),
                n[1].css("left", dx)
            }
        },
        _bindEvents: function L() {
            var e = T(this)
              , t = e.data(M)
              , i = t.opt;
            if (!t.bindEvents) {
                if (A._draggable.call(this),
                i.contentTouchScroll && A._contentDraggable.call(this),
                i.mouseWheel.enable) {
                    var a, o = function o() {
                        a = setTimeout(function() {
                            T.event.special.mousewheel ? (clearTimeout(a),
                            A._mousewheel.call(e[0])) : o()
                        }, 1e3)
                    };
                    o()
                }
                A._draggerRail.call(this),
                A._wrapperScroll.call(this),
                i.advanced.autoScrollOnFocus && A._focus.call(this),
                i.scrollButtons.enable && A._buttons.call(this),
                i.keyboard.enable && A._keyboard.call(this),
                t.bindEvents = !0
            }
        },
        _unbindEvents: function N() {
            var e = T(this)
              , t = e.data(M)
              , i = M + "_" + t.idx
              , a = ".mCSB_" + t.idx + "_scrollbar"
              , o = T("#mCSB_" + t.idx + ",#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper," + a + " .mCSB_draggerContainer,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal," + a + ">a")
              , n = T("#mCSB_" + t.idx + "_container");
            t.bindEvents && (T(f).unbind("." + i),
            o.each(function() {
                T(this).unbind("." + i)
            }),
            clearTimeout(e[0]._focusTimeout),
            A._delete.call(null, e[0]._focusTimeout),
            clearTimeout(t.sequential.step),
            A._delete.call(null, t.sequential.step),
            clearTimeout(n[0].onCompleteTimeout),
            A._delete.call(null, n[0].onCompleteTimeout),
            t.bindEvents = !1)
        },
        _scrollbarVisibility: function D(e) {
            var t = T(this)
              , i = t.data(M)
              , a = i.opt
              , o = T("#mCSB_" + i.idx + "_container_wrapper")
              , n = o.length ? o : T("#mCSB_" + i.idx + "_container")
              , r = [T("#mCSB_" + i.idx + "_scrollbar_vertical"), T("#mCSB_" + i.idx + "_scrollbar_horizontal")]
              , s = [r[0].find(".mCSB_dragger"), r[1].find(".mCSB_dragger")];
            "x" !== a.axis && (i.overflowed[0] && !e ? (r[0].add(s[0]).add(r[0].children("a")).css("display", "block"),
            n.removeClass("mCS_no_scrollbar_y mCS_y_hidden")) : (a.alwaysShowScrollbar ? (2 !== a.alwaysShowScrollbar && s[0].add(r[0].children("a")).css("display", "none"),
            n.removeClass("mCS_y_hidden")) : (r[0].css("display", "none"),
            n.addClass("mCS_y_hidden")),
            n.addClass("mCS_no_scrollbar_y"))),
            "y" !== a.axis && (i.overflowed[1] && !e ? (r[1].add(s[1]).add(r[1].children("a")).css("display", "block"),
            n.removeClass("mCS_no_scrollbar_x mCS_x_hidden")) : (a.alwaysShowScrollbar ? (2 !== a.alwaysShowScrollbar && s[1].add(r[1].children("a")).css("display", "none"),
            n.removeClass("mCS_x_hidden")) : (r[1].css("display", "none"),
            n.addClass("mCS_x_hidden")),
            n.addClass("mCS_no_scrollbar_x"))),
            i.overflowed[0] || i.overflowed[1] ? t.removeClass("mCS_no_scrollbar") : t.addClass("mCS_no_scrollbar")
        },
        _coordinates: function j(e) {
            switch (e.type) {
            case "pointerdown":
            case "MSPointerDown":
            case "pointermove":
            case "MSPointerMove":
            case "pointerup":
            case "MSPointerUp":
                return [e.originalEvent.pageY, e.originalEvent.pageX];
            case "touchstart":
            case "touchmove":
            case "touchend":
                var t = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
                return [t.pageY, t.pageX];
            default:
                return [e.pageY, e.pageX]
            }
        },
        _draggable: function E() {
            var r, s, l, d = T(this), c = d.data(M), p = c.opt, e = M + "_" + c.idx, u = ["mCSB_" + c.idx + "_dragger_vertical", "mCSB_" + c.idx + "_dragger_horizontal"], m = T("#mCSB_" + c.idx + "_container"), t = T("#" + u[0] + ",#" + u[1]);
            function h(e) {
                var t = m.find("iframe");
                if (t.length) {
                    var i = e ? "auto" : "none";
                    t.css("pointer-events", i)
                }
            }
            function o(e, t, i, a) {
                if (m[0].idleTimer = p.scrollInertia < 233 ? 250 : 0,
                r.attr("id") === u[1])
                    var o = "x"
                      , n = (r[0].offsetLeft - t + a) * c.scrollRatio.x;
                else
                    o = "y",
                    n = (r[0].offsetTop - e + i) * c.scrollRatio.y;
                A._scrollTo(d, n.toString(), {
                    dir: o,
                    drag: !0
                })
            }
            t.bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                if (e.stopImmediatePropagation(),
                e.preventDefault(),
                A._mouseBtnLeft(e)) {
                    B = !0,
                    g && (f.onselectstart = function() {
                        return !1
                    }
                    ),
                    h(!1),
                    A._stop(d);
                    var t = (r = T(this)).offset()
                      , i = A._coordinates(e)[0] - t.top
                      , a = A._coordinates(e)[1] - t.left
                      , o = r.height() + t.top
                      , n = r.width() + t.left;
                    i < o && 0 < i && a < n && 0 < a && (s = i,
                    l = a),
                    A._onDragClasses(r, "active", p.autoExpandScrollbar)
                }
            }).bind("touchmove." + e, function(e) {
                e.stopImmediatePropagation(),
                e.preventDefault();
                var t = r.offset()
                  , i = A._coordinates(e)[0] - t.top
                  , a = A._coordinates(e)[1] - t.left;
                o(s, l, i, a)
            }),
            T(f).bind("mousemove." + e + " pointermove." + e + " MSPointerMove." + e, function(e) {
                if (r) {
                    x.notAllowClick = !0;
                    var t = r.offset()
                      , i = A._coordinates(e)[0] - t.top
                      , a = A._coordinates(e)[1] - t.left;
                    if (s === i)
                        return;
                    o(s, l, i, a)
                }
            }).add(t).bind("mouseup." + e + " touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                setTimeout(function() {
                    x.notAllowClick = !1
                }, 200),
                r && (A._onDragClasses(r, "active", p.autoExpandScrollbar),
                r = null),
                B = !1,
                g && (f.onselectstart = null),
                h(!0)
            })
        },
        _contentDraggable: function O() {
            var d, c, p, u, m, h, f, g, v, _, S, r = T(this), b = r.data(M), x = b.opt, e = M + "_" + b.idx, w = T("#mCSB_" + b.idx), $ = T("#mCSB_" + b.idx + "_container"), y = [T("#mCSB_" + b.idx + "_dragger_vertical"), T("#mCSB_" + b.idx + "_dragger_horizontal")], C = [], F = [], I = 0, P = "yx" === x.axis ? "none" : "all";
            function k(e, t) {
                var i = [1.5 * t, 2 * t, t / 1.5, t / 2];
                return 90 < e ? 4 < t ? i[0] : i[3] : 60 < e ? 3 < t ? i[3] : i[2] : 30 < e ? 8 < t ? i[1] : 6 < t ? i[0] : 4 < t ? t : i[2] : 8 < t ? t : i[3]
            }
            function L(e, t, i, a, o, n) {
                e && A._scrollTo(r, e.toString(), {
                    dur: t,
                    scrollEasing: i,
                    dir: a,
                    overwrite: o,
                    drag: n
                })
            }
            $.bind("touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                if (A._pointerTouch(e) && !B) {
                    var t = $.offset();
                    d = A._coordinates(e)[0] - t.top,
                    c = A._coordinates(e)[1] - t.left
                }
            }).bind("touchmove." + e + " pointermove." + e + " MSPointerMove." + e, function(e) {
                if (A._pointerTouch(e) && !B) {
                    e.stopImmediatePropagation(),
                    h = A._getTime();
                    var t = w.offset()
                      , i = A._coordinates(e)[0] - t.top
                      , a = A._coordinates(e)[1] - t.left
                      , o = "mcsLinearOut";
                    if (C.push(i),
                    F.push(a),
                    b.overflowed[0])
                        var n = y[0].parent().height() - y[0].height()
                          , r = 0 < d - i && i - d > -n * b.scrollRatio.y;
                    if (b.overflowed[1])
                        var s = y[1].parent().width() - y[1].width()
                          , l = 0 < c - a && a - c > -s * b.scrollRatio.x;
                    (r || l) && e.preventDefault(),
                    _ = "yx" === x.axis ? [d - i, c - a] : "x" === x.axis ? [null, c - a] : [d - i, null],
                    $[0].idleTimer = 250,
                    b.overflowed[0] && L(_[0], I, o, "y", "all", !0),
                    b.overflowed[1] && L(_[1], I, o, "x", P, !0)
                }
            }),
            w.bind("touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                if (A._pointerTouch(e) && !B) {
                    e.stopImmediatePropagation(),
                    A._stop(r),
                    m = A._getTime();
                    var t = w.offset();
                    p = A._coordinates(e)[0] - t.top,
                    u = A._coordinates(e)[1] - t.left,
                    C = [],
                    F = []
                }
            }).bind("touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                if (A._pointerTouch(e) && !B) {
                    e.stopImmediatePropagation(),
                    f = A._getTime();
                    var t = w.offset()
                      , i = A._coordinates(e)[0] - t.top
                      , a = A._coordinates(e)[1] - t.left;
                    if (!(30 < f - h)) {
                        var o = "mcsEaseOut"
                          , n = (v = 1e3 / (f - m)) < 2.5
                          , r = n ? [C[C.length - 2], F[F.length - 2]] : [0, 0];
                        g = n ? [i - r[0], a - r[1]] : [i - p, a - u];
                        var s = [Math.abs(g[0]), Math.abs(g[1])];
                        v = n ? [Math.abs(g[0] / 4), Math.abs(g[1] / 4)] : [v, v];
                        var l = [Math.abs($[0].offsetTop) - g[0] * k(s[0] / v[0], v[0]), Math.abs($[0].offsetLeft) - g[1] * k(s[1] / v[1], v[1])];
                        _ = "yx" === x.axis ? [l[0], l[1]] : "x" === x.axis ? [null, l[1]] : [l[0], null],
                        S = [4 * s[0] + x.scrollInertia, 4 * s[1] + x.scrollInertia];
                        var d = parseInt(x.contentTouchScroll) || 0;
                        _[0] = s[0] > d ? _[0] : 0,
                        _[1] = s[1] > d ? _[1] : 0,
                        b.overflowed[0] && L(_[0], S[0], o, "y", P, !1),
                        b.overflowed[1] && L(_[1], S[1], o, "x", P, !1)
                    }
                }
            })
        },
        _mousewheel: function J() {
            var c = T(this)
              , p = c.data(M)
              , u = p.opt
              , e = M + "_" + p.idx
              , m = T("#mCSB_" + p.idx)
              , h = [T("#mCSB_" + p.idx + "_dragger_vertical"), T("#mCSB_" + p.idx + "_dragger_horizontal")];
            m.bind("mousewheel." + e, function(e, t) {
                if (A._stop(c),
                !A._disableMousewheel(c, e.target)) {
                    var i = "auto" !== u.mouseWheel.deltaFactor ? parseInt(u.mouseWheel.deltaFactor) : g && e.deltaFactor < 100 ? 100 : e.deltaFactor < 40 ? 40 : e.deltaFactor || 100;
                    if ("x" === u.axis || "x" === u.mouseWheel.axis)
                        var a = "x"
                          , o = [Math.round(i * p.scrollRatio.x), parseInt(u.mouseWheel.scrollAmount)]
                          , n = "auto" !== u.mouseWheel.scrollAmount ? o[1] : o[0] >= m.width() ? .9 * m.width() : o[0]
                          , r = Math.abs(T("#mCSB_" + p.idx + "_container")[0].offsetLeft)
                          , s = h[1][0].offsetLeft
                          , l = h[1].parent().width() - h[1].width()
                          , d = e.deltaX || e.deltaY || t;
                    else
                        a = "y",
                        o = [Math.round(i * p.scrollRatio.y), parseInt(u.mouseWheel.scrollAmount)],
                        n = "auto" !== u.mouseWheel.scrollAmount ? o[1] : o[0] >= m.height() ? .9 * m.height() : o[0],
                        r = Math.abs(T("#mCSB_" + p.idx + "_container")[0].offsetTop),
                        s = h[0][0].offsetTop,
                        l = h[0].parent().height() - h[0].height(),
                        d = e.deltaY || t;
                    "y" === a && !p.overflowed[0] || "x" === a && !p.overflowed[1] || (u.mouseWheel.invert && (d = -d),
                    u.mouseWheel.normalizeDelta && (d = d < 0 ? -1 : 1),
                    (0 < d && 0 !== s || d < 0 && s !== l || u.mouseWheel.preventDefault) && (e.stopImmediatePropagation(),
                    e.preventDefault()),
                    A._scrollTo(c, (r - d * n).toString(), {
                        dir: a
                    }))
                }
            })
        },
        _disableMousewheel: function R(e, t) {
            var i = t.nodeName.toLowerCase()
              , a = e.data(M).opt.mouseWheel.disableOver
              , o = ["select", "textarea"];
            return -1 < T.inArray(i, a) && !(-1 < T.inArray(i, o) && !T(t).is(":focus"))
        },
        _draggerRail: function U() {
            var r = T(this)
              , s = r.data(M)
              , e = M + "_" + s.idx
              , l = T("#mCSB_" + s.idx + "_container")
              , d = l.parent();
            T(".mCSB_" + s.idx + "_scrollbar .mCSB_draggerContainer").bind("touchstart." + e + " pointerdown." + e + " MSPointerDown." + e, function(e) {
                B = !0
            }).bind("touchend." + e + " pointerup." + e + " MSPointerUp." + e, function(e) {
                B = !1
            }).bind("click." + e, function(e) {
                if (T(e.target).hasClass("mCSB_draggerContainer") || T(e.target).hasClass("mCSB_draggerRail")) {
                    A._stop(r);
                    var t = T(this)
                      , i = t.find(".mCSB_dragger");
                    if (0 < t.parent(".mCSB_scrollTools_horizontal").length) {
                        if (!s.overflowed[1])
                            return;
                        var a = "x"
                          , o = e.pageX > i.offset().left ? -1 : 1
                          , n = Math.abs(l[0].offsetLeft) - o * (.9 * d.width())
                    } else {
                        if (!s.overflowed[0])
                            return;
                        a = "y",
                        o = e.pageY > i.offset().top ? -1 : 1,
                        n = Math.abs(l[0].offsetTop) - o * (.9 * d.height())
                    }
                    A._scrollTo(r, n.toString(), {
                        dir: a,
                        scrollEasing: "mcsEaseInOut"
                    })
                }
            })
        },
        _focus: function H() {
            var r = T(this)
              , e = r.data(M)
              , s = e.opt
              , t = M + "_" + e.idx
              , l = T("#mCSB_" + e.idx + "_container")
              , d = l.parent();
            l.bind("focusin." + t, function(e) {
                var o = T(f.activeElement)
                  , t = l.find(".mCustomScrollBox").length
                  , n = 0;
                o.is(s.advanced.autoScrollOnFocus) && (A._stop(r),
                clearTimeout(r[0]._focusTimeout),
                r[0]._focusTimer = t ? (n + 17) * t : 0,
                r[0]._focusTimeout = setTimeout(function() {
                    var e = [o.offset().top - l.offset().top, o.offset().left - l.offset().left]
                      , t = [l[0].offsetTop, l[0].offsetLeft]
                      , i = [0 <= t[0] + e[0] && t[0] + e[0] < d.height() - o.outerHeight(!1), 0 <= t[1] + e[1] && t[0] + e[1] < d.width() - o.outerWidth(!1)]
                      , a = "yx" !== s.axis || i[0] || i[1] ? "all" : "none";
                    "x" === s.axis || i[0] || A._scrollTo(r, e[0].toString(), {
                        dir: "y",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: a,
                        dur: n
                    }),
                    "y" === s.axis || i[1] || A._scrollTo(r, e[1].toString(), {
                        dir: "x",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: a,
                        dur: n
                    })
                }, r[0]._focusTimer))
            })
        },
        _wrapperScroll: function W() {
            var e = T(this).data(M)
              , t = M + "_" + e.idx
              , i = T("#mCSB_" + e.idx + "_container").parent();
            i.bind("scroll." + t, function(e) {
                i.scrollTop(0).scrollLeft(0)
            })
        },
        _buttons: function q() {
            var a = T(this)
              , o = a.data(M)
              , n = o.opt
              , r = o.sequential
              , e = M + "_" + o.idx
              , t = (T("#mCSB_" + o.idx + "_container"),
            ".mCSB_" + o.idx + "_scrollbar");
            T(t + ">a").bind("mousedown." + e + " touchstart." + e + " pointerdown." + e + " MSPointerDown." + e + " mouseup." + e + " touchend." + e + " pointerup." + e + " MSPointerUp." + e + " mouseout." + e + " pointerout." + e + " MSPointerOut." + e + " click." + e, function(e) {
                if (e.preventDefault(),
                A._mouseBtnLeft(e)) {
                    var t = T(this).attr("class");
                    switch (r.type = n.scrollButtons.scrollType,
                    e.type) {
                    case "mousedown":
                    case "touchstart":
                    case "pointerdown":
                    case "MSPointerDown":
                        if ("stepped" === r.type)
                            return;
                        B = !0,
                        o.tweenRunning = !1,
                        i("on", t);
                        break;
                    case "mouseup":
                    case "touchend":
                    case "pointerup":
                    case "MSPointerUp":
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                        if ("stepped" === r.type)
                            return;
                        B = !1,
                        r.dir && i("off", t);
                        break;
                    case "click":
                        if ("stepped" !== r.type || o.tweenRunning)
                            return;
                        i("on", t)
                    }
                }
                function i(e, t) {
                    r.scrollAmount = n.snapAmount || n.scrollButtons.scrollAmount,
                    A._sequentialScroll.call(this, a, e, t)
                }
            })
        },
        _keyboard: function z() {
            var s = T(this)
              , l = s.data(M)
              , d = l.opt
              , c = l.sequential
              , e = M + "_" + l.idx
              , t = T("#mCSB_" + l.idx)
              , p = T("#mCSB_" + l.idx + "_container")
              , u = p.parent()
              , m = "input,textarea,select,datalist,keygen,[contenteditable='true']";
            t.attr("tabindex", "0").bind("blur." + e + " keydown." + e + " keyup." + e, function(e) {
                switch (e.type) {
                case "blur":
                    l.tweenRunning && c.dir && r("off", null);
                    break;
                case "keydown":
                case "keyup":
                    var t = e.keyCode ? e.keyCode : e.which
                      , i = "on";
                    if ("x" !== d.axis && (38 === t || 40 === t) || "y" !== d.axis && (37 === t || 39 === t)) {
                        if ((38 === t || 40 === t) && !l.overflowed[0] || (37 === t || 39 === t) && !l.overflowed[1])
                            return;
                        "keyup" === e.type && (i = "off"),
                        T(f.activeElement).is(m) || (e.preventDefault(),
                        e.stopImmediatePropagation(),
                        r(i, t))
                    } else if (33 === t || 34 === t) {
                        if ((l.overflowed[0] || l.overflowed[1]) && (e.preventDefault(),
                        e.stopImmediatePropagation()),
                        "keyup" === e.type) {
                            A._stop(s);
                            var a = 34 === t ? -1 : 1;
                            if ("x" === d.axis || "yx" === d.axis && l.overflowed[1] && !l.overflowed[0])
                                var o = "x"
                                  , n = Math.abs(p[0].offsetLeft) - a * (.9 * u.width());
                            else
                                o = "y",
                                n = Math.abs(p[0].offsetTop) - a * (.9 * u.height());
                            A._scrollTo(s, n.toString(), {
                                dir: o,
                                scrollEasing: "mcsEaseInOut"
                            })
                        }
                    } else if ((35 === t || 36 === t) && !T(f.activeElement).is(m) && ((l.overflowed[0] || l.overflowed[1]) && (e.preventDefault(),
                    e.stopImmediatePropagation()),
                    "keyup" === e.type)) {
                        if ("x" === d.axis || "yx" === d.axis && l.overflowed[1] && !l.overflowed[0])
                            o = "x",
                            n = 35 === t ? Math.abs(u.width() - p.outerWidth(!1)) : 0;
                        else
                            o = "y",
                            n = 35 === t ? Math.abs(u.height() - p.outerHeight(!1)) : 0;
                        A._scrollTo(s, n.toString(), {
                            dir: o,
                            scrollEasing: "mcsEaseInOut"
                        })
                    }
                }
                function r(e, t) {
                    c.type = d.keyboard.scrollType,
                    c.scrollAmount = d.snapAmount || d.keyboard.scrollAmount,
                    "stepped" === c.type && l.tweenRunning || A._sequentialScroll.call(this, s, e, t)
                }
            })
        },
        _sequentialScroll: function V(p, e, t) {
            var u = p.data(M)
              , m = u.opt
              , h = u.sequential
              , f = T("#mCSB_" + u.idx + "_container")
              , i = "stepped" === h.type;
            switch (e) {
            case "on":
                if (h.dir = ["mCSB_buttonRight" === t || "mCSB_buttonLeft" === t || 39 === t || 37 === t ? "x" : "y", "mCSB_buttonUp" === t || "mCSB_buttonLeft" === t || 38 === t || 37 === t ? -1 : 1],
                A._stop(p),
                A._isNumeric(t) && "stepped" === h.type)
                    return;
                g(i);
                break;
            case "off":
                a(),
                (i || u.tweenRunning && h.dir) && g(!0)
            }
            function g(e) {
                var t = "stepped" !== h.type
                  , i = e ? t ? m.scrollInertia / 1.5 : m.scrollInertia : 1e3 / 60
                  , a = e ? t ? 7.5 : 40 : 2.5
                  , o = [Math.abs(f[0].offsetTop), Math.abs(f[0].offsetLeft)]
                  , n = [10 < u.scrollRatio.y ? 10 : u.scrollRatio.y, 10 < u.scrollRatio.x ? 10 : u.scrollRatio.x]
                  , r = "x" === h.dir[0] ? o[1] + h.dir[1] * (n[1] * a) : o[0] + h.dir[1] * (n[0] * a)
                  , s = "x" === h.dir[0] ? o[1] + h.dir[1] * parseInt(h.scrollAmount) : o[0] + h.dir[1] * parseInt(h.scrollAmount)
                  , l = "auto" !== h.scrollAmount ? s : r
                  , d = e ? t ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear"
                  , c = !!e;
                e && i < 17 && (l = "x" === h.dir[0] ? o[1] : o[0]),
                A._scrollTo(p, l.toString(), {
                    dir: h.dir[0],
                    scrollEasing: d,
                    dur: i,
                    onComplete: c
                }),
                e ? h.dir = !1 : (clearTimeout(h.step),
                h.step = setTimeout(function() {
                    g()
                }, i))
            }
            function a() {
                clearTimeout(h.step),
                A._stop(p)
            }
        },
        _arr: function G(e) {
            var t = T(this).data(M).opt
              , i = [];
            return "function" == typeof e && (e = e()),
            e instanceof Array ? i = 1 < e.length ? [e[0], e[1]] : "x" === t.axis ? [null, e[0]] : [e[0], null] : (i[0] = e.y ? e.y : e.x || "x" === t.axis ? null : e,
            i[1] = e.x ? e.x : e.y || "y" === t.axis ? null : e),
            "function" == typeof i[0] && (i[0] = i[0]()),
            "function" == typeof i[1] && (i[1] = i[1]()),
            i
        },
        _to: function Q(e, t) {
            if (null != e && void 0 !== e) {
                var i = T(this)
                  , a = i.data(M)
                  , o = a.opt
                  , n = T("#mCSB_" + a.idx + "_container")
                  , r = n.parent()
                  , s = _typeof2(e)
                  , l = "x" === (t = t || ("x" === o.axis ? "x" : "y")) ? n.outerWidth(!1) : n.outerHeight(!1)
                  , d = "x" === t ? n.offset().left : n.offset().top
                  , c = "x" === t ? n[0].offsetLeft : n[0].offsetTop
                  , p = "x" === t ? "left" : "top";
                switch (s) {
                case "function":
                    return e();
                case "object":
                    if (e.nodeType)
                        var u = "x" === t ? T(e).offset().left : T(e).offset().top;
                    else if (e.jquery) {
                        if (!e.length)
                            return;
                        u = "x" === t ? e.offset().left : e.offset().top
                    }
                    return u - d;
                case "string":
                case "number":
                    if (A._isNumeric.call(null, e))
                        return Math.abs(e);
                    if (-1 !== e.indexOf("%"))
                        return Math.abs(l * parseInt(e) / 100);
                    if (-1 !== e.indexOf("-="))
                        return Math.abs(c - parseInt(e.split("-=")[1]));
                    if (-1 !== e.indexOf("+=")) {
                        var m = c + parseInt(e.split("+=")[1]);
                        return 0 <= m ? 0 : Math.abs(m)
                    }
                    if (-1 !== e.indexOf("px") && A._isNumeric.call(null, e.split("px")[0]))
                        return Math.abs(e.split("px")[0]);
                    if ("top" === e || "left" === e)
                        return 0;
                    if ("bottom" === e)
                        return Math.abs(r.height() - n.outerHeight(!1));
                    if ("right" === e)
                        return Math.abs(r.width() - n.outerWidth(!1));
                    if ("first" !== e && "last" !== e)
                        return T(e).length ? (u = "x" === t ? T(e).offset().left : T(e).offset().top) - d : (n.css(p, e),
                        void S.update.call(null, i[0]));
                    var h = n.find(":" + e);
                    return (u = "x" === t ? T(h).offset().left : T(h).offset().top) - d
                }
            }
        },
        _autoUpdate: function Z(e) {
            var t = T(this)
              , i = t.data(M)
              , a = i.opt
              , o = T("#mCSB_" + i.idx + "_container");
            if (e)
                return clearTimeout(o[0].autoUpdate),
                void A._delete.call(null, o[0].autoUpdate);
            var n, r, s, l = o.parent(), d = [T("#mCSB_" + i.idx + "_scrollbar_vertical"), T("#mCSB_" + i.idx + "_scrollbar_horizontal")], c = function c() {
                return [d[0].is(":visible") ? d[0].outerHeight(!0) : 0, d[1].is(":visible") ? d[1].outerWidth(!0) : 0]
            }, p = v(), u = [o.outerHeight(!1), o.outerWidth(!1), l.height(), l.width(), c()[0], c()[1]], m = f();
            function h() {
                clearTimeout(o[0].autoUpdate),
                o[0].autoUpdate = setTimeout(function() {
                    if (a.advanced.updateOnSelectorChange && (n = v()) !== p)
                        return _(),
                        void (p = n);
                    a.advanced.updateOnContentResize && ((r = [o.outerHeight(!1), o.outerWidth(!1), l.height(), l.width(), c()[0], c()[1]])[0] === u[0] && r[1] === u[1] && r[2] === u[2] && r[3] === u[3] && r[4] === u[4] && r[5] === u[5] || (_(),
                    u = r)),
                    a.advanced.updateOnImageLoad && (s = f()) !== m && (o.find("img").each(function() {
                        g(this.src)
                    }),
                    m = s),
                    (a.advanced.updateOnSelectorChange || a.advanced.updateOnContentResize || a.advanced.updateOnImageLoad) && h()
                }, 60)
            }
            function f() {
                var e = 0;
                return a.advanced.updateOnImageLoad && (e = o.find("img").length),
                e
            }
            function g(e) {
                var t = new Image;
                function i(e, t) {
                    return function() {
                        return t.apply(e, arguments)
                    }
                }
                function a() {
                    this.onload = null,
                    _()
                }
                t.onload = i(t, a),
                t.src = e
            }
            function v() {
                !0 === a.advanced.updateOnSelectorChange && (a.advanced.updateOnSelectorChange = "*");
                var e = 0
                  , t = o.find(a.advanced.updateOnSelectorChange);
                return a.advanced.updateOnSelectorChange && 0 < t.length && t.each(function() {
                    e += T(this).height() + T(this).width()
                }),
                e
            }
            function _() {
                clearTimeout(o[0].autoUpdate),
                S.update.call(null, t[0])
            }
            h()
        },
        _snapAmount: function K(e, t, i) {
            return Math.round(e / t) * t - i
        },
        _stop: function Y(e) {
            var t = e.data(M);
            T("#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal").each(function() {
                A._stopTween.call(this)
            })
        },
        _scrollTo: function X(o, e, n) {
            var t = o.data(M)
              , i = t.opt
              , a = {
                trigger: "internal",
                dir: "y",
                scrollEasing: "mcsEaseOut",
                drag: !1,
                dur: i.scrollInertia,
                overwrite: "all",
                callbacks: !0,
                onStart: !0,
                onUpdate: !0,
                onComplete: !0
            }
              , r = [(n = T.extend(a, n)).dur, n.drag ? 0 : n.dur]
              , s = T("#mCSB_" + t.idx)
              , l = T("#mCSB_" + t.idx + "_container")
              , d = i.callbacks.onTotalScrollOffset ? A._arr.call(o, i.callbacks.onTotalScrollOffset) : [0, 0]
              , c = i.callbacks.onTotalScrollBackOffset ? A._arr.call(o, i.callbacks.onTotalScrollBackOffset) : [0, 0];
            switch (t.trigger = n.trigger,
            i.snapAmount && (e = A._snapAmount(e, i.snapAmount, i.snapOffset)),
            n.dir) {
            case "x":
                var p = T("#mCSB_" + t.idx + "_dragger_horizontal")
                  , u = "left"
                  , m = l[0].offsetLeft
                  , h = [s.width() - l.outerWidth(!1), p.parent().width() - p.width()]
                  , f = [e, e / t.scrollRatio.x]
                  , g = d[1]
                  , v = c[1]
                  , _ = 0 < g ? g / t.scrollRatio.x : 0
                  , S = 0 < v ? v / t.scrollRatio.x : 0;
                break;
            case "y":
                p = T("#mCSB_" + t.idx + "_dragger_vertical"),
                u = "top",
                m = l[0].offsetTop,
                h = [s.height() - l.outerHeight(!1), p.parent().height() - p.height()],
                f = [e, e / t.scrollRatio.y],
                g = d[0],
                v = c[0],
                _ = 0 < g ? g / t.scrollRatio.y : 0,
                S = 0 < v ? v / t.scrollRatio.y : 0
            }
            function b(e) {
                return t && i.callbacks[e] && "function" == typeof i.callbacks[e]
            }
            function x() {
                return [i.callbacks.alwaysTriggerOffsets || m >= h[0] + g, i.callbacks.alwaysTriggerOffsets || m <= -v]
            }
            function w() {
                var e = [l[0].offsetTop, l[0].offsetLeft]
                  , t = [p[0].offsetTop, p[0].offsetLeft]
                  , i = [l.outerHeight(!1), l.outerWidth(!1)]
                  , a = [s.height(), s.width()];
                o[0].mcs = {
                    content: l,
                    top: e[0],
                    left: e[1],
                    draggerTop: t[0],
                    draggerLeft: t[1],
                    topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(i[0]) - a[0])),
                    leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(i[1]) - a[1])),
                    direction: n.dir
                }
            }
            f[1] < 0 ? f = [0, 0] : f[1] >= h[1] ? f = [h[0], h[1]] : f[0] = -f[0],
            clearTimeout(l[0].onCompleteTimeout),
            !t.tweenRunning && (0 === m && 0 <= f[0] || m === h[0] && f[0] <= h[0]) || (A._tweenTo.call(null, p[0], u, Math.round(f[1]), r[1], n.scrollEasing),
            A._tweenTo.call(null, l[0], u, Math.round(f[0]), r[0], n.scrollEasing, n.overwrite, {
                onStart: function $() {
                    n.callbacks && n.onStart && !t.tweenRunning && (b("onScrollStart") && (w(),
                    i.callbacks.onScrollStart.call(o[0])),
                    t.tweenRunning = !0,
                    A._onDragClasses(p),
                    t.cbOffsets = x())
                },
                onUpdate: function y() {
                    n.callbacks && n.onUpdate && b("whileScrolling") && (w(),
                    i.callbacks.whileScrolling.call(o[0]))
                },
                onComplete: function C() {
                    if (n.callbacks && n.onComplete) {
                        "yx" === i.axis && clearTimeout(l[0].onCompleteTimeout);
                        var e = l[0].idleTimer || 0;
                        l[0].onCompleteTimeout = setTimeout(function() {
                            b("onScroll") && (w(),
                            i.callbacks.onScroll.call(o[0])),
                            b("onTotalScroll") && f[1] >= h[1] - _ && t.cbOffsets[0] && (w(),
                            i.callbacks.onTotalScroll.call(o[0])),
                            b("onTotalScrollBack") && f[1] <= S && t.cbOffsets[1] && (w(),
                            i.callbacks.onTotalScrollBack.call(o[0])),
                            t.tweenRunning = !1,
                            l[0].idleTimer = 0,
                            A._onDragClasses(p, "hide")
                        }, e)
                    }
                }
            }))
        },
        _tweenTo: function ee(e, t, i, a, o, n, r) {
            var s, l = (r = r || {}).onStart || function() {}
            , d = r.onUpdate || function() {}
            , c = r.onComplete || function() {}
            , p = A._getTime(), u = 0, m = e.offsetTop, h = e.style;
            "left" === t && (m = e.offsetLeft);
            var f = i - m;
            function g() {
                e._mcsstop || (u || l.call(),
                u = A._getTime() - p,
                v(),
                u >= e._mcstime && (e._mcstime = u > e._mcstime ? u + s - (u - e._mcstime) : u + s - 1,
                e._mcstime < u + 1 && (e._mcstime = u + 1)),
                e._mcstime < a ? e._mcsid = _request(g) : c.call())
            }
            function v() {
                0 < a ? (e._mcscurrVal = b(e._mcstime, m, f, a, o),
                h[t] = Math.round(e._mcscurrVal) + "px") : h[t] = i + "px",
                d.call()
            }
            function _() {
                s = 1e3 / 60,
                e._mcstime = u + s,
                _request = x.requestAnimationFrame ? x.requestAnimationFrame : function(e) {
                    return v(),
                    setTimeout(e, .01)
                }
                ,
                e._mcsid = _request(g)
            }
            function S() {
                null != e._mcsid && (x.requestAnimationFrame ? x.cancelAnimationFrame(e._mcsid) : clearTimeout(e._mcsid),
                e._mcsid = null)
            }
            function b(e, t, i, a, o) {
                switch (o) {
                case "linear":
                case "mcsLinear":
                    return i * e / a + t;
                case "mcsLinearOut":
                    return e /= a,
                    e--,
                    i * Math.sqrt(1 - e * e) + t;
                case "easeInOutSmooth":
                    return (e /= a / 2) < 1 ? i / 2 * e * e + t : -i / 2 * (--e * (e - 2) - 1) + t;
                case "easeInOutStrong":
                    return (e /= a / 2) < 1 ? i / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--,
                    i / 2 * (2 - Math.pow(2, -10 * e)) + t);
                case "easeInOut":
                case "mcsEaseInOut":
                    return (e /= a / 2) < 1 ? i / 2 * e * e * e + t : i / 2 * ((e -= 2) * e * e + 2) + t;
                case "easeOutSmooth":
                    return e /= a,
                    -i * (--e * e * e * e - 1) + t;
                case "easeOutStrong":
                    return i * (1 - Math.pow(2, -10 * e / a)) + t;
                case "easeOut":
                case "mcsEaseOut":
                default:
                    var n = (e /= a) * e
                      , r = n * e;
                    return t + i * (.499999999999997 * r * n + -2.5 * n * n + 5.5 * r + -6.5 * n + 4 * e)
                }
            }
            e._mcsstop = 0,
            "none" !== n && S(),
            _()
        },
        _getTime: function te() {
            return x.performance && x.performance.now ? x.performance.now() : x.performance && x.performance.webkitNow ? x.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
        },
        _stopTween: function ie() {
            var e = this;
            null != e._mcsid && (x.requestAnimationFrame ? x.cancelAnimationFrame(e._mcsid) : clearTimeout(e._mcsid),
            e._mcsid = null,
            e._mcsstop = 1)
        },
        _delete: function ae(e) {
            null
        },
        _mouseBtnLeft: function oe(e) {
            return !(e.which && 1 !== e.which)
        },
        _pointerTouch: function ne(e) {
            var t = e.originalEvent.pointerType;
            return !(t && "touch" !== t && 2 !== t)
        },
        _isNumeric: function re(e) {
            return !isNaN(parseFloat(e)) && isFinite(e)
        }
    };
    f.location.protocol;
    T.fn[m] = function(e) {
        return S[e] ? S[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" !== _typeof2(e) && e ? void T.error("Method " + e + " does not exist") : S.init.apply(this, arguments)
    }
    ,
    T[m] = function(e) {
        return S[e] ? S[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" !== _typeof2(e) && e ? void T.error("Method " + e + " does not exist") : S.init.apply(this, arguments)
    }
    ,
    T[m].defaults = o,
    x[m] = !0,
    T(x).load(function() {
        T(a)[m]()
    })
}(jQuery, window, document),
Site.bottomFloatLayerReady = function() {
    var l = _();
    if (l) {
        var d = Fai.top.$("#bottomFloatLayer .bottom_float_layer_close")
          , c = Fai.top.$("#bottomFloatLayerWrap .bottom_float_layer_show")
          , p = Fai.top.$("#bottomFloatLayer")
          , u = !1
          , m = !0
          , h = {
            1: 500,
            2: 300
        };
        e(),
        t(),
        i()
    }
    function e() {
        d.length < 1 || d.off("click.toggle").on("click.toggle", function(e, t) {
            l = _();
            var i = $.extend({}, h);
            switch ((t = t || {}).close && (i = {
                1: 0,
                2: 0
            }),
            l.s) {
            case 0:
                p.removeClass("jz_bottom_float_layer_active"),
                p.children(".formStyle97").each(function() {
                    var e = this.id && this.id.replace("module", "");
                    e && Fai.top.$(".styleMall" + e).hide()
                }),
                t.complete && t.complete(),
                u = !0;
                break;
            case 1:
                p.stop().animate({
                    left: "-100%"
                }, {
                    duration: i[1],
                    step: function r() {
                        g()
                    },
                    complete: function s() {
                        c.stop().animate({
                            left: 0
                        }, {
                            duration: i[1] / 2,
                            complete: function Obd() {
                                t.complete && t.complete()
                            }
                        })
                    }
                }),
                m = u = !0;
                break;
            case 2:
                var a = t.close || !f()
                  , o = {
                    duration: i[2],
                    step: function r() {
                        g(),
                        v(!0)
                    },
                    complete: function s() {
                        t.complete && t.complete()
                    }
                };
                if (a) {
                    var n = (l.ht ? l.h : 220) - l.dh;
                    n < 0 && (n = 0),
                    Fai.top._manageMode && p.resizable("disable"),
                    d.removeClass("bottom_float_layer_button_down").addClass("bottom_float_layer_button_up"),
                    p.stop().animate({
                        bottom: -n
                    }, o),
                    m = u = !0
                } else
                    Fai.top._manageMode && p.resizable("enable"),
                    d.removeClass("bottom_float_layer_button_up").addClass("bottom_float_layer_button_down"),
                    p.stop().animate({
                        bottom: 0
                    }, o),
                    m = !1
            }
        })
    }
    function t() {
        c.length < 1 || c.off("click.show").on("click.show", function() {
            c.stop().animate({
                left: -c.width()
            }, {
                duration: h[1] / 2,
                complete: function t() {
                    p.stop().animate({
                        left: 0
                    }, {
                        duration: h[1],
                        step: function e() {
                            g()
                        },
                        complete: function Qbd() {
                            setTimeout(function() {
                                a()
                            }, 100)
                        }
                    })
                }
            }),
            m = !1
        })
    }
    function i() {
        Fai.top._manageMode || $(document).scroll(o(function() {
            if (!u && 200 <= $(this).scrollTop())
                switch (u = !0,
                l.s) {
                case 1:
                    m && c.click();
                    break;
                case 2:
                    m && d.click()
                }
        }, 100))
    }
    function f() {
        return d.hasClass("bottom_float_layer_button_up")
    }
    function a() {
        Site.bottomFloatLayerEditLayer && Site.bottomFloatLayerEditLayer.add()
    }
    function g() {
        Site.bottomFloatLayerEditLayer && Site.bottomFloatLayerEditLayer.remove()
    }
    function v(e) {
        Site.fixBottomFloatLayerEditBtn && Site.fixBottomFloatLayerEditBtn(e)
    }
    function o(o, n, r) {
        var s;
        return function() {
            var e = this
              , t = arguments
              , i = function i() {
                s = null,
                r || o.apply(e, t)
            }
              , a = r && !s;
            clearTimeout(s),
            s = setTimeout(i, n),
            a && o.apply(e, t)
        }
    }
    function _() {
        return Fai.top._manageMode && Fai.top._canDesign ? Fai.top._advanceSettingData.other.bfl : Fai.top._bottomFloatLayer
    }
}
,
Site.setBottomFloatLayerBg = function(e, t) {
    var i = t
      , a = i.r
      , o = "";
    o += i.c || "";
    var n = i.p;
    if (n && -1 != a) {
        var r = "";
        0 != a && 6 != a && 7 != a && 8 != a && 9 != a && 13 != a && 14 != a && 15 != a && 16 != a && 30 != a && 40 != a || (r = "no-repeat"),
        1 != a && 11 != a && 12 != a || (r = "repeat-x"),
        2 != a && 21 != a && 22 != a || (r = "repeat-y"),
        3 == a && (r = "repeat"),
        4 != a && 5 != a || (r = "repeat");
        var s = "center";
        9 != a && 12 != a || (s = "bottom"),
        6 != a && 21 != a || (s = "left"),
        7 != a && 22 != a || (s = "right"),
        4 != a && 5 != a && 8 != a && 11 != a || (s = "top"),
        13 == a && (s = "left top"),
        14 == a && (s = "right top"),
        15 == a && (s = "left bottom"),
        16 == a && (s = "right bottom"),
        o += " url(" + n + ") " + r + " " + s
    }
    var l = function l(e, t, i) {
        var a = ""
          , o = !1;
        "transparent" !== (t = Site.colorUtils.adjustStyleOrder(t)) && Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
            cls: e,
            key: "background",
            value: t
        }]),
        4 == i.r ? (a = "100% 100%",
        o = !0) : 5 == i.r ? (a = "100%",
        o = !0) : 30 == i.r ? (a = "cover",
        o = !0) : 40 == i.r && (a = "contain",
        o = !0),
        o && Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
            cls: e,
            key: "background-size",
            value: a
        }])
    };
    l(e || "#bottomFloatLayer", o, i),
    Fai.top._advanceSettingData.other.bfl.bg = i
}
,
Site.memberTopBarReady = function() {
    (Fai.top._memberTopBar || Fai.top._Global._memberTopBar || 0 != $("#memberBar").length && !Fai.top._manageMode) && (Fai.top._memberTopBar_versionTwo ? Site.memberTopBarV2Ready() : Site.memberTopBarV1Ready(),
    Site.memberTopBarManageReady && Site.memberTopBarManageReady())
}
,
Site.memberTopBarV2Ready = function() {
    Fai.top._mallOpen && Site.mallCartInit(Fai.top._colId);
    var e = $("#memberBar");
    Site.refreshMemberBarLinkList(),
    Site.memberBarHoverInit("#mobiWeb", ".mobiWebPanel"),
    Site.memberBarHoverInit("#otherLogin", ".otherLoginList"),
    e.on("click", "a", function(e) {
        var t = $.trim($(this).attr("href"));
        "" === t && e.preventDefault(),
        0 === t.indexOf("javascript:") && (e.preventDefault(),
        Fai.top.location.href = t)
    });
    var t = document.getElementById("memberBarArea");
    window.onscroll = function() {
        var e = -Math.max(document.body.scrollLeft, document.documentElement.scrollLeft);
        t.style.left = e + "px"
    }
    ;
    var a, i, o, n, r = $("#web");
    function s() {
        $(t).width(r.width()),
        setTimeout(function() {
            $(t).width(r.width())
        }, 350)
    }
    function l() {
        var e = parseInt(o.css(n));
        isNaN(e) && (e = 0);
        var t = c() - o.width();
        (e -= a) < t && (e = t),
        0 < e && (e = 0);
        var i = {};
        i[n] = e + "px",
        o.stop().animate(i, 150, "linear", Site.refreshMemberBarLinkListButtonState)
    }
    function d() {
        var e = parseInt(o.css(n));
        isNaN(e) && (e = 0),
        0 < (e += a) && (e = 0);
        var t = {};
        t[n] = e + "px",
        o.stop().animate(t, 150, "linear", Site.refreshMemberBarLinkListButtonState)
    }
    function c() {
        var e = $(".memberBarLinkListContainer").width();
        return i || (e += 26),
        e
    }
    s(),
    $(window).resize(s),
    e.disableSelection(),
    a = 150,
    i = Fai.isIE6() || Fai.isIE7(),
    o = i ? $(".memberBarLinkListWrap") : $(".memberBarLinkList"),
    n = i ? "margin-left" : "margin-right",
    e.on("click", ".memberBarArrowLeft:not(.disabled)", function() {
        i ? d() : l()
    }).on("click", ".memberBarArrowRight:not(.disabled)", function() {
        i ? l() : d()
    })
}
,
Site.memberTopBarV1Ready = function() {
    Fai.top._mallOpen && Site.mallCartInit(Fai.top._colId),
    Site.mobiWebInit()
}
,
Site.refreshMemberBarLinkList = function() {
    if (Fai.top._memberTopBar_versionTwo) {
        var e = Fai.top.$("#memberBar .memberBarLinkList")
          , t = Fai.top.$("#memberBar .memberBarLinkListWrap");
        Fai.isIE6() && e.width(e.width() + 5),
        (Fai.isIE6() || Fai.isIE7()) && (t.width(e.outerWidth(!0)),
        t.css("margin-left", Fai.top.$(".memberBarLinkListContainer").width() - t.width() + "px")),
        e.css("margin-right", ""),
        Site.refreshMemberBarLinkListButton()
    }
}
,
Site.refreshMemberBarLinkListButton = function() {
    Fai.top.$(".memberBarLinkList").outerWidth(!0) > Fai.top.$(".memberBarLinkListContainer").width() ? (Fai.top.$(".memberBarArrowLeft, .memberBarArrowRight").show(),
    Site.refreshMemberBarLinkListButtonState(),
    Fai.top.$(".memberBarArrowLeft").hasClass("disabled") && Fai.top.$(".memberBarArrowRight").hasClass("disabled") && Fai.top.$(".memberBarArrowLeft, .memberBarArrowRight").hide()) : Fai.top.$(".memberBarArrowLeft, .memberBarArrowRight").hide()
}
,
Site.refreshMemberBarLinkListButtonState = function() {
    var t = Fai.isIE6() || Fai.isIE7()
      , e = Fai.top.$(".memberBarArrowLeft")
      , i = Fai.top.$(".memberBarArrowRight");
    if (t) {
        a = Fai.top.$(".memberBarLinkListWrap"),
        o = parseInt(a.css("margin-left")),
        n = r() - a.width();
        isNaN(o) && (o = 0),
        0 === o ? e.addClass("disabled") : e.removeClass("disabled"),
        o <= n ? i.addClass("disabled") : i.removeClass("disabled")
    } else {
        var a = Fai.top.$(".memberBarLinkList")
          , o = parseInt(a.css("margin-right"))
          , n = r() - a.width();
        isNaN(o) && (o = 0),
        0 === o ? i.addClass("disabled") : i.removeClass("disabled"),
        o <= n ? e.addClass("disabled") : e.removeClass("disabled")
    }
    function r() {
        var e = Fai.top.$(".memberBarLinkListContainer").width();
        return t || (e += 26),
        e
    }
}
,
Site.mobiWebInit = function() {
    var o = Fai.top.$("#memberBar").find("#mobiWeb_js")
      , n = Fai.top.$("#memberBar").find(".mobiWebPanel")
      , r = Fai.top.$("#memberBar").find("#mobiWebQRCode_js");
    $(o).bind("mouseenter", function(e) {
        $(this).attr("_mouseIn", 1),
        $(this).find(".mobiWebItem").addClass("mobiWebItem_hover");
        var t = parseInt($(o).css("margin-left"))
          , i = parseInt($(r).css("width")) + 2
          , a = $(o).position().left + t - i + $(o).width();
        $(n).css("left", a + "px"),
        $(n).show()
    }).bind("mouseleave", function() {
        $(this).attr("_mouseIn", 0),
        setTimeout(function() {
            var e = Fai.top.$("#memberBar").find(".mobiWebPanel");
            1 != $(e).attr("_mouseIn") && ($(e).hide(),
            Fai.top.$("#memberBar").find(".mobiWebItem").removeClass("mobiWebItem_hover"))
        }, 50)
    }),
    $(n).bind("mouseenter", function(e) {
        $(this).attr("_mouseIn", 1)
    }).bind("mouseleave", function() {
        $(this).attr("_mouseIn", 0),
        setTimeout(function() {
            var e = Fai.top.$("#memberBar").find("#mobiWeb_js");
            1 != $(e).attr("_mouseIn") && (Fai.top.$("#memberBar").find(".mobiWebPanel").hide(),
            Fai.top.$("#memberBar").find(".mobiWebItem").removeClass("mobiWebItem_hover"))
        }, 50)
    })
}
,
Site.memberBarHoverInit = function(e, t) {
    var i = $(e)
      , a = $(t);
    function o() {
        a.css("left", i.position().left - (a.outerWidth() - i.outerWidth()) / 2).slideDown(300, function() {
            i.addClass("active")
        }),
        i.addClass("active")
    }
    function n() {
        a.stop().slideUp(300, function() {
            i.removeClass("active")
        })
    }
    $(e + ", " + t).hover(function() {
        i.attr("_mouseIn", 1),
        $(this).is(e) && o()
    }, function() {
        i.attr("_mouseIn", 0),
        setTimeout(function() {
            1 != i.attr("_mouseIn") && n()
        }, 50)
    })
}
,
Site.topAdvReady = function() {
    Site.topAdvManageReady && Site.topAdvManageReady(),
    $(".top_adv_close").off("click").on("click", function() {
        $("#topAdvArea").removeClass("jz_top_adv_active"),
        $(".formStyle97 .mallHead").click().click(),
        Fai.top._manageMode && jzManage.auxiliaryTools.fixVerticalRuler()
    })
}
,
Site.getCouponByHdJump = function(e) {
    $.cookie && $.cookie("hdCoupon") && e && ($.cookie("hdCoupon", null),
    $.ajax({
        type: "post",
        url: Site.addRequestPrefix({
            newPath: "/ajax",
            oldPath: "ajax"
        }) + "/mallCoupon_h.jsp",
        data: "cmd=addWafCk_receiveCoupon&fromHd=true&bgId=0&cid=" + $.cookie("hdCouponId"),
        dataType: "json",
        success: function i(e) {
            if ($.cookie("hdCouponId", null),
            e.success) {
                e.coupon;
                Fai.ing(LS.successGet),
                window.setTimeout(function() {
                    Fai.top.location.href = "/"
                }, 1500)
            } else {
                var t = e.rt;
                -23 == t ? (Fai.top.location.href = Site.preprocessUrl({
                    path: "",
                    oldPath: ""
                }) + "login.jsp",
                $.cookie("hdCoupon", !0)) : -4 == t ? Fai.ing(LS.overGet) : -701 == t ? Fai.ing(Fai.format(LS.receiveCouponAuth, e.authMemberLvName)) : Fai.ing(LS.isNoneCoupon)
            }
        },
        error: function t() {
            Fai.ing(LS.js_systemError)
        }
    }))
}
,
Site.receiveCouponFromHd = function(e, a, t) {
    if (e) {
        var i = [];
        i.push("<div style='display: inline-block; width: 60%; height: 90%; position: relative; top: 3%; left: 22%; z-index: 9999; background: url(" + _resRoot + "/image/siteHdCoupon.png) no-repeat; background-size: contain;'>"),
        i.push("<div style='display: inline-block; width: 46%; height: 19%; position: relative; top: 58%; left: 20%; z-index: 9999; text-align: center;'>"),
        i.push("<span style='font-size: 4rem; color: #ff4c38; font-weight: bold; font-family: MicrosoftYahei Regular;'>" + t + "</span>"),
        i.push("<span style='font-size: 1.5rem; color: #ff4c38; position: relative; top: -3px; left: 3px; font-family: MicrosoftYahei Regular;'>元</span>"),
        i.push("</div>"),
        i.push("<div class='J-prompt-callback' style='display: inline-block; width: 33%; height: 11%; position: relative; top: 83%; left: -12%; z-index: 9999; cursor: pointer;'></div>"),
        i.push("<div style='display: inline-block; width: 5%; height: 5%; position: relative; top: 10%; left: 8%; z-index: 9999; background: url(" + _resRoot + "/image/siteHdCouponClose.png) no-repeat; background-size: contain;'></div>"),
        i.push("<div class='J-prompt-cancel' style='display: inline-block; width: 5%; height: 5%; position: relative; top: 10%; left: 3%; z-index: 9999; cursor: pointer;'></div>"),
        i.push("</div>");
        var o = {
            content: i.join(""),
            callback: function n() {
                $.ajax({
                    type: "post",
                    url: Site.addRequestPrefix({
                        newPath: "/ajax",
                        oldPath: "ajax"
                    }) + "/mallCoupon_h.jsp",
                    data: "cmd=addWafCk_receiveCoupon&fromHd=true&bgId=0&cid=" + a,
                    dataType: "json",
                    success: function i(e) {
                        if (e.success) {
                            e.coupon;
                            Fai.ing(LS.successGet),
                            window.setTimeout(function() {
                                Fai.top.location.href = "/"
                            }, 1500)
                        } else {
                            var t = e.rt;
                            -23 == t ? (Fai.top.location.href = Site.preprocessUrl({
                                path: "",
                                oldPath: ""
                            }) + "login.jsp",
                            $.cookie("hdCoupon", !0),
                            $.cookie("hdCouponId", a)) : -4 == t ? Fai.ing(LS.overGet) : Fai.ing(LS.isNoneCoupon)
                        }
                    },
                    error: function e() {
                        Fai.ing(LS.js_systemError)
                    }
                })
            }
        };
        Site.customPopup(o)
    }
}
;
